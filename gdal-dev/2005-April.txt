From wlyons at prologic-inc.com  Fri Apr  1 13:22:27 2005
From: wlyons at prologic-inc.com (William Lyons)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] nmake question
Message-ID: <2DBB9F887DAA394FA75D98474EA5730D010FBD38@vader.prologic-inc.com>

Hi List,

 

I'm trying to add a function to gdal_alg.h

 

I've done everything I know to do.  The .obj is being built.

 

But I noticed that the other functions to be exported through the DLL
are included in the main makefile.vc like this:

 

BASE_INCLUDE =    /INCLUDE:_GDALSimpleImageWarp \

            /INCLUDE:_GDALSuggestedWarpOutput \

            /INCLUDE:_GDALGCPTransform \

            /INCLUDE:_GDALComputeMedianCutPCT \

            /INCLUDE:_GDALDitherRGB2PCT

 

Could anyone point me to where _GDALSimpleImageWarp etc. are being
defined?

Then I hope I can just define _MyFunction and add it to the list.

 

Thanks,

 

William Lyons

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20050401/6734f214/attachment.html
From fwarmerdam at gmail.com  Fri Apr  1 13:28:25 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] nmake question
In-Reply-To: <2DBB9F887DAA394FA75D98474EA5730D010FBD38@vader.prologic-inc.com>
References: <2DBB9F887DAA394FA75D98474EA5730D010FBD38@vader.prologic-inc.com>
Message-ID: <931f8ea905040110283c281051@mail.gmail.com>

On Apr 1, 2005 1:22 PM, William Lyons <wlyons@prologic-inc.com> wrote:
> But I noticed that the other functions to be exported through the DLL are
> included in the main makefile.vc like this: 
> 
> BASE_INCLUDE =    /INCLUDE:_GDALSimpleImageWarp \ 
> 
>             /INCLUDE:_GDALSuggestedWarpOutput \ 
> 
>             /INCLUDE:_GDALGCPTransform \ 
> 
>             /INCLUDE:_GDALComputeMedianCutPCT \ 
> 
>             /INCLUDE:_GDALDitherRGB2PCT 
> 
> Could anyone point me to where _GDALSimpleImageWarp etc. are being defined? 
> 
> Then I hope I can just define _MyFunction and add it to the list. 

William, 

The /INCLUDE directives are there to force .obj files in .lib files to
be pulled into the GDAL12.DLL when there is nothing explicitly
referencing them.  So, if you have added your own .cpp file with
an algorithm and nothing else in the GDAL DLL calls it, you will 
need an /INCLUDE directive to force it's inclusion. 

The _GDALSimpleImageWarp is defined in gdal/alg/gdalsimplewarp.cpp.

If you have a C entry point you should be able to just prepend an
underscore to the name.  If you only have C++ entry points then it gets
very messy. 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From route at cae.com  Fri Apr  1 13:29:53 2005
From: route at cae.com (Stephane Routelous)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] incorporating changes in hfa dataset into GDAL 
Message-ID: <719A38AB7279D511B91900D0B7444A9E0DD1D41C@caemsx03.cae.ca>

Hi,

I've made some changes to the hfadataset.
what are the procedures to incorporate those changes in gdal ?
Do I have to send the modified files ? the diff ? 
to which mail address ?

Thanks,

Stephane Routelous

PS : because of the firewall, I don't have access to the CVS server :-(

From fwarmerdam at gmail.com  Fri Apr  1 13:39:10 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] incorporating changes in hfa dataset into GDAL
In-Reply-To: <719A38AB7279D511B91900D0B7444A9E0DD1D41C@caemsx03.cae.ca>
References: <719A38AB7279D511B91900D0B7444A9E0DD1D41C@caemsx03.cae.ca>
Message-ID: <931f8ea9050401103979f4fb2@mail.gmail.com>

On Apr 1, 2005 1:29 PM, Stephane Routelous <route@cae.com> wrote:
> Hi,
> 
> I've made some changes to the hfadataset.
> what are the procedures to incorporate those changes in gdal ?
> Do I have to send the modified files ? the diff ?
> to which mail address ?

STephane,

I would encourage you to submit them via the GDAL bugzilla.   Just
now it is down, but it will hopefully be availble within a few hours.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From route at cae.com  Fri Apr  1 13:41:49 2005
From: route at cae.com (Stephane Routelous)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] incorporating changes in hfa dataset into GDAL
Message-ID: <719A38AB7279D511B91900D0B7444A9E0DD1D41D@caemsx03.cae.ca>

Ok, thanks,

I will wait till is up and do it in bugzilla
Do I attach the whole file (the changes are done in the 1.2.5 version), or
just the part of the code I added ?
Stephane

-----Original Message-----
From: Frank Warmerdam [mailto:fwarmerdam@gmail.com]
Sent: Friday, April 01, 2005 1:39 PM
To: Stephane Routelous
Cc: gdal-dev@remotesensing.org
Subject: Re: [Gdal-dev] incorporating changes in hfa dataset into GDAL


On Apr 1, 2005 1:29 PM, Stephane Routelous <route@cae.com> wrote:
> Hi,
> 
> I've made some changes to the hfadataset.
> what are the procedures to incorporate those changes in gdal ?
> Do I have to send the modified files ? the diff ?
> to which mail address ?

STephane,

I would encourage you to submit them via the GDAL bugzilla.   Just
now it is down, but it will hopefully be availble within a few hours.

Best regards,
-- 
---------------------------------------+------------------------------------
--
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From fwarmerdam at gmail.com  Fri Apr  1 13:48:56 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] incorporating changes in hfa dataset into GDAL
In-Reply-To: <719A38AB7279D511B91900D0B7444A9E0DD1D41D@caemsx03.cae.ca>
References: <719A38AB7279D511B91900D0B7444A9E0DD1D41D@caemsx03.cae.ca>
Message-ID: <931f8ea905040110481c8f453f@mail.gmail.com>

On Apr 1, 2005 1:41 PM, Stephane Routelous <route@cae.com> wrote:
> Ok, thanks,
> 
> I will wait till is up and do it in bugzilla
> Do I attach the whole file (the changes are done in the 1.2.5 version), or
> just the part of the code I added ?

Stephane, 

Well, it would be best if you could provide either diffs or a new version
that is otherwise up to date with the latest code in CVS (or at least 1.2.6).
However, if your changes are fairly localized you can submit them as
chunks of code with some comments on what changed. 

I generally hand integrate changes anyways.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From bfraser at geoanalytic.com  Fri Apr  1 16:26:06 2005
From: bfraser at geoanalytic.com (Brent Fraser)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] GDAL and ECWP
Message-ID: <026e01c53701$6a321810$160002c0@shark>

Frank,

 Does gdal_translate work with ecwp?  For example, when running:

gdal_translate -of GTiff "ecwp://apps.minerals.nt.gov.au/ntgs
ecwp/NT/TMICol.ecw" test.tif

I get:

Input file size is 10578, 17161
0.ERROR 1: TryWinRasterIO() failed for blocked scanline.
ERROR 1: IReadBlock failed at X offset 0, Y offset 0
ERROR 1: GetBlockRef failed at X block offset 0, Y block offset 0

Are some enhancements needed to make it work?

Thanks!
Brent Fraser


From fwarmerdam at gmail.com  Fri Apr  1 16:56:30 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] GDAL and ECWP
In-Reply-To: <026e01c53701$6a321810$160002c0@shark>
References: <026e01c53701$6a321810$160002c0@shark>
Message-ID: <931f8ea90504011356291bf913@mail.gmail.com>

On Apr 1, 2005 4:26 PM, Brent Fraser <bfraser@geoanalytic.com> wrote:
> Frank,
> 
>  Does gdal_translate work with ecwp?  For example, when running:
> 
> gdal_translate -of GTiff "ecwp://apps.minerals.nt.gov.au/ntgs
> ecwp/NT/TMICol.ecw" test.tif
> 
> I get:
> 
> Input file size is 10578, 17161
> 0.ERROR 1: TryWinRasterIO() failed for blocked scanline.
> ERROR 1: IReadBlock failed at X offset 0, Y offset 0
> ERROR 1: GetBlockRef failed at X block offset 0, Y block offset 0
> 
> Are some enhancements needed to make it work?

Brent, 

Once upon a time the ecwp protocol seemed to be working more-or-less
but for some reason would sometimes get screwed up and not recover.
But I haven't tried it in ages, so no doubt it is completely broken now.
No fault of the ECW SDK - I would guess it is stuff I am doing wrong.

Hmm, I could be getting a bit mixed up with the jpip protocol.

You can file a bug report on this, but it isn't honestly too high a priority
for me just now. 

Best reagards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From pgao at esri.com  Fri Apr  1 17:10:08 2005
From: pgao at esri.com (Peng Gao)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] GDAL, ECW, and COM 
Message-ID: <491DC5F3D279CD4EB4B157DDD62237F40479C2F5@zipwire.esri.com>

I wrote a new GDAL dataset whose implementation uses some COM objects.
When I do a CreateCopy() using my dataset as input, it works for most
formats except ECW. The error is that COM objects can not be cocreated
because CoInitialize() is not called on the thread. The following is
the call stack (Windows) when the error occurred. It looks like a
different thread from the main thread where GDALDriver::CreateCopy() is
invoked.

If this is true, can the compressor thread be enclosed in CoInitialize()
and CoUninitialize()?

Thanks
Gao, Peng


	GdalRasterDB.dll!ESRIRasterDataset::Read(long ix=0, long iy=0, long
nx=6614, long ny=256, IPixelBlock * * ppPixelBlock=0x0527bc18)  Line 93 +
0x11	C++
 	GdalRasterDB.dll!ESRIRasterBand::IReadBlock(int nBlockXOff=0, int
nBlockYOff=0, void * pImage=0x05380020)  Line 182	C++
 	gdal12.dll!GDALRasterBand::GetBlockRef(int nXBlockOff=0, int
nYBlockOff=0, int bJustInitialize=0)  Line 1149 + 0x22	C++
 	gdal12.dll!GDALRasterBand::IRasterIO(GDALRWFlag eRWFlag=GF_Read, int
nXOff=0, int nYOff=0, int nXSize=6614, int nYSize=1, void *
pData=0x05280048, int nBufXSize=6614, int nBufYSize=1, GDALDataType
eBufType=GDT_Byte, int nPixelSpace=1, int nLineSpace=6614)  Line 175 + 0x12
C++
 	gdal12.dll!GDALDataset::IRasterIO(GDALRWFlag eRWFlag=GF_Read, int
nXOff=0, int nYOff=0, int nXSize=6614, int nYSize=1, void *
pData=0x05280048, int nBufXSize=6614, int nBufYSize=1, GDALDataType
eBufType=GDT_Byte, int nBandCount=3, int * panBandMap=0x0324bde0, int
nPixelSpace=1, int nLineSpace=6614, int nBandSpace=6614)  Line 1292 + 0x37
C++
 	gdal12.dll!GDALDataset::RasterIO(GDALRWFlag eRWFlag=GF_Read, int
nXOff=0, int nYOff=0, int nXSize=6614, int nYSize=1, void *
pData=0x05280048, int nBufXSize=6614, int nBufYSize=1, GDALDataType
eBufType=GDT_Byte, int nBandCount=3, int * panBandMap=0x0324bde0, int
nPixelSpace=1, int nLineSpace=6614, int nBandSpace=6614)  Line 1485 + 0x43
C++
 	gdal12.dll!GDALECWCompressor::WriteReadLine(unsigned int
nNextLine=0, void * * ppInputArray=0x0230bba8)  Line 190 + 0x5f	C++
 	NCSEcw.dll!5ff24600() 	
 	NCSUtil.dll!5feaa9d9() 	

From fwarmerdam at gmail.com  Fri Apr  1 17:46:05 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] GDAL, ECW, and COM
In-Reply-To: <491DC5F3D279CD4EB4B157DDD62237F40479C2F5@zipwire.esri.com>
References: <491DC5F3D279CD4EB4B157DDD62237F40479C2F5@zipwire.esri.com>
Message-ID: <931f8ea9050401144617e4f607@mail.gmail.com>

On Apr 1, 2005 5:10 PM, Peng Gao <pgao@esri.com> wrote:
> I wrote a new GDAL dataset whose implementation uses some COM objects.
> When I do a CreateCopy() using my dataset as input, it works for most
> formats except ECW. The error is that COM objects can not be cocreated
> because CoInitialize() is not called on the thread. The following is
> the call stack (Windows) when the error occurred. It looks like a
> different thread from the main thread where GDALDriver::CreateCopy() is
> invoked.
> 
> If this is true, can the compressor thread be enclosed in CoInitialize()
> and CoUninitialize()?

Peng,

I'm am not too savvy on COM or multi-threading issues, so you may need
to spell a few things out for me. 

First, my understanding is that the ECW driver is multi-threaded, and 
uses seperate working threads when compressing.  Furthermore, these
worker threads end up "calling back" to get the data source the source
dataset.  So the IO calls on the source file will happen in a thread other
than the main one used for GDAL. 

I gather it is this being called from a different thread that is causing
you problems? 

>From the GDAL level I don't really have any access inside the ECW
compressor thread except for in the callback.  I suppose I could add
something to do a coinitialize in there on the first callback, but it 
really seems like this is an issue with the COM based driver.  Couldn't
it do a CoInitialize() internally in any function that gets called by a new
thread? 

Doing the uninitialize would be quite a bit tricker since there is no
easy way to know when the last call from the thread has been made.

Darn, I hate multi-threading.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From fwarmerdam at gmail.com  Fri Apr  1 17:46:05 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] GDAL, ECW, and COM
In-Reply-To: <491DC5F3D279CD4EB4B157DDD62237F40479C2F5@zipwire.esri.com>
References: <491DC5F3D279CD4EB4B157DDD62237F40479C2F5@zipwire.esri.com>
Message-ID: <931f8ea9050401144617e4f607@mail.gmail.com>

On Apr 1, 2005 5:10 PM, Peng Gao <pgao@esri.com> wrote:
> I wrote a new GDAL dataset whose implementation uses some COM objects.
> When I do a CreateCopy() using my dataset as input, it works for most
> formats except ECW. The error is that COM objects can not be cocreated
> because CoInitialize() is not called on the thread. The following is
> the call stack (Windows) when the error occurred. It looks like a
> different thread from the main thread where GDALDriver::CreateCopy() is
> invoked.
> 
> If this is true, can the compressor thread be enclosed in CoInitialize()
> and CoUninitialize()?

Peng,

I'm am not too savvy on COM or multi-threading issues, so you may need
to spell a few things out for me. 

First, my understanding is that the ECW driver is multi-threaded, and 
uses seperate working threads when compressing.  Furthermore, these
worker threads end up "calling back" to get the data source the source
dataset.  So the IO calls on the source file will happen in a thread other
than the main one used for GDAL. 

I gather it is this being called from a different thread that is causing
you problems? 

>From the GDAL level I don't really have any access inside the ECW
compressor thread except for in the callback.  I suppose I could add
something to do a coinitialize in there on the first callback, but it 
really seems like this is an issue with the COM based driver.  Couldn't
it do a CoInitialize() internally in any function that gets called by a new
thread? 

Doing the uninitialize would be quite a bit tricker since there is no
easy way to know when the last call from the thread has been made.

Darn, I hate multi-threading.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From MChapman at sanz.com  Fri Apr  1 19:14:37 2005
From: MChapman at sanz.com (Chapman, Martin)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] GDAL, ECW, and COM
Message-ID: <ED3A48B9840E594890A2BC172D11946502F9BDE1@mailman.san.com>

Frank, 

Anytime you create a new thread on windows using ATL (COM) you need to
do something like this:

unsigned long WINAPI ThreadProc(void* p)
{
	try
	{
		CoInitialize(NULL);
		
		CParseProcessor ParseProcessor;
		CParseServer *pParseServer = (CParseServer*) p;

		Sleep(100);

		ParseProcessor.m_nIdleTime = pParseServer->m_nIdleTime;
		ParseProcessor.m_nMailServerPort =
pParseServer->m_nMailServerPort;
		ParseProcessor.m_nProcessMax =
pParseServer->m_nProcessMax;
		ParseProcessor.m_sEmailFrom =
pParseServer->m_sEmailFrom;
		ParseProcessor.m_sEmailSubject =
pParseServer->m_sEmailSubject;
		ParseProcessor.m_sEmailTo = pParseServer->m_sEmailTo;
		ParseProcessor.m_sMailServerHost =
pParseServer->m_sMailServerHost;
		ParseProcessor.m_sMailServerPassword =
pParseServer->m_sMailServerPassword;
		ParseProcessor.m_sMailServerProfile =
pParseServer->m_sMailServerProfile;
		
		ParseProcessor.Run();
		delete pParseServer;

		CoUninitialize();
	}
	catch(...)
	{
		// handle it
	}

	return 0;
}

Martin

-----Original Message-----
From: gdal-dev-bounces@xserve.flids.com
[mailto:gdal-dev-bounces@xserve.flids.com] On Behalf Of Frank Warmerdam
Sent: Friday, April 01, 2005 3:46 PM
To: Peng Gao
Cc: GDAL Dev
Subject: Re: [Gdal-dev] GDAL, ECW, and COM


On Apr 1, 2005 5:10 PM, Peng Gao <pgao@esri.com> wrote:
> I wrote a new GDAL dataset whose implementation uses some COM objects.

> When I do a CreateCopy() using my dataset as input, it works for most 
> formats except ECW. The error is that COM objects can not be cocreated

> because CoInitialize() is not called on the thread. The following is 
> the call stack (Windows) when the error occurred. It looks like a 
> different thread from the main thread where GDALDriver::CreateCopy() 
> is invoked.
> 
> If this is true, can the compressor thread be enclosed in 
> CoInitialize() and CoUninitialize()?

Peng,

I'm am not too savvy on COM or multi-threading issues, so you may need
to spell a few things out for me. 

First, my understanding is that the ECW driver is multi-threaded, and 
uses seperate working threads when compressing.  Furthermore, these
worker threads end up "calling back" to get the data source the source
dataset.  So the IO calls on the source file will happen in a thread
other than the main one used for GDAL. 

I gather it is this being called from a different thread that is causing
you problems? 

>From the GDAL level I don't really have any access inside the ECW
compressor thread except for in the callback.  I suppose I could add
something to do a coinitialize in there on the first callback, but it 
really seems like this is an issue with the COM based driver.  Couldn't
it do a CoInitialize() internally in any function that gets called by a
new thread? 

Doing the uninitialize would be quite a bit tricker since there is no
easy way to know when the last call from the thread has been made.

Darn, I hate multi-threading.

Best regards,
-- 
---------------------------------------+--------------------------------
---------------------------------------+------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent
_______________________________________________
Gdal-dev mailing list
Gdal-dev@xserve.flids.com
http://xserve.flids.com/mailman/listinfo/gdal-dev

From MChapman at sanz.com  Fri Apr  1 19:16:37 2005
From: MChapman at sanz.com (Chapman, Martin)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] GDAL, ECW, and COM
Message-ID: <ED3A48B9840E594890A2BC172D11946502F9BDE2@mailman.san.com>

And one more thing:

To create it:

for (int i = 0; i < m_nIndex; i++)
			{
				CParseServer* pParseServer = ::new
CParseServer();
				
				pParseServer->m_nIdleTime =
ParseServers.GetIdleTime(i);
				pParseServer->m_nMailServerPort =
ParseServers.GetMailServerPort(i);
				pParseServer->m_nProcessMax =
ParseServers.GetProcessMax(i);
				pParseServer->m_sEmailFrom =
ParseServers.GetEmailFrom(i);
				pParseServer->m_sEmailSubject =
ParseServers.GetEmailSubject(i);
				pParseServer->m_sEmailTo =
ParseServers.GetEmailTo(i);
				pParseServer->m_sMailServerHost =
ParseServers.GetMailServerHost(i);
				pParseServer->m_sMailServerPassword =
ParseServers.GetMailServerPassword(i);
				pParseServer->m_sMailServerProfile =
ParseServers.GetMailServerProfile(i);

				m_vThreads.push_back(CreateThread(NULL,
0, (LPTHREAD_START_ROUTINE)&ThreadProc, (LPVOID)pParseServer, 0,
&dwThreadId));
			}

And to destroy it:

HRESULT CParseMonitorModule::PostMessageLoop()
{
	try
	{
		DWORD dwResult;
		CParseProcessor::m_bRunning = false;
		vector<HANDLE>::iterator Iter;

		for (Iter = m_vThreads.begin(); true; Iter++)
		{
			if ((dwResult = WaitForMultipleObjects((DWORD)
m_vThreads.size(), 
				&m_vThreads[0], TRUE, 20000)) ==
WAIT_OBJECT_0)
				break;
			else if((dwResult == WAIT_FAILED) || (dwResult
== WAIT_ABANDONED))
				this->LogEvent("WaitForMultipleObjects
Failed");
			else
			this->SetServiceStatus(SERVICE_STOP_PENDING);
		}

		for (Iter = m_vThreads.begin(); Iter !=
m_vThreads.end(); Iter++)
			CloseHandle(*Iter);
	}
	catch(...)
	{
		this->LogEvent(_T("An unexpected error occurred in
PostMessageLoop"));
	}

	return __super::PostMessageLoop();
}

Martin

-----Original Message-----
From: gdal-dev-bounces@xserve.flids.com
[mailto:gdal-dev-bounces@xserve.flids.com] On Behalf Of Frank Warmerdam
Sent: Friday, April 01, 2005 3:46 PM
To: Peng Gao
Cc: GDAL Dev
Subject: Re: [Gdal-dev] GDAL, ECW, and COM


On Apr 1, 2005 5:10 PM, Peng Gao <pgao@esri.com> wrote:
> I wrote a new GDAL dataset whose implementation uses some COM objects.

> When I do a CreateCopy() using my dataset as input, it works for most 
> formats except ECW. The error is that COM objects can not be cocreated

> because CoInitialize() is not called on the thread. The following is 
> the call stack (Windows) when the error occurred. It looks like a 
> different thread from the main thread where GDALDriver::CreateCopy() 
> is invoked.
> 
> If this is true, can the compressor thread be enclosed in 
> CoInitialize() and CoUninitialize()?

Peng,

I'm am not too savvy on COM or multi-threading issues, so you may need
to spell a few things out for me. 

First, my understanding is that the ECW driver is multi-threaded, and 
uses seperate working threads when compressing.  Furthermore, these
worker threads end up "calling back" to get the data source the source
dataset.  So the IO calls on the source file will happen in a thread
other than the main one used for GDAL. 

I gather it is this being called from a different thread that is causing
you problems? 

>From the GDAL level I don't really have any access inside the ECW
compressor thread except for in the callback.  I suppose I could add
something to do a coinitialize in there on the first callback, but it 
really seems like this is an issue with the COM based driver.  Couldn't
it do a CoInitialize() internally in any function that gets called by a
new thread? 

Doing the uninitialize would be quite a bit tricker since there is no
easy way to know when the last call from the thread has been made.

Darn, I hate multi-threading.

Best regards,
-- 
---------------------------------------+--------------------------------
---------------------------------------+------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent
_______________________________________________
Gdal-dev mailing list
Gdal-dev@xserve.flids.com
http://xserve.flids.com/mailman/listinfo/gdal-dev

From pgao at esri.com  Fri Apr  1 19:57:40 2005
From: pgao at esri.com (Peng Gao)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] GDAL, ECW, and COM
Message-ID: <491DC5F3D279CD4EB4B157DDD62237F40479C2F9@zipwire.esri.com>

The app hosting GDAL has COM properly initialized. From within this
app, GDALDriver::CreateCopy() is called. Somewhere in ECW driver, the
following is called:

/* -------------------------------------------------------------------- */
/*      Start the compression.                                          */
/* -------------------------------------------------------------------- */
    oCompressor.Write();

It seems that this call creates a worker thread, and this worker thread
does not call CoInitialize(NULL); This worker thread calls back to GDAL
for pixels, and no COM object can be created in this thread. That's my
problem.


> -----Original Message-----
> From: Chapman, Martin [mailto:MChapman@sanz.com]
> Sent: Friday, April 01, 2005 4:15 PM
> To: warmerdam@pobox.com; Peng Gao
> Cc: GDAL Dev
> Subject: RE: [Gdal-dev] GDAL, ECW, and COM
> 
> Frank,
> 
> Anytime you create a new thread on windows using ATL (COM) you need to
> do something like this:
> 
> unsigned long WINAPI ThreadProc(void* p)
> {
> 	try
> 	{
> 		CoInitialize(NULL);
> 
> 		CParseProcessor ParseProcessor;
> 		CParseServer *pParseServer = (CParseServer*) p;
> 
> 		Sleep(100);
> 
> 		ParseProcessor.m_nIdleTime = pParseServer->m_nIdleTime;
> 		ParseProcessor.m_nMailServerPort =
> pParseServer->m_nMailServerPort;
> 		ParseProcessor.m_nProcessMax =
> pParseServer->m_nProcessMax;
> 		ParseProcessor.m_sEmailFrom =
> pParseServer->m_sEmailFrom;
> 		ParseProcessor.m_sEmailSubject =
> pParseServer->m_sEmailSubject;
> 		ParseProcessor.m_sEmailTo = pParseServer->m_sEmailTo;
> 		ParseProcessor.m_sMailServerHost =
> pParseServer->m_sMailServerHost;
> 		ParseProcessor.m_sMailServerPassword =
> pParseServer->m_sMailServerPassword;
> 		ParseProcessor.m_sMailServerProfile =
> pParseServer->m_sMailServerProfile;
> 
> 		ParseProcessor.Run();
> 		delete pParseServer;
> 
> 		CoUninitialize();
> 	}
> 	catch(...)
> 	{
> 		// handle it
> 	}
> 
> 	return 0;
> }
> 
> Martin
> 
> -----Original Message-----
> From: gdal-dev-bounces@xserve.flids.com
> [mailto:gdal-dev-bounces@xserve.flids.com] On Behalf Of Frank Warmerdam
> Sent: Friday, April 01, 2005 3:46 PM
> To: Peng Gao
> Cc: GDAL Dev
> Subject: Re: [Gdal-dev] GDAL, ECW, and COM
> 
> 
> On Apr 1, 2005 5:10 PM, Peng Gao <pgao@esri.com> wrote:
> > I wrote a new GDAL dataset whose implementation uses some COM objects.
> 
> > When I do a CreateCopy() using my dataset as input, it works for most
> > formats except ECW. The error is that COM objects can not be cocreated
> 
> > because CoInitialize() is not called on the thread. The following is
> > the call stack (Windows) when the error occurred. It looks like a
> > different thread from the main thread where GDALDriver::CreateCopy()
> > is invoked.
> >
> > If this is true, can the compressor thread be enclosed in
> > CoInitialize() and CoUninitialize()?
> 
> Peng,
> 
> I'm am not too savvy on COM or multi-threading issues, so you may need
> to spell a few things out for me.
> 
> First, my understanding is that the ECW driver is multi-threaded, and
> uses seperate working threads when compressing.  Furthermore, these
> worker threads end up "calling back" to get the data source the source
> dataset.  So the IO calls on the source file will happen in a thread
> other than the main one used for GDAL.
> 
> I gather it is this being called from a different thread that is causing
> you problems?
> 
> >From the GDAL level I don't really have any access inside the ECW
> compressor thread except for in the callback.  I suppose I could add
> something to do a coinitialize in there on the first callback, but it
> really seems like this is an issue with the COM based driver.  Couldn't
> it do a CoInitialize() internally in any function that gets called by a
> new thread?
> 
> Doing the uninitialize would be quite a bit tricker since there is no
> easy way to know when the last call from the thread has been made.
> 
> Darn, I hate multi-threading.
> 
> Best regards,
> --
> ---------------------------------------+--------------------------------
> ---------------------------------------+------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@xserve.flids.com
> http://xserve.flids.com/mailman/listinfo/gdal-dev

From kmelero at sanz.com  Sat Apr  2 13:24:56 2005
From: kmelero at sanz.com (Kenneth Melero)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] configure.in tweaks for MrSID and Kakadu
Message-ID: <000101c537b1$4708b820$0d02040a@MGCOMPAQ>


Frank,

2 tweaks to your configure.in for MrSID and Kakadu support.

Line 918:

  LIBS="$LIBS -L$with_kakadu/lib -lkdu"

Line 984:

  LIBS="-L$with_mrsid/3rd-party/lib/Release -lltiesdk $LIBS -lcryptopp"


On Kakadu it needed the lib path and on the MrSID the libs were in the wrong
order.

I was going to check them in myself but wasn't sure if you were making
modifications...didn't want to mess anything up.  So, please apply them to
the CVS baseline.

Thanks!!
-Ken


---
Kenneth Melero
Director of Imagery Science
 
SANZ Inc.
8245 Boone Blvd, Suite 800
Vienna, VA 22182
 
t 703.442.6630 x215
c 703.577.2333



From fwarmerdam at gmail.com  Sat Apr  2 14:44:53 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] Re: configure.in tweaks for MrSID and Kakadu
In-Reply-To: <000101c537b1$4708b820$0d02040a@MGCOMPAQ>
References: <000101c537b1$4708b820$0d02040a@MGCOMPAQ>
Message-ID: <931f8ea90504021144e3d45ec@mail.gmail.com>

On Apr 2, 2005 1:24 PM, Kenneth Melero <kmelero@sanz.com> wrote:
> 
> Frank,
> 
> 2 tweaks to your configure.in for MrSID and Kakadu support.
> 
> Line 918:
> 
>   LIBS="$LIBS -L$with_kakadu/lib -lkdu"
> 
> Line 984:
> 
>   LIBS="-L$with_mrsid/3rd-party/lib/Release -lltiesdk $LIBS -lcryptopp"
> 
> On Kakadu it needed the lib path and on the MrSID the libs were in the wrong
> order.
> 
> I was going to check them in myself but wasn't sure if you were making
> modifications...didn't want to mess anything up.  So, please apply them to
> the CVS baseline.

Ken,

Changes applied. 

Thanks!
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From dburken at comcast.net  Sun Apr  3 11:16:27 2005
From: dburken at comcast.net (David Burken)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] Re: configure.in tweaks
In-Reply-To: <931f8ea90504021144e3d45ec@mail.gmail.com>
References: <000101c537b1$4708b820$0d02040a@MGCOMPAQ>
	<931f8ea90504021144e3d45ec@mail.gmail.com>
Message-ID: <425008CB.5000105@comcast.net>

Frank,

Using this configure line (with latest cvs):

 ./configure --with-libtiff=/work/drb/libtiff/libtiff 
--with-geotiff=/work/drb/geotiff/libgeotiff 
--with-kakadu=/work/drb/kakadu/v4_4-00315N

I still have to comment out "configure.in:line 501" to avoid:

configure: error: We require at least GeoTIFF 1.2.1. Consider using the 
one supplied with GDAL

Take care,
Dave



From kmelero at sanz.com  Sun Apr  3 13:14:25 2005
From: kmelero at sanz.com (Kenneth Melero)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] Re: configure.in tweaks
In-Reply-To: <425008CB.5000105@comcast.net>
Message-ID: <000301c53870$97301310$0200a8c0@MGCOMPAQ>


Strange, I don't get that.  I do have to do a "make install" with libtiff
though in order for libgeotiff to properly pick it up.

-Ken


-----Original Message-----
From: gdal-dev-bounces@xserve.flids.com
[mailto:gdal-dev-bounces@xserve.flids.com] On Behalf Of David Burken
Sent: Sunday, April 03, 2005 11:16 AM
To: gdal-dev@remotesensing.org
Subject: Re: [Gdal-dev] Re: configure.in tweaks


Frank,

Using this configure line (with latest cvs):

 ./configure --with-libtiff=/work/drb/libtiff/libtiff 
--with-geotiff=/work/drb/geotiff/libgeotiff 
--with-kakadu=/work/drb/kakadu/v4_4-00315N

I still have to comment out "configure.in:line 501" to avoid:

configure: error: We require at least GeoTIFF 1.2.1. Consider using the 
one supplied with GDAL

Take care,
Dave


_______________________________________________
Gdal-dev mailing list
Gdal-dev@xserve.flids.com http://xserve.flids.com/mailman/listinfo/gdal-dev


From nil5-ksa at yandex.ru  Mon Apr  4 07:38:04 2005
From: nil5-ksa at yandex.ru (Sergey Karin)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] Question about getting fields for features in OGR
Message-ID: <S1830265AbVDDLiI/20050404113808Z+443887@gnome07.net.rol.ru>

Hi, Frank.



I am using Postgis and OGR for reading data from it.

So, Postgis does not  allow to create fields of features with the name that
consists of two or more words. Because the name of field is the name of
table column.  But I want. So, I have created a table that contain
corresponding names that can consists of two or more words. And I have
developed a lot of functions that returns the names.



Now, I want to use OGR for reading fields of features. As I understood OGR
use the name of table column as the name of field.

The question is: How I can get names of fields that consists of two or more
words through OGR (using driver for postgis).

If can't, is there any plans to realize that?



Sergey Karin



P.S. And what about my style strings in Mapinfo driver? :)



-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20050404/dd7a45b3/attachment.html
From fwarmerdam at gmail.com  Mon Apr  4 09:44:03 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] Question about getting fields for features in OGR
In-Reply-To: <S1830265AbVDDLiI/20050404113808Z+443887@gnome07.net.rol.ru>
References: <S1830265AbVDDLiI/20050404113808Z+443887@gnome07.net.rol.ru>
Message-ID: <931f8ea9050404064479cdc878@mail.gmail.com>

On Apr 4, 2005 7:38 AM, Sergey Karin <nil5-ksa@yandex.ru> wrote:
>  
> Hi, Frank. 
> 
> I am using Postgis and OGR for reading data from it. 
> 
> So, Postgis does not  allow to create fields of features with the name that
> consists of two or more words. Because the name of field is the name of
> table column.  But I want. So, I have created a table that contain
> corresponding names that can consists of two or more words. And I have
> developed a lot of functions that returns the names. 
> 
> Now, I want to use OGR for reading fields of features. As I understood OGR use the name of table column as the name of field. 
> 
> The question is: How I can get names of fields that consists of two or more
> words through OGR (using driver for postgis). 

Sergey,

OGR doesn't apply any apriori limitations on what can be used for
field names, other than that they ought to be unique. Well actually
OGR doesn't even enforce this as a constraint ... but it should! 

My understanding is that you want the OGR PostGIS driver to 
optionally lookup field names in a secondary PostgreSQL table so 
that you can substitute more descriptive field names that would not
be allowed as column names in PostgreSQL.  Is that right? 

> If can't, is there any plans to realize that? 

There are no plans to incorporate the capability you are 
looking for. 

You could certainly locally patch the OGR PostGIS driver
to do what you want, but I think the change will be a bit messy
and hard to maintain.  I am leery about adding this capability
into the distributed driver since it will add a bunch of complication
and be hard for me to maintain without quite a bit of extra work.

> And what about my style strings in Mapinfo driver? :) 

Umm, still stuck in the ether?  I have several tasks I need to do 
now that the MITAB release is out, including incorporating your
changes.  

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From roger at pocketterra.com  Mon Apr  4 15:43:13 2005
From: roger at pocketterra.com (roger@pocketterra.com)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] Arizona Central NAD83 appears not to work.
Message-ID: <002001c5394e$89f00cd0$705b88cc@BlackFin>

I got this file from the Arizona DOT. It appears to be a GeoTIFF in Arizona
Central NAD83. However this is the output from gdalinfo (I tried several
versions of GDAL):
 
Note that at the end, I am getting very odd lat-lon for the corners. This
mirrors what I am getting in my .NET program.
 
Any ideas?
 
Download the file from:
 
http://pocketterra.com/Files/straw.tif
 
Thanks for any assistance!
 
Roger Bedell
 
Driver: GTiff/GeoTIFF
Size is 1582, 1073
Coordinate System is:
PROJCS["unnamed",
    GEOGCS["NAD83",
        DATUM["North_American_Datum_1983",
            SPHEROID["GRS 1980",6378137,298.2572221010002,
                AUTHORITY["EPSG","7019"]],
            AUTHORITY["EPSG","6269"]],
        PRIMEM["Greenwich",0],
        UNIT["degree",0.0174532925199433],
        AUTHORITY["EPSG","4269"]],
    UNIT["metre",1,
        AUTHORITY["EPSG","9001"]],
    AUTHORITY["EPSG","26949"]]
Origin = (249706.385656,379231.463731)
Pixel Size = (2.43840000,-2.43840000)
Metadata:
  TIFFTAG_XRESOLUTION=200
  TIFFTAG_YRESOLUTION=200
Corner Coordinates:
Upper Left  (  249706.386,  379231.464) (14307122d
0'51539607608.08"E,21728362d1
9'77309411377.33"N)
Lower Left  (  249706.386,  376615.061) (14307122d
0'51539607608.08"E,21578453d2
8'77309411338.22"N)
Upper Right (  253563.934,  379231.464)
(14528143d16'51539607603.90"E,21728362d1
9'77309411377.33"N)
Lower Right (  253563.934,  376615.061)
(14528143d16'51539607603.90"E,21578453d2
8'77309411338.22"N)
Center      (  251635.160,  377923.262)
(14417632d38'51539607605.99"E,21653407d5
3'77309411387.78"N)
 
 
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20050404/9886fdfe/attachment.html
From Ken.Boss at dnr.state.mn.us  Mon Apr  4 18:02:58 2005
From: Ken.Boss at dnr.state.mn.us (Ken Boss)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] New 1.2.6 install breaks python scripts
Message-ID: <s2517362.080@co5.dnr.state.mn.us>

I've just done a fresh build and install of gdal-1.2.6 on a Solaris box
(installed to /usr/local/gdal-1.2.6).

Now, when I try to run an existing python script, I get:

Traceback (most recent call last):
  File "/usr/local/scripts/pixelPusher/gdal_mosaic.py", line 52, in ?
    import gdal
  File "/usr/local/lib/python2.1/site-packages/gdal.py", line 179, in
?
    import _gdal
ImportError: ld.so.1: /usr/local/bin/python: fatal: relocation error:
file /usr/local/gdal-1.2.6/lib/libgdal.so.1: symbol cerr: referenced
symbol not found

FWIW, /usr/local/scripts/pixelPusher/gdal_mosaic.py has been around for
a long time, and has not changed since the new install. 
/usr/local/lib/python2.1/site-packages/gdal.py appears from the
timestamp to have been installed today along with 1.2.6.  Same
(obviously) with /usr/local/gdal-1.2.6/lib/libgdal.so.1, which is a
symbolic link to /usr/local/gdal-1.2.6/lib/libgdal.so.1.7.0.

Can anyone help me sort out what I might be missing here?

Thanks,

--Ken

From fwarmerdam at gmail.com  Mon Apr  4 21:51:37 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] Arizona Central NAD83 appears not to work.
In-Reply-To: <002001c5394e$89f00cd0$705b88cc@BlackFin>
References: <002001c5394e$89f00cd0$705b88cc@BlackFin>
Message-ID: <931f8ea9050404185115b7051c@mail.gmail.com>

On Apr 4, 2005 3:43 PM, roger@pocketterra.com <roger@pocketterra.com> wrote:
>  
>  
> I got this file from the Arizona DOT. It appears to be a GeoTIFF in Arizona
> Central NAD83. However this is the output from gdalinfo (I tried several
> versions of GDAL): 
>   
> Note that at the end, I am getting very odd lat-lon for the corners. This
> mirrors what I am getting in my .NET program. 
>   
> Any ideas? 
>   
> Download the file from: 
>   
> http://pocketterra.com/Files/straw.tif 

Roger,

I get:
Driver: GTiff/GeoTIFF
Size is 1582, 1073
Coordinate System is:
PROJCS["NAD83 / Arizona Central",
    GEOGCS["NAD83",
        DATUM["North_American_Datum_1983",
            SPHEROID["GRS 1980",6378137,298.2572221010042,
                AUTHORITY["EPSG","7019"]],
            AUTHORITY["EPSG","6269"]],
        PRIMEM["Greenwich",0],
        UNIT["degree",0.0174532925199433],
        AUTHORITY["EPSG","4269"]],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["latitude_of_origin",31],
    PARAMETER["central_meridian",-111.9166666666667],
    PARAMETER["scale_factor",0.9999],
    PARAMETER["false_easting",213360],
    PARAMETER["false_northing",0],
    UNIT["metre",1,
        AUTHORITY["EPSG","9001"]],
    AUTHORITY["EPSG","26949"]]
Origin = (249706.385656,379231.463731)
Pixel Size = (2.43840000,-2.43840000)
Metadata:
  TIFFTAG_XRESOLUTION=200
  TIFFTAG_YRESOLUTION=200
Corner Coordinates:
Upper Left  (  249706.386,  379231.464) (111d31'16.50"W, 34d25'9.48"N)
Lower Left  (  249706.386,  376615.061) (111d31'16.90"W, 34d23'44.56"N)
Upper Right (  253563.934,  379231.464) (111d28'45.43"W, 34d25'8.97"N)
Lower Right (  253563.934,  376615.061) (111d28'45.87"W, 34d23'44.05"N)
Center      (  251635.160,  377923.262) (111d30'1.18"W, 34d24'26.77"N)


Your projection definition looks like the PCS code lookup failed.  That is
most likely due to GDAL not finding your pcs.csv file.  On Linux or Unix
this would normally live in /usr/local/share/gdal.  On windows you need
to set the GDAL_DATA environment variable to point to the directory 
containing this and other supporting GDAL data files. 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From fwarmerdam at gmail.com  Tue Apr  5 03:32:46 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] New 1.2.6 install breaks python scripts
In-Reply-To: <s2517362.080@co5.dnr.state.mn.us>
References: <s2517362.080@co5.dnr.state.mn.us>
Message-ID: <931f8ea905040500327ae13b1e@mail.gmail.com>

On Apr 4, 2005 6:02 PM, Ken Boss <Ken.Boss@dnr.state.mn.us> wrote:
> I've just done a fresh build and install of gdal-1.2.6 on a Solaris box
> (installed to /usr/local/gdal-1.2.6).
> 
> Now, when I try to run an existing python script, I get:
> 
> Traceback (most recent call last):
>   File "/usr/local/scripts/pixelPusher/gdal_mosaic.py", line 52, in ?
>     import gdal
>   File "/usr/local/lib/python2.1/site-packages/gdal.py", line 179, in
> ?
>     import _gdal
> ImportError: ld.so.1: /usr/local/bin/python: fatal: relocation error:
> file /usr/local/gdal-1.2.6/lib/libgdal.so.1: symbol cerr: referenced
> symbol not found
> 
> FWIW, /usr/local/scripts/pixelPusher/gdal_mosaic.py has been around for
> a long time, and has not changed since the new install.
> /usr/local/lib/python2.1/site-packages/gdal.py appears from the
> timestamp to have been installed today along with 1.2.6.  Same
> (obviously) with /usr/local/gdal-1.2.6/lib/libgdal.so.1, which is a
> symbolic link to /usr/local/gdal-1.2.6/lib/libgdal.so.1.7.0.

Ken, 

The missing symbol, cerr, sounds like a C++ dependency.
I suspect you will need to force linking with the C++ support
libraries.  Normally I accomplish this by using 
"g++ -shared" as the linker in the LD_SHARED variable
in the GDALmake.opt.  Do you have a GNU build environment?

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From michele.sanges at otomelara.it  Tue Apr  5 05:44:18 2005
From: michele.sanges at otomelara.it (Michele Sanges)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] getGeometryType() method.
Message-ID: <42525DF2.5010700@otomelara.it>

Hi,
where is the documentation of OGRGeometry::getGeometryType() method? It isn't listed in the OGRGeometry Class Reference web page 
[http://www.remotesensing.org:16080/gdal/ogr/classOGRGeometry.html]

Thanks.
Michele Sanges

From t.r.decarlo at larc.nasa.gov  Tue Apr  5 14:30:12 2005
From: t.r.decarlo at larc.nasa.gov (Thom DeCarlo)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] More problems compiling under VS.NET 2003
Message-ID: <000e01c53a0d$8165b780$959877c6@cts1149>

Hello,
I pulled down last night's cvs tarball and tried to compile. The build is
crashing in gcore when it tries to execute:

        rc -fo Version.res -r -I..\port Version.rc
Version.rc(1) : fatal error RC1015: cannot open include file 'afxres.h'.
NMAKE : fatal error U1077: 'rc' : return code '0x1'
Stop.

The file Version.res is new to me. (The last tarball I downloaded was from
20041221.) I'm not really sure what it is supposed to do, but there is no
afxres.h anywhere on my computer.

Can anyone who has had luck building under VS.NET'03 tell me how they
managed it?

Thanks,
Thom

--
Thom DeCarlo
---------------------------------------------------------
      Given sufficient time and money, all things are possible.
  In lieu of time and money, caffeine and aspirin may also work.



From bartvde at xs4all.nl  Tue Apr  5 14:37:13 2005
From: bartvde at xs4all.nl (Bart van den Eijnden)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] More problems compiling under VS.NET 2003
In-Reply-To: <000e01c53a0d$8165b780$959877c6@cts1149>
References: <000e01c53a0d$8165b780$959877c6@cts1149>
Message-ID: <opsorvcbt0mjfraz@client>

Afrex.h is part of MFC. Did you install that with Visual Studio? Is it in  
your include path (...../MFC/include)?

Rc is a utility to put version info (version number etc.) into a dll or  
application.

Best regards,
Bart

On Tue, 5 Apr 2005 14:30:12 -0400, Thom DeCarlo  
<t.r.decarlo@larc.nasa.gov> wrote:

> Hello,
> I pulled down last night's cvs tarball and tried to compile. The build is
> crashing in gcore when it tries to execute:
>
>         rc -fo Version.res -r -I..\port Version.rc
> Version.rc(1) : fatal error RC1015: cannot open include file 'afxres.h'.
> NMAKE : fatal error U1077: 'rc' : return code '0x1'
> Stop.
>
> The file Version.res is new to me. (The last tarball I downloaded was  
> from
> 20041221.) I'm not really sure what it is supposed to do, but there is no
> afxres.h anywhere on my computer.
>
> Can anyone who has had luck building under VS.NET'03 tell me how they
> managed it?
>
> Thanks,
> Thom
>
> --
> Thom DeCarlo
> ---------------------------------------------------------
>       Given sufficient time and money, all things are possible.
>   In lieu of time and money, caffeine and aspirin may also work.
>
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@xserve.flids.com
> http://xserve.flids.com/mailman/listinfo/gdal-dev
>



-- 
Using Opera's revolutionary e-mail client: http://www.opera.com/m2/

From t.r.decarlo at larc.nasa.gov  Tue Apr  5 14:57:55 2005
From: t.r.decarlo at larc.nasa.gov (Thom DeCarlo)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] More problems compiling under VS.NET 2003
In-Reply-To: <opsorvcbt0mjfraz@client>
Message-ID: <000f01c53a11$60662890$959877c6@cts1149>

I did a full install of VS.NET 2003 and that file did not make it onto my
computer. I'll poke around some more to see if any component was skipped,
but I don't think that is the case.

Thom
--
Thom DeCarlo
-------------------------------------------------------
       If a tree falls in a virtual forest
      and it's not in anyone's field of view,
               does it really happen?

> -----Original Message-----
> From: Bart van den Eijnden
> Sent: Tuesday, April 05, 2005 2:37 PM
> To: Thom DeCarlo; 'gdal-dev'
> Subject: Re: [Gdal-dev] More problems compiling under VS.NET 2003
> 
> Afrex.h is part of MFC. Did you install that with Visual Studio? Is it in
> your include path (...../MFC/include)?
> 
> Rc is a utility to put version info (version number etc.) into a dll or
> application.
> 
> Best regards,
> Bart
> 
> On Tue, 5 Apr 2005 14:30:12 -0400, Thom DeCarlo
> 
> > Hello,
> > I pulled down last night's cvs tarball and tried to compile. The build
> is
> > crashing in gcore when it tries to execute:
> >
> >         rc -fo Version.res -r -I..\port Version.rc
> > Version.rc(1) : fatal error RC1015: cannot open include file 'afxres.h'.
> > NMAKE : fatal error U1077: 'rc' : return code '0x1'
> > Stop.
> >
> > The file Version.res is new to me. (The last tarball I downloaded was
> > from
> > 20041221.) I'm not really sure what it is supposed to do, but there is
> no
> > afxres.h anywhere on my computer.
> >
> > Can anyone who has had luck building under VS.NET'03 tell me how they
> > managed it?
> >
> > Thanks,
> > Thom




From fwarmerdam at gmail.com  Tue Apr  5 15:02:44 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] More problems compiling under VS.NET 2003
In-Reply-To: <000f01c53a11$60662890$959877c6@cts1149>
References: <opsorvcbt0mjfraz@client> <000f01c53a11$60662890$959877c6@cts1149>
Message-ID: <931f8ea905040512021b4de3d3@mail.gmail.com>

On Apr 5, 2005 2:57 PM, Thom DeCarlo <t.r.decarlo@larc.nasa.gov> wrote:
> I did a full install of VS.NET 2003 and that file did not make it onto my
> computer. I'll poke around some more to see if any component was skipped,
> but I don't think that is the case.

Thom,

If you can't find the file, you can just remove Version.res from 
gdal/makefile.vc (the link line) and gcore/makefile.vc and things
should work fine.  You just won't get detailed versioning in the DLL.

If there is a cleaner way of building this resource file I would
be interested to hear.   Of course, it is problems like this that normally
prevents me from doing anything progressive like using resource
files. 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From veera.vijayaraj at gmail.com  Tue Apr  5 15:08:09 2005
From: veera.vijayaraj at gmail.com (veera vijayaraj)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] error using gdal_translate
Message-ID: <c652a2b10504051208b2c8bb2@mail.gmail.com>

Hi ,

I'm a newbie to GDAL. I'm trying to do a subset of  geotiff image using the
"-srcwin" option with gdal_translate utility.

I used the utility as in

gdal_translate -of GTiff -srcwin 100 100 400 400  input.tif  test.tif

and I get the following error

ERROR 4: 'test.tif' not recognised as a supported file format.

any ideas on why this happened? does this indicate any problem with my
installation ?

Thanks
Veera

From bartvde at xs4all.nl  Tue Apr  5 15:08:20 2005
From: bartvde at xs4all.nl (Bart van den Eijnden)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] More problems compiling under VS.NET 2003
In-Reply-To: <931f8ea905040512021b4de3d3@mail.gmail.com>
References: <opsorvcbt0mjfraz@client> <000f01c53a11$60662890$959877c6@cts1149>
	<931f8ea905040512021b4de3d3@mail.gmail.com>
Message-ID: <opsorwr6mcmjfraz@client>

Hi Frank,

apparently you can just edit the rc file and replace afxres.h with  
winres.h. That should solve it.

Best regards,
Bart

On Tue, 5 Apr 2005 15:02:44 -0400, Frank Warmerdam <fwarmerdam@gmail.com>  
wrote:

> On Apr 5, 2005 2:57 PM, Thom DeCarlo <t.r.decarlo@larc.nasa.gov> wrote:
>> I did a full install of VS.NET 2003 and that file did not make it onto  
>> my
>> computer. I'll poke around some more to see if any component was  
>> skipped,
>> but I don't think that is the case.
>
> Thom,
>
> If you can't find the file, you can just remove Version.res from
> gdal/makefile.vc (the link line) and gcore/makefile.vc and things
> should work fine.  You just won't get detailed versioning in the DLL.
>
> If there is a cleaner way of building this resource file I would
> be interested to hear.   Of course, it is problems like this that  
> normally
> prevents me from doing anything progressive like using resource
> files.
>
> Best regards,



-- 
Using Opera's revolutionary e-mail client: http://www.opera.com/m2/

From t.r.decarlo at larc.nasa.gov  Tue Apr  5 15:20:32 2005
From: t.r.decarlo at larc.nasa.gov (Thom DeCarlo)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] More problems compiling under VS.NET 2003
In-Reply-To: <931f8ea905040512021b4de3d3@mail.gmail.com>
Message-ID: <001001c53a14$895d57c0$959877c6@cts1149>

Frank,
I'm not sure why the file didn't turn up in the first search, but I found it
in ...../Vc7/atlmfc/include, which was not in my include path. I've added
that and am pressing on...

Thanks,
Thom

--
Thom DeCarlo
---------------------------------------------------------
        Do Not Meddle in the Affairs of Dragons
    For You are Crunchy and Taste Good with Ketchup

> -----Original Message-----
> From: Frank Warmerdam
> Sent: Tuesday, April 05, 2005 3:03 PM
> To: Thom DeCarlo
> Cc: gdal-dev
> Subject: Re: [Gdal-dev] More problems compiling under VS.NET 2003
> 
> On Apr 5, 2005 2:57 PM, Thom DeCarlo wrote:
> > I did a full install of VS.NET 2003 and that file did not make it onto
> my
> > computer. I'll poke around some more to see if any component was
> skipped,
> > but I don't think that is the case.
> 
> Thom,
> 
> If you can't find the file, you can just remove Version.res from
> gdal/makefile.vc (the link line) and gcore/makefile.vc and things
> should work fine.  You just won't get detailed versioning in the DLL.
> 
> If there is a cleaner way of building this resource file I would
> be interested to hear.   Of course, it is problems like this that normally
> prevents me from doing anything progressive like using resource
> files.
> 
> Best regards,
> --



From fwarmerdam at gmail.com  Tue Apr  5 15:33:34 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] More problems compiling under VS.NET 2003
In-Reply-To: <opsorwr6mcmjfraz@client>
References: <opsorvcbt0mjfraz@client> <000f01c53a11$60662890$959877c6@cts1149>
	<931f8ea905040512021b4de3d3@mail.gmail.com>
	<opsorwr6mcmjfraz@client>
Message-ID: <931f8ea9050405123338251141@mail.gmail.com>

On Apr 5, 2005 3:08 PM, Bart van den Eijnden <bartvde@xs4all.nl> wrote:
> Hi Frank,
> 
> apparently you can just edit the rc file and replace afxres.h with
> winres.h. That should solve it.

Bart,

Sweet!  I have committed that change in CVS. 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From fwarmerdam at gmail.com  Tue Apr  5 15:37:26 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] error using gdal_translate
In-Reply-To: <c652a2b10504051208b2c8bb2@mail.gmail.com>
References: <c652a2b10504051208b2c8bb2@mail.gmail.com>
Message-ID: <931f8ea9050405123737bd9c87@mail.gmail.com>

On Apr 5, 2005 3:08 PM, veera vijayaraj <veera.vijayaraj@gmail.com> wrote:
> Hi ,
> 
> I'm a newbie to GDAL. I'm trying to do a subset of  geotiff image using the
> "-srcwin" option with gdal_translate utility.
> 
> I used the utility as in
> 
> gdal_translate -of GTiff -srcwin 100 100 400 400  input.tif  test.tif
> 
> and I get the following error
> 
> ERROR 4: 'test.tif' not recognised as a supported file format.
> 
> any ideas on why this happened? does this indicate any problem with my
> installation ?

Veera, 

Did gdal_translate create a test.tif at all?  Does gdalinfo 
recognise it?  Your command looks fine, so I'm not sure
why it isn't working.  You might want to try it with an FWTools
binary distribution and see if that works.  

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From t.r.decarlo at larc.nasa.gov  Tue Apr  5 16:17:53 2005
From: t.r.decarlo at larc.nasa.gov (Thom DeCarlo)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] More problems compiling under VS.NET 2003
In-Reply-To: <001001c53a14$895d57c0$959877c6@cts1149>
Message-ID: <001601c53a1c$8c7ffae0$959877c6@cts1149>

Ok, new problem...

It got all the way to the point of linking the libraries and errored out
with this message:

        lib /out:gdal.lib port\*.obj gcore\*.obj alg\*.obj frmts\o\*.obj 
ogr\ogrsf_frmts\ogrsf_frmts.lib ogr\ogr.lib
Microsoft (R) Library Manager Version 7.10.3077
Copyright (C) Microsoft Corporation.  All rights reserved.

        link /dll /debug /INCLUDE:_OCTNewCoordinateTransformation 
/INCLUDE:_OGR FeatureStylePuller  /INCLUDE:_OSRValidate  
/INCLUDE:_OPTGetProjectionMethods  /INCLUDE:_OGR_G_GetPointCount 
/INCLUDE:_OGRRegisterAll /INCLUDE:_GDALSimpleImageWarp 
/INCLUDE:_GDALReprojectImage  /INCLUDE:_GDALComputeMedianCutPCT 
/INCLUDE:_GDALDitherRGB2PCT port\*.obj gcore\*.obj alg\*.obj 
frmts\o\*.obj ogr\ogrsf_frmts\ogrsf_frmts.lib ogr\ogr.lib 
odbc32.lib "" gcore\Version.res  /out:gdal12.dll /implib:gdal_i.lib
Microsoft (R) Incremental Linker Version 7.10.3077
Copyright (C) Microsoft Corporation.  All rights reserved.

LINK : fatal error LNK1104: cannot open file '.obj'
NMAKE : fatal error U1077: 'link' : return code '0x450'
Stop.


Now, there *are* obj files in all of those directories, so I don't know what
.obj file it is complaining about.

Any ideas?

Thanks,
Thom

--
Thom DeCarlo
------------------------------------------------------
              Experience is a wonderful thing
It allows you to recognize a mistake when you make it again.





From t.r.decarlo at larc.nasa.gov  Tue Apr  5 17:00:42 2005
From: t.r.decarlo at larc.nasa.gov (Thom DeCarlo)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] More problems compiling under VS.NET 2003
In-Reply-To: <001601c53a1c$8c7ffae0$959877c6@cts1149>
Message-ID: <001e01c53a22$87425ea0$959877c6@cts1149>

Argh! Sorry about that last one... There was an environment variable still
hanging around from another project that was interfering. 

But, the next _real_ problem is still showing up at link time. This is the
message:

        lib /out:gdal.lib port\*.obj gcore\*.obj alg\*.obj frmts\o\*.obj 
ogr\ogrsf_frmts\ogrsf_frmts.lib ogr\ogr.lib
Microsoft (R) Library Manager Version 7.10.3077
Copyright (C) Microsoft Corporation.  All rights reserved.

        link /dll /debug /INCLUDE:_OCTNewCoordinateTransformation 
/INCLUDE:_OGRFeatureStylePuller  /INCLUDE:_OSRValidate  
/INCLUDE:_OPTGetProjectionMethods  /INCLUDE:_OGR_G_GetPointCount 
/INCLUDE:_OGRRegisterAll /INCLUDE:_GDALSimpleImageWarp  
/INCLUDE:_GDALReprojectImage  /INCLUDE:_GDALComputeMedianCutPCT  
/INCLUDE:_GDALDitherRGB2PCT port\*.obj gcore\*.obj alg\*.obj 
frmts\o\*.obj ogr\ogrsf_frmts\ogrsf_frmts.lib ogr\ogr.lib       
odbc32.lib  gcore\Version.res  /out:gdal12.dll /implib:gdal_i.lib
Microsoft (R) Incremental Linker Version 7.10.3077
Copyright (C) Microsoft Corporation.  All rights reserved.

   Creating library gdal_i.lib and object gdal_i.exp
LINK : error LNK2001: unresolved external symbol _GDALDitherRGB2PCT
LINK : error LNK2001: unresolved external symbol _GDALComputeMedianCutPCT
LINK : error LNK2001: unresolved external symbol _GDALReprojectImage
LINK : error LNK2001: unresolved external symbol _GDALSimpleImageWarp
gdal12.dll : fatal error LNK1120: 4 unresolved externals
NMAKE : fatal error U1077: 'link' : return code '0x460'
Stop.


It looks like there symbols are added in the $BASE_INSTALL var in
makefile.vc. Any notion what I'm missing?

Thanks,
Thom

--
Thom DeCarlo
-------------------------------------------------------
    I love deadlines. I especially like the
whooshing sound they make as they go flying by.

> -----Original Message-----
> From: Thom DeCarlo
> Sent: Tuesday, April 05, 2005 4:18 PM
> To: 'gdal-dev'
> Subject: RE: [Gdal-dev] More problems compiling under VS.NET 2003
> 
> Ok, new problem...
> 
> It got all the way to the point of linking the libraries and errored out
> with this message:
> 
>         lib /out:gdal.lib port\*.obj gcore\*.obj alg\*.obj frmts\o\*.obj
> ogr\ogrsf_frmts\ogrsf_frmts.lib ogr\ogr.lib
> Microsoft (R) Library Manager Version 7.10.3077
> Copyright (C) Microsoft Corporation.  All rights reserved.
> 
>         link /dll /debug /INCLUDE:_OCTNewCoordinateTransformation
> /INCLUDE:_OGR FeatureStylePuller  /INCLUDE:_OSRValidate
> /INCLUDE:_OPTGetProjectionMethods  /INCLUDE:_OGR_G_GetPointCount
> /INCLUDE:_OGRRegisterAll /INCLUDE:_GDALSimpleImageWarp
> /INCLUDE:_GDALReprojectImage  /INCLUDE:_GDALComputeMedianCutPCT
> /INCLUDE:_GDALDitherRGB2PCT port\*.obj gcore\*.obj alg\*.obj
> frmts\o\*.obj ogr\ogrsf_frmts\ogrsf_frmts.lib ogr\ogr.lib
> odbc32.lib "" gcore\Version.res  /out:gdal12.dll /implib:gdal_i.lib
> Microsoft (R) Incremental Linker Version 7.10.3077
> Copyright (C) Microsoft Corporation.  All rights reserved.
> 
> LINK : fatal error LNK1104: cannot open file '.obj'
> NMAKE : fatal error U1077: 'link' : return code '0x450'
> Stop.
> 
> 
> Now, there *are* obj files in all of those directories, so I don't know
> what
> .obj file it is complaining about.
> 
> Any ideas?
> 
> Thanks,
> Thom




From fwarmerdam at gmail.com  Tue Apr  5 17:35:05 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] More problems compiling under VS.NET 2003
In-Reply-To: <001e01c53a22$87425ea0$959877c6@cts1149>
References: <001601c53a1c$8c7ffae0$959877c6@cts1149>
	<001e01c53a22$87425ea0$959877c6@cts1149>
Message-ID: <931f8ea905040514351b4eed13@mail.gmail.com>

On Apr 5, 2005 5:00 PM, Thom DeCarlo <t.r.decarlo@larc.nasa.gov> wrote:
>    Creating library gdal_i.lib and object gdal_i.exp
> LINK : error LNK2001: unresolved external symbol _GDALDitherRGB2PCT
> LINK : error LNK2001: unresolved external symbol _GDALComputeMedianCutPCT
> LINK : error LNK2001: unresolved external symbol _GDALReprojectImage
> LINK : error LNK2001: unresolved external symbol _GDALSimpleImageWarp
> gdal12.dll : fatal error LNK1120: 4 unresolved externals
> NMAKE : fatal error U1077: 'link' : return code '0x460'
> Stop.
> 
> It looks like there symbols are added in the $BASE_INSTALL var in
> makefile.vc. Any notion what I'm missing?

Thom, 

Try adding STDCALL=YES in your nmake.opt and then do a full
clean build.  I am in the midst of lots of changes related to 
making some C entry points have STDCALL conventions but
I hadn't updated the nmake.opt with the right defaults.  The
changes is in CVS now or you can manually update yours.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From t.r.decarlo at larc.nasa.gov  Tue Apr  5 17:43:36 2005
From: t.r.decarlo at larc.nasa.gov (Thom DeCarlo)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] More problems compiling under VS.NET 2003
In-Reply-To: <931f8ea905040514351b4eed13@mail.gmail.com>
Message-ID: <001f01c53a28$85982250$959877c6@cts1149>

Thanks Frank. That fixed it.

Thom
--
Thom DeCarlo
-------------------------------------------------------
     I work until beer o'clock
                                - Steven King

> -----Original Message-----
> From: Frank Warmerdam 
> Sent: Tuesday, April 05, 2005 5:35 PM
> To: Thom DeCarlo
> Cc: gdal-dev
> Subject: Re: [Gdal-dev] More problems compiling under VS.NET 2003
> 
> Thom,
> 
> Try adding STDCALL=YES in your nmake.opt and then do a full
> clean build.  I am in the midst of lots of changes related to
> making some C entry points have STDCALL conventions but
> I hadn't updated the nmake.opt with the right defaults.  The
> changes is in CVS now or you can manually update yours.
> 
> Best regards,
> 




From sab at vpac.org  Tue Apr  5 17:53:05 2005
From: sab at vpac.org (Shoaib Burq (VPAC))
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] gdal_translate ArcGrid to ENVI error 
Message-ID: <Pine.LNX.4.44.0504060738090.12834-100000@hp.vpac.org>


Hi

I'm using gdal-dev 1.2.5 and have a set of data that I batch convert from
ArcGrid to ENVI format. Most of the data works out OK.

However a couple of grids die near the end of the conversion with the 
error:

processing: ./data/geol_epp/hdr.adf ....
Input file size is 2544, 3419
0...10...20...30...40...50...60...70...80...90...ERROR 1: IReadBlock 
failed at X offset 6, Y offset 854
ERROR 1: GetBlockRef failed at X block offset 6, Y block offset 854
Open GDAL Datasets:
  1 N ENVI   2544x3419x1 ./ENVI_format/geol_epp.img

processing: ./data/new_lsys/hdr.adf ....
Input file size is 2544, 3419
0...10...20...30...40...50...60...70...80...90...ERROR 1: IReadBlock 
failed at X offset 7, Y offset 854
ERROR 1: GetBlockRef failed at X block offset 7, Y block offset 854
Open GDAL Datasets:
  1 N ENVI   2544x3419x1 ./ENVI_format/new_lsys.img


Had a look at the pix in question but don't appear to have anything 
unusual.

here is the output of gdalinfo on both the source images:

[sab@uga arc2envi]$ gdalinfo ./data/geol_epp/
Driver: AIG/Arc/Info Binary Grid
Size is 2544, 3419
Coordinate System is:
PROJCS["unnamed",
    GEOGCS["WGS 84",
        DATUM["WGS_1984",
            SPHEROID["WGS 84",6378137,298.257223563,
                AUTHORITY["EPSG","7030"]],
            TOWGS84[0,0,0,0,0,0,0],
            AUTHORITY["EPSG","6326"]],
        PRIMEM["Greenwich",0,
            AUTHORITY["EPSG","8901"]],
        UNIT["degree",0.0174532925199433,
            AUTHORITY["EPSG","9108"]],
        AXIS["Lat",NORTH],
        AXIS["Long",EAST],
        AUTHORITY["EPSG","4326"]],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["latitude_of_origin",147],
    PARAMETER["central_meridian",0],
    PARAMETER["scale_factor",0.9996],
    PARAMETER["false_easting",500000],
    PARAMETER["false_northing",10000000],
    UNIT["METERS",1]]
Origin = (255994.767802,5919365.411465)
Pixel Size = (20.00000000,-20.00000000)
Corner Coordinates:
Upper Left  (  255994.768, 5919365.411) (  0d 0'0.00"E, 90d 0'0.00"S)
Lower Left  (  255994.768, 5850985.411) (  0d 0'0.00"E, 90d 0'0.00"S)
Upper Right (  306874.768, 5919365.411) (  0d 0'0.00"E, 90d 0'0.00"S)
Lower Right (  306874.768, 5850985.411) (  0d 0'0.00"E, 90d 0'0.00"S)
Center      (  281434.768, 5885175.411) (  0d 0'0.00"E, 90d 0'0.00"S)
Band 1 Block=256x4 Type=Int32, ColorInterp=Undefined
  Min=2004.000 Max=99999.000
  NoData Value=-2.14748e+09

[sab@uga arc2envi]$ gdalinfo ./data/new_lsys/
Driver: AIG/Arc/Info Binary Grid
Size is 2544, 3419
Coordinate System is:
PROJCS["unnamed",
    GEOGCS["WGS 84",
        DATUM["WGS_1984",
            SPHEROID["WGS 84",6378137,298.257223563,
                AUTHORITY["EPSG","7030"]],
            TOWGS84[0,0,0,0,0,0,0],
            AUTHORITY["EPSG","6326"]],
        PRIMEM["Greenwich",0,
            AUTHORITY["EPSG","8901"]],
        UNIT["degree",0.0174532925199433,
            AUTHORITY["EPSG","9108"]],
        AXIS["Lat",NORTH],
        AXIS["Long",EAST],
        AUTHORITY["EPSG","4326"]],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["latitude_of_origin",147],
    PARAMETER["central_meridian",0],
    PARAMETER["scale_factor",0.9996],
    PARAMETER["false_easting",500000],
    PARAMETER["false_northing",10000000],
    UNIT["METERS",1]]
Origin = (255994.767802,5919365.411465)
Pixel Size = (20.00000000,-20.00000000)
Corner Coordinates:
Upper Left  (  255994.768, 5919365.411) (  0d 0'0.00"E, 90d 0'0.00"S)
Lower Left  (  255994.768, 5850985.411) (  0d 0'0.00"E, 90d 0'0.00"S)
Upper Right (  306874.768, 5919365.411) (  0d 0'0.00"E, 90d 0'0.00"S)
Lower Right (  306874.768, 5850985.411) (  0d 0'0.00"E, 90d 0'0.00"S)
Center      (  281434.768, 5885175.411) (  0d 0'0.00"E, 90d 0'0.00"S)
Band 1 Block=256x4 Type=Byte, ColorInterp=Undefined
  Min=1.000 Max=60.000
  NoData Value=255

Again nothing too strange, Right?.... When the tremendously-able
gdal_translate finishes it does create an output image although
incomplete. here is the output of gdalinfo on the ENVI images. Note the
difference in the Center coordinate :

[sab@uga arc2envi]$ gdalinfo ./ENVI_format/geol_epp.img
Driver: ENVI/ENVI .hdr Labelled
Size is 2544, 3419
Coordinate System is:
LOCAL_CS["arbitrary",
    UNIT["Meter",1]]
Origin = (255994.767802,5919365.411470)
Pixel Size = (20.00000000,20.00000000)
Corner Coordinates:
Upper Left  (  255994.768, 5919365.411)
Lower Left  (  255994.768, 5987745.411)
Upper Right (  306874.768, 5919365.411)
Lower Right (  306874.768, 5987745.411)
Center      (  281434.768, 5953555.411)
Band 1 Block=2544x1 Type=Int32, ColorInterp=Undefined

[sab@uga arc2envi]$ gdalinfo ./ENVI_format/new_lsys.img
Driver: ENVI/ENVI .hdr Labelled
Size is 2544, 3419
Coordinate System is:
LOCAL_CS["arbitrary",
    UNIT["Meter",1]]
Origin = (255994.767802,5919365.411470)
Pixel Size = (20.00000000,20.00000000)
Corner Coordinates:
Upper Left  (  255994.768, 5919365.411)
Lower Left  (  255994.768, 5987745.411)
Upper Right (  306874.768, 5919365.411)
Lower Right (  306874.768, 5987745.411)
Center      (  281434.768, 5953555.411)
Band 1 Block=2544x1 Type=Byte, ColorInterp=Undefined

Any guidence is appreciated. Also quite happy to post the rasters to look
at.

Thanks heap
regards
shoaib


From sab at vpac.org  Tue Apr  5 18:03:06 2005
From: sab at vpac.org (Shoaib Burq (VPAC))
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] gdal_translate ArcGrid to ENVI error 
In-Reply-To: <Pine.LNX.4.44.0504060738090.12834-100000@hp.vpac.org>
Message-ID: <Pine.LNX.4.44.0504060800180.16012-100000@hp.vpac.org>


ok the data is now sitting at

http://www.vpac.org/~sab/data/arc2envi_error.tar.gz

The other thing I forgot to mention is that I am able to convert this 
ArcGrid without problems in ENVI (Win32) using the Save As functionality. 

regards
shoaib


On Wed, 6 Apr 2005, Shoaib Burq (VPAC) wrote:

> 
> Hi
> 
> I'm using gdal-dev 1.2.5 and have a set of data that I batch convert from
> ArcGrid to ENVI format. Most of the data works out OK.
> 
> However a couple of grids die near the end of the conversion with the 
> error:
> 
> processing: ./data/geol_epp/hdr.adf ....
> Input file size is 2544, 3419
> 0...10...20...30...40...50...60...70...80...90...ERROR 1: IReadBlock 
> failed at X offset 6, Y offset 854
> ERROR 1: GetBlockRef failed at X block offset 6, Y block offset 854
> Open GDAL Datasets:
>   1 N ENVI   2544x3419x1 ./ENVI_format/geol_epp.img
> 
> processing: ./data/new_lsys/hdr.adf ....
> Input file size is 2544, 3419
> 0...10...20...30...40...50...60...70...80...90...ERROR 1: IReadBlock 
> failed at X offset 7, Y offset 854
> ERROR 1: GetBlockRef failed at X block offset 7, Y block offset 854
> Open GDAL Datasets:
>   1 N ENVI   2544x3419x1 ./ENVI_format/new_lsys.img
> 
> 
> Had a look at the pix in question but don't appear to have anything 
> unusual.
> 
> here is the output of gdalinfo on both the source images:
> 
> [sab@uga arc2envi]$ gdalinfo ./data/geol_epp/
> Driver: AIG/Arc/Info Binary Grid
> Size is 2544, 3419
> Coordinate System is:
> PROJCS["unnamed",
>     GEOGCS["WGS 84",
>         DATUM["WGS_1984",
>             SPHEROID["WGS 84",6378137,298.257223563,
>                 AUTHORITY["EPSG","7030"]],
>             TOWGS84[0,0,0,0,0,0,0],
>             AUTHORITY["EPSG","6326"]],
>         PRIMEM["Greenwich",0,
>             AUTHORITY["EPSG","8901"]],
>         UNIT["degree",0.0174532925199433,
>             AUTHORITY["EPSG","9108"]],
>         AXIS["Lat",NORTH],
>         AXIS["Long",EAST],
>         AUTHORITY["EPSG","4326"]],
>     PROJECTION["Transverse_Mercator"],
>     PARAMETER["latitude_of_origin",147],
>     PARAMETER["central_meridian",0],
>     PARAMETER["scale_factor",0.9996],
>     PARAMETER["false_easting",500000],
>     PARAMETER["false_northing",10000000],
>     UNIT["METERS",1]]
> Origin = (255994.767802,5919365.411465)
> Pixel Size = (20.00000000,-20.00000000)
> Corner Coordinates:
> Upper Left  (  255994.768, 5919365.411) (  0d 0'0.00"E, 90d 0'0.00"S)
> Lower Left  (  255994.768, 5850985.411) (  0d 0'0.00"E, 90d 0'0.00"S)
> Upper Right (  306874.768, 5919365.411) (  0d 0'0.00"E, 90d 0'0.00"S)
> Lower Right (  306874.768, 5850985.411) (  0d 0'0.00"E, 90d 0'0.00"S)
> Center      (  281434.768, 5885175.411) (  0d 0'0.00"E, 90d 0'0.00"S)
> Band 1 Block=256x4 Type=Int32, ColorInterp=Undefined
>   Min=2004.000 Max=99999.000
>   NoData Value=-2.14748e+09
> 
> [sab@uga arc2envi]$ gdalinfo ./data/new_lsys/
> Driver: AIG/Arc/Info Binary Grid
> Size is 2544, 3419
> Coordinate System is:
> PROJCS["unnamed",
>     GEOGCS["WGS 84",
>         DATUM["WGS_1984",
>             SPHEROID["WGS 84",6378137,298.257223563,
>                 AUTHORITY["EPSG","7030"]],
>             TOWGS84[0,0,0,0,0,0,0],
>             AUTHORITY["EPSG","6326"]],
>         PRIMEM["Greenwich",0,
>             AUTHORITY["EPSG","8901"]],
>         UNIT["degree",0.0174532925199433,
>             AUTHORITY["EPSG","9108"]],
>         AXIS["Lat",NORTH],
>         AXIS["Long",EAST],
>         AUTHORITY["EPSG","4326"]],
>     PROJECTION["Transverse_Mercator"],
>     PARAMETER["latitude_of_origin",147],
>     PARAMETER["central_meridian",0],
>     PARAMETER["scale_factor",0.9996],
>     PARAMETER["false_easting",500000],
>     PARAMETER["false_northing",10000000],
>     UNIT["METERS",1]]
> Origin = (255994.767802,5919365.411465)
> Pixel Size = (20.00000000,-20.00000000)
> Corner Coordinates:
> Upper Left  (  255994.768, 5919365.411) (  0d 0'0.00"E, 90d 0'0.00"S)
> Lower Left  (  255994.768, 5850985.411) (  0d 0'0.00"E, 90d 0'0.00"S)
> Upper Right (  306874.768, 5919365.411) (  0d 0'0.00"E, 90d 0'0.00"S)
> Lower Right (  306874.768, 5850985.411) (  0d 0'0.00"E, 90d 0'0.00"S)
> Center      (  281434.768, 5885175.411) (  0d 0'0.00"E, 90d 0'0.00"S)
> Band 1 Block=256x4 Type=Byte, ColorInterp=Undefined
>   Min=1.000 Max=60.000
>   NoData Value=255
> 
> Again nothing too strange, Right?.... When the tremendously-able
> gdal_translate finishes it does create an output image although
> incomplete. here is the output of gdalinfo on the ENVI images. Note the
> difference in the Center coordinate :
> 
> [sab@uga arc2envi]$ gdalinfo ./ENVI_format/geol_epp.img
> Driver: ENVI/ENVI .hdr Labelled
> Size is 2544, 3419
> Coordinate System is:
> LOCAL_CS["arbitrary",
>     UNIT["Meter",1]]
> Origin = (255994.767802,5919365.411470)
> Pixel Size = (20.00000000,20.00000000)
> Corner Coordinates:
> Upper Left  (  255994.768, 5919365.411)
> Lower Left  (  255994.768, 5987745.411)
> Upper Right (  306874.768, 5919365.411)
> Lower Right (  306874.768, 5987745.411)
> Center      (  281434.768, 5953555.411)
> Band 1 Block=2544x1 Type=Int32, ColorInterp=Undefined
> 
> [sab@uga arc2envi]$ gdalinfo ./ENVI_format/new_lsys.img
> Driver: ENVI/ENVI .hdr Labelled
> Size is 2544, 3419
> Coordinate System is:
> LOCAL_CS["arbitrary",
>     UNIT["Meter",1]]
> Origin = (255994.767802,5919365.411470)
> Pixel Size = (20.00000000,20.00000000)
> Corner Coordinates:
> Upper Left  (  255994.768, 5919365.411)
> Lower Left  (  255994.768, 5987745.411)
> Upper Right (  306874.768, 5919365.411)
> Lower Right (  306874.768, 5987745.411)
> Center      (  281434.768, 5953555.411)
> Band 1 Block=2544x1 Type=Byte, ColorInterp=Undefined
> 
> Any guidence is appreciated. Also quite happy to post the rasters to look
> at.
> 
> Thanks heap
> regards
> shoaib
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@xserve.flids.com
> http://xserve.flids.com/mailman/listinfo/gdal-dev
> 

-- 
Shoaib Burq
--
VPAC - Geospatial Applications Developer
Building 91, 110 Victoria Street, 
Carlton South, Vic 3053, Australia
_______________________________________________________________
w: www.vpac.org  | e: sab_AT_vpac_DOT_org | mob: +61.431-850039



From dem at acri-st.fr  Wed Apr  6 03:32:06 2005
From: dem at acri-st.fr (Julien Demaria)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] Kakadu and MrSID conflict
Message-ID: <6.1.1.1.0.20050406093001.07dd4528@pop3>

Hi,

I've recently upgraded Kakadu from v4.2 to v4.4 and to the last MrSID 
Geo_DSDK-4.0.10.720 and I've this problem on Solaris :
"ld: warning: symbol `kdu_compressed_target virtual table' has differing s
izes:
         (file ./frmts/o/jp2.o value=0x40; file /project/openev/solaris/Ge
o_DSDK-4.0.10.720/lib/Release/libltidsdk.a(j2k_support.o) value=0x30);
         ./frmts/o/jp2.o definition taken"

and at the end :
"ld: fatal: relocations remain against allocatable but non-writable sections
collect2: ld returned 1 exit status"

I found that last MrSID DSDK is Kakadu v4.2 based ; so I'll try to 
downgrade my Kakadu to v4.2...

Are there solutions to this conflicts ?


Thanks in advance,

Julien


From asger at jo-informatik.dk  Wed Apr  6 07:05:27 2005
From: asger at jo-informatik.dk (Asger Petersen)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] Problems using ogr -sql "..." with postgis 1.0
Message-ID: <6A0257B028DA47499B5A843683051A36068DB1@server01.jo-informatik.local>

Hi

I'm having some trouble using the -sql option with postgis 1.0rc4.

As far as I can see, the -sql option works with postgis 0.91 but it
doesn't work with postgis 1.0rc4. I have looked through gdal- and
postgismailinglists without seeing anyone mentioning this.

When trying to dump from postgis to shapefiles I get shapefiles with all
nullgeometries. See below.

Any ideas?

Regards
Asger

Here is a simple test to demonstrate the problem:
---------------------------------------------------------------
-- postgis 1.0 rc4
-- doesn't use -sql
---------------------------------------------------------------

C:\tmp\gdal_test>set path=c:\buildenv\gdalcvs\bld\bin\

C:\tmp\gdal_test>set GDAL_DATA=c:\buildenv\gdalcvs\bld\data\

C:\tmp\gdal_test>ogrinfo -so test.shp test
INFO: Open of `test.shp'
using driver `ESRI Shapefile' successful.

Layer name: test
Geometry: Line String
Feature Count: 5
Extent: (12.324736, 55.804259) - (12.523302, 56.000850)
Layer SRS WKT:
GEOGCS["GCS_WGS_1984",
    DATUM["WGS_1984",
        SPHEROID["WGS_1984",6378137,298.257223563]],
    PRIMEM["Greenwich",0],
    UNIT["Degree",0.017453292519943295]]
FRC: Integer (2.0)
NAME: String (70.0)
NAMELC: String (3.0)
ROUTENUM: String (10.0)
RTETYP: Integer (2.0)
RTEDIR: String (2.0)
RTEDIRVD: String (2.0)

C:\tmp\gdal_test>ogr2ogr -f PostgreSQL PG:"dbname=X hostaddr=X.X.X.205
user=X pa
ssword=X" -lco overwrite=yes -lco dim=2 -a_srs EPSG:25832 -nln test
test.shp

C:\tmp\gdal_test>ogrinfo -so PG:"dbname=teleatlas hostaddr=X.X.X.205
user=X password=X" test
INFO: Open of `PG:dbname=teleatlas hostaddr=X.X.X.205 user=X password=X'
using driver `PostgreSQL' successful.

Layer name: test
Geometry: Unknown (any)
Feature Count: 5
Extent: (12.324736, 55.804259) - (12.523302, 56.000850)
Layer SRS WKT:
PROJCS["ETRS89 / UTM zone 32N",
    GEOGCS["ETRS89",
        DATUM["European_Terrestrial_Reference_System_1989",
            SPHEROID["GRS 1980",6378137,298.257222101,
                AUTHORITY["EPSG","7019"]],
            AUTHORITY["EPSG","6258"]],
        PRIMEM["Greenwich",0,
            AUTHORITY["EPSG","8901"]],
        UNIT["degree",0.01745329251994328,
            AUTHORITY["EPSG","9122"]],
        AUTHORITY["EPSG","4258"]],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["latitude_of_origin",0],
    PARAMETER["central_meridian",9],
    PARAMETER["scale_factor",0.9996],
    PARAMETER["false_easting",500000],
    PARAMETER["false_northing",0],
    UNIT["metre",1,
        AUTHORITY["EPSG","9001"]],
    AUTHORITY["EPSG","25832"]]
frc: Integer (2.0)
name: String (70.0)
namelc: String (3.0)
routenum: String (10.0)
rtetyp: Integer (2.0)
rtedir: String (2.0)
rtedirvd: String (2.0)

C:\tmp\gdal_test>ogr2ogr -f "ESRI Shapefile" -lco SHPT=ARC testdmp.shp
PG:"dbname=teleatlas hostaddr
=X.X.X.205 user=X password=X" test

C:\tmp\gdal_test>ogrinfo -so testdmp.shp testdmp
INFO: Open of `testdmp.shp'
using driver `ESRI Shapefile' successful.

Layer name: testdmp
Geometry: Line String
Feature Count: 5
Extent: (12.324736, 55.804259) - (12.523302, 56.000850)
Layer SRS WKT:
PROJCS["ETRS89 / UTM zone 32N",
    GEOGCS["ETRS89",
        DATUM["European_Terrestrial_Reference_System_1989",
            SPHEROID["GRS 1980",6378137,298.257222101,
                AUTHORITY["EPSG","7019"]],
            AUTHORITY["EPSG","6258"]],
        PRIMEM["Greenwich",0,
            AUTHORITY["EPSG","8901"]],
        UNIT["degree",0.01745329251994328,
            AUTHORITY["EPSG","9122"]],
        AUTHORITY["EPSG","4258"]],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["latitude_of_origin",0],
    PARAMETER["central_meridian",9],
    PARAMETER["scale_factor",0.9996],
    PARAMETER["false_easting",500000],
    PARAMETER["false_northing",0],
    UNIT["metre",1,
        AUTHORITY["EPSG","9001"]],
    AUTHORITY["EPSG","25832"]]
frc: Integer (2.0)
name: String (70.0)
namelc: String (3.0)
routenum: String (10.0)
rtetyp: Integer (2.0)
rtedir: String (2.0)
rtedirvd: String (2.0)

------------------------------------------------------------------------
---
-- postgis 1.0 rc4
-- uses -sql
------------------------------------------------------------------------
---
C:\tmp\gdal_test>set path=c:\buildenv\gdalcvs\bld\bin\

C:\tmp\gdal_test>set GDAL_DATA=c:\buildenv\gdalcvs\bld\data\

C:\tmp\gdal_test>ogrinfo -so test.shp test
INFO: Open of `test.shp'
using driver `ESRI Shapefile' successful.

Layer name: test
Geometry: Line String
Feature Count: 5
Extent: (12.324736, 55.804259) - (12.523302, 56.000850)
Layer SRS WKT:
GEOGCS["GCS_WGS_1984",
    DATUM["WGS_1984",
        SPHEROID["WGS_1984",6378137,298.257223563]],
    PRIMEM["Greenwich",0],
    UNIT["Degree",0.017453292519943295]]
FRC: Integer (2.0)
NAME: String (70.0)
NAMELC: String (3.0)
ROUTENUM: String (10.0)
RTETYP: Integer (2.0)
RTEDIR: String (2.0)
RTEDIRVD: String (2.0)

C:\tmp\gdal_test>ogr2ogr -f PostgreSQL PG:"dbname=teleatlas
hostaddr=X.X.X.205 user=X pa
ssword=X" -lco overwrite=yes -lco dim=2 -a_srs EPSG:25832 -nln test
test.shp

C:\tmp\gdal_test>ogrinfo -so PG:"dbname=teleatlas hostaddr=X.X.X.205
user=X password=X" -sql "select * from test"
INFO: Open of `PG:dbname=teleatlas hostaddr=X.X.X.205 user=X password=X'
using driver `PostgreSQL' successful.

Layer name: sql_statement
Geometry: Unknown (any)
Feature Count: 5
Layer SRS WKT:
(unknown)
frc: String (0.0)
name: String (0.0)
namelc: String (0.0)
routenum: String (0.0)
rtetyp: String (0.0)
rtedir: String (0.0)
rtedirvd: String (0.0)

C:\tmp\gdal_test>ogr2ogr -f "ESRI Shapefile" -lco SHPT=ARC testdmp.shp
PG:"dbname=teleatlas hostaddr
=X.X.X.205 user=X password=X" -sql "select * from test"

C:\tmp\gdal_test>ogrinfo -so testdmp.shp testdmp
INFO: Open of `testdmp.shp'
using driver `ESRI Shapefile' successful.

Layer name: testdmp
Geometry: Line String
Feature Count: 5
Extent: (0.000000, 0.000000) - (0.000000, 0.000000)
Layer SRS WKT:
(unknown)
frc: String (80.0)
name: String (80.0)
namelc: String (80.0)
routenum: String (80.0)
rtetyp: String (80.0)
rtedir: String (80.0)
rtedirvd: String (80.0)

------------------------------------------------------------------------
---
-- postgis 0.91
-- uses -sql
------------------------------------------------------------------------
---
C:\tmp\gdal_test>set path=c:\buildenv\gdalcvs\bld\bin\

C:\tmp\gdal_test>set GDAL_DATA=c:\buildenv\gdalcvs\bld\data\

C:\tmp\gdal_test>ogrinfo -so test.shp test
INFO: Open of `test.shp'
using driver `ESRI Shapefile' successful.

Layer name: test
Geometry: Line String
Feature Count: 5
Extent: (12.324736, 55.804259) - (12.523302, 56.000850)
Layer SRS WKT:
GEOGCS["GCS_WGS_1984",
    DATUM["WGS_1984",
        SPHEROID["WGS_1984",6378137,298.257223563]],
    PRIMEM["Greenwich",0],
    UNIT["Degree",0.017453292519943295]]
FRC: Integer (2.0)
NAME: String (70.0)
NAMELC: String (3.0)
ROUTENUM: String (10.0)
RTETYP: Integer (2.0)
RTEDIR: String (2.0)
RTEDIRVD: String (2.0)

C:\tmp\gdal_test>ogr2ogr -f PostgreSQL PG:"dbname=teleatlas
hostaddr=X.X.X.203 user=X pa
ssword=X" -lco overwrite=yes -lco dim=2 -a_srs EPSG:25832 -nln test
test.shp

C:\tmp\gdal_test>ogrinfo -so PG:"dbname=teleatlas hostaddr=X.X.X.203
user=X password=X" -sql "select * from test"
INFO: Open of `PG:dbname=teleatlas hostaddr=X.X.X.203 user=X password=X'
using driver `PostgreSQL' successful.

Layer name: sql_statement
Geometry: Unknown (any)
Feature Count: 5
Extent: (12.324736, 55.804259) - (12.523302, 56.000850)
Layer SRS WKT:
(unknown)
frc: String (0.0)
name: String (0.0)
namelc: String (0.0)
routenum: String (0.0)
rtetyp: String (0.0)
rtedir: String (0.0)
rtedirvd: String (0.0)

C:\tmp\gdal_test>ogr2ogr -f "ESRI Shapefile" -lco SHPT=ARC testdmp.shp
PG:"dbname=teleatlas hostaddr
=X.X.X.203 user=X password=X" -sql "select * from test"

C:\tmp\gdal_test>ogrinfo -so testdmp.shp testdmp
INFO: Open of `testdmp.shp'
using driver `ESRI Shapefile' successful.

Layer name: testdmp
Geometry: Line String
Feature Count: 5
Extent: (12.324736, 55.804259) - (12.523302, 56.000850)
Layer SRS WKT:
(unknown)
frc: String (80.0)
name: String (80.0)
namelc: String (80.0)
routenum: String (80.0)
rtetyp: String (80.0)
rtedir: String (80.0)
rtedirvd: String (80.0)
------------------------------------------------------------------------
---



From coutm at yahoo.fr  Wed Apr  6 07:17:17 2005
From: coutm at yahoo.fr (cout m)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] [gdaltindex] unable to open .shp?
Message-ID: <20050406111717.66471.qmail@web25302.mail.ukl.yahoo.com>

Hi,

fisrt excuse my english

second i've got a problem with gdaltindex. When i try
to make a tileindex on ecw files, a message in my
konsole appears and marks :"ERROR 4 :unable to open
index.shp or index.SHP".

My shapelib seems to be ok. I don't understand where
is matter, perhaps in my compilation.

In any case thank you for this lib, it's excellent!!!

-M-


	

	
		
__________________________________________________________________
D?couvrez le nouveau Yahoo! Mail : 250 Mo d'espace de stockage pour vos mails ! 
Cr?ez votre Yahoo! Mail sur http://fr.mail.yahoo.com/

From fwarmerdam at gmail.com  Wed Apr  6 09:04:12 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] [gdaltindex] unable to open .shp?
In-Reply-To: <20050406111717.66471.qmail@web25302.mail.ukl.yahoo.com>
References: <20050406111717.66471.qmail@web25302.mail.ukl.yahoo.com>
Message-ID: <931f8ea90504060604469590f3@mail.gmail.com>

On Apr 6, 2005 7:17 AM, cout m <coutm@yahoo.fr> wrote:
> second i've got a problem with gdaltindex. When i try
> to make a tileindex on ecw files, a message in my
> konsole appears and marks :"ERROR 4 :unable to open
> index.shp or index.SHP".
> 
> My shapelib seems to be ok. I don't understand where
> is matter, perhaps in my compilation.

-M-,

The gdaltindex utilty first tries to open an existing index
file with the filename you provide.  If that fails you get that
message, but gdaltindex will go ahead and create a new
index.  Currently there is no convenient way for me to 
avoid the error message, but I have changed the code to 
print out a message about "creating new index" that will hopefully
make things a bit clearer for users.  You aren't the first person to
be confused by this error message.
 
> In any case thank you for this lib, it's excellent!!!

Thanks!

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From fwarmerdam at gmail.com  Wed Apr  6 09:11:07 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] Problems using ogr -sql "..." with postgis 1.0
In-Reply-To: <6A0257B028DA47499B5A843683051A36068DB1@server01.jo-informatik.local>
References: <6A0257B028DA47499B5A843683051A36068DB1@server01.jo-informatik.local>
Message-ID: <931f8ea9050406061120efff7c@mail.gmail.com>

On Apr 6, 2005 7:05 AM, Asger Petersen <asger@jo-informatik.dk> wrote:
> Hi
> 
> I'm having some trouble using the -sql option with postgis 1.0rc4.
> 
> As far as I can see, the -sql option works with postgis 0.91 but it
> doesn't work with postgis 1.0rc4. I have looked through gdal- and
> postgismailinglists without seeing anyone mentioning this.
> 
> When trying to dump from postgis to shapefiles I get shapefiles with all
> nullgeometries. See below.

Asger, 

Sorry, but I haven't had the time to setup PostGIS 1.0 yet.  I would
suggest you file the bug in bugzilla.   I don't know how long it will
be till I can look into this though.

I find it funny (well perhaps that isn't exactly the right word) how 
PostGIS (from an OGR point of view) was stable for through many 
pre 1.0 revision, but then when things leaped to 1.0 release candidates
lots of backward incompatible changes were apparently made.  Of course,
some of the problems may be related to PostgreSQL 8.0.  But I feel quite
bad about not having dug into these problems. 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From fwarmerdam at gmail.com  Wed Apr  6 09:43:31 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] Kakadu and MrSID conflict
In-Reply-To: <6.1.1.1.0.20050406093001.07dd4528@pop3>
References: <6.1.1.1.0.20050406093001.07dd4528@pop3>
Message-ID: <931f8ea905040606435190032c@mail.gmail.com>

On Apr 6, 2005 3:32 AM, Julien Demaria <dem@acri-st.fr> wrote:
> I found that last MrSID DSDK is Kakadu v4.2 based ; so I'll try to
> downgrade my Kakadu to v4.2...
> 
> Are there solutions to this conflicts ?

Julien, 

The only "solution" I am aware of is to drop the Kakadu out of the build,
and depend on the MrSID driver for JPEG2000 support.  However, I
am not sure if the GDAL MrSID code is really setup properly to handle
JPEG2000.  In fact, I haven't personally run into this yet since I don't
normally build with the MrSID SDK. 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From kmelero at sanz.com  Wed Apr  6 12:36:10 2005
From: kmelero at sanz.com (Kenneth Melero)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] Kakadu and MrSID conflict
In-Reply-To: <931f8ea905040606435190032c@mail.gmail.com>
Message-ID: <000c01c53ac6$bf18b410$0d02040a@MGCOMPAQ>


Julien,

Unfortunately there is no fix for the moment with configuring both MrSID and
Kakadu at the same time other than obtaining a MrSID release from Lizrdtech
that does not contain Kakadu in its internal libraries.

To turn on MrSID SDK for both .sid and .jp2 files read this previous thread:

http://xserve.flids.com/pipermail/gdal-dev/2005-March/008304.html

-Ken


-----Original Message-----
From: gdal-dev-bounces@xserve.flids.com
[mailto:gdal-dev-bounces@xserve.flids.com] On Behalf Of Frank Warmerdam
Sent: Wednesday, April 06, 2005 9:44 AM
To: Julien Demaria
Cc: gdal-dev@xserve.flids.com
Subject: Re: [Gdal-dev] Kakadu and MrSID conflict


On Apr 6, 2005 3:32 AM, Julien Demaria <dem@acri-st.fr> wrote:
> I found that last MrSID DSDK is Kakadu v4.2 based ; so I'll try to 
> downgrade my Kakadu to v4.2...
> 
> Are there solutions to this conflicts ?

Julien, 

The only "solution" I am aware of is to drop the Kakadu out of the build,
and depend on the MrSID driver for JPEG2000 support.  However, I am not sure
if the GDAL MrSID code is really setup properly to handle JPEG2000.  In
fact, I haven't personally run into this yet since I don't normally build
with the MrSID SDK. 

Best regards,
-- 
---------------------------------------+--------------------------------
---------------------------------------+------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent
_______________________________________________
Gdal-dev mailing list
Gdal-dev@xserve.flids.com http://xserve.flids.com/mailman/listinfo/gdal-dev


From fwarmerdam at gmail.com  Wed Apr  6 16:39:17 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] getGeometryType() method.
In-Reply-To: <42525DF2.5010700@otomelara.it>
References: <42525DF2.5010700@otomelara.it>
Message-ID: <931f8ea9050406133933e864e8@mail.gmail.com>

On Apr 5, 2005 5:44 AM, Michele Sanges <michele.sanges@otomelara.it> wrote:
> Hi,
> where is the documentation of OGRGeometry::getGeometryType() method? It isn't listed in the OGRGeometry Class Reference web page
> [http://www.remotesensing.org:16080/gdal/ogr/classOGRGeometry.html]

Michele, 

It turns out a bunch of const correctness changes a while ago orphaned
the documentation for lots of methods and I hadn't noticed.  I could take
one of two lessons from this. 

1) I should stop making const correctness changes.
2) I should monitor my documentation generation and completeness
   more carefully. 

Natrually, being a lazy and regressive soul, I take lesson "1" instead of 
lesson "2". :-)

Thanks for point this out.  Lots of missing OGR methods should start
showing up on the web site again shortly.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From t.r.decarlo at larc.nasa.gov  Wed Apr  6 17:09:42 2005
From: t.r.decarlo at larc.nasa.gov (Thom DeCarlo)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] Problem getting ECW SDK 3.1 working with gdal
Message-ID: <000301c53aec$f3aad840$959877c6@cts1149>

I've just downloaded the latest ECW J2000 SDK from the ermapper site. I've
also updated to the latest gdal tarball. I'm using WinXP SP1 and VS.NET'03.

First I tried to use the ECW SDK binaries. When the build got to the ecw
directory I got an error saying there was a missing file:

C:\Svs_dev_C\gdal-cvs-20050405\frmts>cd ecw   && nmake /NOLOGO /f
makefile.vc   && cd ..
        cl /nologo /MD /GX /Zi /Fd..\..\gdal.pdb -I..\..\port 
-I..\..\ogr -I..\..\gcore  -I..\..\alg 
-I"C:\Program Files\Earth Resource Mapping\ECW SDK"\include 
/DWIN32 -DFRMT_ecw -DNO_X86_MMI /c ecwdataset.cpp
ecwdataset.cpp
c:\Svs_dev_C\gdal-cvs-20050405\frmts\ecw\vsiiostream.h(74) : fatal error
C1083: Cannot open include file: 'NCSJP2File.h': No such file or directory
NMAKE : fatal error U1077: 'cl' : return code '0x2'
Stop.
NMAKE : fatal error U1077: 'for' : return code '0x2'
Stop.
NMAKE : fatal error U1077: '"C:\Program Files\Microsoft Visual Studio .NET
2003\VC7\BIN\nmake.exe"' : return code '0x2'
Stop.

And, sure enough, there is no file called NCSJP2File.h in the ECW include
directory.

I then downloaded the ECW SDK source code and tried to compile it. First,
the IDE complained that new projects had been added to the solution and it
couldn't connect to the SourceSafe server. Once I got past that and got the
include paths lined up I attempted to follow the instructions in the
build.txt file. Now it is complaining that it cannot find the file
"winhttp.h". A search of the computer proved that, indeed, that file is
nowhere to be found.

What did you folks do to get this stuff to compile?

TIA,
Thom

--
Thom DeCarlo
--------------------------------------------------
     Do Not Meddle in the Affairs of Dragons
 For You are Crunchy and Taste Good with Ketchup



From pgao at esri.com  Wed Apr  6 17:18:16 2005
From: pgao at esri.com (Peng Gao)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] Reading RPC
Message-ID: <491DC5F3D279CD4EB4B157DDD62237F40BFCFB07@zipwire.esri.com>

Thanks Frank.

Have another question.

I got some tiff images with RPC from Space Imaging. But the RPC
are stored in a separate txt file, instead of as tiff tags. 
If the tiff file name is
x.tif, then the RPC text file name is x_rpc.txt. Can GDAL read RPC
from the text file? How can I tell GDAL the txt file is associated
with the tiff image?

I opened the image, x.tif, and GDAL says it has geotransform but
no RPC.

Thanks,
Gao, Peng



> -----Original Message-----
> From: Frank Warmerdam [mailto:fwarmerdam@gmail.com]
> Sent: Monday, March 28, 2005 7:58 PM
> To: Peng Gao
> Cc: GDAL-dev list
> Subject: Re: [Gdal-dev] Reading RPC
> 
> On Fri, 25 Mar 2005 11:51:02 -0800, Peng Gao <pgao@esri.com> wrote:
> >
> >
> >
> > If  I have an image with RPC (e.g. a NITF image from Space Imaging), how
> do
> > I read the RPC
> >
> > information via GDAL? Is there a function similar to Set/GetGCPs() for
> RPC?
> 
> Peng,
> 
> The RPC information is transported as Metadata text.  You can use the
> GDALExtractRPCInfo() function to extract the metadata and build it into
> a GDALRPCInfo structure suitable for examination or use with the GDAL
> RPC functions.
> 
> You could do something like this:
> 
>   char **papszMD;
>   GDALRPCInfo sRPC;
> 
>   papszMD = GDALGetMetadata(hSrcDS,"");
>   if( GDALExtractRPCInfo( papszMD, &sRPC ) )
>     printf( "Got RPC Info\n" );
> 
> Best regards,
> --
> ---------------------------------------+----------------------------------
> ----
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent

From fwarmerdam at gmail.com  Wed Apr  6 17:30:56 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] Reading RPC
In-Reply-To: <491DC5F3D279CD4EB4B157DDD62237F40BFCFB07@zipwire.esri.com>
References: <491DC5F3D279CD4EB4B157DDD62237F40BFCFB07@zipwire.esri.com>
Message-ID: <931f8ea90504061430413e1384@mail.gmail.com>

On Apr 6, 2005 5:18 PM, Peng Gao <pgao@esri.com> wrote:
> Thanks Frank.
> 
> Have another question.
> 
> I got some tiff images with RPC from Space Imaging. But the RPC
> are stored in a separate txt file, instead of as tiff tags.
> If the tiff file name is
> x.tif, then the RPC text file name is x_rpc.txt. Can GDAL read RPC
> from the text file? How can I tell GDAL the txt file is associated
> with the tiff image?

Peng, 

Currently GDAL has no support for reading external RPC-in-text
formats.  As I think we have discussed before, there is work
going on through ASPRS to define a tag for keeping RPCs in 
GeoTIFF and when that is finalized GDAL will support it. 

In the meantime, I could implement support for spaceimaging rpc
text file if you wish.  Please open an enhancement request and
attach an example file to it.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From fwarmerdam at gmail.com  Wed Apr  6 17:37:48 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] Problem getting ECW SDK 3.1 working with gdal
In-Reply-To: <000301c53aec$f3aad840$959877c6@cts1149>
References: <000301c53aec$f3aad840$959877c6@cts1149>
Message-ID: <931f8ea905040614373e30b27c@mail.gmail.com>

On Apr 6, 2005 5:09 PM, Thom DeCarlo <t.r.decarlo@larc.nasa.gov> wrote:
> I've just downloaded the latest ECW J2000 SDK from the ermapper site. I've
> also updated to the latest gdal tarball. I'm using WinXP SP1 and VS.NET'03.
> 
> First I tried to use the ECW SDK binaries. When the build got to the ecw
> directory I got an error saying there was a missing file:
...
> And, sure enough, there is no file called NCSJP2File.h in the ECW include
> directory.

Thom, 

I'm not sure why this is.  Did you get the Feb 2005 3.1 SDK beta?  You 
pretty much need that recent version unless there is something newer now.
 
> I then downloaded the ECW SDK source code and tried to compile it. First,
> the IDE complained that new projects had been added to the solution and it
> couldn't connect to the SourceSafe server. Once I got past that and got the
> include paths lined up I attempted to follow the instructions in the
> build.txt file. Now it is complaining that it cannot find the file
> "winhttp.h". A search of the computer proved that, indeed, that file is
> nowhere to be found.

I believe winhttp.h is part of the MS Platform SDK which you need to download.
I think the build.txt in the ECW SDK directory talks about this a bit. 

> What did you folks do to get this stuff to compile?

I was unable to get the ECW SDK to compile on win32 with the provided
build infrastructure for various reasons.  I tried "rolling my own" but this
has proved to be a rather disasterous waste of a 15-20 hours. 

However, I have in the past built against the Feb 2005 3.1 SDK beta.
It is however *possible* that I have introduced a dependency not 
satisfied by that beta. 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From bfraser at geoanalytic.com  Wed Apr  6 17:49:09 2005
From: bfraser at geoanalytic.com (Brent Fraser)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] Problem getting ECW SDK 3.1 working with gdal
References: <000301c53aec$f3aad840$959877c6@cts1149>
Message-ID: <030d01c53af2$767430f0$160002c0@shark>

Thom,

  I'm successfully using:

    GDAL 1.2.6
    NCSSource_3.1rc1_18Feb05.zip
    VS .Net 2003
    MicroSoft Platform SDK


Download the Core portion of the MicroSoft Platform SDK:

    http://www.microsoft.com/msdownload/platformsdk/sdkupdate/

Edit GDAL's nmake.opt to include the path to the Microsoft SDK:

INC = -I$(GDAL_ROOT)\port -I$(GDAL_ROOT)\ogr -I$(GDAL_ROOT)\gcore \
  -I$(GDAL_ROOT)\alg -IC:\PROGRA~1\MIFD68~1\include

I think that's it...

Brent Fraser

----- Original Message ----- 
From: "Thom DeCarlo" <t.r.decarlo@larc.nasa.gov>
To: "'gdal-dev'" <gdal-dev@remotesensing.org>
Sent: Wednesday, April 06, 2005 3:09 PM
Subject: [Gdal-dev] Problem getting ECW SDK 3.1 working with gdal


> I've just downloaded the latest ECW J2000 SDK from the ermapper site. I've
> also updated to the latest gdal tarball. I'm using WinXP SP1 and
VS.NET'03.
>
> First I tried to use the ECW SDK binaries. When the build got to the ecw
> directory I got an error saying there was a missing file:
>
> C:\Svs_dev_C\gdal-cvs-20050405\frmts>cd ecw   && nmake /NOLOGO /f
> makefile.vc   && cd ..
>         cl /nologo /MD /GX /Zi /Fd..\..\gdal.pdb -I..\..\port
> -I..\..\ogr -I..\..\gcore  -I..\..\alg
> -I"C:\Program Files\Earth Resource Mapping\ECW SDK"\include
> /DWIN32 -DFRMT_ecw -DNO_X86_MMI /c ecwdataset.cpp
> ecwdataset.cpp
> c:\Svs_dev_C\gdal-cvs-20050405\frmts\ecw\vsiiostream.h(74) : fatal error
> C1083: Cannot open include file: 'NCSJP2File.h': No such file or directory
> NMAKE : fatal error U1077: 'cl' : return code '0x2'
> Stop.
> NMAKE : fatal error U1077: 'for' : return code '0x2'
> Stop.
> NMAKE : fatal error U1077: '"C:\Program Files\Microsoft Visual Studio .NET
> 2003\VC7\BIN\nmake.exe"' : return code '0x2'
> Stop.
>
> And, sure enough, there is no file called NCSJP2File.h in the ECW include
> directory.
>
> I then downloaded the ECW SDK source code and tried to compile it. First,
> the IDE complained that new projects had been added to the solution and it
> couldn't connect to the SourceSafe server. Once I got past that and got
the
> include paths lined up I attempted to follow the instructions in the
> build.txt file. Now it is complaining that it cannot find the file
> "winhttp.h". A search of the computer proved that, indeed, that file is
> nowhere to be found.
>
> What did you folks do to get this stuff to compile?
>
> TIA,
> Thom
>
> --
> Thom DeCarlo
> --------------------------------------------------
>      Do Not Meddle in the Affairs of Dragons
>  For You are Crunchy and Taste Good with Ketchup
>
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@xserve.flids.com
> http://xserve.flids.com/mailman/listinfo/gdal-dev


From tflynch at gmail.com  Wed Apr  6 21:13:43 2005
From: tflynch at gmail.com (Tom Lynch)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] Problem getting ECW SDK 3.1 working with gdal
In-Reply-To: <000301c53aec$f3aad840$959877c6@cts1149>
References: <000301c53aec$f3aad840$959877c6@cts1149>
Message-ID: <c39b2a65050406181351a2824f@mail.gmail.com>

Hi Thom,

The binary distribution of the ECW JPEG 2000 SDK includes only a few
of the headers in the whole project in an effort to minimise the
amount of code and interface exposed to SDK applications.

In general an SDK application should not need to #include
"NCSJP2File.h", although it might do so if it was built on the source
distribution and included some more sophisticated features, such as
customised metadata boxes etc. etc.  In this case it would be
appropriate to build the application against the SDK source
distribution.

I suspect this is what has happened with GDAL.  My suggestion would be
to see whether the parts of GDAL dependent on NCSJP2File.h are
necessary (I don't know myself, offhand).  If they're unnecessary then
you can comment or remove them before building, if they're vital to
what you want to do then you should probably be building against the
ECW JPEG 2000 SDK source distribution.

There are also some other gotchas in building applications against the
SDK.  For example, building with Visual Studio 6.0 SP6 can be a
problem as the SDK uses the Microsoft Processor Pack for MMX/SSE
support but the Processor Pack has incompatibilities with VS SP6.  The
vast majority of these can be avoided by using the latest Microsoft
Platform SDK to build.

On Apr 7, 2005 5:09 AM, Thom DeCarlo <t.r.decarlo@larc.nasa.gov> wrote:
> I've just downloaded the latest ECW J2000 SDK from the ermapper site. I've
> also updated to the latest gdal tarball. I'm using WinXP SP1 and VS.NET'03.
> 
> First I tried to use the ECW SDK binaries. When the build got to the ecw
> directory I got an error saying there was a missing file:
> 
snip

-- 
Tom Lynch
Development, ER Mapper
Phone:      +61 8 93882900
Fax:        +61 8 93882901
Email:      tom.lynch@ermapper.com
Web:        http://www.ermapper.com
Forums:     http://forum.ermapper.com

From dem at acri-st.fr  Thu Apr  7 03:28:33 2005
From: dem at acri-st.fr (Julien Demaria)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] Kakadu and MrSID conflict
In-Reply-To: <000c01c53ac6$bf18b410$0d02040a@MGCOMPAQ>
References: <931f8ea905040606435190032c@mail.gmail.com>
	<000c01c53ac6$bf18b410$0d02040a@MGCOMPAQ>
Message-ID: <6.1.1.1.0.20050407090841.0245bca8@pop3>

Ken,

In fact finally I have successfully compiled GDAL with last Kakadu and last 
MrSID DSDK ; JP2 with Kakadu and seems work well, MrSID files too, but I 
don't know for JP2 MrSID because for JP2 Kakadu is always selected.
I still have the "ld: warning: symbol `kdu_compressed_target virtual table' 
has differing s
izes:
         (file ./frmts/o/jp2.o value=0x40; file /project/openev/solaris/Ge
o_DSDK-4.0.10.720/lib/Release/libltidsdk.a(j2k_support.o) value=0x30);
         ./frmts/o/jp2.o definition taken"
but as the Kakadu jp2.o is selected and I use only Kakadu for JP2 I think 
there isn't any pb.*

Thanks,

Julien

At 18:36 06/04/2005, Kenneth Melero wrote:

>Julien,
>
>Unfortunately there is no fix for the moment with configuring both MrSID and
>Kakadu at the same time other than obtaining a MrSID release from Lizrdtech
>that does not contain Kakadu in its internal libraries.
>
>To turn on MrSID SDK for both .sid and .jp2 files read this previous thread:
>
>http://xserve.flids.com/pipermail/gdal-dev/2005-March/008304.html
>
>-Ken
>
>
>-----Original Message-----
>From: gdal-dev-bounces@xserve.flids.com
>[mailto:gdal-dev-bounces@xserve.flids.com] On Behalf Of Frank Warmerdam
>Sent: Wednesday, April 06, 2005 9:44 AM
>To: Julien Demaria
>Cc: gdal-dev@xserve.flids.com
>Subject: Re: [Gdal-dev] Kakadu and MrSID conflict
>
>
>On Apr 6, 2005 3:32 AM, Julien Demaria <dem@acri-st.fr> wrote:
> > I found that last MrSID DSDK is Kakadu v4.2 based ; so I'll try to
> > downgrade my Kakadu to v4.2...
> >
> > Are there solutions to this conflicts ?
>
>Julien,
>
>The only "solution" I am aware of is to drop the Kakadu out of the build,
>and depend on the MrSID driver for JPEG2000 support.  However, I am not sure
>if the GDAL MrSID code is really setup properly to handle JPEG2000.  In
>fact, I haven't personally run into this yet since I don't normally build
>with the MrSID SDK.
>
>Best regards,
>--
>---------------------------------------+--------------------------------
>---------------------------------------+------
>I set the clouds in motion - turn up   | Frank Warmerdam,
>warmerdam@pobox.com
>light and sound - activate the windows | http://pobox.com/~warmerdam
>and watch the world go round - Rush    | Geospatial Programmer for Rent
>_______________________________________________
>Gdal-dev mailing list
>Gdal-dev@xserve.flids.com http://xserve.flids.com/mailman/listinfo/gdal-dev


From route at cae.com  Thu Apr  7 09:53:50 2005
From: route at cae.com (Stephane Routelous)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] multithread problem with hfa
Message-ID: <719A38AB7279D511B91900D0B7444A9E0DD1D43C@caemsx03.cae.ca>

Hi,

we have a crash on windows (using gdal 1.2.5) with a multithread application
reading 2 different IMG files in 2 different threads.
Is gdal thread safe ?

Thanks,

Stephane

From fwarmerdam at gmail.com  Thu Apr  7 10:06:48 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] Kakadu and MrSID conflict
In-Reply-To: <6.1.1.1.0.20050407090841.0245bca8@pop3>
References: <931f8ea905040606435190032c@mail.gmail.com>
	<000c01c53ac6$bf18b410$0d02040a@MGCOMPAQ>
	<6.1.1.1.0.20050407090841.0245bca8@pop3>
Message-ID: <931f8ea905040707061e12173e@mail.gmail.com>

On Apr 7, 2005 3:28 AM, Julien Demaria <dem@acri-st.fr> wrote:
> Ken,
> 
> In fact finally I have successfully compiled GDAL with last Kakadu and last
> MrSID DSDK ; JP2 with Kakadu and seems work well, MrSID files too, but I
> don't know for JP2 MrSID because for JP2 Kakadu is always selected.
> I still have the "ld: warning: symbol `kdu_compressed_target virtual table'
> has differing s
> izes:
>          (file ./frmts/o/jp2.o value=0x40; file /project/openev/solaris/Ge
> o_DSDK-4.0.10.720/lib/Release/libltidsdk.a(j2k_support.o) value=0x30);
>          ./frmts/o/jp2.o definition taken"
> but as the Kakadu jp2.o is selected and I use only Kakadu for JP2 I think
> there isn't any pb.*

Julien, 

You can define the GDAL_SKIP environment variable with the value
JP2KAK if you want GDAL to skip the JP2KAK driver.  Then it should
fall through to the MrSID or other support.

But on this point of mixing kakadu implementations in one build - it has
been my experience that this sort of thing can cause a world of pain.

In particular, in the past I had applications that ended up having two
different versions of libtiff linked in from different shared libraries.  
It seemed that (on Linux this was) the runtime linker would spontaneously
pick some libtiff calls from one library and some from the other.  The net
result was chaos since they were both compiled slightly differently 
(different structure layouts and so forth).  Furthermore the problem was
extremely difficult to debug. 

For this reason, I discourage this sort of mixing even if you can convince
the linker to allow it.   Of course, the details of how this works may 
be different on different platforms.  Certainly, I don't think it is problem
on Windows as long as the MrSID DLL does not export it's Kakadu
entry points (which I assume it does not). 

Of course, if something works for you then more power to you.  

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From fwarmerdam at gmail.com  Thu Apr  7 10:18:40 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] multithread problem with hfa
In-Reply-To: <719A38AB7279D511B91900D0B7444A9E0DD1D43C@caemsx03.cae.ca>
References: <719A38AB7279D511B91900D0B7444A9E0DD1D43C@caemsx03.cae.ca>
Message-ID: <931f8ea9050407071865bc3f2c@mail.gmail.com>

On Apr 7, 2005 9:53 AM, Stephane Routelous <route@cae.com> wrote:
> Hi,
> 
> we have a crash on windows (using gdal 1.2.5) with a multithread application
> reading 2 different IMG files in 2 different threads.
> Is gdal thread safe ?

Stephane, 

GDAL is *not* thread safe.  You will need to protect pretty much all
GDAL access with a BigLock(tm).  

There are some relatively minor race conditions in the way error
messages are stored (one global error context).  Also a variety of
string management functions use static globals that are not 
thread local.  But the biggest issue by far is that GDAL uses a
single global raster block cache.  That means that in a multithreaded
application, working on two distinct GDALDatasets you can end up 
with one thread expiring and freeing a cache block still in use by 
another thread. 

I am interested in making GDAL threadsafe but it is a fairly substantial
effort and I can't say when I might get around to it. However, it should
be relatively easy to correct the block caching issues. 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From route at cae.com  Thu Apr  7 10:24:58 2005
From: route at cae.com (Stephane Routelous)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] multithread problem with hfa
Message-ID: <719A38AB7279D511B91900D0B7444A9E0DD1D43E@caemsx03.cae.ca>

ouch !
thank you for the answer

Stephane

-----Original Message-----
From: Frank Warmerdam [mailto:fwarmerdam@gmail.com]
Sent: Thursday, April 07, 2005 10:19 AM
To: Stephane Routelous
Cc: gdal-dev@remotesensing.org
Subject: Re: [Gdal-dev] multithread problem with hfa


On Apr 7, 2005 9:53 AM, Stephane Routelous <route@cae.com> wrote:
> Hi,
> 
> we have a crash on windows (using gdal 1.2.5) with a multithread
application
> reading 2 different IMG files in 2 different threads.
> Is gdal thread safe ?

Stephane, 

GDAL is *not* thread safe.  You will need to protect pretty much all
GDAL access with a BigLock(tm).  

There are some relatively minor race conditions in the way error
messages are stored (one global error context).  Also a variety of
string management functions use static globals that are not 
thread local.  But the biggest issue by far is that GDAL uses a
single global raster block cache.  That means that in a multithreaded
application, working on two distinct GDALDatasets you can end up 
with one thread expiring and freeing a cache block still in use by 
another thread. 

I am interested in making GDAL threadsafe but it is a fairly substantial
effort and I can't say when I might get around to it. However, it should
be relatively easy to correct the block caching issues. 

Best regards,
-- 
---------------------------------------+------------------------------------
--
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From t.r.decarlo at larc.nasa.gov  Thu Apr  7 14:21:31 2005
From: t.r.decarlo at larc.nasa.gov (Thom DeCarlo)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] Problem getting ECW SDK 3.1 working with gdal
In-Reply-To: <030d01c53af2$767430f0$160002c0@shark>
Message-ID: <001401c53b9e$9fb15e00$959877c6@cts1149>

Hi Brent,
Well, I'm not sure that's all you did. 

I'm using:
GDAL 1.2.6 (cvs tarball 20050405)
NCSSource_3.1rc1_18Feb05
WinXP SP2
XP SP2 Full Platform SDK
VS.Net 2003 (Version 7.1.3088)
.NET Framework 1.1 (Version 1.1.4322 SP1)

The only Core SDK that I found seems specific to Windows Server 2003. I'm
hesitant to install this on my XPSP2 computer. Is there any danger here? I
haven't installed it and that might be why I still cannot find winhttp.h
anywhere on my computer.

Frank wrote:
> I believe winhttp.h is part of the MS Platform SDK which you need
> to download.
> I think the build.txt in the ECW SDK directory talks about this a bit. 

Build.txt does indeed mention the Platform SDK, but only in the section
referring to Visual Studio 6. That's why I didn't install it initially.

Thanks,
Thom

--
Thom DeCarlo
------------------------------------------------------
              Experience is a wonderful thing
It allows you to recognize a mistake when you make it again.

> -----Original Message-----
> From: Brent Fraser 
> Sent: Wednesday, April 06, 2005 5:49 PM
> To: Thom DeCarlo; 'gdal-dev'
> Subject: Re: [Gdal-dev] Problem getting ECW SDK 3.1 working with gdal
> 
> Thom,
> 
>   I'm successfully using:
> 
>     GDAL 1.2.6
>     NCSSource_3.1rc1_18Feb05.zip
>     VS .Net 2003
>     MicroSoft Platform SDK
> 
> 
> Download the Core portion of the MicroSoft Platform SDK:
> 
>     http://www.microsoft.com/msdownload/platformsdk/sdkupdate/
> 
> Edit GDAL's nmake.opt to include the path to the Microsoft SDK:
> 
> INC = -I$(GDAL_ROOT)\port -I$(GDAL_ROOT)\ogr -I$(GDAL_ROOT)\gcore \
>   -I$(GDAL_ROOT)\alg -IC:\PROGRA~1\MIFD68~1\include
> 
> I think that's it...
> 
> Brent Fraser
> 



From bfraser at geoanalytic.com  Thu Apr  7 14:57:17 2005
From: bfraser at geoanalytic.com (Brent Fraser)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] Problem getting ECW SDK 3.1 working with gdal
References: <001401c53b9e$9fb15e00$959877c6@cts1149>
Message-ID: <02c301c53ba3$9ecefb00$160002c0@shark>

Thom,

  You're likely right, I probably did a few other things (my memory has no
parity!).

>From reading the Microsoft page, it appears you would be ok  installing the
Windows 2003 Server SDK since is says it supports Windows XP, but I had to
read it a couple of time to be sure!

I did a search of my copy of the ECW SDK and I see that I commented out the
following at line 348 of Source\C\NCSUtil\malloc.c:

#ifndef _WIN32_WCE
// HMODULE hLib = LoadLibrary(TEXT("kernel32.dll")); //BWF
// if(hLib) {
//  FARPROC pProc = GetProcAddress(hLib, TEXT("GlobalMemoryStatusEx"));
//
//  if(pProc) {
//   MEMORYSTATUSEX MemoryStatus;
//   MemoryStatus.dwLength = sizeof(MEMORYSTATUSEX);
//   pProc(&MemoryStatus);
//   nTotalPhysicalMemory = MemoryStatus.ullTotalPhys;
//  }
//  FreeLibrary(hLib);
// }
#endif // _WIN32_WCE

Although I'm not sure if that's necessary.  I'll try to do a fresh compile
with GDAL 1.2.6 (cvs tarball 20050405)

Brent

----- Original Message ----- 
From: "Thom DeCarlo" <t.r.decarlo@larc.nasa.gov>
To: "'gdal-dev'" <gdal-dev@remotesensing.org>
Sent: Thursday, April 07, 2005 12:21 PM
Subject: RE: [Gdal-dev] Problem getting ECW SDK 3.1 working with gdal


> Hi Brent,
> Well, I'm not sure that's all you did.
>
> I'm using:
> GDAL 1.2.6 (cvs tarball 20050405)
> NCSSource_3.1rc1_18Feb05
> WinXP SP2
> XP SP2 Full Platform SDK
> VS.Net 2003 (Version 7.1.3088)
> .NET Framework 1.1 (Version 1.1.4322 SP1)
>
> The only Core SDK that I found seems specific to Windows Server 2003. I'm
> hesitant to install this on my XPSP2 computer. Is there any danger here? I
> haven't installed it and that might be why I still cannot find winhttp.h
> anywhere on my computer.
>
> Frank wrote:
> > I believe winhttp.h is part of the MS Platform SDK which you need
> > to download.
> > I think the build.txt in the ECW SDK directory talks about this a bit.
>
> Build.txt does indeed mention the Platform SDK, but only in the section
> referring to Visual Studio 6. That's why I didn't install it initially.
>
> Thanks,
> Thom
>
> --
> Thom DeCarlo
> ------------------------------------------------------
>               Experience is a wonderful thing
> It allows you to recognize a mistake when you make it again.
>
> > -----Original Message-----
> > From: Brent Fraser
> > Sent: Wednesday, April 06, 2005 5:49 PM
> > To: Thom DeCarlo; 'gdal-dev'
> > Subject: Re: [Gdal-dev] Problem getting ECW SDK 3.1 working with gdal
> >
> > Thom,
> >
> >   I'm successfully using:
> >
> >     GDAL 1.2.6
> >     NCSSource_3.1rc1_18Feb05.zip
> >     VS .Net 2003
> >     MicroSoft Platform SDK
> >
> >
> > Download the Core portion of the MicroSoft Platform SDK:
> >
> >     http://www.microsoft.com/msdownload/platformsdk/sdkupdate/
> >
> > Edit GDAL's nmake.opt to include the path to the Microsoft SDK:
> >
> > INC = -I$(GDAL_ROOT)\port -I$(GDAL_ROOT)\ogr -I$(GDAL_ROOT)\gcore \
> >   -I$(GDAL_ROOT)\alg -IC:\PROGRA~1\MIFD68~1\include
> >
> > I think that's it...
> >
> > Brent Fraser
> >
>
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@xserve.flids.com
> http://xserve.flids.com/mailman/listinfo/gdal-dev


From t.r.decarlo at larc.nasa.gov  Thu Apr  7 15:36:02 2005
From: t.r.decarlo at larc.nasa.gov (Thom DeCarlo)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] Problem getting ECW SDK 3.1 working with gdal
In-Reply-To: <02c301c53ba3$9ecefb00$160002c0@shark>
Message-ID: <001c01c53ba9$086e10f0$959877c6@cts1149>

Hey Brent,
Thanks for the update. I've just finished installing the Core SDK. Guess
what. Still no winhttp.h. 

I'll take this conversation over to the ERMapper forum since it really isn't
a gdal issue.

Thanks again,
Thom

--
Thom DeCarlo
-----------------------------------------------
   Nothing is sadder than the murder of 
a beautiful theory by a gang of ugly facts.


> -----Original Message-----
> From: Brent Fraser [mailto:bfraser@geoanalytic.com]
> Sent: Thursday, April 07, 2005 2:57 PM
> To: Thom DeCarlo; 'gdal-dev'
> Subject: Re: [Gdal-dev] Problem getting ECW SDK 3.1 working with gdal
> 
> Thom,
> 
>   You're likely right, I probably did a few other things (my memory has no
> parity!).
> 
> From reading the Microsoft page, it appears you would be ok  installing
> the
> Windows 2003 Server SDK since is says it supports Windows XP, but I had to
> read it a couple of time to be sure!
> 
> I did a search of my copy of the ECW SDK and I see that I commented out
> the
> following at line 348 of Source\C\NCSUtil\malloc.c:
> 
> #ifndef _WIN32_WCE
> // HMODULE hLib = LoadLibrary(TEXT("kernel32.dll")); //BWF
> // if(hLib) {
> //  FARPROC pProc = GetProcAddress(hLib, TEXT("GlobalMemoryStatusEx"));
> //
> //  if(pProc) {
> //   MEMORYSTATUSEX MemoryStatus;
> //   MemoryStatus.dwLength = sizeof(MEMORYSTATUSEX);
> //   pProc(&MemoryStatus);
> //   nTotalPhysicalMemory = MemoryStatus.ullTotalPhys;
> //  }
> //  FreeLibrary(hLib);
> // }
> #endif // _WIN32_WCE
> 
> Although I'm not sure if that's necessary.  I'll try to do a fresh compile
> with GDAL 1.2.6 (cvs tarball 20050405)
> 
> Brent
> 
> ----- Original Message -----
> From: "Thom DeCarlo" <t.r.decarlo@larc.nasa.gov>
> To: "'gdal-dev'" <gdal-dev@remotesensing.org>
> Sent: Thursday, April 07, 2005 12:21 PM
> Subject: RE: [Gdal-dev] Problem getting ECW SDK 3.1 working with gdal
> 
> 
> > Hi Brent,
> > Well, I'm not sure that's all you did.
> >
> > I'm using:
> > GDAL 1.2.6 (cvs tarball 20050405)
> > NCSSource_3.1rc1_18Feb05
> > WinXP SP2
> > XP SP2 Full Platform SDK
> > VS.Net 2003 (Version 7.1.3088)
> > .NET Framework 1.1 (Version 1.1.4322 SP1)
> >
> > The only Core SDK that I found seems specific to Windows Server 2003.
> I'm
> > hesitant to install this on my XPSP2 computer. Is there any danger here?
> I
> > haven't installed it and that might be why I still cannot find winhttp.h
> > anywhere on my computer.
> >
> > Frank wrote:
> > > I believe winhttp.h is part of the MS Platform SDK which you need
> > > to download.
> > > I think the build.txt in the ECW SDK directory talks about this a bit.
> >
> > Build.txt does indeed mention the Platform SDK, but only in the section
> > referring to Visual Studio 6. That's why I didn't install it initially.
> >
> > Thanks,
> > Thom
> >
> > --
> > Thom DeCarlo
> > ------------------------------------------------------
> >               Experience is a wonderful thing
> > It allows you to recognize a mistake when you make it again.
> >
> > > -----Original Message-----
> > > From: Brent Fraser
> > > Sent: Wednesday, April 06, 2005 5:49 PM
> > > To: Thom DeCarlo; 'gdal-dev'
> > > Subject: Re: [Gdal-dev] Problem getting ECW SDK 3.1 working with gdal
> > >
> > > Thom,
> > >
> > >   I'm successfully using:
> > >
> > >     GDAL 1.2.6
> > >     NCSSource_3.1rc1_18Feb05.zip
> > >     VS .Net 2003
> > >     MicroSoft Platform SDK
> > >
> > >
> > > Download the Core portion of the MicroSoft Platform SDK:
> > >
> > >     http://www.microsoft.com/msdownload/platformsdk/sdkupdate/
> > >
> > > Edit GDAL's nmake.opt to include the path to the Microsoft SDK:
> > >
> > > INC = -I$(GDAL_ROOT)\port -I$(GDAL_ROOT)\ogr -I$(GDAL_ROOT)\gcore \
> > >   -I$(GDAL_ROOT)\alg -IC:\PROGRA~1\MIFD68~1\include
> > >
> > > I think that's it...
> > >
> > > Brent Fraser
> > >
> >
> >
> > _______________________________________________
> > Gdal-dev mailing list
> > Gdal-dev@xserve.flids.com
> > http://xserve.flids.com/mailman/listinfo/gdal-dev



From Chip.Hankley at rmtinc.com  Thu Apr  7 15:57:14 2005
From: Chip.Hankley at rmtinc.com (Chip Hankley)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] gdaltindex problems on Windows
Message-ID: <s2554a5f.097@rmt9.rmtonline.com>

I'm trying to use gdaltindex to create a tile index for a number of
tiled images. I downloaded FW tools (FWTools0.9.6). When I issue
gdaltindex in the directory where my images are

(i.e.
path C:\Program Files\FWTools0.9.6 
gdaltindex index2.shp *.tif
)

a windows error box pops up:

"gdaltindex.exe has generated errors and will be closed by
Windows. You will need to restart the program.

An error log is being generated."

The relevant part of the Dr. Watson error log is pasted below. This
happens if I run gdaltindex from the directory where I have my images,
or if I run it from the FWTools console window. Any ideas?

TIA!

Chip Hankley



Microsoft (R) Windows 2000 (TM) Version 5.00 DrWtsn32
Copyright (C) 1985-1999 Microsoft Corp. All rights reserved.



Application exception occurred:
App: (pid=756)
When: 1/20/2005 @ 17:49:22.625
Exception number: c0000005 (access violation)

*----> System Information <----*
Computer Name: 9QFXT21
User Name: xxxxx
Number of Processors: 1
Processor Type: x86 Family 15 Model 2 Stepping 7
Windows 2000 Version: 5.0
Current Build: 2195
Service Pack: 4
Current Type: Uniprocessor Free
Registered Organization: RMT, Inc.
Registered Owner: RMT Employee

*----> Task List <----*
0 Idle.exe
8 System.exe
172 SMSS.exe
196 CSRSS.exe
216 WINLOGON.exe
244 SERVICES.exe
256 LSASS.exe
420 SVCHOST.exe
464 SVCHOST.exe
516 SPOOLSV.exe
548 frxhser.exe
580 frxhapp.exe
592 FrameworkServic.exe
632 Mcshield.exe
652 VsTskMgr.exe
704 NALNTSRV.exe
724 naPrdMgr.exe
908 WolSerNT.exe
924 ZenRem32.exe
952 REGSVC.exe
964 mstask.exe
1032 SVCHOST.exe
1052 WM.exe
1088 ASFAgent.exe
1112 WMRUNDLL.exe
1468 EXPLORER.exe
1648 CreateCD50.exe
1660 Directcd.exe
1668 dpmw32.exe
1680 nwtray.exe
1632 UpdaterUI.exe
1728 shstat.exe
1736 INTERNAT.exe
1756 Notify.exe
144 wisptis.exe
756 GrpWise.exe
440 ADDRBOOK.exe
1720 DRWTSN32.exe
0 _Total.exe

(00400000 - 008B6000) 
(77F80000 - 77FFD000) 
(10000000 - 105CF000) 
(008C0000 - 00ABA000) 
(7C2D0000 - 7C332000) 
(7C570000 - 7C623000) 
(77D30000 - 77DA1000) 
(78000000 - 78045000) 
(77F40000 - 77F7B000) 
(77E10000 - 77E6F000) 
(76620000 - 76630000) 
(75050000 - 75058000) 
(75030000 - 75044000) 
(75020000 - 75028000) 
(71710000 - 71794000) 
(77A50000 - 77B3F000) 
(00AC0000 - 00B41000) 
(00B50000 - 00B8B000) 
(782F0000 - 78535000) 
(63180000 - 631E9000) 
(76B30000 - 76B6E000) 
(00B90000 - 00CE6000) 
(76460000 - 76500000) 
(6A8F0000 - 6A910000) 
(77570000 - 775A0000) 
(779B0000 - 77A4B000) 
(752F0000 - 7530F000) 
(77820000 - 77827000) 
(759B0000 - 759B6000) 
(72A00000 - 72A2D000) 
(01930000 - 01988000) 
(01990000 - 01A04000) 
(01A10000 - 01ACD000) 
(01AD0000 - 01B07000) 
(76B20000 - 76B25000) 
(772B0000 - 7731C000) 
(01B10000 - 01B1D000) 
(6E420000 - 6E426000) 
(75E60000 - 75E7A000) 
(01B50000 - 01B5F000) 
(01B70000 - 01C8C000) 
(775A0000 - 77630000) 
(020B0000 - 021C0000) 
(1C000000 - 1C007000) 
(782C0000 - 782CC000) 
(77980000 - 779A4000) 
(77340000 - 77353000) 
(77520000 - 77525000) 
(77320000 - 77337000) 
(75150000 - 7515F000) 
(75170000 - 751BF000) 
(7C340000 - 7C34F000) 
(77BF0000 - 77C01000) 
(77950000 - 7797A000) 
(751C0000 - 751C6000) 
(773B0000 - 773DF000) 
(77380000 - 773A3000) 
(77830000 - 7783E000) 
(77880000 - 7790E000) 
(7C0F0000 - 7C151000) 
(774E0000 - 77513000) 
(774C0000 - 774D1000) 
(77530000 - 77552000) 
(77360000 - 77379000) 
(777E0000 - 777E8000) 
(66210000 - 66219000) 
(50D50000 - 50D97000) 
(50D00000 - 50D15000) 
(50DF0000 - 50E10000) 
(50DB0000 - 50DDB000) 
(66220000 - 6622C000) 
(777F0000 - 777F5000) 
(02630000 - 02652000) 
(02660000 - 02674000) 
(74FD0000 - 74FEE000) 
(75010000 - 75017000) 
(02BD0000 - 02BF2000) 
(6C370000 - 6C46B000) 
(780A0000 - 780B2000) 
(02C10000 - 02C2A000) 
(031D0000 - 031FA000) 
(77800000 - 7781E000) 
(03210000 - 0321F000) 
(035B0000 - 0362A000) 
(77840000 - 7787E000) 
(770C0000 - 770E3000) 
(03B10000 - 03B27000) 
(03B40000 - 03B5E000) 
(03B60000 - 03B93000) 
(03BB0000 - 03BC2000) 
(03CE0000 - 03D04000) 
(03D20000 - 03F24000) 
(04400000 - 044BB000) 
(045D0000 - 0461A000) 
(04730000 - 0475B000) 
(04870000 - 0487A000) 
(049D0000 - 049FC000) 
(04B10000 - 04B1A000) 
(04D30000 - 04D56000) 
(04D60000 - 04D77000) 
(04D80000 - 04DB5000) 
(04DC0000 - 04E3B000) 
(05280000 - 0528B000) 
(75160000 - 7516C000) 
(75210000 - 75225000) 
(751D0000 - 75208000) 
(58200000 - 582CB000) 
(50D20000 - 50D4B000) 
(50DA0000 - 50DAB000) 
(58300000 - 58338000) 
(58380000 - 583BD000) 
(6A400000 - 6A41B000) 
(055E0000 - 055FD000) 
(05600000 - 05672000) 
(057D0000 - 05806000) 
(1A400000 - 1A47A000) 
(05830000 - 05978000) 
(63000000 - 63096000) 
(7C740000 - 7C7C7000) 
(77430000 - 77440000) 
(718C0000 - 71944000) 
(70440000 - 704CF000) 
(63580000 - 6381C000) 
(75AC0000 - 75AE8000) 
(70F30000 - 70F9E000) 
(34AA0000 - 34AF9000) 
(34A60000 - 34A71000) 
(06B00000 - 06B27000) 
(70510000 - 7051A000) 
(77560000 - 77568000) 
(06480000 - 064DE000) 
(695E0000 - 69609000) 
(06700000 - 06706000) 
(06720000 - 0672D000) 
(06730000 - 06750000) 
(06750000 - 06768000) 
(06780000 - 06799000) 
(07B60000 - 07B74000) 

State Dump for Thread Id 0x6e8

eax=006e6f08 ebx=00000003 ecx=00000010 edx=006e6f4d esi=01220718
edi=01220000
eip=77fcc1e1 esp=0012eda8 ebp=0012ef74 iopl=0 nv up ei pl nz na pe nc
cs=001b ss=0023 ds=0023 es=0023 fs=003b gs=0000 efl=00000202


function: RtlAllocateHeap
77fcc1c4 0f8dfc070000 jnl RtlFreeHeap+0x382 (77fcc9c6)
77fcc1ca 56 push esi
77fcc1cb e87c68fbff call RtlExtendedMagicDivide+0x115 (77f82a4c)
77fcc1d0 8bd0 mov edx,eax
77fcc1d2 8955dc mov [ebp+0xdc],edx ss:00bc8e5a=558b1445
77fcc1d5 85d2 test edx,edx
77fcc1d7 742c jz 77fd4c05
77fcc1d9 8a45e0 mov al,[ebp+0xe0] ss:00bc8e5a=45
77fcc1dc 8b4d10 mov ecx,[ebp+0x10] ss:00bc8e5a=558b1445
77fcc1df 2ac1 sub al,cl
FAULT ->77fcc1e1 8842fe mov [edx+0xfe],al ds:01180e33=??
77fcc1e4 8062ff00 and byte ptr [edx+0xff],0x0 ds:01180e33=??
77fcc1e8 f6450c08 test byte ptr [ebp+0xc],0x8 ss:00bc8e5a=45
77fcc1ec 0f8578070000 jne RtlFreeHeap+0x326 (77fcc96a)
77fcc1f2 8bc2 mov eax,edx
77fcc1f4 8b4df0 mov ecx,[ebp+0xf0] ss:00bc8e5a=558b1445
77fcc1f7 64890d00000000 mov fs:[00000000],ecx fs:00000000=????????
77fcc1fe 5f pop edi
77fcc1ff 5e pop esi
77fcc200 5b pop ebx
77fcc201 c9 leave
77fcc202 c20c00 ret 0xc

*----> Stack Back Trace <----*

FramePtr ReturnAd Param#1 Param#2 Param#3 Param#4 Function Name
0012EF74 103E8440 01220000 00000000 00000010 00000000
ntdll!RtlAllocateHeap 
0012EFB0 103E8337 00000010 103E8324 00000010 00000000 !FlmNTableFree 
0012EFD4 10022911 00000010 0012F030 00000000 0012F000 !FlmNTableFree 
0012EFE8 100241C1 00000010 0012F030 0012F02C 033D92B8 !WpmemAllocLocked

0012F000 10023455 00000010 0012F030 0012F02C 00000000
!WpmemTestAllocLocked 
0012F034 100246C5 00000010 0012F058 10024672 033D92B8 !WpmmDup 
0012F040 10024672 033D92B8 104FDCEC 00000796 033D92B8 !WpmmTestDup 
0012F058 1012DA38 033D92B8 03419477 10577880 00000697 !WpmemTestDup 
0012F084 1012EE55 00000100 0343D202 03419471 00000000 !WpfCopyField 
0012F0A4 1012EDCC 00000100 03419471 0343D008 00000000
!WpfCopyFieldArrayPrim 
0012F0C8 1012D192 00000100 0340FBE7 0343D008 016EDEB8
!WpfCopyFieldArray 
0012F100 1012D0B6 00000100 0012F12C 0340B848 00000000
!WpfCopyRecordArray 
0012F118 00623ACD 00000100 0012F12C 0340B848 0340FBD8
!WpfCopyRecordArray 
0012F130 00624624 016EF260 0012F304 004E1D85 0012F220
!NgwRmFieldListToMime::operator= 
0012F13C 004E1D85 0012F220 0012F214 03BF3B60 0012F2F4
!NgwRmFieldListToMime::operator= 
0012F304 0061E9C3 00000000 4244FA5F 0012F328 004070CA
!XGClientState::~XGClientState 
0012F314 004070CA 00000014 0012F380 00000000 0012F3CC
!NgwRmFieldListToMime::operator= 
0012F328 6C3FBF05 03BF3C08 00000014 6C41DC60 00000000 !TKN::SetEnabled

0012F3CC 6C3856CB 00000014 00000001 00000000 00000000 !Ordinal4036 
0012F41C 6C38571D 00000014 064CE938 0012F440 064B0E2E !Ordinal2797 
0012F448 064AF945 4244FA5F 41CFA4E0 0012F4B4 00000000 !Ordinal2795 
0012F480 06486515 018674D8 00000017 00000001 00000003
!DllUnregisterServer 
0012F49C 064876E5 00000017 0012F51C 064CE938 00000000
!DllUnregisterServer 
0012F4C4 6C3FBF05 0186AC48 00000017 6C41DC60 00000000
!DllUnregisterServer 
0012F568 6C3856CB 00000017 00000001 00000000 00000000 !Ordinal4036 
0012F5B8 6C38571D 00000017 064CE938 0012F5DC 06493E5E !Ordinal2797 
0012F5E4 0649C1C6 4244FA5F 41CFA4E0 0012F604 0649C1EF !Ordinal2795 
0012F5F4 0649C1EF 4244FA5F 41CFA4E0 0012F618 0648C6EA
!DllUnregisterServer 
0012F604 0648C6EA 0187C968 00000002 0187A150 0012F640
!DllUnregisterServer 
0012F618 0648D925 00000002 0012F698 06792C74 00000000
!DllUnregisterServer 
0012F640 6C3FBF05 0187CE08 00000002 6C41DC60 00000000
!DllUnregisterServer 
0012F6E4 6C3856CB 00000002 00000001 00000000 00000000 !Ordinal4036 
0012F734 6C38571D 00000002 06792C74 0012F758 0678655F !Ordinal2797 
0012F764 0678584F 41CFA4E0 4244FA5F 0187CC30 4244FA5F !Ordinal2795 
0012F780 06785D05 00000000 40E2B980 00000000 40E2C480
!DllUnregisterServer 
0012F81C 06787BE1 00000000 40E2BF00 0187CC30 0012F838
!DllUnregisterServer 
0012F834 6C3FC21B 00000000 40E2BF00 6C3FAE4E 6C3FADF8
!DllUnregisterServer 
0012F8B0 6C3FB514 06792CAC 0012F854 0012F9A8 0012F908 !Ordinal6093 
0012F940 6C3FBF05 00000001 00000001 6C41DC60 00000000 !Ordinal4029 
0012F9E4 6C3FC197 00000001 00000001 00000003 0012FA38 !Ordinal4036 
0012FA04 06484A10 0187C950 00000001 00000001 00000003 !Ordinal4033 
0012FA2C 0648C713 00000000 40E2BF00 0012FA74 064984E9
!DllUnregisterServer 
0012FA3C 064984E9 00000000 40E2BF00 0012FB1C 0187C968
!DllUnregisterServer 
0012FA74 0649855C 0012FB1C 0187C968 0012FAA0 06496DDC
!DllUnregisterServer 
0012FA84 06496DDC 0012FAC8 0012FB1C 01859ECC 0187C968
!DllUnregisterServer 
0012FAA0 06496CFA 0012FAC8 0012FB1C 0012FB40 06498E00
!DllUnregisterServer 
0012FAB0 06498E00 0012FAC8 0012FB1C 0187C968 00000000
!DllUnregisterServer 
0012FB40 6C3B9D0A 0000000F 0187C968 023E3008 0186ACD8
!DllUnregisterServer 
0012FBB8 6C3B99D5 0000000F 00000000 064C2E58 0012FBD4 !Ordinal5163 
0012FBD8 0649C2C0 0000000F 00000000 00000000 0187C968 !Ordinal6374 
0012FBF4 6C3B88EE 0000000F 00000000 00000000 0012FDC8
!DllUnregisterServer 
0012FC54 6C3B8AFB 00000000 001402D2 0000000F 00000000 !Ordinal1109 
0012FC74 064BDAEE 001402D2 0000000F 00000000 00000000 !Ordinal1578 
0012FCA0 77E3A420 001402D2 0000000F 00000000 00000000
!DllUnregisterServer 
0012FCC0 77E14750 064BDAC0 001402D2 0000000F 00000000
user32!SetWindowPlacement 
0012FCDC 77E155B0 00F33600 0000000F 00000000 00000000
user32!TranslateMessageEx 
0012FD04 77F9FF57 0012FD14 00000018 00F33600 0000000F
user32!DefWindowProcA 
0012FDA4 77E15B77 0012FDC8 00000001 0040628C 0012FDC8
ntdll!KiUserCallbackDispatcher 
0012FDE4 00709B56 00000002 016E3898 01B30000 016E38B0
user32!DispatchMessageA 
0012FE00 0042691A 00000004 00133CAA 7FFDF065 65766F4E
!XGRClientState::isOfType 
0012FF2C 00729C80 00400000 00000000 00000000 00000002 !TKN::SetOk 
0012FFC0 7C59893D 00000004 00000008 7FFDF000 C0000005
!XGRClientState::isOfType 
0012FFF0 00000000 00729B30 00000000 000000C8 00000100
kernel32!ProcessIdToSessionId 

*----> Raw Stack Dump <----*
0012eda8 00 00 00 00 00 00 00 00 - b8 92 3d 03 98 08 22 01
..........=...".
0012edb8 00 00 00 00 00 00 00 00 - 42 00 00 00 06 ee 12 00
........B.......
0012edc8 00 00 00 00 f0 ed 12 00 - f0 ed 12 00 89 b3 41 00
..............A.
0012edd8 40 e3 6e 01 09 00 00 00 - 02 00 00 00 18 ee 12 00
@.n.............
0012ede8 67 00 00 00 8c 2a f8 77 - 00 00 22 01 d8 19 22 01
g....*.w.."...".
0012edf8 67 00 00 00 e8 91 41 03 - f0 ed 12 00 00 02 00 00
g.....A.........
0012ee08 e0 ef 12 00 55 1f f8 77 - d0 2a f8 77 ff ff ff ff
....U..w.*.w....
0012ee18 f0 ef 12 00 d0 c1 fc 77 - d8 19 22 01 00 00 00 00
.......w..".....
0012ee28 00 00 00 00 23 03 00 00 - 35 00 00 00 00 00 00 00
....#...5.......
0012ee38 28 ee 12 00 00 02 00 00 - 18 f0 12 00 55 1f f8 77
(...........U..w
0012ee48 d0 2a f8 77 d5 c3 fc 77 - 00 00 22 01 c9 c4 fc 77
.*.w...w.."....w
0012ee58 e0 c4 fc 77 00 00 00 00 - 00 00 00 00 93 01 00 00
...w............
0012ee68 ff ff ff ff 8c ee 12 00 - 6c 71 92 00 00 00 13 00
........lq......
0012ee78 00 00 00 00 80 a2 46 02 - 00 00 00 00 02 00 00 00
......F.........
0012ee88 98 68 6e 01 98 ee 12 00 - dc a3 91 00 80 a2 46 02
.hn...........F.
0012ee98 e0 ee 12 00 90 01 13 00 - 48 29 41 02 80 a2 46 02
........H)A...F.
0012eea8 a1 a2 46 02 90 01 13 00 - cd a2 46 02 00 00 13 00
..F.......F.....
0012eeb8 03 00 00 00 01 a2 46 02 - dc ee 12 00 d9 c8 fc 77
......F........w
0012eec8 04 00 00 00 08 ef 12 00 - 04 00 00 00 1c ef 12 00
................
0012eed8 00 00 00 00 00 00 00 00 - 00 00 00 00 68 ef 12 00
............h...

State Dump for Thread Id 0x270

eax=016effc8 ebx=00000002 ecx=023441d0 edx=00000000 esi=77f82873
edi=00000002
eip=77f8287e esp=01d9ff20 ebp=01d9ff6c iopl=0 nv up ei pl zr na po nc
cs=001b ss=0023 ds=0023 es=0023 fs=0038 gs=0000 efl=00000246


function: NtWaitForMultipleObjects
77f82873 b8e9000000 mov eax,0xe9
77f82878 8d542404 lea edx,[esp+0x4] ss:02839e07=????????
77f8287c cd2e int 2e
77f8287e c21400 ret 0x14

*----> Stack Back Trace <----*

FramePtr ReturnAd Param#1 Param#2 Param#3 Param#4 Function Name
01D9FF6C 7C59A0C2 01D9FF44 00000001 00000000 01D9FF64
ntdll!NtWaitForMultipleObjects 
01D9FFB4 7C57B388 00F7CA82 00000034 0072CD4F 016E3898
kernel32!WaitForMultipleObjects 
01D9FFEC 00000000 00000000 00000000 00000000 00000000
kernel32!lstrcmpiW 

State Dump for Thread Id 0x738

eax=00000007 ebx=00000002 ecx=00000007 edx=00000000 esi=77f82873
edi=00000002
eip=77f8287e esp=01e9ff1c ebp=01e9ff68 iopl=0 nv up ei pl zr na po nc
cs=001b ss=0023 ds=0023 es=0023 fs=0038 gs=0000 efl=00000246


function: NtWaitForMultipleObjects
77f82873 b8e9000000 mov eax,0xe9
77f82878 8d542404 lea edx,[esp+0x4] ss:02939e03=????????
77f8287c cd2e int 2e
77f8287e c21400 ret 0x14

*----> Stack Back Trace <----*

FramePtr ReturnAd Param#1 Param#2 Param#3 Param#4 Function Name
01E9FF68 7C59A0C2 01E9FF40 00000001 00000000 01E9FF60
ntdll!NtWaitForMultipleObjects 
01E9FFB4 7C57B388 016E3898 00000034 0072CD4F 016E3898
kernel32!WaitForMultipleObjects 
01E9FFEC 00000000 00000000 00000000 00000000 00000000
kernel32!lstrcmpiW 

State Dump for Thread Id 0x7e4

eax=00000004 ebx=80020000 ecx=023e14a0 edx=00000000 esi=0021ca88
edi=00000100
eip=77f83310 esp=01f9fe28 ebp=01f9ff74 iopl=0 nv up ei pl nz na po nc
cs=001b ss=0023 ds=0023 es=0023 fs=0038 gs=0000 efl=00000206


function: ZwReplyWaitReceivePortEx
77f83305 b8ac000000 mov eax,0xac
77f8330a 8d542404 lea edx,[esp+0x4] ss:02a39d0f=????????
77f8330e cd2e int 2e
77f83310 c21400 ret 0x14

*----> Stack Back Trace <----*

FramePtr ReturnAd Param#1 Param#2 Param#3 Param#4 Function Name
01F9FF74 77D37B4C 77D35924 0021CA88 77D33E01 00130000
ntdll!ZwReplyWaitReceivePortEx 
01F9FFA8 77D358D6 0021C390 01F9FFEC 7C57B388 002161B0
rpcrt4!NdrCorrelationInitialize 
01F9FFB4 7C57B388 002161B0 77D33E01 00130000 002161B0
rpcrt4!RpcBindingFree 
01F9FFEC 00000000 00000000 00000000 00000000 00000000
kernel32!lstrcmpiW 

State Dump for Thread Id 0x594

eax=1c003279 ebx=00000000 ecx=77f83413 edx=00000000 esi=00000200
edi=00223520
eip=77f82ca0 esp=022cff0c ebp=022cffb4 iopl=0 nv up ei pl zr na po nc
cs=001b ss=0023 ds=0023 es=0023 fs=0038 gs=0000 efl=00000246


function: NtDeviceIoControlFile
77f82c95 b838000000 mov eax,0x38
77f82c9a 8d542404 lea edx,[esp+0x4] ss:02d69df3=????????
77f82c9e cd2e int 2e
77f82ca0 c22800 ret 0x28

*----> Stack Back Trace <----*

FramePtr ReturnAd Param#1 Param#2 Param#3 Param#4 Function Name
022CFFB4 7C57B388 00000000 00000000 00000000 00000000
ntdll!NtDeviceIoControlFile 
022CFFEC 00000000 1C003279 00000000 00000000 00000008
kernel32!lstrcmpiW 

*----> Raw Stack Dump <----*
022cff0c 86 2d 00 1c f0 01 00 00 - 00 00 00 00 00 00 00 00
.-..............
022cff1c 00 00 00 00 d0 40 00 1c - 83 00 00 90 60 ff 2c 02
.....@......` .,.
022cff2c 30 00 00 00 00 00 00 00 - 00 00 00 00 00 02 00 00
0...............
022cff3c 1d 33 00 1c 83 00 00 90 - 00 00 00 00 60 ff 2c 02
.3..........`.,.
022cff4c 30 00 00 00 f8 31 00 1c - 00 00 00 00 00 00 00 00
0....1..........
022cff5c 00 00 00 00 46 00 00 00 - 00 00 00 00 00 00 00 00
....F...........
022cff6c b0 6c bf b8 00 00 00 00 - 00 00 00 00 20 35 22 00 .l..........
5".
022cff7c 20 75 66 eb 88 db bb 84 - 00 02 00 00 13 e7 42 80
uf...........B.
022cff8c 48 c2 58 85 00 02 00 00 - be e7 42 80 20 35 22 00 H.X.......B.
5".
022cff9c 54 ff 2c 02 ff ff ff ff - dc ff 2c 02 18 35 00 1c
T.,.......,..5..
022cffac 48 12 00 1c ff ff ff ff - ec ff 2c 02 88 b3 57 7c
H.........,...W|
022cffbc 00 00 00 00 00 00 00 00 - 00 00 00 00 00 00 00 00
................
022cffcc 00 90 fd 7f 13 34 f8 77 - c0 ff 2c 02 13 34 f8 77
.....4.w..,..4.w
022cffdc ff ff ff ff 44 1f 5c 7c - 08 2b 57 7c 00 00 00 00
....D.\|.+W|....
022cffec 00 00 00 00 00 00 00 00 - 79 32 00 1c 00 00 00 00
........y2......
022cfffc 00 00 00 00 08 00 00 00 - 01 01 00 00 ee ff ee ff
................
022d000c 00 00 00 00 00 00 22 01 - 00 00 00 00 00 00 2d 02
......".......-.
022d001c 00 01 00 00 40 00 2d 02 - 00 00 3d 02 00 00 00 00 ....@.-...=
.....
022d002c 00 00 00 00 00 00 00 00 - 00 00 00 00 e8 ff 3c 02
..............<.
022d003c 00 00 00 00 0b 00 08 00 - 01 01 08 00 68 00 2d 02
............h.-.

State Dump for Thread Id 0x7f8

eax=025dffff ebx=00000004 ecx=00131f30 edx=00000000 esi=77f82873
edi=00000004
eip=77f8287e esp=025dfd24 ebp=025dfd70 iopl=0 nv up ei pl zr na po nc
cs=001b ss=0023 ds=0023 es=0023 fs=0038 gs=0000 efl=00000246


function: NtWaitForMultipleObjects
77f82873 b8e9000000 mov eax,0xe9
77f82878 8d542404 lea edx,[esp+0x4] ss:03079c0b=????????
77f8287c cd2e int 2e
77f8287e c21400 ret 0x14

*----> Stack Back Trace <----*

FramePtr ReturnAd Param#1 Param#2 Param#3 Param#4 Function Name
025DFD70 7C59A0C2 025DFD48 00000001 00000000 00000000
ntdll!NtWaitForMultipleObjects 
025DFFB4 7C57B388 00000005 000B000A 7C325107 0021A790
kernel32!WaitForMultipleObjects 
025DFFEC 00000000 778321FE 0021A790 00000000 000000C8
kernel32!lstrcmpiW 

*----> Raw Stack Dump <----*
025dfd24 af a1 59 7c 04 00 00 00 - 48 fd 5d 02 01 00 00 00
..Y|....H.].....
025dfd34 00 00 00 00 00 00 00 00 - 01 00 00 00 90 a7 21 00
..............!.
025dfd44 01 00 00 00 58 02 00 00 - 5c 02 00 00 6c 02 00 00
....X...\...l...
025dfd54 d4 02 00 00 00 00 00 00 - 00 00 00 00 00 00 00 00
................
025dfd64 00 00 00 00 00 00 00 00 - 00 00 00 00 b4 ff 5d 02
..............].
025dfd74 c2 a0 59 7c 48 fd 5d 02 - 01 00 00 00 00 00 00 00
..Y|H.].........
025dfd84 00 00 00 00 00 00 00 00 - b2 22 83 77 04 00 00 00
.........".w....
025dfd94 b0 fe 5d 02 00 00 00 00 - ff ff ff ff 90 a7 21 00
..]...........!.
025dfda4 07 51 32 7c 0a 00 0b 00 - 00 00 00 00 00 00 00 00
.Q2|............
025dfdb4 00 00 00 00 00 00 00 00 - 01 00 00 00 38 00 00 00
............8...
025dfdc4 23 00 00 00 23 00 00 00 - 0a 00 0b 00 07 51 32 7c
#...#........Q2|
025dfdd4 90 a7 21 00 ff ff ff ff - ac dd 12 00 fe 21 83 77
..!..........!.w
025dfde4 f8 eb fd 7f 00 b7 57 7c - 1b 00 00 00 00 02 00 00
......W|........
025dfdf4 fc ff 5d 02 23 00 00 00 - 00 00 00 00 00 00 00 00
..].#...........
025dfe04 00 00 00 00 00 00 00 00 - 00 00 00 00 00 00 00 00
................
025dfe14 00 00 00 00 00 00 00 00 - 00 00 00 00 00 00 00 00
................
025dfe24 00 00 00 00 00 00 00 00 - 00 00 00 00 00 00 00 00
................
025dfe34 00 00 00 00 00 00 00 00 - 00 00 00 00 00 00 00 00
................
025dfe44 00 00 00 00 00 00 00 00 - 00 00 00 00 00 00 00 00
................
025dfe54 00 00 00 00 00 00 00 00 - 00 00 00 00 00 00 00 00
................

State Dump for Thread Id 0x484

eax=00000000 ebx=41efef99 ecx=00000101 edx=00000000 esi=77f82826
edi=028dff20
eip=77f82831 esp=028dff0c ebp=028dff28 iopl=0 nv up ei pl nz na pe nc
cs=001b ss=0023 ds=0023 es=0023 fs=0038 gs=0000 efl=00000202


function: NtDelayExecution
77f82826 b832000000 mov eax,0x32
77f8282b 8d542404 lea edx,[esp+0x4] ss:03379df3=????????
77f8282f cd2e int 2e
77f82831 c20800 ret 0x8
77f82834 53 push ebx
77f82835 51 push ecx
77f82836 6a00 push 0x0
77f82838 c70701000000 mov dword ptr [edi],0x1 ds:028dff20=ff676980
77f8283e ff750c push dword ptr [ebp+0xc] ss:03379e0e=????????
77f82841 50 push eax
77f82842 e879fdffff call RtlMultiByteToUnicodeN (77f825c0)
77f82847 e928fcffff jmp RtlConsoleMultiByteToUnicodeN+0x333 (77f82474)

*----> Stack Back Trace <----*

FramePtr ReturnAd Param#1 Param#2 Param#3 Param#4 Function Name
028DFF28 7C59A20E 000003E8 00000000 1001C942 000003E8
ntdll!NtDelayExecution 
028DFF40 10079CC7 FFFF03E8 00000006 02307C70 02307C70 kernel32!Sleep 
028DFF60 10038282 02307C08 00000000 022D0380 00000000
!WpcomTCPClientSSL 
028DFF80 103E9425 02307C08 00000006 023E32B8 02307C70 !NgwThrdCreate 
028DFFB4 7C57B388 02307C70 00000006 023E32B8 02307C70 !FlmNTableFree 
028DFFEC 00000000 103E93CE 02307C70 00000000 000000C8
kernel32!lstrcmpiW 

*----> Raw Stack Dump <----*
028dff0c 43 a2 59 7c 00 00 00 00 - 20 ff 8d 02 25 ef ef 41 C.Y|....
...%..A
028dff1c 80 03 2d 02 80 69 67 ff - ff ff ff ff 40 ff 8d 02
..-..ig.....@.. .
028dff2c 0e a2 59 7c e8 03 00 00 - 00 00 00 00 42 c9 01 10
..Y|........B...
028dff3c e8 03 00 00 60 ff 8d 02 - c7 9c 07 10 e8 03 ff ff
....`...........
028dff4c 06 00 00 00 70 7c 30 02 - 70 7c 30 02 00 00 00 00
....p|0.p|0.....
028dff5c 20 ef ef 41 80 ff 8d 02 - 82 82 03 10 08 7c 30 02
..A.........|0.
028dff6c 00 00 00 00 80 03 2d 02 - 00 00 00 00 08 7c 30 02
......-......|0.
028dff7c b4 ff 8d 02 b4 ff 8d 02 - 25 94 3e 10 08 7c 30 02
........%.>..|0.
028dff8c 06 00 00 00 b8 32 3e 02 - 70 7c 30 02 60 59 de 84
.....2>.p|0.`Y..
028dff9c 8c ff 8d 02 ff ff ff ff - dc ff 8d 02 80 8b 3e 10
..............>.
028dffac 10 3a 4a 10 00 00 00 00 - ec ff 8d 02 88 b3 57 7c
.:J...........W|
028dffbc 70 7c 30 02 06 00 00 00 - b8 32 3e 02 70 7c 30 02
p|0......2>.p|0.
028dffcc 00 60 fd 7f ac db 12 00 - c0 ff 8d 02 ac db 12 00
.`..............
028dffdc ff ff ff ff 44 1f 5c 7c - 08 2b 57 7c 00 00 00 00
....D.\|.+W|....
028dffec 00 00 00 00 00 00 00 00 - ce 93 3e 10 70 7c 30 02
..........>.p|0.
028dfffc 00 00 00 00 c8 00 00 00 - 00 01 00 00 ff ee ff ee
................
028e000c 02 10 00 00 00 00 00 00 - 00 fe 00 00 00 00 10 00
................
028e001c 00 20 00 00 00 02 00 00 - 00 20 00 00 b2 00 00 00 . .......
......
028e002c ff ef fd 7f 16 00 08 06 - 00 00 00 00 00 00 00 00
................
028e003c 00 00 00 00 00 00 00 00 - 98 05 8e 02 0f 00 00 00
................

State Dump for Thread Id 0x628

eax=02b9feb4 ebx=02921e90 ecx=02b9fea0 edx=00000000 esi=02b9ff98
edi=00000000
eip=77e5841b esp=02b9ff54 ebp=02b9ff74 iopl=0 nv up ei pl zr na po nc
cs=001b ss=0023 ds=0023 es=0023 fs=0038 gs=0000 efl=00000246


function: GetMenuItemRect
77e58402 b899110000 mov eax,0x1199
77e58407 8d542404 lea edx,[esp+0x4] ss:03639e3b=????????
77e5840b cd2e int 2e
77e5840d c21000 ret 0x10
77e58410 b89a110000 mov eax,0x119a
77e58415 8d542404 lea edx,[esp+0x4] ss:03639e3b=????????
77e58419 cd2e int 2e
77e5841b c21000 ret 0x10

*----> Stack Back Trace <----*

FramePtr ReturnAd Param#1 Param#2 Param#3 Param#4 Function Name
02B9FF74 7647F6AF 02B9FF98 00000000 00000000 00000000
user32!GetMenuItemRect 
02B9FFB4 7C57B388 02921E90 FFFFFFFF 0012EF50 02921E90
mapi32!MAPIFreeBuffer 
02B9FFEC 00000000 7647F62E 02921E90 00000000 417B5C65
kernel32!lstrcmpiW 

*----> Raw Stack Dump <----*
02b9ff54 8f 69 e1 77 98 ff b9 02 - 00 00 00 00 00 00 00 00
.i.w............
02b9ff64 00 00 00 00 90 1e 92 02 - 00 00 00 00 00 00 00 00
................
02b9ff74 b4 ff b9 02 af f6 47 76 - 98 ff b9 02 00 00 00 00
......Gv........
02b9ff84 00 00 00 00 00 00 00 00 - ff ff ff ff 50 ef 12 00
............P...
02b9ff94 90 1e 92 02 60 59 de 84 - a0 76 bb 84 ff ff ff ff
....`Y...v......
02b9ffa4 00 00 00 00 b4 f8 42 80 - 00 00 00 00 00 00 00 00
......B.........
02b9ffb4 ec ff b9 02 88 b3 57 7c - 90 1e 92 02 ff ff ff ff
......W|........
02b9ffc4 50 ef 12 00 90 1e 92 02 - 00 50 fd 7f 28 af 21 00
P........P..(.!.
02b9ffd4 c0 ff b9 02 28 af 21 00 - ff ff ff ff 44 1f 5c 7c
....(.!.....D.\|
02b9ffe4 08 2b 57 7c 00 00 00 00 - 00 00 00 00 00 00 00 00
.+W|............
02b9fff4 2e f6 47 76 90 1e 92 02 - 00 00 00 00 65 5c 7b 41
..Gv........e\{A
02ba0004 32 39 33 45 42 34 30 2d - 39 43 33 30 2d 31 31 63
293EB40-9C30-11c
02ba0014 66 2d 38 43 39 31 2d 30 - 30 38 30 35 46 36 43 34
f-8C91-00805F6C4
02ba0024 42 45 46 7d 5c 54 79 70 - 65 4c 69 62 00 00 00 00
BEF}\TypeLib....
02ba0034 49 6e 74 65 72 66 61 63 - 65 5c 7b 41 32 39 33 45
Interface\{A293E
02ba0044 42 34 30 2d 39 43 33 30 - 2d 31 31 63 66 2d 38 43
B40-9C30-11cf-8C
02ba0054 39 31 2d 30 30 38 30 35 - 46 36 43 34 42 45 46 7d
91-00805F6C4BEF}
02ba0064 5c 50 72 6f 78 79 53 74 - 75 62 43 6c 73 69 64 33
\ProxyStubClsid3
02ba0074 32 00 00 00 49 47 57 41 - 63 63 6f 75 6e 74 00 00
2...IGWAccount..
02ba0084 49 6e 74 65 72 66 61 63 - 65 5c 7b 41 32 39 33 45
Interface\{A293E

State Dump for Thread Id 0xf0

eax=7649f8c2 ebx=00000000 ecx=00130748 edx=00000000 esi=77f82865
edi=00000460
eip=77f82870 esp=04d2ff60 ebp=04d2ff84 iopl=0 nv up ei pl zr na po nc
cs=001b ss=0023 ds=0023 es=0023 fs=0038 gs=0000 efl=00000246


function: NtWaitForSingleObject
77f82865 b8ea000000 mov eax,0xea
77f8286a 8d542404 lea edx,[esp+0x4] ss:057c9e47=????????
77f8286e cd2e int 2e
77f82870 c20c00 ret 0xc

*----> Stack Back Trace <----*

FramePtr ReturnAd Param#1 Param#2 Param#3 Param#4 Function Name
04D2FF84 7C57B3DB 00000460 FFFFFFFF 00000000 7649F912
ntdll!NtWaitForSingleObject 
04D2FFB4 7C57B388 00000000 0012DD54 00000004 00000000
kernel32!WaitForSingleObject 
04D2FFEC 00000000 7649F8C2 00000000 00000000 00905A4D
kernel32!lstrcmpiW 

*----> Raw Stack Dump <----*
04d2ff60 e4 9f 59 7c 60 04 00 00 - 00 00 00 00 00 00 00 00
..Y|`...........
04d2ff70 00 00 00 00 90 1e 96 02 - c0 1e 96 02 00 f0 fa 7f
................
04d2ff80 00 f0 fa 7f b4 ff d2 04 - db b3 57 7c 60 04 00 00
..........W|`...
04d2ff90 ff ff ff ff 00 00 00 00 - 12 f9 49 76 60 04 00 00
..........Iv`...
04d2ffa0 ff ff ff ff 54 dd 12 00 - 04 00 00 00 00 00 00 00
....T...........
04d2ffb0 ff ff ff ff ec ff d2 04 - 88 b3 57 7c 00 00 00 00
..........W|....
04d2ffc0 54 dd 12 00 04 00 00 00 - 00 00 00 00 00 f0 fa 7f
T...............
04d2ffd0 48 07 13 00 c0 ff d2 04 - 48 07 13 00 ff ff ff ff
H.......H.......
04d2ffe0 44 1f 5c 7c 08 2b 57 7c - 00 00 00 00 00 00 00 00
D.\|.+W|........
04d2fff0 00 00 00 00 c2 f8 49 76 - 00 00 00 00 00 00 00 00
......Iv........
04d30000 4d 5a 90 00 03 00 00 00 - 04 00 00 00 ff ff 00 00
MZ..............
04d30010 b8 00 00 00 00 00 00 00 - 40 00 00 00 00 00 00 00 ........@..
.....
04d30020 00 00 00 00 00 00 00 00 - 00 00 00 00 00 00 00 00
................
04d30030 00 00 00 00 00 00 00 00 - 00 00 00 00 00 01 00 00
................
04d30040 0e 1f ba 0e 00 b4 09 cd - 21 b8 01 4c cd 21 54 68
........!..L.!Th
04d30050 69 73 20 70 72 6f 67 72 - 61 6d 20 63 61 6e 6e 6f is program
canno
04d30060 74 20 62 65 20 72 75 6e - 20 69 6e 20 44 4f 53 20 t be run in
DOS 
04d30070 6d 6f 64 65 2e 0d 0d 0a - 24 00 00 00 00 00 00 00
mode....$.......
04d30080 95 64 3f 9a d1 05 51 c9 - d1 05 51 c9 d1 05 51 c9
.d?...Q...Q...Q.
04d30090 39 1a 5a c9 d2 05 51 c9 - 39 1a 5b c9 cb 05 51 c9
9.Z...Q.9.[...Q.

State Dump for Thread Id 0x804

eax=063efde8 ebx=ffffffff ecx=00000630 edx=00000000 esi=7fffffff
edi=00000102
eip=77f82870 esp=063efcb8 ebp=063efcf0 iopl=0 nv up ei ng nz ac po cy
cs=001b ss=0023 ds=0023 es=0023 fs=0038 gs=0000 efl=00000297


function: NtWaitForSingleObject
77f82865 b8ea000000 mov eax,0xea
77f8286a 8d542404 lea edx,[esp+0x4] ss:06e89b9f=????????
77f8286e cd2e int 2e
77f82870 c20c00 ret 0xc

*----> Stack Back Trace <----*

FramePtr ReturnAd Param#1 Param#2 Param#3 Param#4 Function Name
063EFCF0 74FD9E80 00000638 00000630 00000000 00000006
ntdll!NtWaitForSingleObject 
063EFD78 7503A421 00000630 063EFDE8 00000001 063EFE00
msafd!StartWsdpService 
063EFDBC 75051053 00000630 063EFDE8 00000001 063EFE00
ws2_32!WSARecvFrom 
063EFDF0 10039ABA 00000630 00000000 000000FA 00000000 wsock32!recvfrom

063EFE30 10051421 033C8F88 063EFE58 000000FA 063EFF58 !svTcpRead 
063EFF60 10038282 033C8EA0 03431D20 00000000 00000000 !NgwrepQFIndex 
063EFF80 103E9425 033C8EA0 0240EE68 023D0798 034317A8 !NgwThrdCreate 
063EFFB4 7C57B388 034317A8 0240EE68 023D0798 034317A8 !FlmNTableFree 
063EFFEC 00000000 00000000 00000000 00000000 00000000
kernel32!lstrcmpiW 

State Dump for Thread Id 0x790

eax=77562bda ebx=00000002 ecx=0000001c edx=00000000 esi=77f82873
edi=00000002
eip=77f8287e esp=06e4ff24 ebp=06e4ff70 iopl=0 nv up ei pl zr na po nc
cs=001b ss=0023 ds=0023 es=0023 fs=0038 gs=0000 efl=00000246


function: NtWaitForMultipleObjects
77f82873 b8e9000000 mov eax,0xe9
77f82878 8d542404 lea edx,[esp+0x4] ss:078e9e0b=????????
77f8287c cd2e int 2e
77f8287e c21400 ret 0x14

*----> Stack Back Trace <----*

FramePtr ReturnAd Param#1 Param#2 Param#3 Param#4 Function Name
06E4FF70 7C59A0C2 06E4FF48 00000001 00000000 00000000
ntdll!NtWaitForMultipleObjects 
06E4FFB4 7C57B388 00000000 00132DF0 7FFDEBF8 00000000
kernel32!WaitForMultipleObjects 
06E4FFEC 00000000 77562BDA 00000000 00000000 00000000
kernel32!lstrcmpiW 

*----> Raw Stack Dump <----*
06e4ff24 af a1 59 7c 02 00 00 00 - 48 ff e4 06 01 00 00 00
..Y|....H.......
06e4ff34 00 00 00 00 00 00 00 00 - f0 2d 13 00 00 00 00 00
.........-......
06e4ff44 00 00 00 00 e8 06 00 00 - b8 06 00 00 00 5f 23 85
............._#.
06e4ff54 d4 4b 06 80 85 7d 46 80 - 6c dc 6a b9 00 00 00 00
.K...}F.l.j.....
06e4ff64 20 60 38 85 00 00 00 00 - b0 dc 6a b9 b4 ff e4 06
`8.......j.....
06e4ff74 c2 a0 59 7c 48 ff e4 06 - 01 00 00 00 00 00 00 00
..Y|H...........
06e4ff84 00 00 00 00 00 00 00 00 - 1a 2c 56 77 02 00 00 00
.........,Vw....
06e4ff94 a4 ff e4 06 00 00 00 00 - ff ff ff ff f8 eb fd 7f
................
06e4ffa4 e8 06 00 00 b8 06 00 00 - 00 00 00 00 00 00 00 00
................
06e4ffb4 ec ff e4 06 88 b3 57 7c - 00 00 00 00 f0 2d 13 00
......W|.....-..
06e4ffc4 f8 eb fd 7f 00 00 00 00 - 00 c0 fa 7f 1c 00 00 00
................
06e4ffd4 c0 ff e4 06 1c 00 00 00 - ff ff ff ff 44 1f 5c 7c
............D.\|
06e4ffe4 08 2b 57 7c 00 00 00 00 - 00 00 00 00 00 00 00 00
.+W|............
06e4fff4 da 2b 56 77 00 00 00 00 - 00 00 00 00 00 00 00 00
.+Vw............
06e50004 00 00 00 00 00 00 00 00 - 00 00 00 00 00 00 00 00
................
06e50014 00 00 00 00 00 00 00 00 - 00 00 00 00 00 00 00 00
................
06e50024 00 00 00 00 00 00 00 00 - 00 00 00 00 00 00 00 00
................
06e50034 00


Outgoing messages, along with any attachments, are scanned for viruses prior to sending.
------------------------------------------------------------------------------
NOTICE--This email may contain confidential and privileged information 
for the sole use of the intended recipient.  Any review or distribution
by others is strictly prohibited.  If you are not the intended recipient,
please contact the sender immediately and delete all copies.

From fwarmerdam at gmail.com  Thu Apr  7 16:26:05 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] gdaltindex problems on Windows
In-Reply-To: <s2554a5f.097@rmt9.rmtonline.com>
References: <s2554a5f.097@rmt9.rmtonline.com>
Message-ID: <931f8ea9050407132610bd484@mail.gmail.com>

On Apr 7, 2005 3:57 PM, Chip Hankley <Chip.Hankley@rmtinc.com> wrote:
> I'm trying to use gdaltindex to create a tile index for a number of
> tiled images. I downloaded FW tools (FWTools0.9.6). When I issue
> gdaltindex in the directory where my images are
> 
> (i.e.
> path C:\Program Files\FWTools0.9.6
> gdaltindex index2.shp *.tif
> )
> 
> a windows error box pops up:
> 
> "gdaltindex.exe has generated errors and will be closed by
> Windows. You will need to restart the program.

Chip, 

I would suggest you try some single files and see if you can narrow
the problem down to just some of your files.  If you can get this
to happen with a single "not too large" file, then let me know and
I will see if I can reproduce the problem. 

This could mean you have a corrupt TIFF file, or it could be something
in the way things are built for FWTools.  I would add I don't regularly
test gdaltindex.exe. 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From t.r.decarlo at larc.nasa.gov  Thu Apr  7 16:31:45 2005
From: t.r.decarlo at larc.nasa.gov (Thom DeCarlo)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] Problem getting ECW SDK 3.1 working with gdal
In-Reply-To: <001c01c53ba9$086e10f0$959877c6@cts1149>
Message-ID: <001d01c53bb0$d0c56f10$959877c6@cts1149>

I HATE WINDOWS!

Sorry about that....

It turns out that one of the SDKs actually did install winhttp.h. However,
the WinXP search function doesn't look in the "Program Files" directory by
default, therefore the search never found the file. After changing an
Advanced Option, I could make the freaking thing search where I was telling
it to search.

For those who are interested, the file is in 
C:/Program Files/Microsoft SDK/include/winhttp.h

Now to see if I can make the SDK compile...


--
Thom DeCarlo
-------------------------------------------------------
    I love deadlines. I especially like the
whooshing sound they make as they go flying by.

> -----Original Message-----
> From: Thom DeCarlo
> Sent: Thursday, April 07, 2005 3:36 PM
> To: 'gdal-dev'
> Subject: RE: [Gdal-dev] Problem getting ECW SDK 3.1 working with gdal
> 
> Hey Brent,
> Thanks for the update. I've just finished installing the Core SDK. Guess
> what. Still no winhttp.h.
> 
> I'll take this conversation over to the ERMapper forum since it really
> isn't a gdal issue.
> 
> Thanks again,
> Thom




From Chip.Hankley at rmtinc.com  Thu Apr  7 17:31:44 2005
From: Chip.Hankley at rmtinc.com (Chip Hankley)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] gdaltindex problems on Windows
Message-ID: <s2556078.081@rmt9.rmtonline.com>

Frank, et. al., 

I tried gdaltindex on a couple isolated images, and it seemed to work.
Apparently gdaltindex was choking in a couple of ways:

1) there were some tiles that were completely NODATA (all black edge
tiles, value of "1" I believe).
2) something about the tif format.

I deleted the NODATA tiles from the directory. I then tried to re-run
gdaltindex and received the following errors:

  The instruction at "0x77fcc024" referenced memory at "0x00000000".
The memory could not be "written".
  The instruction at "0x77fcc2c0" referenced memory at "0xd0001301".
The memory could not be "written".

I then ran gdaladdo on the TIFs in the directory, and reran gdaltindex.
It then worked. So, I'm assuming that gdaladdo re-creates or re-formats
the TIF in some way. I created the tiles from a single, larger image
using an AML in ArcInfo. So, I'm assuming that there is some issue with
ArcInfo generated TIFs.

For the record...

Chip


> Chip, 
> 
> I would suggest you try some single files and see if you can narrow
> the problem down to just some of your files.  If you can get this
> to happen with a single "not too large" file, then let me know and
> I will see if I can reproduce the problem. 
> 
> This could mean you have a corrupt TIFF file, or it could be
something
> in the way things are built for FWTools.  I would add I don't
regularly
> test gdaltindex.exe. 
> 

Outgoing messages, along with any attachments, are scanned for viruses prior to sending.
------------------------------------------------------------------------------
NOTICE--This email may contain confidential and privileged information 
for the sole use of the intended recipient.  Any review or distribution
by others is strictly prohibited.  If you are not the intended recipient,
please contact the sender immediately and delete all copies.

From kmelero at sanz.com  Thu Apr  7 17:45:50 2005
From: kmelero at sanz.com (Kenneth Melero)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] Kakadu and MrSID conflict
In-Reply-To: <6.1.1.1.0.20050407090841.0245bca8@pop3>
Message-ID: <000001c53bbb$2c2ee0c0$0d02040a@MGCOMPAQ>


That's great Julien.  I would not recommend leaving the Kakadu definition on
if you are using only MrSID.  This could cause problems.

Take Care,
-Ken

-----Original Message-----
From: gdal-dev-bounces@xserve.flids.com
[mailto:gdal-dev-bounces@xserve.flids.com] On Behalf Of Julien Demaria
Sent: Thursday, April 07, 2005 3:29 AM
To: gdal-dev@xserve.flids.com
Subject: RE: [Gdal-dev] Kakadu and MrSID conflict

Ken,

In fact finally I have successfully compiled GDAL with last Kakadu and last 
MrSID DSDK ; JP2 with Kakadu and seems work well, MrSID files too, but I 
don't know for JP2 MrSID because for JP2 Kakadu is always selected. I still
have the "ld: warning: symbol `kdu_compressed_target virtual table' 
has differing s
izes:
         (file ./frmts/o/jp2.o value=0x40; file /project/openev/solaris/Ge
o_DSDK-4.0.10.720/lib/Release/libltidsdk.a(j2k_support.o) value=0x30);
         ./frmts/o/jp2.o definition taken"
but as the Kakadu jp2.o is selected and I use only Kakadu for JP2 I think 
there isn't any pb.*

Thanks,

Julien

At 18:36 06/04/2005, Kenneth Melero wrote:

>Julien,
>
>Unfortunately there is no fix for the moment with configuring both 
>MrSID and Kakadu at the same time other than obtaining a MrSID release 
>from Lizrdtech that does not contain Kakadu in its internal libraries.
>
>To turn on MrSID SDK for both .sid and .jp2 files read this previous 
>thread:
>
>http://xserve.flids.com/pipermail/gdal-dev/2005-March/008304.html
>
>-Ken
>
>
>-----Original Message-----
>From: gdal-dev-bounces@xserve.flids.com 
>[mailto:gdal-dev-bounces@xserve.flids.com] On Behalf Of Frank Warmerdam
>Sent: Wednesday, April 06, 2005 9:44 AM
>To: Julien Demaria
>Cc: gdal-dev@xserve.flids.com
>Subject: Re: [Gdal-dev] Kakadu and MrSID conflict
>
>
>On Apr 6, 2005 3:32 AM, Julien Demaria <dem@acri-st.fr> wrote:
> > I found that last MrSID DSDK is Kakadu v4.2 based ; so I'll try to 
> > downgrade my Kakadu to v4.2...
> >
> > Are there solutions to this conflicts ?
>
>Julien,
>
>The only "solution" I am aware of is to drop the Kakadu out of the 
>build, and depend on the MrSID driver for JPEG2000 support.  However, I 
>am not sure if the GDAL MrSID code is really setup properly to handle 
>JPEG2000.  In fact, I haven't personally run into this yet since I 
>don't normally build with the MrSID SDK.
>
>Best regards,
>--
>---------------------------------------+-------------------------------
>---------------------------------------+-
>---------------------------------------+------
>I set the clouds in motion - turn up   | Frank Warmerdam,
>warmerdam@pobox.com
>light and sound - activate the windows | http://pobox.com/~warmerdam
>and watch the world go round - Rush    | Geospatial Programmer for Rent
>_______________________________________________
>Gdal-dev mailing list
>Gdal-dev@xserve.flids.com 
>http://xserve.flids.com/mailman/listinfo/gdal-dev

_______________________________________________
Gdal-dev mailing list
Gdal-dev@xserve.flids.com http://xserve.flids.com/mailman/listinfo/gdal-dev


From wlyons at prologic-inc.com  Fri Apr  8 15:44:32 2005
From: wlyons at prologic-inc.com (William Lyons)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] Problem with Building Overviews
Message-ID: <2DBB9F887DAA394FA75D98474EA5730D010FC303@vader.prologic-inc.com>

List,

 

I'm experiencing odd behavior when having overviews built for a geoTiff.

When the dataset has been opened read-only I get the warning that the
overviews will be built externally which is expected.

But when the process is completed my whole app dies.  The overview file
appears to be completely built...

I realize that this isn't much to go on but, has anyone else experienced
this behavior?

 

Thanks,

 

William Lyons

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20050408/0b17d44c/attachment.html
From grevedan at hotmail.com  Fri Apr  8 17:27:49 2005
From: grevedan at hotmail.com (Dan Greve)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] Problem getting ECW SDK 3.1 working with gdal
In-Reply-To: <001d01c53bb0$d0c56f10$959877c6@cts1149>
Message-ID: <BAY102-F260D81AA9D657BF865BD42C73F0@phx.gbl>

Windows isn't the biyatch, this ECW source base is ugly as hell.  I finally 
got NCSSource_3.1rc1_18Feb05.zip to compile as a debug DLL, it required 
multiple code modifications, visual studio project modifications, 
installation of the Win2003 Server SDK, and about 5 excrutiating hours.

That being said, I didn't compile with VC7, only with VC6.  I'll be putting 
the final results up on ftp somewhere once I get this figured out.

PS, it compile OK with gdal-1.2.6 and the \frmts\ecw from 04/07/2005 gdal 
cvs snapshot.

-- dan greve
-- palm bay, fl

>From: "Thom DeCarlo" <t.r.decarlo@larc.nasa.gov>
>To: "'gdal-dev'" <gdal-dev@remotesensing.org>
>Subject: RE: [Gdal-dev] Problem getting ECW SDK 3.1 working with gdal
>Date: Thu, 7 Apr 2005 16:31:45 -0400
>
>I HATE WINDOWS!
>
>Sorry about that....
>
>It turns out that one of the SDKs actually did install winhttp.h. However,
>the WinXP search function doesn't look in the "Program Files" directory by
>default, therefore the search never found the file. After changing an
>Advanced Option, I could make the freaking thing search where I was telling
>it to search.
>
>For those who are interested, the file is in
>C:/Program Files/Microsoft SDK/include/winhttp.h
>
>Now to see if I can make the SDK compile...
>
>
>--
>Thom DeCarlo
>-------------------------------------------------------
>     I love deadlines. I especially like the
>whooshing sound they make as they go flying by.
>
> > -----Original Message-----
> > From: Thom DeCarlo
> > Sent: Thursday, April 07, 2005 3:36 PM
> > To: 'gdal-dev'
> > Subject: RE: [Gdal-dev] Problem getting ECW SDK 3.1 working with gdal
> >
> > Hey Brent,
> > Thanks for the update. I've just finished installing the Core SDK. Guess
> > what. Still no winhttp.h.
> >
> > I'll take this conversation over to the ERMapper forum since it really
> > isn't a gdal issue.
> >
> > Thanks again,
> > Thom
>
>
>
>_______________________________________________
>Gdal-dev mailing list
>Gdal-dev@xserve.flids.com
>http://xserve.flids.com/mailman/listinfo/gdal-dev



From grevedan at hotmail.com  Sat Apr  9 12:00:22 2005
From: grevedan at hotmail.com (Dan Greve)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] Problem getting ECW SDK 3.1 working with gdal
In-Reply-To: <BAY102-F260D81AA9D657BF865BD42C73F0@phx.gbl>
Message-ID: <BAY102-F89D4E152F01DF42869682C7300@phx.gbl>

Thom,

OK, I posted the modified ECW SDK 3.1 rc1 18Feb 05  to my yahoo briefcase.  
Go to

<proc>
http://briefcase.yahoo.com/dolfan_77

Click on Pub

Click on ecw_sdk_vc6mod_090405

Save to your disk.
</proc>

Per the ER build instructions,
You MUST install the Microsoft SDK from 
www.microsoft.com/msdownload/platformsdk/sdkupdate/

Install the Win2003 Server Core SDK.  It works for most Windows OS.

Again, it's only a VC6 project, but the settings could be brought over to a 
VC7 project no sweat I bet.  Note, with the current GDAL ECW settings, the 
\ECW_SDK\Source\include directorty must be copied over to \ECW_SDK\Source 
before trying to compile GDAL.  I tested with gdal-1.2.6 and \frmts\ecw from 
GDAL-CVS-040805.  Frank, feel free to mirror this with your jasper special 
pkgs if you wish.  Hopefully I'm not breaking any license dillios.

-- dan g.

>From: "Dan Greve" <grevedan@hotmail.com>
>To: t.r.decarlo@larc.nasa.gov, gdal-dev@remotesensing.org
>Subject: RE: [Gdal-dev] Problem getting ECW SDK 3.1 working with gdal
>Date: Fri, 08 Apr 2005 17:27:49 -0400
>
>Windows isn't the biyatch, this ECW source base is ugly as hell.  I finally 
>got NCSSource_3.1rc1_18Feb05.zip to compile as a debug DLL, it required 
>multiple code modifications, visual studio project modifications, 
>installation of the Win2003 Server SDK, and about 5 excrutiating hours.
>
>That being said, I didn't compile with VC7, only with VC6.  I'll be putting 
>the final results up on ftp somewhere once I get this figured out.
>
>PS, it compile OK with gdal-1.2.6 and the \frmts\ecw from 04/07/2005 gdal 
>cvs snapshot.
>
>-- dan greve
>-- palm bay, fl
>
>>From: "Thom DeCarlo" <t.r.decarlo@larc.nasa.gov>
>>To: "'gdal-dev'" <gdal-dev@remotesensing.org>
>>Subject: RE: [Gdal-dev] Problem getting ECW SDK 3.1 working with gdal
>>Date: Thu, 7 Apr 2005 16:31:45 -0400
>>
>>I HATE WINDOWS!
>>
>>Sorry about that....
>>
>>It turns out that one of the SDKs actually did install winhttp.h. However,
>>the WinXP search function doesn't look in the "Program Files" directory by
>>default, therefore the search never found the file. After changing an
>>Advanced Option, I could make the freaking thing search where I was 
>>telling
>>it to search.
>>
>>For those who are interested, the file is in
>>C:/Program Files/Microsoft SDK/include/winhttp.h
>>
>>Now to see if I can make the SDK compile...
>>
>>
>>--
>>Thom DeCarlo
>>-------------------------------------------------------
>>     I love deadlines. I especially like the
>>whooshing sound they make as they go flying by.
>>
>> > -----Original Message-----
>> > From: Thom DeCarlo
>> > Sent: Thursday, April 07, 2005 3:36 PM
>> > To: 'gdal-dev'
>> > Subject: RE: [Gdal-dev] Problem getting ECW SDK 3.1 working with gdal
>> >
>> > Hey Brent,
>> > Thanks for the update. I've just finished installing the Core SDK. 
>>Guess
>> > what. Still no winhttp.h.
>> >
>> > I'll take this conversation over to the ERMapper forum since it really
>> > isn't a gdal issue.
>> >
>> > Thanks again,
>> > Thom
>>
>>
>>
>>_______________________________________________
>>Gdal-dev mailing list
>>Gdal-dev@xserve.flids.com
>>http://xserve.flids.com/mailman/listinfo/gdal-dev
>
>
>_______________________________________________
>Gdal-dev mailing list
>Gdal-dev@xserve.flids.com
>http://xserve.flids.com/mailman/listinfo/gdal-dev



From vincent at ecovla.nl  Mon Apr 11 06:57:21 2005
From: vincent at ecovla.nl (vincent@ecovla.nl)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] double free or corruption in vrt with gcp's
Message-ID: <425A5811.8000603@ecovla.nl>

Folks,

[sorry when posting twice, tried through gmane but doesn't seem to come
trough...]

I have some problems using warped vrt files with gcp's, and I'd
appreciate it if someone could shed some light on it. The situations is
as follows:

o ASTER L2 imagery (hdf) is converted to a warped vrt file using
"gdalwarp -of vrt -srcnodata 0 -dstnodata 0 -s_srs "EPSG:4326" -t_srs
"EPSG:4326" -rcs
HDF4_EOS:EOS_SWATH:"${hdfvnir}":SurfaceReflectanceVNIR:Band${band}
tmp.vnir.${band}.vrt
(don't focus on the file names, it's batch processing). This works ok.
The resulting vrt file is attached and looks good.

o Then whatever I try to do on this file fails with a segfault or the
following error: *** glibc detected *** double free or corruption (out):
0x00000000005a7d90 ***
Aborted (core dumped)

For simplicity's sake I'll show the output of "gdalinfo tmp.vnir.1.vrt"
 (actually I want to do gdal_translate, but the error also appears with
gdalinfo):

Driver: VRT/Virtual Raster
Size is 5507, 4882
Coordinate System is:
GEOGCS["WGS 84",
    DATUM["WGS_1984",
        SPHEROID["WGS 84",6378137,298.257223563,
            AUTHORITY["EPSG","7030"]],
        AUTHORITY["EPSG","6326"]],
    PRIMEM["Greenwich",0,
        AUTHORITY["EPSG","8901"]],
    UNIT["degree",0.01745329251994328,
        AUTHORITY["EPSG","9122"]],
    AUTHORITY["EPSG","4326"]]
Origin = (112.808259,0.315868)
Pixel Size = (0.00013521,-0.00013521)
Corner Coordinates:
Upper Left  ( 112.8082592,   0.3158685) (112d48'29.73"E,  0d18'57.13"N)
Lower Left  ( 112.8082592,  -0.3442274) (112d48'29.73"E,  0d20'39.22"S)
Upper Right ( 113.5528614,   0.3158685) (113d33'10.30"E,  0d18'57.13"N)
Lower Right ( 113.5528614,  -0.3442274) (113d33'10.30"E,  0d20'39.22"S)
Center      ( 113.1805603,  -0.0141794) (113d10'50.02"E,  0d 0'51.05"S)
Band 1 Block=512x128 Type=Int16, ColorInterp=Undefined
  NoData Value=0
*** glibc detected *** double free or corruption (out):
0x00000000005a7d90 ***
Aborted (core dumped)

And here is the backtrace of "gdb gdalinfo core":

#0  0x0000002a9816be69 in kill () from /lib/libc.so.6
#1  0x0000002a95fe9891 in pthread_kill () from /lib/libpthread.so.0
#2  0x0000002a95fe9c12 in raise () from /lib/libpthread.so.0
#3  0x0000002a9816bb62 in raise () from /lib/libc.so.6
#4  0x0000002a9816cef2 in abort () from /lib/libc.so.6
#5  0x0000002a981a3e14 in malloc_usable_size () from /lib/libc.so.6
#6  0x0000002a981a48da in free () from /lib/libc.so.6
#7  0x0000002a958bc150 in VSIFree () from /usr/local/lib/libgdal.so.1
#8  0x0000002a958ca42d in GDALDestroyWarpOptions () from
/usr/local/lib/libgdal.so.1
#9  0x0000002a958d3b4e in GDALWarpOperation::WipeOptions() () from
/usr/local/lib/libgdal.so.1
#10 0x0000002a958d3ab9 in GDALWarpOperation::~GDALWarpOperation() ()
from /usr/local/lib/libgdal.so.1
#11 0x0000002a9589d6f4 in VRTWarpedDataset::~VRTWarpedDataset() () from
/usr/local/lib/libgdal.so.1
#12 0x0000002a958a9df9 in GDALClose () from /usr/local/lib/libgdal.so.1
#13 0x0000000000402e59 in main ()

Alas I'm on amd64 and valgrind has not yet been ported to that arch.

I'm using a fresh gdal from cvs, and gentoo linux on amd64. In this
case, GDAL has been compiled without any optimization.

Any thoughts?

Cheers,
Vincent.

From fwarmerdam at gmail.com  Mon Apr 11 09:37:04 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] double free or corruption in vrt with gcp's
In-Reply-To: <425A5811.8000603@ecovla.nl>
References: <425A5811.8000603@ecovla.nl>
Message-ID: <931f8ea905041106371b341845@mail.gmail.com>

On Apr 11, 2005 6:57 AM, vincent@ecovla.nl <vincent@ecovla.nl> wrote:
> Folks,
> 
> [sorry when posting twice, tried through gmane but doesn't seem to come
> trough...]
> 
> I have some problems using warped vrt files with gcp's, and I'd
> appreciate it if someone could shed some light on it. The situations is
> as follows:

Vincent, 

This does sound like a bug.  It would be best if you could submit
this as a bug via bugzilla, attaching the .vrt to the bug but with a
reference to the original HDF file since we don't like to put big
files into bugzilla. 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From neteler at itc.it  Tue Apr 12 06:09:29 2005
From: neteler at itc.it (Markus Neteler)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] Fetching path to /usr[/local]/share/gdal?
Message-ID: <20050412100928.GD18833@thuille.itc.it>

Hi,

I have made a few modifications to the GRASS/GDAL 
plugin to enable projection support. Seems to work so
far:

gdalinfo ~/grassdata/spearfish60/PERMANENT/cellhd/elevation.dem |head -25
Driver: GRASS/GRASS Database Rasters (5.7+)
Size is 633, 466
Coordinate System is:
PROJCS["UTM Zone 13, Northern Hemisphere",
    GEOGCS["clark66",
        DATUM["North_American_Datum_1927",
            SPHEROID["clark66",6378206.4,294.9786982]],
        PRIMEM["Greenwich",0],
        UNIT["degree",0.0174532925199433]],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["latitude_of_origin",0],
    PARAMETER["central_meridian",-105],
    PARAMETER["scale_factor",0.9996],
    PARAMETER["false_easting",500000],
    PARAMETER["false_northing",0],
    UNIT["meter",1]]
Origin = (590010.000000,4928000.000000)
Pixel Size = (30.00000000,-30.00000000)
Corner Coordinates:
Upper Left  (  590010.000, 4928000.000) (103d52'3.97"W, 44d30'5.97"N)
Lower Left  (  590010.000, 4914020.000) (103d52'12.71"W, 44d22'32.96"N)


To finish it (before submitting patches) I would
like to know how to fetch the path to /usr[/local]/share/gdal?
Certainly simple, but I don't find the related CPL function.
For now I have it hardcoded in frmts/grass/grass57dataset.cpp.

Markus


From vincent at ecovla.nl  Tue Apr 12 08:21:19 2005
From: vincent at ecovla.nl (Vincent Schut)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] gdal_merge.py not setting NoDataValue for dst files
Message-ID: <d3ge9i$ach$1@sea.gmane.org>

Frank,

is it on purpose that gdal_merge.py does not set the nodata value of the
resulting file?

I 'fixed' this for myself by adding "t_band.SetNoDataValue(nodata)" in
raster_copy_with_nodata (line 141). Is this appropriate?

Vincent.


From fwarmerdam at gmail.com  Tue Apr 12 09:34:10 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] gdal_merge.py not setting NoDataValue for dst files
In-Reply-To: <d3ge9i$ach$1@sea.gmane.org>
References: <d3ge9i$ach$1@sea.gmane.org>
Message-ID: <931f8ea905041206347e77a8d8@mail.gmail.com>

On Apr 12, 2005 8:21 AM, Vincent Schut <vincent@ecovla.nl> wrote:
> Frank,
> 
> is it on purpose that gdal_merge.py does not set the nodata value of the
> resulting file?
> 
> I 'fixed' this for myself by adding "t_band.SetNoDataValue(nodata)" in
> raster_copy_with_nodata (line 141). Is this appropriate?

Vincent, 

This isn't really a very general solution.  For one thing, the nodata
value specified on the commandline relates to the source file.  Pixels
of that value are not copied to the destination image.   No effort
is made to pre-initialize the output image to any specific value so it
will normally default to zero which could be considered the output
nodata value.   Of course, we could be copying perfectly valid 
zeros into the output image, so I hesitate to mark that as a nodata
value in the output image. 

If we wanted to handle this properly we would need another 
"-dstnodata" switch or something similar that would (if used) cause
the output image to be pre-initialized to that value, and record it
as the nodata value for the desination image. 

However, it is really my intention to phase out gdal_merge.py, so
I hate to spend too much time working on it.  It is really a "poor cousin"
to the gdalwarp program which is much more general.  It continues
to be useful mainly because it has the ability to work on a bunch of
images in one invocation, and because it has the -seperate stacking
feature.  

Of course, your change may be adequate for your needs if the
input and output are both using 0 for the nodata value. 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From fwarmerdam at gmail.com  Tue Apr 12 10:12:42 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] Fetching path to /usr[/local]/share/gdal?
In-Reply-To: <20050412100928.GD18833@thuille.itc.it>
References: <20050412100928.GD18833@thuille.itc.it>
Message-ID: <931f8ea905041207121d3ab33@mail.gmail.com>

On Apr 12, 2005 6:09 AM, Markus Neteler <neteler@itc.it> wrote:
> Hi,
> 
> I have made a few modifications to the GRASS/GDAL
> plugin to enable projection support. Seems to work so
> far:
...
> To finish it (before submitting patches) I would
> like to know how to fetch the path to /usr[/local]/share/gdal?
> Certainly simple, but I don't find the related CPL function.
> For now I have it hardcoded in frmts/grass/grass57dataset.cpp.

Markus, 

Normally this could be found using the call:

  CPLGetConfigOption( "GDAL_DATA", "/usr/local/share/gdal" );

However, if you are using it to find the .csv files, this is normally
accomplished by calling CSVFilename("pcs.csv") and letting it
find the files.  

Perhaps you should submit the patches as is, since I will almost
certainly want to fiddle with some of how this is handled. 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From vincent at ecovla.nl  Tue Apr 12 10:24:39 2005
From: vincent at ecovla.nl (vincent@ecovla.nl)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] gdal_merge.py not setting NoDataValue for dst files
In-Reply-To: <931f8ea905041206347e77a8d8@mail.gmail.com>
References: <d3ge9i$ach$1@sea.gmane.org>
	<931f8ea905041206347e77a8d8@mail.gmail.com>
Message-ID: <425BDA27.3070105@ecovla.nl>

Frank Warmerdam wrote:
> On Apr 12, 2005 8:21 AM, Vincent Schut <vincent@ecovla.nl> wrote:
> 
>>Frank,
>>
>>is it on purpose that gdal_merge.py does not set the nodata value of the
>>resulting file?
>>
>>I 'fixed' this for myself by adding "t_band.SetNoDataValue(nodata)" in
>>raster_copy_with_nodata (line 141). Is this appropriate?
> 
> 
> Vincent, 
> 
> This isn't really a very general solution.  For one thing, the nodata
> value specified on the commandline relates to the source file.  Pixels
> of that value are not copied to the destination image.   No effort
> is made to pre-initialize the output image to any specific value so it
> will normally default to zero which could be considered the output
> nodata value.   Of course, we could be copying perfectly valid 
> zeros into the output image, so I hesitate to mark that as a nodata
> value in the output image. 
> 
> If we wanted to handle this properly we would need another 
> "-dstnodata" switch or something similar that would (if used) cause
> the output image to be pre-initialized to that value, and record it
> as the nodata value for the desination image. 
> 
> However, it is really my intention to phase out gdal_merge.py, so
> I hate to spend too much time working on it.  It is really a "poor cousin"
> to the gdalwarp program which is much more general.  It continues
> to be useful mainly because it has the ability to work on a bunch of
> images in one invocation, and because it has the -seperate stacking
> feature.  
> 
> Of course, your change may be adequate for your needs if the
> input and output are both using 0 for the nodata value. 
> 
> Best regards,

OK, I understand. It is indeed gdal_merge.py's layer stacking feature
('-separate') that I use, to re-unite sds's from an aster hdf file
(which gdal_translate does not see as one file with several bands).
Because I'd like to view several aster scenes together, I needed the
0's, which are nodata in the original files till they encounter
gdal_merge which doesn't propagate them as nodata, to be nodata to
prevent them from overlapping other good aster data. I think nodata
value propagation is a 'good thing', even in gdal_merge.py, but I fully
understand that you don't want to spend too much time on it. Alas
gdal_translate lacks an option to add a nodata value, otherwise that
would be a solution. Currently there is no other way to have the nodata
value set after using gdal_merge.py, then this 'fix' or creating a vrt
file and editing by hand (which I don't want to do with 500+ scenes...).
So for now I'll keep my fix. But I like the ability of gdal_merge to
create a multilayer file from different single layer files, so please
don't wipe gdal_merge till we have a good substitute for that... :-)
Btw should I file an enhancement request in bugzilla for a -dst_nodata
option for gdal_translate, to be able to add a nodata setting to the
destination file? Or are there caveats for this which I overlook now? I
think this would be a nice and handy and logical extra function of
gdal_translate.

Regards,
Vincent.

From fwarmerdam at gmail.com  Tue Apr 12 10:39:56 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] gdal_merge.py not setting NoDataValue for dst files
In-Reply-To: <425BDA27.3070105@ecovla.nl>
References: <d3ge9i$ach$1@sea.gmane.org>
	<931f8ea905041206347e77a8d8@mail.gmail.com>
	<425BDA27.3070105@ecovla.nl>
Message-ID: <931f8ea905041207397ee87084@mail.gmail.com>

On Apr 12, 2005 10:24 AM, vincent@ecovla.nl <vincent@ecovla.nl> wrote:
> would be a solution. Currently there is no other way to have the nodata
> value set after using gdal_merge.py, then this 'fix' or creating a vrt
> file and editing by hand (which I don't want to do with 500+ scenes...).
> So for now I'll keep my fix. But I like the ability of gdal_merge to
> create a multilayer file from different single layer files, so please
> don't wipe gdal_merge till we have a good substitute for that... :-)

Vincent,

Well, I'm in no hurry to wipe out gdal_merge.py, though it is possible
that one day it will be reduced in status to a member of the "sample
scripts" directory.  I think it is a useful example of how images can be
manipulated in a python script with relatively easy control for the user. 
This is helpful exactly so that folks can customize the processing steps
as you have. 

> Btw should I file an enhancement request in bugzilla for a -dst_nodata
> option for gdal_translate, to be able to add a nodata setting to the
> destination file? Or are there caveats for this which I overlook now? I
> think this would be a nice and handy and logical extra function of
> gdal_translate.

In order to save two bugzilla bug entries, I have added the feature
(called -a_nodata)  to gdal_translate (1 bug report) and also added 
the docs to the  utilities page for the new option saving Markus
the trouble of preparing a docs patch and submitting it (2nd bug report). 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From vincent at ecovla.nl  Tue Apr 12 10:55:31 2005
From: vincent at ecovla.nl (vincent@ecovla.nl)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] gdal_merge.py not setting NoDataValue for dst files
In-Reply-To: <931f8ea905041207397ee87084@mail.gmail.com>
References: <d3ge9i$ach$1@sea.gmane.org>	
	<931f8ea905041206347e77a8d8@mail.gmail.com>	
	<425BDA27.3070105@ecovla.nl>
	<931f8ea905041207397ee87084@mail.gmail.com>
Message-ID: <425BE163.4030708@ecovla.nl>

Frank Warmerdam wrote:

> 
> In order to save two bugzilla bug entries, I have added the feature
> (called -a_nodata)  to gdal_translate (1 bug report) and also added 
> the docs to the  utilities page for the new option saving Markus
> the trouble of preparing a docs patch and submitting it (2nd bug report). 
> 
> Best regards,

Now that's what I call service!

Thanks!
Vincent.

From mlogan at mail.arc.nasa.gov  Tue Apr 12 14:46:20 2005
From: mlogan at mail.arc.nasa.gov (Mike Logan)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] gdal_merge.py on OSX
Message-ID: <2f6851eb9b31ea45aeb3e03d00c0d12e@mail.arc.nasa.gov>

Hi, I am unable to run gdal_merge because its choking on

	import _gdal

which doesn't seem to exist?   This is CVS as of yesterday afternoon.
gdal-1.2.1  doesn't seem to import this file.

Any clues for us clueless?


BTW, as a side note,   the pymod/  module in general still doesn't
  link in OSX, but I removed the -rpath from the GNUmakefile and
  it built fine.    I was getting the undefined symbols before like
   _PyArg_Parse, etc..

thanks,

ml



Michael Logan
QSS Group,Inc./NASA Ames Research Center
Task Lead,                 Visual Cueing & Simulation
Computer Scientist,  Adaptive Control Technologies
MS 262-6,
Moffett Field, CA, 94035
  (650)-604-4494 
  


From fwarmerdam at gmail.com  Tue Apr 12 14:51:16 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] gdal_merge.py on OSX
In-Reply-To: <2f6851eb9b31ea45aeb3e03d00c0d12e@mail.arc.nasa.gov>
References: <2f6851eb9b31ea45aeb3e03d00c0d12e@mail.arc.nasa.gov>
Message-ID: <931f8ea9050412115118d4b8e3@mail.gmail.com>

On Apr 12, 2005 2:46 PM, Mike Logan <mlogan@mail.arc.nasa.gov> wrote:
> Hi, I am unable to run gdal_merge because its choking on
> 
>         import _gdal
> 
> which doesn't seem to exist?   This is CVS as of yesterday afternoon.
> gdal-1.2.1  doesn't seem to import this file.
> 
> Any clues for us clueless?
>
> BTW, as a side note,   the pymod/  module in general still doesn't
>   link in OSX, but I removed the -rpath from the GNUmakefile and
>   it built fine.    I was getting the undefined symbols before like
>    _PyArg_Parse, etc..

Mike,

I configure "--without-libtool" on MacOS X in order to get
the python stuff to work.  If you end up installing the GDAL
pymod stuff somewhere other than the default, you will
likely need to set your PYTHONPATH environment variable
appropriately.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From mlogan at mail.arc.nasa.gov  Tue Apr 12 15:31:28 2005
From: mlogan at mail.arc.nasa.gov (Mike Logan)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] gdal_merge.py on OSX
In-Reply-To: <931f8ea9050412115118d4b8e3@mail.gmail.com>
References: <2f6851eb9b31ea45aeb3e03d00c0d12e@mail.arc.nasa.gov>
	<931f8ea9050412115118d4b8e3@mail.gmail.com>
Message-ID: <0b5bb6aeb4541cf40f6ec210c33695cc@mail.arc.nasa.gov>

worked great.  thanks, Frank.
ml

On Apr 12, 2005, at 11:51 AM, Frank Warmerdam wrote:

> On Apr 12, 2005 2:46 PM, Mike Logan <mlogan@mail.arc.nasa.gov> wrote:
>> Hi, I am unable to run gdal_merge because its choking on
>>
>>         import _gdal
>>
>> which doesn't seem to exist?   This is CVS as of yesterday afternoon.
>> gdal-1.2.1  doesn't seem to import this file.
>>
>> Any clues for us clueless?
>>
>> BTW, as a side note,   the pymod/  module in general still doesn't
>>   link in OSX, but I removed the -rpath from the GNUmakefile and
>>   it built fine.    I was getting the undefined symbols before like
>>    _PyArg_Parse, etc..
>
> Mike,
>
> I configure "--without-libtool" on MacOS X in order to get
> the python stuff to work.  If you end up installing the GDAL
> pymod stuff somewhere other than the default, you will
> likely need to set your PYTHONPATH environment variable
> appropriately.
>
> Best regards,
> --  
> --------------------------------------- 
> +--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,  
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>
>
Michael Logan
QSS Group,Inc./NASA Ames Research Center
Task Lead,                 Visual Cueing & Simulation
Computer Scientist,  Adaptive Control Technologies
MS 262-6,
Moffett Field, CA, 94035
  (650)-604-4494


From usenet at estarcion.net  Tue Apr 12 15:35:08 2005
From: usenet at estarcion.net (Jonathan Greenberg)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] Grass 6.0 support?
Message-ID: <loom.20050412T213326-597@post.gmane.org>

I'm noticing GDAL 1.2.6 is looking for grass5 libraries if I want to compile 
using the --with-grass=ARG flag.  Any chance you can fix this to 
support the recently released grass 6?  Thanks!


From fwarmerdam at gmail.com  Tue Apr 12 16:08:44 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] Grass 6.0 support?
In-Reply-To: <loom.20050412T213326-597@post.gmane.org>
References: <loom.20050412T213326-597@post.gmane.org>
Message-ID: <931f8ea905041213087b9de78@mail.gmail.com>

On Apr 12, 2005 3:35 PM, Jonathan Greenberg <usenet@estarcion.net> wrote:
> I'm noticing GDAL 1.2.6 is looking for grass5 libraries if I want to compile
> using the --with-grass=ARG flag.  Any chance you can fix this to
> support the recently released grass 6?  Thanks!

Jonathan, 

Well, please file a bug on this.  I will need to do a round of 
GRASS work shortly and I can try to address this at that time. 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From neteler at itc.it  Wed Apr 13 11:37:37 2005
From: neteler at itc.it (Markus Neteler)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] SHAPE 3D support?
Message-ID: <20050413153737.GA6914@thuille.itc.it>

Dear list,

from a customer we received a 3D SHAPE file which,
according to the customer, contains 3D buildings.

I tried to import the map with v.in.ogr into GRASS 
which worked well except for the 3rd dimension.
Using shpdump I found:

shpdump SaviglianoZI_CN4410.shp | head
Shapefile Type: PolygonZ   # of Shapes: 24

File Bounds: (  393994.326, 4944791.347,0,0)
         to  (  394305.613, 4945138.609,4.2794e-08,nan)

Shape:0 (PolygonZ)  nVertices=9, nParts=1
  Bounds:(  394243.242, 4944978.999, 4.2794e-08, -1.79769e+308)
      to (  394298.322, 4945091.844, 4.2794e-08, -1.79769e+308)
     (  394259.825, 4945091.844, 4.2794e-08, -1.79769e+308) Ring
     (  394298.322, 4945079.994, 4.2794e-08, -1.79769e+308)
     (  394287.595, 4945045.143, 4.2794e-08, -1.79769e+308)
     (  394296.197, 4945042.495, 4.2794e-08, -1.79769e+308)
     (  394276.652, 4944978.999, 4.2794e-08, -1.79769e+308)
     (  394244.045, 4944989.036, 4.2794e-08, -1.79769e+308)
     (  394258.615, 4945036.368, 4.2794e-08, -1.79769e+308)
     (  394243.242, 4945041.101, 4.2794e-08, -1.79769e+308)
     (  394259.825, 4945091.844, 4.2794e-08, -1.79769e+308)

[...]

It seems that the 3rd dimension is missing in the file (say,
it's unused). According to 
 ogr/ogrsf_frmts/shape/shpopen.c
OGR should grab the 3rd dimension properly.

Someone else was showing me the file in ArcGIS. It was flat unless
the "extrude" function was used which transfers values from a 
selected numeric column (e.g., height) to the third dimension.

It seems that we either have to program a 'shp2dto3d' program
or to program v.extrude in GRASS 6?
Suggestions welcome - maybe someone in this community already
solved the problem...

 Markus

PS: Importing 3D DXF/DWG in GRASS 6 works out of the box
    supposed you have compiled it with opendwg-toolkit.


From jacob.delfos at maunsell.com  Wed Apr 13 23:04:05 2005
From: jacob.delfos at maunsell.com (Delfos, Jacob)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] Link errors with Ilwis in MS dotnet SDK
Message-ID: <E290303DB48F754B95D3172270AA0F2CEA9FB5@auper1ex001.au.aecomnet.com>

Hi List,

When trying to compile using the CVS version of April 13, I get some errors
about "ilwiscoordinatesystem.obj". I have tried to remove it from the
makefile.vc, which results in it compiling at least to the stage of the DLL
(which is all I need).

Unfortunately, the DLL doesn't quite seem to work, because php_mapscript_44
won't load. When using "depends.exe", I get this error:
Error: At least one module has an unresolved import due to a missing export
function in an implicitly dependent module.
It shows gdal12.dll in red, although running "depends" on gdal12.dll itself
gives no errors.

Can anyone tell me whether "Ilwis" is essential, or what else the problem
could be? Using the same platform, I previously compiled a working DLL
(gdal125).

The link errors I get if I keep Ilwis included are:


msvcprt.lib(msvcp71imp.obj) : error LNK2005: "class
std::basic_istream<char,struct std::char_traits<char> > & __cdecl st
d::operator>><char,struct std::char_traits<char>,class std::allocator<char>
>(class std::basic_istream<char,struct std::
char_traits<char> > &,class std::basic_string<char,struct
std::char_traits<char>,class std::allocator<char> > &)" (??$?5
DU?$char_traits@D@std@@V?$allocator@D@1@@std@@YAAAV?$basic_istream@DU?$char_
traits@D@std@@@0@AAV10@AAV?$basic_string@DU?
$char_traits@D@std@@V?$allocator@D@2@@0@@Z) already defined in
ilwiscoordinatesystem.obj

[...]

msvcprt.lib(msvcp71imp.obj) : warning LNK4006: "class
std::basic_istream<unsigned short,struct std::char_traits<unsigned
 short> > & __cdecl std::getline<unsigned short,struct
std::char_traits<unsigned short>,class std::allocator<unsigned sh
ort> >(class std::basic_istream<unsigned short,struct
std::char_traits<unsigned short> > &,class std::basic_string<unsig
ned short,struct std::char_traits<unsigned short>,class
std::allocator<unsigned short> > &,unsigned short)" (??$getline@
GU?$char_traits@G@std@@V?$allocator@G@2@@std@@YAAAV?$basic_istream@GU?$char_
traits@G@std@@@0@AAV10@AAV?$basic_string@GU?
$char_traits@G@std@@V?$allocator@G@2@@0@G@Z) already defined in
ilwiscoordinatesystem.obj; second definition ignored
   Creating library gdal_i.lib and object gdal_i.exp
MSVCRT.lib(cinitexe.obj) : warning LNK4098: defaultlib 'libc.lib' conflicts
with use of other libs; use /NODEFAULTLIB:li
brary
gdal12.dll : fatal error LNK1169: one or more multiply defined symbols found
NMAKE : fatal error U1077: 'link' : return code '0x491'


Regards,

Jacob


JACOB DELFOS
SPATIAL INFORMATION ANALYST
Maunsell Australia Pty Ltd
629 Newcastle Street, WA 6007
PO Box 81, WA 6902
Leederville 
Western Australia
ABN 20 093 846 925

Tel     + 61 8 9281 6185
Fax    + 61 8 9281 6297
jacob.delfos@maunsell.com

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20050414/d597846f/attachment.html
From hobu at iastate.edu  Wed Apr 13 23:11:55 2005
From: hobu at iastate.edu (Howard Butler)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] Link errors with Ilwis in MS dotnet SDK
In-Reply-To: <E290303DB48F754B95D3172270AA0F2CEA9FB5@auper1ex001.au.aecomnet.com>
References: <E290303DB48F754B95D3172270AA0F2CEA9FB5@auper1ex001.au.aecomnet.com>
Message-ID: <p06200703be838f5e6dd7@[192.168.254.9]>

Jacob,

You can disable the ilwis driver by editing the makefile.vc in the 
frmts directory and removing the -DFRMT_ilwis variable in the 
EXTRAFLAGS line.

Howard


At 1:04 PM +1000 4/14/05, Delfos, Jacob wrote:
>Hi List,
>
>When trying to compile using the CVS version of April 13, I get some 
>errors about "ilwiscoordinatesystem.obj". I have tried to remove it 
>from the makefile.vc, which results in it compiling at least to the 
>stage of the DLL (which is all I need).
>
>Unfortunately, the DLL doesn't quite seem to work, because 
>php_mapscript_44 won't load. When using "depends.exe", I get this 
>error:
>
>Error: At least one module has an unresolved import due to a missing 
>export function in an implicitly dependent module.
>It shows gdal12.dll in red, although running "depends" on gdal12.dll 
>itself gives no errors.
>
>Can anyone tell me whether "Ilwis" is essential, or what else the 
>problem could be? Using the same platform, I previously compiled a 
>working DLL (gdal125).
>
>The link errors I get if I keep Ilwis included are:
>
>
>msvcprt.lib(msvcp71imp.obj) : error LNK2005: "class 
>std::basic_istream<char,struct std::char_traits<char> > & __cdecl st
>
>d::operator>><char,struct std::char_traits<char>,class 
>std::allocator<char> >(class std::basic_istream<char,struct std::
>
>char_traits<char> > &,class std::basic_string<char,struct 
>std::char_traits<char>,class std::allocator<char> > &)" (??$?5
>
>DU?$char_traits@D@std@@V?$allocator@D@1@@std@@YAAAV?$basic_istream@DU?$char_traits@D@std@@@0@AAV10@AAV?$basic_string@DU?
>
>$char_traits@D@std@@V?$allocator@D@2@@0@@Z) already defined in 
>ilwiscoordinatesystem.obj
>
>[...]
>
>msvcprt.lib(msvcp71imp.obj) : warning LNK4006: "class 
>std::basic_istream<unsigned short,struct std::char_traits<unsigned
>
>  short> > & __cdecl std::getline<unsigned short,struct 
>std::char_traits<unsigned short>,class std::allocator<unsigned sh
>
>ort> >(class std::basic_istream<unsigned short,struct 
>std::char_traits<unsigned short> > &,class std::basic_string<unsig
>
>ned short,struct std::char_traits<unsigned short>,class 
>std::allocator<unsigned short> > &,unsigned short)" (??$getline@
>
>GU?$char_traits@G@std@@V?$allocator@G@2@@std@@YAAAV?$basic_istream@GU?$char_traits@G@std@@@0@AAV10@AAV?$basic_string@GU?
>
>$char_traits@G@std@@V?$allocator@G@2@@0@G@Z) already defined in 
>ilwiscoordinatesystem.obj; second definition ignored
>    Creating library gdal_i.lib and object gdal_i.exp
>MSVCRT.lib(cinitexe.obj) : warning LNK4098: defaultlib 'libc.lib' 
>conflicts with use of other libs; use /NODEFAULTLIB:li
>
>brary
>gdal12.dll : fatal error LNK1169: one or more multiply defined symbols found
>NMAKE : fatal error U1077: 'link' : return code '0x491'
>
>
>Regards,
>
>Jacob
>
>
>JACOB DELFOS
>SPATIAL INFORMATION ANALYST
>Maunsell Australia Pty Ltd
>629 Newcastle Street, WA 6007
>PO Box 81, WA 6902
>Leederville
>Western Australia
>ABN 20 093 846 925
>
>Tel     + 61 8 9281 6185
>Fax    + 61 8 9281 6297
>jacob.delfos@maunsell.com
>
>
>_______________________________________________
>Gdal-dev mailing list
>Gdal-dev@xserve.flids.com
>http://xserve.flids.com/mailman/listinfo/gdal-dev
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20050413/d6f5d41c/attachment.html
From jacob.delfos at maunsell.com  Wed Apr 13 23:25:40 2005
From: jacob.delfos at maunsell.com (Delfos, Jacob)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] Link errors with Ilwis in MS dotnet SDK
Message-ID: <E290303DB48F754B95D3172270AA0F2CEA9FB6@auper1ex001.au.aecomnet.com>

Howard,
 
yeah, that's what I did. But like I said, my DLL is now misbehaving a bit. I
was just wondering whether it had to do with me removing it, since I am not
sure what it is.
 
thanks,
 
Jacob

  _____  

From: Howard Butler [mailto:hobu@iastate.edu] 
Sent: 14 April 2005 11:12
To: Delfos, Jacob; 'gdal-dev@xserve.flids.com'
Subject: Re: [Gdal-dev] Link errors with Ilwis in MS dotnet SDK


Jacob,

You can disable the ilwis driver by editing the makefile.vc in the frmts
directory and removing the -DFRMT_ilwis variable in the EXTRAFLAGS line.

Howard


At 1:04 PM +1000 4/14/05, Delfos, Jacob wrote:

Hi List,


When trying to compile using the CVS version of April 13, I get some errors
about "ilwiscoordinatesystem.obj". I have tried to remove it from the
makefile.vc, which results in it compiling at least to the stage of the DLL
(which is all I need).


Unfortunately, the DLL doesn't quite seem to work, because php_mapscript_44
won't load. When using "depends.exe", I get this error:


Error: At least one module has an unresolved import due to a missing export
function in an implicitly dependent module.
It shows gdal12.dll in red, although running "depends" on gdal12.dll itself
gives no errors.


Can anyone tell me whether "Ilwis" is essential, or what else the problem
could be? Using the same platform, I previously compiled a working DLL
(gdal125).


The link errors I get if I keep Ilwis included are:



msvcprt.lib(msvcp71imp.obj) : error LNK2005: "class
std::basic_istream<char,struct std::char_traits<char> > & __cdecl st


d::operator>><char,struct std::char_traits<char>,class std::allocator<char>
>(class std::basic_istream<char,struct std::


char_traits<char> > &,class std::basic_string<char,struct
std::char_traits<char>,class std::allocator<char> > &)" (??$?5


DU?$char_traits@D@std@@V?$allocator@D@1@@std@@YAAAV?$basic_istream@DU?$char_
traits@D@std@@@0@AAV10@AAV?$basic_string@DU?


$char_traits@D@std@@V?$allocator@D@2@@0@@Z) already defined in
ilwiscoordinatesystem.obj


[...]


msvcprt.lib(msvcp71imp.obj) : warning LNK4006: "class
std::basic_istream<unsigned short,struct std::char_traits<unsigned


 short> > & __cdecl std::getline<unsigned short,struct
std::char_traits<unsigned short>,class std::allocator<unsigned sh


ort> >(class std::basic_istream<unsigned short,struct
std::char_traits<unsigned short> > &,class std::basic_string<unsig


ned short,struct std::char_traits<unsigned short>,class
std::allocator<unsigned short> > &,unsigned short)" (??$getline@


GU?$char_traits@G@std@@V?$allocator@G@2@@std@@YAAAV?$basic_istream@GU?$char_
traits@G@std@@@0@AAV10@AAV?$basic_string@GU?


$char_traits@G@std@@V?$allocator@G@2@@0@G@Z) already defined in
ilwiscoordinatesystem.obj; second definition ignored
   Creating library gdal_i.lib and object gdal_i.exp
MSVCRT.lib(cinitexe.obj) : warning LNK4098: defaultlib 'libc.lib' conflicts
with use of other libs; use /NODEFAULTLIB:li


brary
gdal12.dll : fatal error LNK1169: one or more multiply defined symbols found
NMAKE : fatal error U1077: 'link' : return code '0x491'



Regards,


Jacob



JACOB DELFOS
SPATIAL INFORMATION ANALYST
Maunsell Australia Pty Ltd
629 Newcastle Street, WA 6007
PO Box 81, WA 6902
Leederville
Western Australia
ABN 20 093 846 925

Tel     + 61 8 9281 6185
Fax    + 61 8 9281 6297
jacob.delfos@maunsell.com



_______________________________________________
Gdal-dev mailing list
Gdal-dev@xserve.flids.com
http://xserve.flids.com/mailman/listinfo/gdal-dev


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20050414/c42e17c4/attachment.html
From neteler at itc.it  Thu Apr 14 03:59:29 2005
From: neteler at itc.it (Markus Neteler)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] Grass 6.0 support?
In-Reply-To: <loom.20050412T213326-597@post.gmane.org>
References: <loom.20050412T213326-597@post.gmane.org>
Message-ID: <20050414075929.GB9739@thuille.itc.it>

On Tue, Apr 12, 2005 at 07:35:08PM +0000, Jonathan Greenberg wrote:
> I'm noticing GDAL 1.2.6 is looking for grass5 libraries if I want to compile 
> using the --with-grass=ARG flag.  Any chance you can fix this to 
> support the recently released grass 6?  Thanks!
> 

There are two ways to configure GDAL with GRASS support:

 http://www.gdal.org/frmt_grass.html
 -> NOTES on driver variations

./configure --help | grep grass
  --with-grass=ARG      Include GRASS support (GRASS 5.7+, ARG=GRASS install tree dir)
  --with-libgrass=ARG   Include GRASS support based on libgrass (GRASS 5.0+)

Using --with-grass=/path/to/grass6/libs it will pick the
GRASS 6 libraries.

Markus

From k.dejong at geo.uu.nl  Thu Apr 14 04:04:17 2005
From: k.dejong at geo.uu.nl (Kor de Jong)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] GetGeoTransform/png bug?
Message-ID: <200504141004.17479.k.dejong@geo.uu.nl>

Hi list,

I am using GetGeoTransform, and according to the documentation "The default 
transform is (0,1,0,0,0,1) and should be returned even when a CE_Failure 
error is returned, such as for formats that don't support transformation to 
projection coordinates.". When my application loads a png file 
GetGeoTransform returns CE_Failure but the transform coefficients are not set 
to (0,1,0,0,0,1). I guess this is a bug in the png driver? As another 
example, the GIF driver does return (0,1,0,0,0,1).

I use GDAL 1.2.6.0, released 2005/03/13.

Best regards,
Kor de Jong




From fwarmerdam at gmail.com  Thu Apr 14 09:05:41 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] GetGeoTransform/png bug?
In-Reply-To: <200504141004.17479.k.dejong@geo.uu.nl>
References: <200504141004.17479.k.dejong@geo.uu.nl>
Message-ID: <931f8ea905041406057fd399e2@mail.gmail.com>

On 4/14/05, Kor de Jong <k.dejong@geo.uu.nl> wrote:
> Hi list,
> 
> I am using GetGeoTransform, and according to the documentation "The default
> transform is (0,1,0,0,0,1) and should be returned even when a CE_Failure
> error is returned, such as for formats that don't support transformation to
> projection coordinates.". When my application loads a png file
> GetGeoTransform returns CE_Failure but the transform coefficients are not set
> to (0,1,0,0,0,1). I guess this is a bug in the png driver? As another
> example, the GIF driver does return (0,1,0,0,0,1).

Kor, 

This is a failure of the png driver to follow the specification, though in 
practice I have found it is dangerous to depend on the geotransform
in cases where the fetch fails as driver implementors often do this
aspect incorrectly (as I did for PNG).  

This will hopefully get corrected by my current efforts to implement
"persistant auxilary metadata" support in a driver generic way.   It has
already corrected it for the PNG driver which I am using as a test of the
new mechanisms. 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From fwarmerdam at gmail.com  Thu Apr 14 09:18:42 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] Link errors with Ilwis in MS dotnet SDK
In-Reply-To: <E290303DB48F754B95D3172270AA0F2CEA9FB6@auper1ex001.au.aecomnet.com>
References: <E290303DB48F754B95D3172270AA0F2CEA9FB6@auper1ex001.au.aecomnet.com>
Message-ID: <931f8ea905041406184a194c4b@mail.gmail.com>

On 4/13/05, Delfos, Jacob <jacob.delfos@maunsell.com> wrote:
>  
> Howard, 
>   
> yeah, that's what I did. But like I said, my DLL is now misbehaving a bit. I
> was just wondering whether it had to do with me removing it, since I am not
> sure what it is. 

Jacob, 

My guess would be that you didn't do a "nmake /f makefile.vc clean"
or that if you did, it didn't work properly.  If ilwis is removed from the list
in frmts/makefile.vc, it should be completely dropped and there should
be no negative effects from this. 

What version of VS.Net are you using?  It seems that newer versions
have diverged substantially from VS.Net 2002 which I have, and that
compatibility problems that are hard for me to deal with are coming
up with newer versions.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From dem at acri-st.fr  Thu Apr 14 09:33:10 2005
From: dem at acri-st.fr (Julien Demaria)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] ogr2ogr little patch delete feature
Message-ID: <6.1.1.1.0.20050414152949.02369908@pop3>

Is OGRFeature::DestroyFeature better than delete feature ?

@@ -758,41 +758,44 @@

          CPLErrorReset();
          poDstFeature = OGRFeature::CreateFeature( 
poDstLayer->GetLayerDefn() );

          if( poDstFeature->SetFrom( poFeature, TRUE ) != OGRERR_NONE )
          {
              if( nGroupTransactions )
                  poDstLayer->CommitTransaction();

-            delete poFeature;
-
              CPLError( CE_Failure, CPLE_AppDefined,
                        "Unable to translate feature %d from layer %s.\n",
                        poFeature->GetFID(), poFDefn->GetName() );
+
+            delete poFeature;
              return FALSE;
          }

          if( bPreserveFID )
              poDstFeature->SetFID( poFeature->GetFID() );

          if( poCT && poDstFeature->GetGeometryRef() != NULL )
          {
              eErr = poDstFeature->GetGeometryRef()->transform( poCT );
              if( eErr != OGRERR_NONE )
              {
                  if( nGroupTransactions )
                      poDstLayer->CommitTransaction();

                  printf( "Failed to transform feature %d.\n",
                          (int) poFeature->GetFID() );
                  if( !bSkipFailures )
+               {
+                    delete poFeature;
                      return FALSE;
+               }
              }
          }

          if( poDstFeature->GetGeometryRef() != NULL && bForceToPolygon )
          {
              poDstFeature->SetGeometryDirectly(
                  OGRGeometryFactory::forceToPolygon(
                      poDstFeature->StealGeometry() ) );
          }


From fwarmerdam at gmail.com  Thu Apr 14 10:18:11 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] ogr2ogr little patch delete feature
In-Reply-To: <6.1.1.1.0.20050414152949.02369908@pop3>
References: <6.1.1.1.0.20050414152949.02369908@pop3>
Message-ID: <931f8ea90504140718f3015cc@mail.gmail.com>

On 4/14/05, Julien Demaria <dem@acri-st.fr> wrote:
> Is OGRFeature::DestroyFeature better than delete feature ?

Julien, 

I have applied a variation on your patch.  Yes, DestroyFeature()
is safer in the context of ogr2ogr, because it still works if the
GDAL DLL has a different heap (on win32) than the mainline
since it deferred the delete operation to the GDAL DLL itself. 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From asger at jo-informatik.dk  Thu Apr 14 11:09:02 2005
From: asger at jo-informatik.dk (Asger Petersen)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] Warping of large files
Message-ID: <6A0257B028DA47499B5A843683051A36068DF8@server01.jo-informatik.local>

Hi list

I would really appreciate some advice on this problem:
I have received a couple of large (?-1GB) ecw-files that are geocoded in an obscure coordinate system. I have to display these files via WMS using mapserver, so it is necessary to reproject them. I have a coordinate transformation program that allows me to transform the obscure coordinates to coordinates in more known systems like utm.

I imagined doing something like:
1) use gdal_translate to add GCPs with coordinates in utm
2) use gdalwarp to warp the image into utm projection
3) compress image to ecw (as our mapserver doesn't support jp2 at the moment)
This method is fine for small images, but it is not suitable for my large files because I can't get an appropriate rw+ format to work with the warp. Gtiff is out of the question as the resulting files are way too big for this format. Using the --formats option the JP2ECW is shown to be rw+, but the driver keeps throwing a "ERROR 5: destination band 1 appears to be read-only." error. As I understand it compressing large files to ecw could also be a problem due to some limitation in the ecw sdk.

Of course i could chop the files into pieces small enough to use Gtiff and then mosaik them in Mapserver, but I would really prefer keeping them in one piece.

Any advice on how to handle this are highly appreciated.

Regards
Asger Petersen


From fwarmerdam at gmail.com  Thu Apr 14 11:25:26 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] Warping of large files
In-Reply-To: <6A0257B028DA47499B5A843683051A36068DF8@server01.jo-informatik.local>
References: <6A0257B028DA47499B5A843683051A36068DF8@server01.jo-informatik.local>
Message-ID: <931f8ea9050414082565afe0cc@mail.gmail.com>

On 4/14/05, Asger Petersen <asger@jo-informatik.dk> wrote:
> Hi list
> 
> I would really appreciate some advice on this problem:
> I have received a couple of large (?-1GB) ecw-files that are geocoded in an obscure coordinate system. I have to display these files via WMS using mapserver, so it is necessary to reproject them. I have a coordinate transformation program that allows me to transform the obscure coordinates to coordinates in more known systems like utm.
> 
> I imagined doing something like:
> 1) use gdal_translate to add GCPs with coordinates in utm
> 2) use gdalwarp to warp the image into utm projection
> 3) compress image to ecw (as our mapserver doesn't support jp2 at the moment)
> This method is fine for small images, but it is not suitable for my large files because I can't get an appropriate rw+ format to work with the warp. Gtiff is out of the question as the resulting files are way too big for this format. Using the --formats option the JP2ECW is shown to be rw+, but the driver keeps throwing a "ERROR 5: destination band 1 appears to be read-only." error. As I understand it compressing large files to ecw could also be a problem due to some limitation in the ecw sdk.
> 
> Of course i could chop the files into pieces small enough to use Gtiff and then mosaik them in Mapserver, but I would really prefer keeping them in one piece.

Asger, 

The JP2ECW driver is a special case.  It supports Create() and write
but only if the writes are full scanlines written sequentially.  This is a 
violation of the general model, but was necessary for internal use of
GDAL at ERMapper.   I may well disable this Create support in general
builds to avoid confusion. 

I would suggest you write out to a format that supports large files as
the intermediate.  Likely PAux format would do fine for your needs, but
you could also use a format like Erdas Imagine (HFA driver). 

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From jacob.delfos at maunsell.com  Thu Apr 14 21:39:16 2005
From: jacob.delfos at maunsell.com (Delfos, Jacob)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] Link errors with Ilwis in MS dotnet SDK
Message-ID: <E290303DB48F754B95D3172270AA0F2CEA9FBA@auper1ex001.au.aecomnet.com>

Hi Frank,

I'm using:
- Microsoft .NET SDK (which contains the core items such as nmake)
- Microsoft Platform SDK for Windows XP SP2
- microsoft Server 2003 PSDK
- Microsoft Visual C++ Toolkit 2003

I know it seems weird, just that neither one of these SDK's contains all
utilities/files required to compile. It's a nightmare of missing/conflicting
.h, .obj, .exe and .lib files. Took me many days to sort out. I don't blame
you if you wouldn't want to tune gdal to it.

I did a clean compile (using the original package files), but Ilwis still
wouldn't work. But without Ilwis, gdal compiles and links completely (after
making the python dir a non-existing one). The executables in "apps" work
fine with the new gdal12.dll. But php_mapscript (versions 42 and 44) doesn't
like the dll. Although when I compiled gdal125, php_mapscript worked fine
with it. Has anything changed? Can gdal normally be compiled independently
from php_mapscript?

I did try it with Cygwin once (no errors), but I didn't get a DLL file
(executables seems to have all functionality package in it).

Regards,

Jacob






-----Original Message-----
From: Frank Warmerdam [mailto:fwarmerdam@gmail.com] 
Sent: 14 April 2005 21:19
To: Delfos, Jacob
Cc: gdal-dev@xserve.flids.com
Subject: Re: [Gdal-dev] Link errors with Ilwis in MS dotnet SDK

On 4/13/05, Delfos, Jacob <jacob.delfos@maunsell.com> wrote:
>  
> Howard, 
>   
> yeah, that's what I did. But like I said, my DLL is now misbehaving a bit.
I
> was just wondering whether it had to do with me removing it, since I am
not
> sure what it is. 

Jacob, 

My guess would be that you didn't do a "nmake /f makefile.vc clean"
or that if you did, it didn't work properly.  If ilwis is removed from the
list
in frmts/makefile.vc, it should be completely dropped and there should
be no negative effects from this. 

What version of VS.Net are you using?  It seems that newer versions
have diverged substantially from VS.Net 2002 which I have, and that
compatibility problems that are hard for me to deal with are coming
up with newer versions.

Best regards,
-- 
---------------------------------------+------------------------------------
--
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From richard.greenwood at gmail.com  Thu Apr 14 22:56:52 2005
From: richard.greenwood at gmail.com (Richard Greenwood)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] Re: Warping of large files
References: <6A0257B028DA47499B5A843683051A36068DF8@server01.jo-informatik.local>
Message-ID: <loom.20050415T044409-391@post.gmane.org>

Asger Petersen <asger <at> jo-informatik.dk> writes:

> Of course i could chop the files into pieces small enough to use Gtiff and
then mosaik them in Mapserver, but I
> would really prefer keeping them in one piece.

I can understand your reluctance to create tiled geotiff's but it is a very
fast, and relatively easy solution. If your images are color, try to make them
into a palettized (pseudo color) image. Possibly limit the number of colors in
the palette to less than 255 if you have other colors required for overlays in
your map file. Use a tileindex, and use overviews (gdaladdo). In my limited
testing a couple years ago this approached provided the fastest performance for
serving imagery off my system.




From BEN at Syncera-ITSolutions.NL  Fri Apr 15 10:17:33 2005
From: BEN at Syncera-ITSolutions.NL (Bart van den Eijnden)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] ECW on Linux
Message-ID: <s25fe930.041@syncera.nl>

Hi list,

what is the status of using ECW on Linux with GDAL? Is everything working okay, or is it considered experimental?

Best regards,
Bart

Bart van den Eijnden
Syncera-ITSolutions
Postbus 270
2600 AG  DELFT

tel.nr.: 015-7512436
email: BEN@Syncera-ITSolutions.nl


From fwarmerdam at gmail.com  Fri Apr 15 10:24:46 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] ECW on Linux
In-Reply-To: <s25fe930.041@syncera.nl>
References: <s25fe930.041@syncera.nl>
Message-ID: <931f8ea9050415072420948a81@mail.gmail.com>

On 4/15/05, Bart van den Eijnden <BEN@syncera-itsolutions.nl> wrote:
> Hi list,
> 
> what is the status of using ECW on Linux with GDAL? Is everything working okay, or is it considered experimental?

Bart,

It seems to mostly work, though I have had a few unexplained crashes
when working with large ECW files.  

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From fwarmerdam at gmail.com  Fri Apr 15 10:58:37 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] Link errors with Ilwis in MS dotnet SDK
In-Reply-To: <E290303DB48F754B95D3172270AA0F2CEA9FBA@auper1ex001.au.aecomnet.com>
References: <E290303DB48F754B95D3172270AA0F2CEA9FBA@auper1ex001.au.aecomnet.com>
Message-ID: <931f8ea905041507585361c098@mail.gmail.com>

On 4/14/05, Delfos, Jacob <jacob.delfos@maunsell.com> wrote:
> Hi Frank,
> 
> I'm using:
> - Microsoft .NET SDK (which contains the core items such as nmake)
> - Microsoft Platform SDK for Windows XP SP2
> - microsoft Server 2003 PSDK
> - Microsoft Visual C++ Toolkit 2003
> 
> I know it seems weird, just that neither one of these SDK's contains all
> utilities/files required to compile. It's a nightmare of missing/conflicting
> .h, .obj, .exe and .lib files. Took me many days to sort out. I don't blame
> you if you wouldn't want to tune gdal to it.

Jacob, 

Well, I would like things to work smoothly with visual studio .NET 2003,
but without it this can be hard. 
 
> I did a clean compile (using the original package files), but Ilwis still
> wouldn't work. But without Ilwis, gdal compiles and links completely (after
> making the python dir a non-existing one). The executables in "apps" work
> fine with the new gdal12.dll. But php_mapscript (versions 42 and 44) doesn't
> like the dll. Although when I compiled gdal125, php_mapscript worked fine
> with it. Has anything changed? Can gdal normally be compiled independently
> from php_mapscript?

My understanding is that php_mapscript would normally have C++ OGR
calls which have very specific signatures.  You cannot generally use
a different version of gdal12.dll with it, because these signatures change
fairly frequently ... often for "const correctness" changes.  In short, anything
that depends on the C++ API of OGR (or GDAL) will tend to be "version
fragile".   I would eventually like to migrate MapServer to use the OGR C 
API which doesn't generally have this problem, but I haven't had time 
so far. 

So, I think you are basically out of luck replacing a GDAL 1.2.5
DLL with a newer one for use with php_mapscript.  You either need
to build php_mapscript yourself (likely quite a job) or gently / financially
encourage DM Solutions to produce a more current build of the full
system. 

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From route at cae.com  Fri Apr 15 11:26:43 2005
From: route at cae.com (Stephane Routelous)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] question about AsciiGrid
Message-ID: <719A38AB7279D511B91900D0B7444A9E0DD1D463@caemsx03.cae.ca>

Hi,

In our framework, we are encapsulating GDAL.
For all the raster and elevation formats, we define that the value for a pixel is specified at its center.
This means that, when we are accessing a position in the data with a georeference, we interpolate between the 4 pixels around the requested value.

In my code, I put the 4 corners of the dataset into GCP (GDALCreateGCPTransformer) and I'm using GDALGCPTransform to get the pixel as double.

the problem that I'm facing is for asciigrid.
In an elevation data (asciigrid or dted), the pixels are representing a posting point, and not a surface.
This means that outside the box defined by the lowerleft and the upperleft postings, the data is not defined.
For a DTED, all is fine, because a dted posting is defined a the lowerleft corner of the pixel.
But for the asciigrid, the definition of the pixel posting is
So, if the asciigrid is defined with xllcenter and yllcenter, asking for a pixel between [0,0.5[ or ]nXSize-0.5,nXSize] returns an undefined value (same for y).
in the case where the asciigrid is defined with xllcorner/yllcorner, the undefined values are from ]nXSize-1,nXSize]

In my framework, I change the georeferenced bounding box to take in account this 1/2 pixel deplacement.
But for asciigrid, I need to know if the asciigrid is defined with xllcenter/yllcenter or xllcorner/yllcorner.

Is there a way to get this information, once I have the GDALDataset ?


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20050415/c7361108/attachment.html
From route at cae.com  Fri Apr 15 11:31:33 2005
From: route at cae.com (Stephane Routelous)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] question about AsciiGrid (take two)
Message-ID: <719A38AB7279D511B91900D0B7444A9E0DD1D464@caemsx03.cae.ca>

sorry, I hit send before having finish to write the mail (damn keyboard
shortcuts)
here is the good version:

Hi,
 
In our framework, we are encapsulating GDAL.
For all the raster and elevation formats, we define that the value for a
pixel is specified at its center.
This means that, when we are accessing a position in the data with a
georeference, we interpolate between the 4 pixels around the requested
value.
 
In my code, I put the 4 corners of the dataset into GCP
(GDALCreateGCPTransformer) and I'm using GDALGCPTransform to get the pixel
as double.
 
the problem that I'm facing is for asciigrid.
In an elevation data (asciigrid or dted), the pixels are representing a
posting point, and not a surface.
This means that outside the box defined by the lowerleft and the upperleft
postings, the data is not defined.
For a DTED, all is fine, because a dted posting is defined a the lowerleft
corner of the pixel.
But for the asciigrid, the definition of the pixel posting is defined in the
file itself.
So, if the asciigrid is defined with xllcenter and yllcenter, asking for a
pixel between [0,0.5[ or ]nXSize-0.5,nXSize] returns an undefined value
(same for y).
in the case where the asciigrid is defined with xllcorner/yllcorner, the
undefined values are from ]nXSize-1,nXSize]

In my framework, I change the georeferenced bounding box to take in account
this 1/2 pixel displacement.
But for asciigrid, I need to know if the asciigrid is defined with
xllcenter/yllcenter or xllcorner/yllcorner.

Is there a way to get this information, once I have the GDALDataset ?
Should GDAL take care of that, instead of defining the adfGeoTransform to
enclose all the pixels ?
How the GDAL users are handling this case ?

Thanks in advance for your help,

Stephane Routelous



 

From fwarmerdam at gmail.com  Fri Apr 15 11:39:30 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] question about AsciiGrid
In-Reply-To: <719A38AB7279D511B91900D0B7444A9E0DD1D463@caemsx03.cae.ca>
References: <719A38AB7279D511B91900D0B7444A9E0DD1D463@caemsx03.cae.ca>
Message-ID: <931f8ea9050415083928a187f9@mail.gmail.com>

On 4/15/05, Stephane Routelous <route@cae.com> wrote:
> the problem that I'm facing is for asciigrid. 
> In an elevation data (asciigrid or dted), the pixels are representing a
> posting point, and not a surface. 
> This means that outside the box defined by the lowerleft and the upperleft
> postings, the data is not defined. 
> For a DTED, all is fine, because a dted posting is defined a the lowerleft
> corner of the pixel. 

Stephane, 

I'm not sure why you say that for DTED the posting is defined at the
lower left corner of the pixel.  In the DTED file the bounds are such 
that the upper left posting is the upper left corner of the file in 
question.  I offset this in the GDAL driver for DTED by half a pixel
to account for the fact that my pixel is an area, and so the posting
value will be represented as covering an area around the posting
location - that is the posting is at the center of the pixel. 

> But for the asciigrid, the definition of the pixel posting is 

I think you forgot to finish this sentance. 

> So, if the asciigrid is defined with xllcenter and yllcenter, asking for a
> pixel between [0,0.5[ or ]nXSize-0.5,nXSize] returns an undefined value
> (same for y). 
> 
> in the case where the asciigrid is defined with xllcorner/yllcorner, the
> undefined values are from ]nXSize-1,nXSize] 
> 
> In my framework, I change the georeferenced bounding box to take in account
> this 1/2 pixel deplacement. 
> But for asciigrid, I need to know if the asciigrid is defined with
> xllcenter/yllcenter or xllcorner/yllcorner. 
> 
> Is there a way to get this information, once I have the GDALDataset ? 

There is no information returned from the driver for this sort of thing. 
Personally, I had never assumed that use of xllcenter meant something
different than xllcorner other than that if the pixel center was given I 
needed to offset by half a pixel to get the ll corner of pixel value I 
would use in building the geotransform. 

In general GDAL strictly uses a "pixel is area" view of raster data, 
and the geotransform origin is the top left corner of the top left
pixel.  Adjustments are made in drivers for formats that take
different interpretations to convert stuff to the GDAL view.  

If you would like, we could add a metadata item for GDALDatasets
that indicates whether the underlying format considered the pixel
values point postings or area values if that would help ... and then
add this to formats as needed (such as the ascii grid driver).  But
I'm not sure if that really fully addresses your need.  After all, DTED
is a point posting product too.  Perhaps you have just been hardcoding
rules about this based on the driver name so far, and asciigrid is the
first format you have run into that could do either? 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From jluis at ualg.pt  Fri Apr 15 12:44:35 2005
From: jluis at ualg.pt (jluis@ualg.pt)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] question about AsciiGrid
In-Reply-To: <931f8ea9050415083928a187f9@mail.gmail.com>
References: <719A38AB7279D511B91900D0B7444A9E0DD1D463@caemsx03.cae.ca>
	<931f8ea9050415083928a187f9@mail.gmail.com>
Message-ID: <20050415174435.5q2lsle9s0wkoc0g@wmail.ualg.pt>

Quoting Frank Warmerdam <fwarmerdam@gmail.com>:

> In general GDAL strictly uses a "pixel is area" view of raster data,
> and the geotransform origin is the top left corner of the top left
> pixel.  Adjustments are made in drivers for formats that take
> different interpretations to convert stuff to the GDAL view.
>
> If you would like, we could add a metadata item for GDALDatasets
> that indicates whether the underlying format considered the pixel
> values point postings or area values if that would help ... and then
> add this to formats as needed

Hi,
I think this is closly related to my early post

http://xserve.flids.com/pipermail/gdal-dev/2005-March/008269.html

The metadata solution seams a good idea to solve this grid vs pixel 
registration
or "pixel is area" vs "pixel is point" issue.

Joaquim



From dburken at comcast.net  Fri Apr 15 13:38:57 2005
From: dburken at comcast.net (David Burken)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] --without-ogr
Message-ID: <425FFC31.50600@comcast.net>

Hi Frank,

I'm  getting undefined symbols with ogr disabled.  It looks like 
datasets are referencing non const OGRSpatialReference::exportToWkt(char**)

See below:
mercury> nm -C libgdal.so | grep exportToWkt
         U OGRSpatialReference::exportToWkt(char**)
001e7754 T OGRPolygon::exportToWkt(char**) const
001f7718 T OGR_SRSNode::exportToWkt(char**) const
001e5b84 T OGRLineString::exportToWkt(char**) const
001ea468 T OGRMultiPoint::exportToWkt(char**) const
001ea040 T OGRMultiPolygon::exportToWkt(char**) const
001eaf3c T OGRMultiLineString::exportToWkt(char**) const
001f17a4 T OGRSpatialReference::exportToWkt(char**) const
001e975c T OGRGeometryCollection::exportToWkt(char**) const
001e47a4 T OGRPoint::exportToWkt(char**) const

mercury> pwd
/mnthdb1/work/drb/gdal/frmts/o
mercury> foreach o ( *.o )
foreach? echo $o
foreach? nm -C $o | grep exportToWkt
foreach? end
aaigriddataset.o
         U OGRSpatialReference::exportToWkt(char**) const
aigccitt.o
aigdataset.o
         U OGRSpatialReference::exportToWkt(char**) const
aigopen.o
airsardataset.o
args.o
atlsci_spheroid.o
bmpdataset.o
bsbdataset.o
bsb_read.o
btdataset.o
         U OGRSpatialReference::exportToWkt(char**) const

It keeps going....

Take care,
Dave


From dburken at comcast.net  Fri Apr 15 13:57:19 2005
From: dburken at comcast.net (David Burken)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] --without-ogr
In-Reply-To: <425FFC31.50600@comcast.net>
References: <425FFC31.50600@comcast.net>
Message-ID: <4260007F.5050802@comcast.net>

Sorry Frank,

It's not you, it's the MrSid lib needs to be recompiled with latest gdal 
(I think).  Referencing non-const exportToWkt...

mercury> pwd
/mnthdb1/work/drb/mrsid/Geo_ESDK-4.1.5.964/lib/Release
mercury> nm -C libltidsdk.a | grep exportToWkt
         U OGRSpatialReference::exportToWkt(char**)
         U OGRSpatialReference::exportToWkt(char**)
         U OGRSpatialReference::exportToWkt(char**)
         U OGRSpatialReference::exportToWkt(char**)

David Burken wrote:

> Hi Frank,
>
> I'm  getting undefined symbols with ogr disabled.  It looks like 
> datasets are referencing non const 
> OGRSpatialReference::exportToWkt(char**)


From fwarmerdam at gmail.com  Fri Apr 15 14:13:59 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] question about AsciiGrid
In-Reply-To: <20050415174435.5q2lsle9s0wkoc0g@wmail.ualg.pt>
References: <719A38AB7279D511B91900D0B7444A9E0DD1D463@caemsx03.cae.ca>
	<931f8ea9050415083928a187f9@mail.gmail.com>
	<20050415174435.5q2lsle9s0wkoc0g@wmail.ualg.pt>
Message-ID: <931f8ea90504151113514905fa@mail.gmail.com>

On 4/15/05, jluis@ualg.pt <jluis@ualg.pt> wrote:
> Hi,
> I think this is closly related to my early post
> 
> http://xserve.flids.com/pipermail/gdal-dev/2005-March/008269.html
> 
> The metadata solution seams a good idea to solve this grid vs pixel
> registration
> or "pixel is area" vs "pixel is point" issue.

Joaquim, 

But I think in the case of your post, the netCDF driver has failed to 
"adjust" things to the GDAL pixel-is-area model properly because I didn't
realize the netCDF was pixel-is-point.  The important part to solve that
problem is to fix the driver to adjust the extents properly.   As a secondary
issue, the driver could return metadata indicating if the pixels should be
interpreted as points or areas. 

BTW, I don't remember fixing this netCDF problem, and I don't recall
seeing a corresponding bugzilla report.  If you don't submit a bugzilla
report it is highly likely that this will fade into my email box again and
never get fixed.  Of course, even with a bugzilla entry it might not get
fixed for a while, but I expect to be back working on the netcdf support
at some point. 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From jluis at ualg.pt  Fri Apr 15 14:26:28 2005
From: jluis at ualg.pt (jluis@ualg.pt)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] question about AsciiGrid
In-Reply-To: <931f8ea90504151113514905fa@mail.gmail.com>
References: <719A38AB7279D511B91900D0B7444A9E0DD1D463@caemsx03.cae.ca>
	<931f8ea9050415083928a187f9@mail.gmail.com>
	<20050415174435.5q2lsle9s0wkoc0g@wmail.ualg.pt>
	<931f8ea90504151113514905fa@mail.gmail.com>
Message-ID: <20050415192628.a7hv41wyoggkgoos@wmail.ualg.pt>

> Joaquim,
>
> But I think in the case of your post, the netCDF driver has failed to
> "adjust" things to the GDAL pixel-is-area model properly because I didn't
> realize the netCDF was pixel-is-point.  The important part to solve that
> problem is to fix the driver to adjust the extents properly.   As a secondary
> issue, the driver could return metadata indicating if the pixels should be
> interpreted as points or areas.

Frank,
The point with GMT grids (but it doesn't restrict only to them) is that grids
can have both models. That's what GMT calls the grid and pixel registration.
The information on which model is used is contained in the GMT header
"Normal node registration used" for grid registration, or pixel-is-point,
and "Pixel node registration" (I think) in the other case.

> BTW, I don't remember fixing this netCDF problem, and I don't recall
> seeing a corresponding bugzilla report.  If you don't submit a bugzilla
> report it is highly likely that this will fade into my email box again and
> never get fixed.  Of course, even with a bugzilla entry it might not get
> fixed for a while, but I expect to be back working on the netcdf support
> at some point.

Yes, I did and saw it there a couple of weeks ago.

Regards,
Joaquim



From nhv at cape.com  Fri Apr 15 14:39:58 2005
From: nhv at cape.com (Norman Vine)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] question about AsciiGrid
In-Reply-To: <931f8ea90504151113514905fa@mail.gmail.com>
Message-ID: <EKEJIKAILPONGGENMBGAIEAFLCAA.nhv@cape.com>

Frank Warmerdam writes:
> 
> On 4/15/05, jluis@ualg.pt <jluis@ualg.pt> wrote:
> > Hi,
> > I think this is closly related to my early post
> > 
> > http://xserve.flids.com/pipermail/gdal-dev/2005-March/008269.html
> > 
> > The metadata solution seams a good idea to solve this grid vs pixel
> > registration
> > or "pixel is area" vs "pixel is point" issue.
> 
> Joaquim, 
> 
> But I think in the case of your post, the netCDF driver has failed to 
> "adjust" things to the GDAL pixel-is-area model properly because I didn't
> realize the netCDF was pixel-is-point.  The important part to solve that
> problem is to fix the driver to adjust the extents properly.   As a secondary
> issue, the driver could return metadata indicating if the pixels should be
> interpreted as points or areas. 

Frank 

GMT '.grd. files can be either 'line' or 'pixel' oriented

see the "node_offset" member in the GRD_HEADER struct

This is in "gmt_grd.h"

http://gmt.soest.hawaii.edu/gmt/doc/html/GMT_Docs/node144.html

HTH

Norman

From fwarmerdam at gmail.com  Fri Apr 15 14:54:13 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] question about AsciiGrid
In-Reply-To: <20050415192628.a7hv41wyoggkgoos@wmail.ualg.pt>
References: <719A38AB7279D511B91900D0B7444A9E0DD1D463@caemsx03.cae.ca>
	<931f8ea9050415083928a187f9@mail.gmail.com>
	<20050415174435.5q2lsle9s0wkoc0g@wmail.ualg.pt>
	<931f8ea90504151113514905fa@mail.gmail.com>
	<20050415192628.a7hv41wyoggkgoos@wmail.ualg.pt>
Message-ID: <931f8ea9050415115450e351b2@mail.gmail.com>

On 4/15/05, jluis@ualg.pt <jluis@ualg.pt> wrote:

> Frank,
> The point with GMT grids (but it doesn't restrict only to them) is that grids
> can have both models. That's what GMT calls the grid and pixel registration.
> The information on which model is used is contained in the GMT header
> "Normal node registration used" for grid registration, or pixel-is-point,
> and "Pixel node registration" (I think) in the other case.

Ah yes, but still the point standards that the bug is in the driver. 
Applications
shouldn't need to correct for these differences. 
 
> Yes, I did and saw it there a couple of weeks ago.

You are correct of course, sorry about that.  I have added your additional
explanation and Norman's pointers to the bug report. 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From pgao at esri.com  Fri Apr 15 20:32:31 2005
From: pgao at esri.com (Peng Gao)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] NITF transformation problem
Message-ID: <491DC5F3D279CD4EB4B157DDD62237F40BFCFB3C@zipwire.esri.com>

I have a NITF image. When opened, GDAL returns a transformation of 6 zeros
and 2 large numbers (-9.2559631349317831e+061), and a UTM projection. 
There is no GCP. How do I correctly position this image?

Thanks,
Gao, Peng


From fwarmerdam at gmail.com  Fri Apr 15 20:46:52 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] NITF transformation problem
In-Reply-To: <491DC5F3D279CD4EB4B157DDD62237F40BFCFB3C@zipwire.esri.com>
References: <491DC5F3D279CD4EB4B157DDD62237F40BFCFB3C@zipwire.esri.com>
Message-ID: <931f8ea90504151746d366171@mail.gmail.com>

On 4/15/05, Peng Gao <pgao@esri.com> wrote:
> I have a NITF image. When opened, GDAL returns a transformation of 6 zeros
> and 2 large numbers (-9.2559631349317831e+061), and a UTM projection.
> There is no GCP. How do I correctly position this image?

Peng, 

I'm a bit confused.  The Geotransform is only six doubles long.  Is
it GetGeoTransform() that is returning the above values?  If so, 
why do you get eight values?  Does GetGeoTransform() return
CE_None? 

Can you provide output from the nitfdump program for the file?  It
provides a lower level view of the key nitf information.  You can build
this on windows by going to the gdal\frmts\nitf directory and building
with the command "nmake /f makefile.vc nitfdump.exe"

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From pgao at esri.com  Fri Apr 15 22:59:41 2005
From: pgao at esri.com (Peng Gao)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] NITF transformation problem
Message-ID: <491DC5F3D279CD4EB4B157DDD62237F40BFCFB3E@zipwire.esri.com>


> I'm a bit confused.  The Geotransform is only six doubles long.  Is
> it GetGeoTransform() that is returning the above values?  If so,
> why do you get eight values?  Does GetGeoTransform() return
> CE_None?
> 

Sorry. It's 6 zeros, and GetGeoTransform returned CE_NONE. I don't have
nitfdump. Here is the output from gdalinfo:


C:\GDAL\bin>gdalinfo \\shangrila\formats\nitf\s211g0j2.ntf
Driver: NITF/National Imagery Transmission Format
Size is 1024, 1024
Coordinate System is:
PROJCS["UTM Zone 0, Northern Hemisphere",
    GEOGCS["WGS 84",
        DATUM["WGS_1984",
            SPHEROID["WGS 84",6378137,298.257223563,
                AUTHORITY["EPSG","7030"]],
            TOWGS84[0,0,0,0,0,0,0],
            AUTHORITY["EPSG","6326"]],
        PRIMEM["Greenwich",0,
            AUTHORITY["EPSG","8901"]],
        UNIT["degree",0.0174532925199433,
            AUTHORITY["EPSG","9108"]],
        AXIS["Lat",NORTH],
        AXIS["Long",EAST],
        AUTHORITY["EPSG","4326"]],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["latitude_of_origin",0],
    PARAMETER["central_meridian",-183],
    PARAMETER["scale_factor",0.9996],
    PARAMETER["false_easting",500000],
    PARAMETER["false_northing",0]]
Origin = (0.000000,0.000000)
Pixel Size = (0.00000000,0.00000000)
Metadata:
  NITF_FHDR=NITF02.00
  NITF_CLEVEL=01
  NITF_STYPE=
  NITF_OSTAID=S211G0J2
  NITF_FDT=03191636ZMAR93
  NITF_FTITLE=This NITF file contains 1 JPEQ image.
  NITF_FSCLAS=U
  NITF_FSCODE=
  NITF_FSCTLH=
  NITF_FSREL=
  NITF_FSCAUT=
  NITF_FSCTLN=
  NITF_FSDWNG=999998
  NITF_FSDEVT=This message will not need a downgrade.
  NITF_FSCOP=00000
  NITF_FSCPYS=00000
  NITF_ENCRYP=0
  NITF_ONAME=JITC Fort Huachuca, AZ
  NITF_OPHONE=(602) 538-5458
  NITF_IID1=0000000001
  NITF_IDATIM=01120000ZJAN89
  NITF_TGTID=
  NITF_ITITLE=This is an unclassified image in an unclassified NITF file Q3.
  NITF_ISCLAS=U
  NITF_ISCODE=
  NITF_ISCTLH=
  NITF_ISREL=
  NITF_ISCAUT=
  NITF_ISCTLN=
  NITF_ISDWNG=999998
  NITF_ISDEVT=This image will not need downgrading.
  NITF_ISORCE=
  NITF_PVTYPE=INT
  NITF_IREP=MONO
  NITF_ICAT=VIS
  NITF_ABPP=08
  NITF_PJUST=R
  NITF_IMAGE_COMMENTS=This is image comment #1 for the unclassified image #1
fro
m test message Q3.    This is image comment #2 for the unclassified image #1
fro
m test message Q3.    This is image comment #3 for the unclassified image #1
fro
m test message Q3.    This is image comment #4 for the unclassified image #1
fro
m test message Q3.    This is image comment #5 for the unclassified image #1
fro
m test message Q3.    This is image comment #6 for the unclassified image #1
fro
m test message Q3.    This is image comment #7 for the unclassified image #1
fro
m test message Q3.    This is image comment #8 for the unclassified image #1
fro
m test message Q3.    This is image comment #9 for the unclassified image #1
fro
m test message Q3.
  NITF_IC=C3
  NITF_IMODE=B
Corner Coordinates:
Upper Left  (   0.0000000,   0.0000000)
Lower Left  (   0.0000000,   0.0000000)
Upper Right (   0.0000000,   0.0000000)
Lower Right (   0.0000000,   0.0000000)
Center      (   0.0000000,   0.0000000)
Band 1 Block=1024x1024 Type=Byte, ColorInterp=Undefined

C:\GDAL\bin>

From jacob.delfos at maunsell.com  Sun Apr 17 20:04:11 2005
From: jacob.delfos at maunsell.com (Delfos, Jacob)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] Link errors with Ilwis in MS dotnet SDK
Message-ID: <E290303DB48F754B95D3172270AA0F2CEA9FC4@auper1ex001.au.aecomnet.com>

Frank,

Thanks for that explanation. I'll give compiling php_mapscript a shot (even
if it's a long one).

Jacob


-----Original Message-----
From: Frank Warmerdam [mailto:fwarmerdam@gmail.com] 
Sent: 15 April 2005 22:59
To: Delfos, Jacob
Cc: gdal-dev@xserve.flids.com
Subject: Re: [Gdal-dev] Link errors with Ilwis in MS dotnet SDK

On 4/14/05, Delfos, Jacob <jacob.delfos@maunsell.com> wrote:
> Hi Frank,
> 
> I'm using:
> - Microsoft .NET SDK (which contains the core items such as nmake)
> - Microsoft Platform SDK for Windows XP SP2
> - microsoft Server 2003 PSDK
> - Microsoft Visual C++ Toolkit 2003
> 
> I know it seems weird, just that neither one of these SDK's contains all
> utilities/files required to compile. It's a nightmare of
missing/conflicting
> .h, .obj, .exe and .lib files. Took me many days to sort out. I don't
blame
> you if you wouldn't want to tune gdal to it.

Jacob, 

Well, I would like things to work smoothly with visual studio .NET 2003,
but without it this can be hard. 
 
> I did a clean compile (using the original package files), but Ilwis still
> wouldn't work. But without Ilwis, gdal compiles and links completely
(after
> making the python dir a non-existing one). The executables in "apps" work
> fine with the new gdal12.dll. But php_mapscript (versions 42 and 44)
doesn't
> like the dll. Although when I compiled gdal125, php_mapscript worked fine
> with it. Has anything changed? Can gdal normally be compiled independently
> from php_mapscript?

My understanding is that php_mapscript would normally have C++ OGR
calls which have very specific signatures.  You cannot generally use
a different version of gdal12.dll with it, because these signatures change
fairly frequently ... often for "const correctness" changes.  In short,
anything
that depends on the C++ API of OGR (or GDAL) will tend to be "version
fragile".   I would eventually like to migrate MapServer to use the OGR C 
API which doesn't generally have this problem, but I haven't had time 
so far. 

So, I think you are basically out of luck replacing a GDAL 1.2.5
DLL with a newer one for use with php_mapscript.  You either need
to build php_mapscript yourself (likely quite a job) or gently / financially
encourage DM Solutions to produce a more current build of the full
system. 

Best regards,

-- 
---------------------------------------+------------------------------------
--
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From asger at jo-informatik.dk  Mon Apr 18 07:12:59 2005
From: asger at jo-informatik.dk (Asger Petersen)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] Warping of large files
Message-ID: <6A0257B028DA47499B5A843683051A36068E16@server01.jo-informatik.local>



>> Of course i could chop the files into pieces small enough to use 
>> Gtiff and then mosaik them in Mapserver, but I would really prefer 
>> keeping them in one piece.

> I can understand your reluctance to create tiled geotiff's but it is a

> very fast, and relatively easy solution. If your > images are color, 
> try to make them into a palettized (pseudo color) image. Possibly 
> limit the number of colors in the palette to less than 255 if you have
other colors required for overlays in your map file. Use a tileindex,
and use overviews (gdaladdo). In my limited testing a couple years ago
this approached provided the fastest performance for serving imagery off
my system.

We have done that in another project, but this time it is necessary to
use a compressed format because of the size of data. Therefore we are
considering using a mosaic of ecw-compressed files instead of GTiff.

At the moment I have some troubles getting FWTools 0.9.7 to work
properly when compressing to ecw format. It just crashes:

C:\>gdal_translate -of ECW -srcwin 0 0 500 500 -a_srs srs.txt in.jp2
out.ecw Input file size is 67500, 45000 0.

Then Windows shows a popup with the message: "gdal_translate.exe has
encountered a problem and needs to close.  We are sorry for the
inconvenience."

Has anyone seen this one before?

Regards
Asger

From fwarmerdam at gmail.com  Mon Apr 18 09:38:19 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] NITF transformation problem
In-Reply-To: <491DC5F3D279CD4EB4B157DDD62237F40BFCFB3E@zipwire.esri.com>
References: <491DC5F3D279CD4EB4B157DDD62237F40BFCFB3E@zipwire.esri.com>
Message-ID: <931f8ea9050418063834d87b5c@mail.gmail.com>

On 4/15/05, Peng Gao <pgao@esri.com> wrote:
> 
> > I'm a bit confused.  The Geotransform is only six doubles long.  Is
> > it GetGeoTransform() that is returning the above values?  If so,
> > why do you get eight values?  Does GetGeoTransform() return
> > CE_None?
> >
> 
> Sorry. It's 6 zeros, and GetGeoTransform returned CE_NONE. I don't have
> nitfdump. Here is the output from gdalinfo:

Peng,

I think I would need the file in question to further investigate.  If
GetGeoTransform() was returning CE_None it "thought" it has some
sort of valid georeferencing.  

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From fwarmerdam at gmail.com  Mon Apr 18 10:26:40 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] Warping of large files
In-Reply-To: <6A0257B028DA47499B5A843683051A36068E16@server01.jo-informatik.local>
References: <6A0257B028DA47499B5A843683051A36068E16@server01.jo-informatik.local>
Message-ID: <931f8ea90504180726326f9595@mail.gmail.com>

On 4/18/05, Asger Petersen <asger@jo-informatik.dk> wrote:
> At the moment I have some troubles getting FWTools 0.9.7 to work
> properly when compressing to ecw format. It just crashes:
> 
> C:\>gdal_translate -of ECW -srcwin 0 0 500 500 -a_srs srs.txt in.jp2
> out.ecw Input file size is 67500, 45000 0.
> 
> Then Windows shows a popup with the message: "gdal_translate.exe has
> encountered a problem and needs to close.  We are sorry for the
> inconvenience."

Asger,

Sorry about that.  I failed in my attempt to get my latest custom build
of ECW stuff working on windows and this is why I never publically
announced FWTools 0.9.7.  I would suggest going with 0.9.6.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From t.r.decarlo at larc.nasa.gov  Mon Apr 18 11:06:33 2005
From: t.r.decarlo at larc.nasa.gov (Thom DeCarlo)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] Warping of large files
In-Reply-To: <931f8ea90504180726326f9595@mail.gmail.com>
Message-ID: <01db01c54428$35353ff0$959877c6@cts1149>

Asger,

I'm using VS.NET'03 on a WinXP SP2 computer. It took a while to get it set
up, but I was finally able to compile the ECW SDK 3.1RC1. You can refer to
the thread on the ERmapper forum to see what I had to do to get the SDK to
compile. (http://forums.ermapper.com/viewtopic.php?t=589) Tom Lynch says
that the problems I encountered will be fixed in RC2. In this case,
persistence paid off. None of the actual code in either ECW or gdal needed
changing. It was all a matter of cleaning up the build project files.

After setting the appropriate paths in the gdal build (nmake.opt from the
gdal cvs tarball gdalcvs-20050405.zip) I was able to get a successful build
of the whole package. I was able to do a gdal_translate from tiff into ecw
and perform the subset, also.

I'm not sure if this info will help you, but I wanted to say that it *can*
work.

Thom

--
Thom DeCarlo
-------------------------------------------------------
     Is it a bad sign if you spend the day wondering
why there are no laws against what you do for a living?
                                - Dilbert

> -----Original Message-----
> From: Frank Warmerdam
> Sent: Monday, April 18, 2005 10:27 AM
> To: Asger Petersen
> Subject: Re: [Gdal-dev] Warping of large files
> 
> On 4/18/05, Asger Petersen wrote:
> > At the moment I have some troubles getting FWTools 0.9.7 to work
> > properly when compressing to ecw format. It just crashes:
> >
> > C:\>gdal_translate -of ECW -srcwin 0 0 500 500 -a_srs srs.txt in.jp2
> > out.ecw Input file size is 67500, 45000 0.
> >
> > Then Windows shows a popup with the message: "gdal_translate.exe has
> > encountered a problem and needs to close.  We are sorry for the
> > inconvenience."
> 
> Asger,
> 
> Sorry about that.  I failed in my attempt to get my latest custom build
> of ECW stuff working on windows and this is why I never publically
> announced FWTools 0.9.7.  I would suggest going with 0.9.6.
> 
> Best regards,




From fwarmerdam at gmail.com  Mon Apr 18 13:57:47 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] NITF transformation problem
In-Reply-To: <491DC5F3D279CD4EB4B157DDD62237F40BFCFB3E@zipwire.esri.com>
References: <491DC5F3D279CD4EB4B157DDD62237F40BFCFB3E@zipwire.esri.com>
Message-ID: <931f8ea905041810577d13a627@mail.gmail.com>

Peng,

OK, I have isolated and fixed two issues in CVS. 

 1) In NITF 2.0 ICORDS='N' means there is no georeferencing, but
     in NITF 2.1 it means UTM North.  I hadn't realized the NITF 2.0
     case had such a distinct interpretation but I have now updated the
     code accordingly.

 2) Recent changes in the NITF driver to support a rotated image 
     nicely seem to have messed up the "missing georeferencing" case
     somewhat. 

If you rebuild from CVS you should see these problems corrected and your
dataset will report like this:

Driver: NITF/National Imagery Transmission Format
Size is 1024, 1024
Coordinate System is `'
Metadata:
  NITF_FHDR=NITF02.00
...
  NITF_IC=C3
  NITF_IMODE=B
Corner Coordinates:
Upper Left  (    0.0,    0.0)
Lower Left  (    0.0, 1024.0)
Upper Right ( 1024.0,    0.0)
Lower Right ( 1024.0, 1024.0)
Center      (  512.0,  512.0)
Band 1 Block=1024x1024 Type=Byte, ColorInterp=Undefined

Note that we now have the default "image coordinates" geotransform
information.  The GetGeoTransform() method should now be returning
CE_Failure. 

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From Tonino.Tarsi at snamprogetti.eni.it  Tue Apr 19 04:18:57 2005
From: Tonino.Tarsi at snamprogetti.eni.it (Tarsi Tonino)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] TIFF with JPEG compression on Win32
Message-ID: <FFE205A8690C98478CA45A0F7BD4033D257862@spsv00r6.snamprogettirf.res.prirf>


I have the same problem and become crazy about it.
Did you solve the problem ?


Tarsi Tonino

Telerilevamento e GIS

via Toniolo, 1

61032 Fano (PU)

J +39 0721 881 946

K +39 0721 881 988

e-mail: tonino.tarsi@snamprogetti.eni.it

Snamprogetti S.p.A.

Societ? per Azioni

Sede legale in San Donato Milanese

Viale De Gasperi, 16

Capitale Sociale ? 103.200.000 i.v.

Registro delle Imprese di Milano

Codice Fiscale e Partita IVA 00778450155

R.E.A. Milano n. 702492

A subsidiary of Eni S.p.A.

Sole shareholder company




*************************E-MAIL CONFIDENTIALITY FOOTER**********************
This message may contain confidential information and must not be copied,
disclosed or used by anybody other than the intended recipient.
If you have received this message in error, please notify us writing
to postmaster@snamprogetti.eni.it and delete the message and any copies of it.
Thank you for your assistance.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20050419/521c6bee/attachment.html
From dburken at comcast.net  Tue Apr 19 15:39:39 2005
From: dburken at comcast.net (David Burken)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] MEMDataset
Message-ID: <42655E7B.6090500@comcast.net>

Hi Frank,

Hey is there any way I could get you to make your MEMDataset destructor 
virtual???  I'm a class derived from it.

Thanks,

-- 
Dave
mailto:dburken@comcast.net




From fwarmerdam at gmail.com  Tue Apr 19 15:52:43 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] MEMDataset
In-Reply-To: <42655E7B.6090500@comcast.net>
References: <42655E7B.6090500@comcast.net>
Message-ID: <931f8ea905041912523e67d613@mail.gmail.com>

On 4/19/05, David Burken <dburken@comcast.net> wrote:
> Hi Frank,
> 
> Hey is there any way I could get you to make your MEMDataset destructor
> virtual???  I'm a class derived from it.

Dave,

My understanding was that when you override a virtual method, your
new method is also virtual, whether you use the virtual keyword or
not.  Since GDALDataset::~GDALDataset() is virtual, that should 
effectively make MEMDataset::~MEMDataset() virtual too.  Of course,
I may be confused, so just to be on the safe side, I have committed an
update to memdataset.h including the virtual keyword.  

Best regards,
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From asger at jo-informatik.dk  Wed Apr 20 06:29:28 2005
From: asger at jo-informatik.dk (Asger Petersen)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] Warping of large files
Message-ID: <6A0257B028DA47499B5A843683051A36068E3A@server01.jo-informatik.local>


> I'm using VS.NET'03 on a WinXP SP2 computer. It took a while 
> to get it set up, but I was finally able to compile the ECW 
> SDK 3.1RC1. You can refer to the thread on the ERmapper forum 
> to see what I had to do to get the SDK to compile. 
> (http://forums.ermapper.com/viewtopic.php?t=589) Tom Lynch 
> says that the problems I encountered will be fixed in RC2. In 
> this case, persistence paid off. None of the actual code in 
> either ECW or gdal needed changing. It was all a matter of 
> cleaning up the build project files.

Actually last Friday I gave compiling ECW SDK 3.1RC2 a quick try with a
setup exactly like yours, but I ran into a lot of problems and decided
to drop that idea.

> I'm not sure if this info will help you, but I wanted to say 
> that it *can* work.

With your description in the ERMapper forum in mind, I will definitely
give ECW SDK 3.1RC2 another try in the near future.

Thank you.

/Asger

From kgb at synix.com.au  Wed Apr 20 09:47:27 2005
From: kgb at synix.com.au (Kingsley Burlinson)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] compiling gdal with hdf4 on solaris7
Message-ID: <42665D6F.1080304@synix.com.au>

Hi List
I have a problem compiling Gdal 1.2.6 with HDF4.2r1 support on 
Solaris-7-sparc,
 and wonder if someone can assist me please. I hope to use this in Grass 6.
 
When I run GDAL configure, it complains it cannot find the hdf4 libraries.
These are actually present OK, the problem seems to really be a failure  
to find the routine SDreaddata that configure uses as a test case.    
Configure reports:
 > checking for FMEObjects... no  
 > checking for SDreaddata in -lmfhdf... no
 > checking for SDreaddata in -lhdf4... no
 > checking for SDreaddata in -lmfhdf... no
 > checking for SDreaddata in -lmfhdf... no
 > configure: error: HDF4 support requested with arg /usr/local/hdf4, 
but neither hdf4 nor mfhdf lib found
 
The libraries are present  :    ls -l /usr/local/hdf4/lib  shows:
 >  1100960 Feb 19 01:32 libdf.a
 >   227036 Feb 19 01:32 libmfhdf.a
 
But config.log has a section:
 > Undefined    first referenced
 >  symbol          in file    
 > xdr_enum    /usr/local/hdf4/lib/libmfhdf.a(var.o)  (symbol belongs to 
implicit dependency /usr/lib/libnsl.so.1)
 > With similar errors for xdr_float, xdr_int, xdr_u_long, xdr_double, 
xdr_long and xdr_opaque
 
I get the same problem with gdal 1.2.3 and gdal 1.2.6 and with either
my own compiled hdf4 or with a pre-compiled binary hdf4.
 
I have checked libnsl.so.1 using elfdump and it does not contain symbols 
which conflict
with those in the error message.
 
When I compile hdf4.2r1 and run gmake check, it passes most tests and
then crashes, reporting:
 > gmake[3]: Leaving directory `/disk0/add/gis/hdf4/HDF4.2r1/mfhdf/libsrc'
 > ============================
 > HDF-SD C interfaces tests  
 > ============================
 > srcdir="." ./hdftest > hdfout.new
 > gmake[2]: *** [check] Error 1   
 > gmake[2]: Leaving directory `/disk0/add/gis/hdf4/HDF4.2r1/mfhdf/libsrc'
 > gmake[1]: *** [check-recursive] Error 1
 > gmake[1]: Leaving directory `/disk0/add/gis/hdf4/HDF4.2r1/mfhdf'
 > gmake: *** [check-recursive] Error 1
 
my hdf4 libs are in /usr/local/hdf4/lib. Includes in 
/usr/local/hdf4/include
and I run configure with:
 > ./configure --with-szlib=/usr/local/lib --prefix=/usr/local/hdf4
 
I cannot understand what is going wrong here and would appreciate any help.
Thanks
Kingsley Burlinson   Darwin



From fwarmerdam at gmail.com  Wed Apr 20 10:16:11 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] compiling gdal with hdf4 on solaris7
In-Reply-To: <42665D6F.1080304@synix.com.au>
References: <42665D6F.1080304@synix.com.au>
Message-ID: <931f8ea9050420071674b340a2@mail.gmail.com>

On 4/20/05, Kingsley Burlinson <kgb@synix.com.au> wrote:
> Hi List
> I have a problem compiling Gdal 1.2.6 with HDF4.2r1 support on
> Solaris-7-sparc,
>  and wonder if someone can assist me please. I hope to use this in Grass 6.
...
> The libraries are present  :    ls -l /usr/local/hdf4/lib  shows:
>  >  1100960 Feb 19 01:32 libdf.a
>  >   227036 Feb 19 01:32 libmfhdf.a
> 
> But config.log has a section:
>  > Undefined    first referenced
>  >  symbol          in file
>  > xdr_enum    /usr/local/hdf4/lib/libmfhdf.a(var.o)  (symbol belongs to
> implicit dependency /usr/lib/libnsl.so.1)

Kingsley,

The missing functions come from a support library, perhaps -lxdr
or -lrpc would fix things up?

But the configure script is setup to expect shared libraries which
are already linked against their own dependencies.  

So, one approach would be for you to try and prepare shared libraries
for the HDF stuff.  On unix I might try something like:

cd /usr/local/hdf4/lib
ld -shared -all libmfhdf.a -lrpc -lm -o libmfhdf.so

You will need to do some man-handling one way or the other.
The easiest approach might be to configure without HDF support,
and then add the required libraries to the LIBS macro in 
GDALmake.opt as well as setting the HDF4_INCLUDE variable
and adding hdf4 to the GDAL_FORMATS list. 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From ARyan at co.linn.or.us  Thu Apr 21 12:23:50 2005
From: ARyan at co.linn.or.us (Ryan, Adam)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] Clip geoTiff by polygon feature?
Message-ID: <8292E3D1E5E2EF4A94C36FE80D2443A83A8299@linnms,>


Folks,

Is it possible to clip a geoTiff by a shapefile feature to make another
geoTiff with all pixels external to the feature a specific color?  

Thanks,
Adam

From fwarmerdam at gmail.com  Thu Apr 21 12:48:01 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] Clip geoTiff by polygon feature?
In-Reply-To: <-8786455406556449774@unknownmsgid>
References: <-8786455406556449774@unknownmsgid>
Message-ID: <931f8ea905042109483fd0b1b5@mail.gmail.com>

On 4/21/05, Ryan, Adam <ARyan@co.linn.or.us> wrote:
> 
> Folks,
> 
> Is it possible to clip a geoTiff by a shapefile feature to make another
> geoTiff with all pixels external to the feature a specific color?

Adam,

This does not existing in GDAL itself, but the gvalg.rasterize_shapes()
method in OpenEV can be used to do this to a GDAL supported file. 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From dron at ak4719.spb.edu  Thu Apr 21 16:42:17 2005
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] ASTER and MODIS HDF-EOS products
Message-ID: <20050421204217.GA21659@ak4719.spb.edu>

Folks,

The long awaited support for HDF-EOS Swath datasets such as ASTER Level
1A/1B/2, ASTER DEMs and MODIS L1B products is finally here! All
interested parties are welcome to test quality of georeferencing. A code
of the HDF driver is still messy, but now it is much more universal and
should work better than the old implementation.

Best regards,
Andrey

-- 
Andrey V. Kiselev
Home phone:  +7 812 5970603  ICQ# 26871517

From skyman302 at gmail.com  Fri Apr 22 14:01:02 2005
From: skyman302 at gmail.com (Sam Gurt)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] Stererographic dosen't work
Message-ID: <94a39d2d05042211014784ab7d@mail.gmail.com>

When trying to project a grid in latlon to stereographic I get a grid
with values of all 0. I've used the Proj 4 decleration of sterographic
and latlon for both input and output. Additionally I've tried the EPSG
Code for latlon but still no go. Interestingly enough when I open the
reprojected image in ENVI the UL and other coordinates are 40 degrees
away from what I specified in the proj 4 decleration. Any of you know
what might be wrong?

From fwarmerdam at gmail.com  Fri Apr 22 14:05:37 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] Stererographic dosen't work
In-Reply-To: <94a39d2d05042211014784ab7d@mail.gmail.com>
References: <94a39d2d05042211014784ab7d@mail.gmail.com>
Message-ID: <931f8ea905042211057b1c3f99@mail.gmail.com>

On 4/22/05, Sam Gurt <skyman302@gmail.com> wrote:
> When trying to project a grid in latlon to stereographic I get a grid
> with values of all 0. I've used the Proj 4 decleration of sterographic
> and latlon for both input and output. Additionally I've tried the EPSG
> Code for latlon but still no go. Interestingly enough when I open the
> reprojected image in ENVI the UL and other coordinates are 40 degrees
> away from what I specified in the proj 4 decleration. Any of you know
> what might be wrong?

Sam,

Could you give a specific example of what you are doing?  If the
underlying stereographic support in PROJ.4 seems to be broken it
might be best to take the issue to the proj mailing list. 

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From dylan at iici.no-ip.org  Fri Apr 22 20:08:59 2005
From: dylan at iici.no-ip.org (Dylan Beaudette)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] strange shapefile DBF error
Message-ID: <200504221708.59702.dylan@iici.no-ip.org>

Greetings,

recently installed gdal-1.2.6 and mapserver-4.4.2 on a slackware 10 box.

trying to access a simple shapefile with ogrinfo yields an 'illegal 
instruction' after only 1 record in the shapefile has been processed. 

i know that this shapefile is in working order.

trying to re-create this shapefile (it is a tile index for mapserver) seems to 
fail as well...

----------------------
tile4ms list test
Aborted. Unable to open DBF:o34115d1ne.tif
Processed 0 of 1 files
----------------------

here is the output from ogrinfo;

------------------------------
ogrinfo -al doqq_index.shp
INFO: Open of `doqq_index.shp'
using driver `ESRI Shapefile' successful.

Layer name: doqq_index
Geometry: Polygon
Feature Count: 312
Extent: (-2527391.972465, -374934.820857) - (-2007497.075791, 174428.925500)
Layer SRS WKT:
PROJCS["North_America_Albers_Equal_Area_Conic",
    GEOGCS["GCS_North_American_1983",
        DATUM["North_American_Datum_1983",
            SPHEROID["GRS_1980",6378137.0,298.257222101]],
        PRIMEM["Greenwich",0.0],
        UNIT["Degree",0.0174532925199433]],
    PROJECTION["Albers_Conic_Equal_Area"],
    PARAMETER["False_Easting",0.0],
    PARAMETER["False_Northing",0.0],
    PARAMETER["longitude_of_center",-96.0],
    PARAMETER["Standard_Parallel_1",20.0],
    PARAMETER["Standard_Parallel_2",60.0],
    PARAMETER["latitude_of_center",40.0],
    UNIT["Meter",1.0]]
location: String (255.0)
OGRFeature(doqq_index):0
  location (String) = o34115d1ne.tif
Illegal instruction
^^^^^^^^^^^^^^^^
----------------------------------------

and here are my compile-time options for gdal:

-------------------
export CHOST="i686-pc-linux-gnu"
export CFLAGS="-march=pentium3 -O3 -pipe -fomit-frame-pointer"
export CXXFLAGS="-march=pentium3 -O3 -pipe -fomit-frame-pointer"

./configure --prefix=/usr --with-png=internal --with-jpeg=internal \
            --with-gif=internal --with-libtiff=internal \
            --with-geotiff=internal --with-libz=internal\
            --without-pg --without-ogdi --with-python \
	    --with-threads=yes
-------------------

any ideas.. ? could this be an issue that is due to some other library not 
being present?

thanks in advance!

-- 
Dylan Beaudette
Soils and Biogeochemistry Graduate Group
University of California at Davis
530.754.7341

From cbyrne at bigpond.net.au  Sat Apr 23 09:21:09 2005
From: cbyrne at bigpond.net.au (Craig Byrne)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] Java wrappers for GDAL?
Message-ID: <426A4BC5.9080402@bigpond.net.au>

G'Day All,

I remember a while back someone was writing some Java wrappers for GDAL.

Did anything ever eventuate from this?

Cheers,

---
Craig Byrne
MapGenix, Brisbane, Australia
http://www.mapgenix.com.au/

From fwarmerdam at gmail.com  Fri Apr 22 13:17:45 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] Re: Tiff problems
In-Reply-To: <491DC5F3D279CD4EB4B157DDD62237F40BFCFB62@zipwire.esri.com>
References: <491DC5F3D279CD4EB4B157DDD62237F40BFCFB62@zipwire.esri.com>
Message-ID: <931f8ea9050422101763229308@mail.gmail.com>

On 4/22/05, Peng Gao <pgao@esri.com> wrote:
> Frank,
> 
> GDAL list and site seem to be down.

Peng,

I am able to get through to www.gdal.org, and www.remotesensing.org/gdal
currently.  There have been some problems reported with www.remotesensing.org
earlier in the day.  I have logged in and restarted the mail queue to be
sure, but I didn't see anything obviously wrong.  I should soon see if this
email goes through. 

...
> ---------- Forwarded message ----------
> From: Peng Gao <pgao@esri.com>
> To: GDAL-dev list <gdal-dev@remotesensing.org>
> Date: Fri, 22 Apr 2005 08:24:01 -0700
> Subject: Tiff problems
> I have a 4-bit tiff with colormap. GDAL returns pixel depth Byte, and the
> pixels are all wrong.
> 
> I have another single band 8-bit tiff with colormap. GDAL recognizes as
> an 8-bit 4 band image.
> 
> I have the test images available.

I think I will need the test files.  There are a variety of circumstances in
which GDAL uses the libtiff internal conversion to RGBA.  This might be
happening in the case of the file that gets converted to four bands. 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From kmelero at sanz.com  Sat Apr 23 15:37:38 2005
From: kmelero at sanz.com (Kenneth Melero)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] ASTER and MODIS HDF-EOS products
In-Reply-To: <20050421204217.GA21659@ak4719.spb.edu>
Message-ID: <001101c5483b$e98e13c0$6f2811ac@MGCOMPAQ>


Andrey,

Previous support for HDF showed header information for MOD09A1 data.  After
recent changes it does not recognize this as a valid dataset.  Any thoughts?
I could provide you with a sample file if needed.

Thanks,
-Ken


-----Original Message-----
From: gdal-dev-bounces@xserve.flids.com
[mailto:gdal-dev-bounces@xserve.flids.com] On Behalf Of Andrey Kiselev
Sent: Thursday, April 21, 2005 4:42 PM
To: gdal-dev@remotesensing.org
Subject: [Gdal-dev] ASTER and MODIS HDF-EOS products


Folks,

The long awaited support for HDF-EOS Swath datasets such as ASTER Level
1A/1B/2, ASTER DEMs and MODIS L1B products is finally here! All interested
parties are welcome to test quality of georeferencing. A code of the HDF
driver is still messy, but now it is much more universal and should work
better than the old implementation.

Best regards,
Andrey

-- 
Andrey V. Kiselev
Home phone:  +7 812 5970603  ICQ# 26871517
_______________________________________________
Gdal-dev mailing list
Gdal-dev@xserve.flids.com http://xserve.flids.com/mailman/listinfo/gdal-dev


From surgpub at telkomsa.net  Sun Apr 24 05:14:50 2005
From: surgpub at telkomsa.net (Paul Surgeon)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] gdalwarp documentation/tutorial
Message-ID: <200504241114.50712.surgpub@telkomsa.net>

A have a minor gripe about the gdal tools and it's that I can't find 
sufficient documentation or tutorials on how to use the command line 
parameters.
It may be obvious to a seasoned GIS user but to someone relatively new to the 
GIS scene it's a black box and reading source files and API documentation is 
not helping me at all.

For starters what are all the projections that I can use in gdalwarp?
I understand that it's using proj.4 but I can't find what command line syntax 
to use.

What I'm trying to do is really simple.
I want to warp Landsat 7 ETM+ images into an unprojected format so that I can 
cut them along a lat and lon boundary and stick them through an image 
processing tool.

I have tried :
gdalwarp -s_srs "+proj=utm +zone=35 +datum=WGS84" -t_srs "+proj=latlong 
+datum=WGS84" input.tif  output.tif
as well as :
gdalwarp -s_srs "+proj=utm +zone=35 +datum=WGS84" -t_srs "+proj=ortho 
+datum=WGS84" input.tif  output.tif

For both I get an error message :
ERROR 5: GDALWarpOptions.Validate()
  pfnTransformer is NULL

What does that error mean?
What is the difference between the latlon and ortho projections?
I know that's a general GIS question.

I also have the accompanying "met" file with all the projection info for the 
bands but how do I get gdalwarp to read it or what must I extract out of it 
and stick in the command line?
Is that neccessary or will the GeoTIFF header have enough info in it for 
gdalwarp to work with?

Thanks
Paul

From fwarmerdam at gmail.com  Sun Apr 24 10:07:13 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] gdalwarp documentation/tutorial
In-Reply-To: <200504241114.50712.surgpub@telkomsa.net>
References: <200504241114.50712.surgpub@telkomsa.net>
Message-ID: <931f8ea905042407074c3cfeb7@mail.gmail.com>

On 4/24/05, Paul Surgeon <surgpub@telkomsa.net> wrote:
> A have a minor gripe about the gdal tools and it's that I can't find
> sufficient documentation or tutorials on how to use the command line
> parameters.
> It may be obvious to a seasoned GIS user but to someone relatively new to the
> GIS scene it's a black box and reading source files and API documentation is
> not helping me at all.

Paul, 

I sympathize.   To be honest I also find it hard to figure out 
all the parameters possible for projections.  The authoritative
docs for PROJ.4 are spread over several PostScript documents
amoung other challenges.  

> For starters what are all the projections that I can use in gdalwarp?
> I understand that it's using proj.4 but I can't find what command line syntax
> to use.

Well, the place to look for details docs is the PROJ.4 postscript
files, but for the more common projections I generally look at the
following list to see how they are formulated in PROJ.4 and some
other environments:
  
  http://geotiff.maptools.org/proj_list/

> What I'm trying to do is really simple.
> I want to warp Landsat 7 ETM+ images into an unprojected format so that I can
> cut them along a lat and lon boundary and stick them through an image
> processing tool.
> 
> I have tried :
> gdalwarp -s_srs "+proj=utm +zone=35 +datum=WGS84" -t_srs "+proj=latlong
> +datum=WGS84" input.tif  output.tif
...
> For both I get an error message :
> ERROR 5: GDALWarpOptions.Validate()
>   pfnTransformer is NULL

I tried this and it worked for me.  I am suspecting that your
GDAL isn't finding PROJ.4. 

> What does that error mean?

It means that GDAL was unable to instantiate a transformer,
potentially for a number of reasons. 

> What is the difference between the latlon and ortho projections?
> I know that's a general GIS question.

Right, so I am tempted to avoid it.  But briefly ortho projection
is as if you were looking at the earth from space, from an infinite
distance away.  lat/long ... is lat/long.   Plate Caree or Equirectangular
is essentially the same thing as lat/long, but scaled.  Perhaps you
are thinking of that. 
 
> I also have the accompanying "met" file with all the projection info for the
> bands but how do I get gdalwarp to read it or what must I extract out of it
> and stick in the command line?
> Is that neccessary or will the GeoTIFF header have enough info in it for
> gdalwarp to work with?

You are providing sufficient above to do the warp.  If the GeoTIFF
header has the coordinate system properly, than that should be 
sufficient for the input. 

Coming back to the original problem, what build of GDAL are
you using?  You might want to try FWTools and verify it works
with that (http://fwtools.maptools.org).   

I am interested in improving the error reporting, but understand
that in an environment where folks are building and installing
the software themselves there are alot of ways that things can
go wrong.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From pgao at esri.com  Mon Apr 25 10:03:36 2005
From: pgao at esri.com (Peng Gao)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] GDAL CVS access
Message-ID: <491DC5F3D279CD4EB4B157DDD62237F40BFCFB6F@zipwire.esri.com>

I can't login:

cvs login 
(Logging in to cvsanon@cvs.maptools.org)
cvs login: authorization failed: server cvs.maptools.org rejected access to
/cvs/maptools/cvsroot for user cvsanon

*****CVS exited normally with code 1*****

I am using WinCvs. I tried password 'enter' and '*enter*' and both
didn't work. What did I miss?

Thanks,
Gao, Peng



From fwarmerdam at gmail.com  Mon Apr 25 10:16:57 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] GDAL CVS access
In-Reply-To: <491DC5F3D279CD4EB4B157DDD62237F40BFCFB6F@zipwire.esri.com>
References: <491DC5F3D279CD4EB4B157DDD62237F40BFCFB6F@zipwire.esri.com>
Message-ID: <931f8ea905042507162cf09434@mail.gmail.com>

On 4/25/05, Peng Gao <pgao@esri.com> wrote:
> I can't login:
> 
> cvs login
> (Logging in to cvsanon@cvs.maptools.org)
> cvs login: authorization failed: server cvs.maptools.org rejected access to
> /cvs/maptools/cvsroot for user cvsanon
> 
> *****CVS exited normally with code 1*****
> 
> I am using WinCvs. I tried password 'enter' and '*enter*' and both
> didn't work. What did I miss?

Peng,

The password is blank I believe.  Where it says enter, it means for you
to just hit the enter button on the keyword.   If it still doesn't work let
me know and I will dig into it further. 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From pgao at esri.com  Mon Apr 25 10:56:03 2005
From: pgao at esri.com (Peng Gao)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] GDAL CVS access
Message-ID: <491DC5F3D279CD4EB4B157DDD62237F40BFCFB70@zipwire.esri.com>

Now I am getting:

CVSROOT: :pserver:cvsanon@cvs.maptools.org:/cvs/maptools/cvsroot (password
authentication)
TCL is *not* available, shell is disabled
cvs login 
(Logging in to cvsanon@cvs.maptools.org)
cvs [login aborted]: connect to cvs.maptools.org:2401 failed: Connection
timed out

*****CVS exited normally with code 1*****


> -----Original Message-----
> From: Frank Warmerdam [mailto:fwarmerdam@gmail.com]
> Sent: Monday, April 25, 2005 7:17 AM
> To: Peng Gao
> Cc: gdal-dev@xserve.flids.com
> Subject: Re: [Gdal-dev] GDAL CVS access
> 
> On 4/25/05, Peng Gao <pgao@esri.com> wrote:
> > I can't login:
> >
> > cvs login
> > (Logging in to cvsanon@cvs.maptools.org)
> > cvs login: authorization failed: server cvs.maptools.org rejected access
> to
> > /cvs/maptools/cvsroot for user cvsanon
> >
> > *****CVS exited normally with code 1*****
> >
> > I am using WinCvs. I tried password 'enter' and '*enter*' and both
> > didn't work. What did I miss?
> 
> Peng,
> 
> The password is blank I believe.  Where it says enter, it means for you
> to just hit the enter button on the keyword.   If it still doesn't work
> let
> me know and I will dig into it further.
> 
> Best regards,
> --
> ---------------------------------------+----------------------------------
> ----
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent

From fwarmerdam at gmail.com  Mon Apr 25 13:35:11 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] GDAL CVS access
In-Reply-To: <491DC5F3D279CD4EB4B157DDD62237F40BFCFB70@zipwire.esri.com>
References: <491DC5F3D279CD4EB4B157DDD62237F40BFCFB70@zipwire.esri.com>
Message-ID: <931f8ea9050425103525cc0bd9@mail.gmail.com>

On 4/25/05, Peng Gao <pgao@esri.com> wrote:
> Now I am getting:
> 
> CVSROOT: :pserver:cvsanon@cvs.maptools.org:/cvs/maptools/cvsroot (password
> authentication)
> TCL is *not* available, shell is disabled
> cvs login
> (Logging in to cvsanon@cvs.maptools.org)
> cvs [login aborted]: connect to cvs.maptools.org:2401 failed: Connection
> timed out

Peng,

Wow, I'm not sure where the TCL message is coming from.  But
the core problem seem to be unrelated, based on the connection
timed out message.  

You might just want to try again as sometimes there are DNS problems
with cvs.maptools.org.  Alternatively, try replacing cvs.maptools.org with
the IP# directly (209.217.116.153). 

eg. 

:pserver:cvsanon@209.217.116.153:/cvs/maptools/cvsroot

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From dylan at iici.no-ip.org  Mon Apr 25 14:19:04 2005
From: dylan at iici.no-ip.org (Dylan Beaudette)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] strange shapefile DBF error [fixed]
In-Reply-To: <200504221708.59702.dylan@iici.no-ip.org>
References: <200504221708.59702.dylan@iici.no-ip.org>
Message-ID: <200504251119.04244.dylan@iici.no-ip.org>

sorry for the false alarm - a re-compile without some CFLAGS resulted in a 
working GDAL installation.

Dylan

On Friday 22 April 2005 05:08 pm, Dylan Beaudette wrote:
> Greetings,
>
> recently installed gdal-1.2.6 and mapserver-4.4.2 on a slackware 10 box.
>
> trying to access a simple shapefile with ogrinfo yields an 'illegal
> instruction' after only 1 record in the shapefile has been processed.
>
> i know that this shapefile is in working order.
>
> trying to re-create this shapefile (it is a tile index for mapserver) seems
> to fail as well...
>
> ----------------------
> tile4ms list test
> Aborted. Unable to open DBF:o34115d1ne.tif
> Processed 0 of 1 files
> ----------------------
>
> here is the output from ogrinfo;
>
> ------------------------------
> ogrinfo -al doqq_index.shp
> INFO: Open of `doqq_index.shp'
> using driver `ESRI Shapefile' successful.
>
> Layer name: doqq_index
> Geometry: Polygon
> Feature Count: 312
> Extent: (-2527391.972465, -374934.820857) - (-2007497.075791,
> 174428.925500) Layer SRS WKT:
> PROJCS["North_America_Albers_Equal_Area_Conic",
>     GEOGCS["GCS_North_American_1983",
>         DATUM["North_American_Datum_1983",
>             SPHEROID["GRS_1980",6378137.0,298.257222101]],
>         PRIMEM["Greenwich",0.0],
>         UNIT["Degree",0.0174532925199433]],
>     PROJECTION["Albers_Conic_Equal_Area"],
>     PARAMETER["False_Easting",0.0],
>     PARAMETER["False_Northing",0.0],
>     PARAMETER["longitude_of_center",-96.0],
>     PARAMETER["Standard_Parallel_1",20.0],
>     PARAMETER["Standard_Parallel_2",60.0],
>     PARAMETER["latitude_of_center",40.0],
>     UNIT["Meter",1.0]]
> location: String (255.0)
> OGRFeature(doqq_index):0
>   location (String) = o34115d1ne.tif
> Illegal instruction
> ^^^^^^^^^^^^^^^^
> ----------------------------------------
>
> and here are my compile-time options for gdal:
>
> -------------------
> export CHOST="i686-pc-linux-gnu"
> export CFLAGS="-march=pentium3 -O3 -pipe -fomit-frame-pointer"
> export CXXFLAGS="-march=pentium3 -O3 -pipe -fomit-frame-pointer"
>
> ./configure --prefix=/usr --with-png=internal --with-jpeg=internal \
>             --with-gif=internal --with-libtiff=internal \
>             --with-geotiff=internal --with-libz=internal\
>             --without-pg --without-ogdi --with-python \
> 	    --with-threads=yes
> -------------------
>
> any ideas.. ? could this be an issue that is due to some other library not
> being present?
>
> thanks in advance!

From dron at ak4719.spb.edu  Mon Apr 25 15:03:55 2005
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] ASTER and MODIS HDF-EOS products
In-Reply-To: <001101c5483b$e98e13c0$6f2811ac@MGCOMPAQ>
References: <20050421204217.GA21659@ak4719.spb.edu>
	<001101c5483b$e98e13c0$6f2811ac@MGCOMPAQ>
Message-ID: <20050425190355.GA19138@ak4719.spb.edu>

On Sat, Apr 23, 2005 at 03:37:38PM -0400, Kenneth Melero wrote:
> Previous support for HDF showed header information for MOD09A1 data.
> After recent changes it does not recognize this as a valid dataset.
> Any thoughts? I could provide you with a sample file if needed.

Hi, Ken,

It looks like I need a sample. I did not found nothing special about that
particular data product.

Regards,
Andrey

-- 
Andrey V. Kiselev
Home phone:  +7 812 5970603  ICQ# 26871517

From grevedan at hotmail.com  Mon Apr 25 15:32:28 2005
From: grevedan at hotmail.com (Dan Greve)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] GDAL CVS access
In-Reply-To: <931f8ea9050425103525cc0bd9@mail.gmail.com>
Message-ID: <BAY102-F3343B779DB358A24D82570C7200@phx.gbl>

Peng,

I always had trouble with WinCVS, too.

Try downloading cygwin from www.cygwin.com, it comes with the ole-fashioned 
text based cvs, and always works for me.  You also get a windows xserver, 
all your unix basic tools, gcc compilers, python, etc, etc...

-- dan

>From: Frank Warmerdam <fwarmerdam@gmail.com>
>Reply-To: warmerdam@pobox.com
>To: Peng Gao <pgao@esri.com>
>CC: Gdal-dev <gdal-dev@remotesensing.org>
>Subject: Re: [Gdal-dev] GDAL CVS access
>Date: Mon, 25 Apr 2005 13:35:11 -0400
>
>On 4/25/05, Peng Gao <pgao@esri.com> wrote:
> > Now I am getting:
> >
> > CVSROOT: :pserver:cvsanon@cvs.maptools.org:/cvs/maptools/cvsroot 
>(password
> > authentication)
> > TCL is *not* available, shell is disabled
> > cvs login
> > (Logging in to cvsanon@cvs.maptools.org)
> > cvs [login aborted]: connect to cvs.maptools.org:2401 failed: Connection
> > timed out
>
>Peng,
>
>Wow, I'm not sure where the TCL message is coming from.  But
>the core problem seem to be unrelated, based on the connection
>timed out message.
>
>You might just want to try again as sometimes there are DNS problems
>with cvs.maptools.org.  Alternatively, try replacing cvs.maptools.org with
>the IP# directly (209.217.116.153).
>
>eg.
>
>:pserver:cvsanon@209.217.116.153:/cvs/maptools/cvsroot
>
>Best regards,
>--
>---------------------------------------+--------------------------------------
>I set the clouds in motion - turn up   | Frank Warmerdam, 
>warmerdam@pobox.com
>light and sound - activate the windows | http://pobox.com/~warmerdam
>and watch the world go round - Rush    | Geospatial Programmer for Rent
>_______________________________________________
>Gdal-dev mailing list
>Gdal-dev@xserve.flids.com
>http://xserve.flids.com/mailman/listinfo/gdal-dev



From surgpub at telkomsa.net  Mon Apr 25 16:16:18 2005
From: surgpub at telkomsa.net (Paul Surgeon)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] gdalwarp documentation/tutorial
In-Reply-To: <931f8ea905042407074c3cfeb7@mail.gmail.com>
References: <200504241114.50712.surgpub@telkomsa.net>
	<931f8ea905042407074c3cfeb7@mail.gmail.com>
Message-ID: <200504252216.18627.surgpub@telkomsa.net>

On Sunday, 24 April 2005 16:07, Frank Warmerdam wrote:
> Coming back to the original problem, what build of GDAL are
> you using?  You might want to try FWTools and verify it works
> with that (http://fwtools.maptools.org).

Thanks Frank, I installed FWTools and suddenly everything works.
I thought all along that the error messages were a result of bad command line 
parameters.  :)

Paul

From fwarmerdam at gmail.com  Wed Apr 27 12:23:33 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] GDAL CVS Instability - Persistant Auxilary Metadata
Message-ID: <931f8ea905042709232be7297f@mail.gmail.com>

Folks,

First, this is a warning that GDAL CVS will likely be somewhat unstable
for a couple weeks.  I am starting to commit substantial changes to provide
Persistant Auxilary Metadata to many formats, including read-only formats.

Persistent Auxilary Metadata is basically intended as a way of associating
an extra header file with files that can store various information that
isn't supported by the format itself.  That is auxilary metadata like 
coordinate systems, geotransforms, histograms, generic metadata, 
color tables, and so forth. 

The auxilary metadata is stored in a .pam XML file.  The .pam filename
is the original dataset name plus .pam.  So the pam file for utm.jpg would
be utm.jpg.pam.  

The general idea is to ensure we can associate a variety of auxilary 
information (and cache statistics) for most GDAL supported formats, 
whether they have support for such structures in the format itself or not.

The XML structure is similar to how such information was stored in .vrt
files, for those familiar with vrt.  

The process to PAM enable a driver is to derive it from GDALPamDataset
and GDALPamRasterBand instead of GDALDataset and GDALRasterBand
and then to make a few minor adjustments in the driver.  It is my intention
to apply this change to almost all the drivers. 

In the meantime, if you update from CVS please also do a clean 
rebuild. 

I plan to write up a tutorial document describing how PAM works 
fairly soon. 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From kmelero at sanz.com  Wed Apr 27 15:11:57 2005
From: kmelero at sanz.com (Kenneth Melero)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] Re: configure.in tweaks
In-Reply-To: <425008CB.5000105@comcast.net>
Message-ID: <007501c54b5c$fd762520$1902040a@MGCOMPAQ>


Frank,

I see this is still an issue.  Are you thinking about a method to resolve
this?

Thanks,
-Ken


-----Original Message-----
From: gdal-dev-bounces@xserve.flids.com
[mailto:gdal-dev-bounces@xserve.flids.com] On Behalf Of David Burken
Sent: Sunday, April 03, 2005 11:16 AM
To: gdal-dev@remotesensing.org
Subject: Re: [Gdal-dev] Re: configure.in tweaks


Frank,

Using this configure line (with latest cvs):

 ./configure --with-libtiff=/work/drb/libtiff/libtiff 
--with-geotiff=/work/drb/geotiff/libgeotiff 
--with-kakadu=/work/drb/kakadu/v4_4-00315N

I still have to comment out "configure.in:line 501" to avoid:

configure: error: We require at least GeoTIFF 1.2.1. Consider using the 
one supplied with GDAL

Take care,
Dave


_______________________________________________
Gdal-dev mailing list
Gdal-dev@xserve.flids.com http://xserve.flids.com/mailman/listinfo/gdal-dev


From fwarmerdam at gmail.com  Wed Apr 27 15:28:52 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] Re: configure.in tweaks
In-Reply-To: <007501c54b5c$fd762520$1902040a@MGCOMPAQ>
References: <425008CB.5000105@comcast.net>
	<007501c54b5c$fd762520$1902040a@MGCOMPAQ>
Message-ID: <931f8ea905042712286f248583@mail.gmail.com>

On 4/27/05, Kenneth Melero <kmelero@sanz.com> wrote:
> 
> Frank,
> 
> I see this is still an issue.  Are you thinking about a method to resolve
> this?
...
> Using this configure line (with latest cvs):
> 
>  ./configure --with-libtiff=/work/drb/libtiff/libtiff
> --with-geotiff=/work/drb/geotiff/libgeotiff
> --with-kakadu=/work/drb/kakadu/v4_4-00315N
> 
> I still have to comment out "configure.in:line 501" to avoid:
> 
> configure: error: We require at least GeoTIFF 1.2.1. Consider using the
> one supplied with GDAL

Ken / Dave,

I still have never seen this myself, and have no idea how to reproduce
it.  Are you trying to use libtiff and libgeotiff directly from their build
directories?  This isn't a configure I really try to support these days.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From kmelero at sanz.com  Wed Apr 27 15:31:26 2005
From: kmelero at sanz.com (Kenneth Melero)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] Re: configure.in tweaks
In-Reply-To: <931f8ea905042712286f248583@mail.gmail.com>
Message-ID: <008301c54b5f$b5989820$1902040a@MGCOMPAQ>


Yeah, it is using libtiff and geotiff externally from there separate build
directories.  Looks like there are a few issues with this.  It is no a show
stopper for me.  That is ok.

Thanks,
-Ken


-----Original Message-----
From: Frank Warmerdam [mailto:fwarmerdam@gmail.com] 
Sent: Wednesday, April 27, 2005 3:29 PM
To: kmelero@sanz.com
Cc: David Burken; gdal-dev@remotesensing.org
Subject: Re: [Gdal-dev] Re: configure.in tweaks


On 4/27/05, Kenneth Melero <kmelero@sanz.com> wrote:
> 
> Frank,
> 
> I see this is still an issue.  Are you thinking about a method to 
> resolve this?
...
> Using this configure line (with latest cvs):
> 
>  ./configure --with-libtiff=/work/drb/libtiff/libtiff
> --with-geotiff=/work/drb/geotiff/libgeotiff
> --with-kakadu=/work/drb/kakadu/v4_4-00315N
> 
> I still have to comment out "configure.in:line 501" to avoid:
> 
> configure: error: We require at least GeoTIFF 1.2.1. Consider using 
> the one supplied with GDAL

Ken / Dave,

I still have never seen this myself, and have no idea how to reproduce it.
Are you trying to use libtiff and libgeotiff directly from their build
directories?  This isn't a configure I really try to support these days.

Best regards,
-- 
---------------------------------------+--------------------------------
---------------------------------------+------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From skyman302 at gmail.com  Wed Apr 27 17:39:57 2005
From: skyman302 at gmail.com (Sam Gurt)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] problem with te using gdalwarp
Message-ID: <94a39d2d050427143978ab5448@mail.gmail.com>

Heres the command I'm using:

gdalwarp -s_srs EPSG:4269 -t_srs "+proj=stere +lat_0=46.1978
+lon_0=-122.1911 +datum=WGS84" -tps -rcs -te -122.2411 46.1478
-122.1411 46.2478 C:\71569060\71569060.tif C:\stereo.tif

However, this is the output:

Creating output file that is 0P x 0L.
ERROR 1: _TIFFVSetField:C:\stereo.tif: Bad value 0 for "RowsPerStrip"

Is this a bug in GDAL or did I do something wrong. I'm using gdal from
fwtools 0.9.6 under windows. However I've also tried this using gdal
by itself from the gdal website under linux and I get the same error.

From ed at topozone.com  Wed Apr 27 17:47:16 2005
From: ed at topozone.com (Ed McNierney)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] problem with te using gdalwarp
Message-ID: <4BF377919225F449BB097CB76FFE9BC81883B7@ptolemy.topozone.com>

Sam -

I don't use gdalwarp like that, but I believe the -te parameters should
be coordinates in the OUTPUT coordinate system.  You appear to be trying
to specify latitude/longitude degrees (the input coordinate system)
rather than coordinates in your output stereographic space.

	- Ed

Ed McNierney
President and Chief Mapmaker
TopoZone.com / Maps a la carte, Inc.
73 Princeton Street, Suite 305
North Chelmsford, MA  01863
Phone: +1 (978) 251-4242
Fax: +1 (978) 251-1396
ed@topozone.com 

-----Original Message-----
From: gdal-dev-bounces@xserve.flids.com
[mailto:gdal-dev-bounces@xserve.flids.com] On Behalf Of Sam Gurt
Sent: Wednesday, April 27, 2005 5:40 PM
To: Gdal-dev@xserve.flids.com
Subject: [Gdal-dev] problem with te using gdalwarp

Heres the command I'm using:

gdalwarp -s_srs EPSG:4269 -t_srs "+proj=stere +lat_0=46.1978
+lon_0=-122.1911 +datum=WGS84" -tps -rcs -te -122.2411 46.1478
-122.1411 46.2478 C:\71569060\71569060.tif C:\stereo.tif

However, this is the output:

Creating output file that is 0P x 0L.
ERROR 1: _TIFFVSetField:C:\stereo.tif: Bad value 0 for "RowsPerStrip"

Is this a bug in GDAL or did I do something wrong. I'm using gdal from
fwtools 0.9.6 under windows. However I've also tried this using gdal by
itself from the gdal website under linux and I get the same error.
_______________________________________________
Gdal-dev mailing list
Gdal-dev@xserve.flids.com
http://xserve.flids.com/mailman/listinfo/gdal-dev

From fwarmerdam at gmail.com  Wed Apr 27 17:50:39 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] problem with te using gdalwarp
In-Reply-To: <94a39d2d050427143978ab5448@mail.gmail.com>
References: <94a39d2d050427143978ab5448@mail.gmail.com>
Message-ID: <931f8ea905042714503e928275@mail.gmail.com>

On 4/27/05, Sam Gurt <skyman302@gmail.com> wrote:
> Heres the command I'm using:
> 
> gdalwarp -s_srs EPSG:4269 -t_srs "+proj=stere +lat_0=46.1978
> +lon_0=-122.1911 +datum=WGS84" -tps -rcs -te -122.2411 46.1478
> -122.1411 46.2478 C:\71569060\71569060.tif C:\stereo.tif
> 
> However, this is the output:
> 
> Creating output file that is 0P x 0L.
> ERROR 1: _TIFFVSetField:C:\stereo.tif: Bad value 0 for "RowsPerStrip"
> 
> Is this a bug in GDAL or did I do something wrong. I'm using gdal from
> fwtools 0.9.6 under windows. However I've also tried this using gdal
> by itself from the gdal website under linux and I get the same error.

Sam,

You don't provide details on your input file, so I can't really reproduce
this.  But for some reason the output file is being created 0x0.  You
might want to either set an explicit output file size or resolution using
the -ts or -tr switches. 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From fwarmerdam at gmail.com  Wed Apr 27 18:29:53 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] FWTools 0.9.8 Released
Message-ID: <931f8ea905042715295aa4c825@mail.gmail.com>

Folks,

FWTools 0.9.8 has been related and is available for download from:

  http://fwtools.maptools.org/

FWTools is a easy-to-install binary packaging of OpenEV, MapServer,
GDAL, PROJ, and OGDI with lots of options built-in and good python 
support. 

This is the usual "latest from CVS" release.  Noteworthy changes include:

 On Windows:

 o Use of the ECW 3.1 SDK, with the name of the DLLs renamed to 
    include _fw so they don't interfere with any older versions already
    installed in windows\system32 on windows as had been reported
    by several people. 

 o Included all the GTK related include files and stub libraries.  In theory
    this should make it fairly easy to use FWTools to build the OpenEV
    core against instead of folks having to build all the dependencies 
    themselves. 

On Linux:

 o I was having problems with a message about libgcc_s.so not being
   properly installed and this interfering with pthread_cancel in the ECW
   library.  I think I have worked around this by moving the libgcc_s.so
   into $FWTOOLS_HOME/lib/fallback and putting it after /lib in the
   LD_LIBRARY_PATH.  Apparently it is important to use the installed
   libgcc_s.so if it is available. 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From starged at videotron.ca  Thu Apr 28 21:02:33 2005
From: starged at videotron.ca (Mario Beauchamp)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] Fusion tool for OpenEV and GDAL
Message-ID: <427187A9.4080503@videotron.ca>

Hi all,

The Beta version of my fusion tool for OpenEV is available here:

http://pages.infinit.net/starged/openev/fusion.py

There is also a command-line version only requiring GDAL and Numeric:

http://pages.infinit.net/starged/gdal/fusion-gdal.py

Fusion, also known as pansharpening or pan merging is the sharpening of an enlarged RGB 
composite image using a higher resolution panchromatic greyscale image to obtain a sharper color 
image. The most common use is the fusion of Landsat panchromatic 15m band-8 with an RGB 30m 
bands 3,2,1. It is undetermined how this tool will perform on other types of imagery (ie SPOT, 
Ikonos, Quickbird) as I don't have access to any of those...

Enjoy!
--
Mario B.
For a demo of Landsat pansharpened images see:
http://pages.infinit.net/starged/landsat/home.htm

From richard.greenwood at gmail.com  Thu Apr 28 23:17:19 2005
From: richard.greenwood at gmail.com (Richard Greenwood)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] inner join
Message-ID: <ae9185aa05042820174d442950@mail.gmail.com>

I am trying to create a destination shape file that is a sub-set of a
source shape file, based on a join to a dbf.

Poly.shp is the source shape file. Listing.dbf has the list of records
that I want from poly.shp.

In pseudocode  I want something like:
   Select * from poly where id in (select id from listing)
Or:
   Select * from poly where poly.id = listing.id

But I keep getting all of the records from poly (the source table) my
statement is as follows:

ogr2ogr -sql 
"SELECT * FROM poly LEFT JOIN '/map_data/listings/listing.dbf'.listing 
ON poly.Id = listing.Id" 
test1 /map_data/wy83-wf/poly.shp

It seems like I need to change LEFT JOIN to INNER JOIN, but that does
not appear to be supported. I tried to re-order my JOIN ... ON clause,
but with no joy.

Any suggestions would be appreciated.

Rich
-- 
Richard Greenwood
richard.greenwood@gmail.com
www.greenwoodmap.com

From fwarmerdam at gmail.com  Fri Apr 29 09:35:45 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] inner join
In-Reply-To: <ae9185aa05042820174d442950@mail.gmail.com>
References: <ae9185aa05042820174d442950@mail.gmail.com>
Message-ID: <931f8ea9050429063517017883@mail.gmail.com>

On 4/28/05, Richard Greenwood <richard.greenwood@gmail.com> wrote:
> I am trying to create a destination shape file that is a sub-set of a
> source shape file, based on a join to a dbf.
> 
> Poly.shp is the source shape file. Listing.dbf has the list of records
> that I want from poly.shp.
> 
> In pseudocode  I want something like:
>    Select * from poly where id in (select id from listing)
> Or:
>    Select * from poly where poly.id = listing.id

Richard,

I'm afraid to say the half-assed SQL JOIIN implementation in OGR
isn't up to doing this.  If you have some sort of extra column in listing.dbf
then you could likely do your join and then do another ogr2ogr that
would filter out all records where the extra column is NULL.  
Alternatively, you could write a python script to do the operation, 
basically reading the listing.dbf, and then reading all features from
the source dataset, and only copying those in the listing from the
second (stored in a hash for instance). 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From justin.w.thomas at gmail.com  Fri Apr 29 11:24:09 2005
From: justin.w.thomas at gmail.com (Justin Thomas)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] JPEG Tiling?
Message-ID: <71437e89050429082431f567d1@mail.gmail.com>

I'm fairly new to the geospatial imagery world, so please forgive me
if this question is totally in left field.  I have made a few test
programs using GDAL and OGR and so far I have been very pleased with
how easy it was to do fairly complex tasks.

I read the JPEG driver documentation, but I could not see how to load
a set of tiled JPG and JGW files so that I can use GDAL to provide a
window of pixels for the combined area.

Is there is a simple workaround or could somone please point me to a
website with a discussion on the limitations on the different formats?

Thank you,

Justin Thomas

From fwarmerdam at gmail.com  Fri Apr 29 11:43:03 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] JPEG Tiling?
In-Reply-To: <71437e89050429082431f567d1@mail.gmail.com>
References: <71437e89050429082431f567d1@mail.gmail.com>
Message-ID: <931f8ea9050429084327b74628@mail.gmail.com>

On 4/29/05, Justin Thomas <justin.w.thomas@gmail.com> wrote:
> I'm fairly new to the geospatial imagery world, so please forgive me
> if this question is totally in left field.  I have made a few test
> programs using GDAL and OGR and so far I have been very pleased with
> how easy it was to do fairly complex tasks.
> 
> I read the JPEG driver documentation, but I could not see how to load
> a set of tiled JPG and JGW files so that I can use GDAL to provide a
> window of pixels for the combined area.
> 
> Is there is a simple workaround or could somone please point me to a
> website with a discussion on the limitations on the different formats?

Justin,

Are you wanting to be able to treat a bunch of individual JPEG
files as single virtual GDALDataset?   There is no built-in support
for doing that; however, there are a few approaches.

The most obvious is to create a .vrt (virtual) dataset referencing
all the individual tiles.   the .vrt file is an XML file that can list
a bunch of other GDAL supported files and listing where they fit
into a virtual file.  This is described at:

   http://www.gdal.org/gdal_vrttut.html

There is also a script, gdal_merge.py, that can be used to quickly
build a mosaic from a set of georeferenced files.  So you could create
a real mosaic from a bunch of jpegfiles with world files using it.  

I would be sort of nice to have a gdal_merge.py variation that
just created a virtual file representing essentially the same result
but without copying data; however, I have not built such a utility.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From pgao at esri.com  Fri Apr 29 11:37:48 2005
From: pgao at esri.com (=?utf-8?b?R2FvLA==?= Peng)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] References on GDAL Spline
Message-ID: <loom.20050429T173158-670@post.gmane.org>

I am looking for some references, articles, whitepapers, and etc on the thin 
plat spline algorithm used in GDAL. Appreciate any help.

Gao, Peng


From richard.greenwood at gmail.com  Fri Apr 29 14:37:27 2005
From: richard.greenwood at gmail.com (Richard Greenwood)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] inner join
In-Reply-To: <931f8ea9050429063517017883@mail.gmail.com>
References: <ae9185aa05042820174d442950@mail.gmail.com>
	<931f8ea9050429063517017883@mail.gmail.com>
Message-ID: <ae9185aa050429113763ca9d2e@mail.gmail.com>

On 4/29/05, Frank Warmerdam <fwarmerdam@gmail.com> wrote:
> On 4/28/05, Richard Greenwood <richard.greenwood@gmail.com> wrote:
> > I am trying to create a destination shape file that is a sub-set of a
> > source shape file, based on a join to a dbf.
> >
> > Poly.shp is the source shape file. Listing.dbf has the list of records
> > that I want from poly.shp.
> >
> > In pseudocode  I want something like:
> >    Select * from poly where id in (select id from listing)
> > Or:
> >    Select * from poly where poly.id = listing.id
> 
> Richard,
> 
> I'm afraid to say the half-assed SQL JOIIN implementation in OGR
> isn't up to doing this.  If you have some sort of extra column in listing.dbf
> then you could likely do your join and then do another ogr2ogr that
> would filter out all records where the extra column is NULL.

That's a great solution! Thank you.

> Alternatively, you could write a python script to do the operation,
> basically reading the listing.dbf, and then reading all features from
> the source dataset, and only copying those in the listing from the
> second (stored in a hash for instance).

My python skills are pretty thin right now, but after Sean & Howard's
workshop this June I'm sure I'll be up to the task.

As always, thank you very much for your help.

Rich

-- 
Richard Greenwood
richard.greenwood@gmail.com
www.greenwoodmap.com

From saintsjd at yahoo.com  Fri Apr 29 16:18:15 2005
From: saintsjd at yahoo.com (Jon Saints)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] convert HDF ASTER to geotiff
Message-ID: <20050429201815.57628.qmail@web53908.mail.yahoo.com>

Hi, I am new to GDAL. I have had some success
converting hdf to tif using gdal_translate. 

i have not been able to apply a coorsys to the new tif
image.  has anyone any expirience with this sort of
thing?

Thanks
Jon

From dron at ak4719.spb.edu  Sat Apr 30 02:41:37 2005
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] convert HDF ASTER to geotiff
In-Reply-To: <20050429201815.57628.qmail@web53908.mail.yahoo.com>
References: <20050429201815.57628.qmail@web53908.mail.yahoo.com>
Message-ID: <20050430064137.GA10797@ak4719.spb.edu>

On Fri, Apr 29, 2005 at 01:18:15PM -0700, Jon Saints wrote:
> Hi, I am new to GDAL. I have had some success converting hdf to tif
> using gdal_translate. 
> 
> i have not been able to apply a coorsys to the new tif image.  has
> anyone any expirience with this sort of thing?

ASTER scenes are georeferenced with GCP points, that means you should
use gdalwarp to transform the scene in desirable projection and extent.
And you definitely need the latest CVS snapshot of GDAL sources where
the proper functionality has been implemented.

Regards,
Andrey

-- 
Andrey V. Kiselev
Home phone:  +7 812 5970603  ICQ# 26871517

From kmelero at sanz.com  Sat Apr 30 10:59:59 2005
From: kmelero at sanz.com (Kenneth Melero)
Date: Wed Nov 21 11:49:37 2007
Subject: [Gdal-dev] convert HDF ASTER to geotiff
In-Reply-To: <20050430064137.GA10797@ak4719.spb.edu>
Message-ID: <000001c54d95$47d08180$0200a8c0@MGCOMPAQ>


Andrey,

Can you provide an example of this?

Thanks!
-Ken

-----Original Message-----
From: gdal-dev-bounces@xserve.flids.com
[mailto:gdal-dev-bounces@xserve.flids.com] On Behalf Of Andrey Kiselev
Sent: Saturday, April 30, 2005 2:42 AM
To: gdal-dev@remotesensing.org
Subject: Re: [Gdal-dev] convert HDF ASTER to geotiff


On Fri, Apr 29, 2005 at 01:18:15PM -0700, Jon Saints wrote:
> Hi, I am new to GDAL. I have had some success converting hdf to tif 
> using gdal_translate.
> 
> i have not been able to apply a coorsys to the new tif image.  has 
> anyone any expirience with this sort of thing?

ASTER scenes are georeferenced with GCP points, that means you should use
gdalwarp to transform the scene in desirable projection and extent. And you
definitely need the latest CVS snapshot of GDAL sources where the proper
functionality has been implemented.

Regards,
Andrey

-- 
Andrey V. Kiselev
Home phone:  +7 812 5970603  ICQ# 26871517
_______________________________________________
Gdal-dev mailing list
Gdal-dev@xserve.flids.com http://xserve.flids.com/mailman/listinfo/gdal-dev


