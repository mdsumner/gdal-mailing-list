From ben at v...  Fri May  3 03:53:50 2002
From: ben at v... (bdiscoe)
Date: Wed Nov 21 11:49:16 2007
Subject: OGR/EPSG problem with California State Plane?
In-Reply-To: <3C51CFE8.9070208@p...>
Message-ID: <aatfme+74bh@eGroups.com>


Hi Frank,

This "State Plant Feet" issue came up again this evening due to a 
sudden urgent need to convert to Washington State Plane North NAD83 
*Feet*.

I'm afraid that the previous discussion below leaves me wondering how 
to specify this projection to OGRSpatialReference. The problem is 
definitely the difference between Meters and Feet.

Should i set the projection, then force the units to feet, and 
get/set the parameters to convert the false easting/northing from 
meters to feet?? Is there any way to simply tell it to use feet?

Regarding "defined by law, California 3 zone 3 in NAD83 is meters"
Can you point me to this law? I searched the Web for hours in vain. 
All the GIS data i have yet encountered in State Plane coordinates 
has been Feet, and all the GIS data providers have acted as if Feet 
is the correct and only units used.

It seems that the EPSG database makes the convenient simplification 
of putting all values in meters, however this may not reflect the 
actual standards and common use.

Thanks,
Ben
(please CC: ben.discoe@i...)

--- In gdal-dev@y..., Frank Warmerdam <warmerdam@p...> wrote:
> >>From: Ben Discoe [mailto:ben@v...]
> >>Sent: Saturday, January 19, 2002 1:21 AM
> >>To: gdal-dev@y...
> >>Subject: [gdal-dev] OGR/EPSG problem with California State Plane?
> >>
> >>
> >>I've spent the past day trying to track down a problem with some
> >>GIS data i've acquired from the City of Palo Alto. They say that
> >>the data uses California State Plane, Zone 3, NAD83.
> >>
> >>When i use OGRSpatialReference to operate on these coordinates,
> >>i get very incorrect results.
> >>
> >>I've tracked down the problem to the set of parameters used to
> >>describe the projection. They parameters are looked up by
> >>EPSGGetProjTRFInfo() which consults the file
> >>"gdal/data/trf_nonpolynomial.csv", and gets the following
> >>data from the file:
> >>
> >>10433 California CS83 zone 3 [..] 36.3 -120.3 38.26 37.04 
2000000 500000
> >>
> >>That is:
> >>standard parallel 1 38.4333333333
> >>standard parallel 2 37.0666666666
> >>center latitude 36.5
> >>center longitude -120.5
> >>false easting 2000000
> >>false northing 500000
> >>
> >>But, according to one online reference, the correct values are:
> >>False Easting: 6561666.6666
> >>False Northing: 1640416.6666
> 
> Ben,
> 
> The csv files are derived from the EPSG 4.3 database. While it
> possible that it has errors, it is unlikely that there are alot
> on something as important as state plane zones.
> 
> I notice the difference in easting and northing is exactly the
> factor of the us foot vs. meter.
> 
> In other words, you are expressing the false easting and northing
> in us feet while the database expresses them in meters. A dump in
> wkt of the database for california NAD83 zone 3 shows:
> 
> PROJCS["NAD83 / California zone 3",
> GEOGCS["NAD83",
> DATUM["North_American_Datum_1983",
> SPHEROID["GRS 1980",6378137,298.257222101,
> AUTHORITY["EPSG",7019]],
> TOWGS84[0,0,0,0,0,0,0],
> AUTHORITY["EPSG",6269]],
> PRIMEM["Greenwich",0,
> AUTHORITY["EPSG",8901]],
> UNIT["degree",0.0174532925199433],
> AUTHORITY["EPSG",4269]],
> PROJECTION["Lambert_Conformal_Conic_2SP"],
> PARAMETER["standard_parallel_1",38.4333333333333],
> PARAMETER["standard_parallel_2",37.0666666666667],
> PARAMETER["latitude_of_origin",36.5],
> PARAMETER["central_meridian",-120.5],
> PARAMETER["false_easting",2000000],
> PARAMETER["false_northing",500000],
> UNIT["metre",1,
> AUTHORITY["EPSG",9001]],
> AUTHORITY["EPSG",26943]]
> 
> Note that the overall units for zone are meters. As defined by
> law, California 3 zone 3 in NAD83 is always supposed to be
> operated on in meters. Of course, some organizations and
> projects still operate in feet anyways. Perhaps your data does?
> 
> Note, that if you use the same WKT definition, but with the units
> being feet the false northings and eastings still have to be
> expressed in meters.




From warmerdam at p...  Mon May  6 23:18:48 2002
From: warmerdam at p... (Frank Warmerdam)
Date: Wed Nov 21 11:49:16 2007
Subject: GeoTransforms from GCPs
Message-ID: <3CD74798.9000808@p...>

Folks,

I have written a function GDALGCPsToGeoTransform() to build an approximate
geotransform from a set of GCPs. It will also indicate if the geotransform
is a good fit (within a 1/4 pixel for all GCPs). It is accessable from Python
and I also added a little gcps2wld.py script in gdal/pymod for taking a
set of GCPs and building an approximated world file from them.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up | Frank Warmerdam, warmerdam@p...
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush | Geospatial Programmer for Rent




From p.a.rubini at c...  Tue May  7 10:12:12 2002
From: p.a.rubini at c... (parcranfield)
Date: Wed Nov 21 11:49:16 2007
Subject: No subject
Message-ID: <ab8nbs+g8hd@eGroups.com>

I have been investigating GDAL and OpenEV having been very pleased to 
find the combination of Python and GIS. In the latest OpenEV release 
1.4.1 there is the capability to read ECW compressed files (Windows 
only) which particularly interests me. I tried this but is there a 
problem with the data/colours displayed ?

I used gdal_translate to extract a test image as below

D:\junk>gdal_translate -srcwin 80000 210000 1000 
1000 "ecwp://217.169.46.98/images/uk/Ordnance_Survey/os_50k_gb.ecw" 
test2.tif

But then comparing the image in OpenEV with the original as displayed 
using the distributed ERViewer program the colours are clearly 
different (the image displayed by ERViewer is correct). Is OpenEV or 
gdal doing some image enhancement automatically ? I tried to open the 
ECW URL directly in OpenEV but unfortunately openev (windows 
version ?) appends the drive automatically - I don't know how to 
override this.

Staying with my image I tried the 3D drape option (using a sample of 
local dem data), but now the ecw image only displays in grey scale, I 
guess an unrelated problem. I also noticed that the default scaling 
on altitude does not appear to be unity as the GUI suggests, it must 
be something much greater.

As a newcomer to OpenEV /GDAL these could all be just problems of my 
own making, any suggestions or help would be most welcome.

Thanks

Phil.






From p.a.rubini at c...  Tue May  7 10:29:49 2002
From: p.a.rubini at c... (parcranfield)
Date: Wed Nov 21 11:49:16 2007
Subject: OpenEV / GDAL and ECW compressed files
Message-ID: <ab8oct+2bik@eGroups.com>

I have been investigating GDAL and OpenEV having been very pleased to 
find the combination of Python and GIS. In the latest OpenEV release 
1.4.1 there is the capability to read ECW compressed files (Windows 
only) which particularly interests me. I tried this but is there a 
problem with the data/colours displayed ?

I used gdal_translate to extract a test image as below

D:\junk>gdal_translate -srcwin 80000 210000 1000 
1000 "ecwp://217.169.46.98/images/uk/Ordnance_Survey/os_50k_gb.ecw" 
test2.tif

But then comparing the image in OpenEV with the original as displayed 
using the distributed ERViewer program the colours are clearly 
different (the image displayed by ERViewer is correct). Is OpenEV or 
gdal doing some image enhancement automatically ? I tried to open the 
ECW URL directly in OpenEV but unfortunately openev (windows 
version ?) appends the drive automatically - I don't know how to 
override this.

Staying with my image I tried the 3D drape option (using a sample of 
local dem data), but now the ecw image only displays in grey scale, I 
guess an unrelated problem. I also noticed that the default scaling 
on altitude does not appear to be unity as the GUI suggests, it must 
be something much greater.

As a newcomer to OpenEV /GDAL these could all be just problems of my 
own making, any suggestions or help would be most welcome.

Thanks

Phil.




From warmerdam at p...  Fri May 10 11:28:51 2002
From: warmerdam at p... (Frank Warmerdam)
Date: Wed Nov 21 11:49:16 2007
Subject: Linux Binary Release
Message-ID: <3CDBE733.3080801@p...>

Folks,

I have prepared a binary release of GDAL (based on a current CVS snapshot).
I have done a bit of work to try and make it easy to install, and to ensure
the support data files for responding EPSG projections are found. It can
be found at:

ftp://ftp.remotesensing.org/pub/gdal/gdal-1.1.7.1-linux-bin.tar.gz

I would appreciate folks trying it out, and reporting back on whether the
installation mechanism works. I have also modified GDAL builds so that
these interim binary releases will actually embed an internal release
version and release date, so "gdal_info --version" in this release will
report correct "interim" release information.

The work to prepare a binary release has been incorporated into the
mkbindist.sh script in the GDAL CVS tree.

Also, as part of this work I have fixed up a bunch of stuff about how builds
are done on Unix (and Cygwin) so that:

o ogrinfo, ogr2ogr and friends are linked against libgdal.1.1.so instead of
statically linking.
o libgdal.1.1.so isn't relinked unless an object file is recompiled.
o a make in gdal/ogr will cause libgdal.1.1.so to be relinked if ogr.a or
ogrsf_frmts.a changes.

Let me know what problems you encounter. I would be interested in
preparing binary GDAL releases for a few other platforms based on the same
methodology if it seems useful. In fact, anyone with a Sun, SGI, etc could
try contributing binary builds from CVS.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up | Frank Warmerdam, warmerdam@p...
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush | Geospatial Programmer for Rent




From sylvain_duclos at y...  Mon May 13 15:02:13 2002
From: sylvain_duclos at y... (s duclos)
Date: Wed Nov 21 11:49:16 2007
Subject: [gdal-dev] Linux Binary Release
In-Reply-To: <3CDBE733.3080801@p...>
Message-ID: <20020513190213.67224.qmail@w...>

Hello Frank,

--- Frank Warmerdam <warmerdam@p...> wrote:
...
> I would appreciate folks trying it out, and
> reporting back on whether the
> installation mechanism works. 

It work 
( maybe I should have read 
".. report if it doesn't work .." :)

While I'm here Frank there is 2 things in OGR/S57

ogrs57datasource.cpp:220
... LNAME_REFS ...

should read LNAM_REFS (ie the 'E')

also at s57dump.cpp:112 I replace

bRegistrarLoaded = oRegistrar.LoadInfo( 
"/home/warmerda/data/s57", TRUE );

for this

bRegistrarLoaded = oRegistrar.LoadInfo( NULL, TRUE );

so that the path is found correctly.


Thanks,

Sylvain.


__________________________________________________
Do You Yahoo!?
LAUNCH - Your Yahoo! Music Experience
http://launch.yahoo.com


From doug_newcomb at f...  Tue May 14 09:21:00 2002
From: doug_newcomb at f... (doug_newcomb@f...)
Date: Wed Nov 21 11:49:16 2007
Subject: Gdaltindex executable
Message-ID: <OFC86B7AD1.08732235-ON85256BB9.00488A6E@i...>


Hi Folks,
I've noticed that gdaltindex isn't set up to compile to executable
with the standard ./config, make . I usually just go in and edit the
GMakefile in the apps directory. Is there any particular reason for that?

Doug Newcomb
USFWS
Raleigh, NC
919-856-4520 ext. 14 doug_newcomb@f...
--------------------------------------------------------------------------------------------------------------

The opinions I express are my own and are not representative of the
official policy of the U.S.Fish and Wildlife Service or Dept. of Interior,
no matter how well reasoned and insightful they may appear.



From warmerdam at p...  Tue May 14 10:09:09 2002
From: warmerdam at p... (Frank Warmerdam)
Date: Wed Nov 21 11:49:16 2007
Subject: [gdal-dev] Gdaltindex executable
References: <OFC86B7AD1.08732235-ON85256BB9.00488A6E@i...>
Message-ID: <3CE11A85.4000701@p...>

doug_newcomb@f... wrote:
> Hi Folks,
> I've noticed that gdaltindex isn't set up to compile to executable
> with the standard ./config, make . I usually just go in and edit the
> GMakefile in the apps directory. Is there any particular reason for that?

Doug,

I see gdaltindex as being of interest only to MapServer users, so I don't
making it part of the standard install. However, you shouldn't need to change
the makefile. Just cd into gdal/apps after a build, and type "make gdaltindex".

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up | Frank Warmerdam, warmerdam@p...
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush | Geospatial Programmer for Rent




From warmerdam at p...  Tue May 14 11:45:29 2002
From: warmerdam at p... (Frank Warmerdam)
Date: Wed Nov 21 11:49:16 2007
Subject: [postgis-users] General Question on Raster within PostGIS
References: <20020513190213.67224.qmail@w...>
Message-ID: <3CE13119.3000809@p...>


> While I'm here Frank there is 2 things in OGR/S57
> 
> ogrs57datasource.cpp:220
> ... LNAME_REFS ...
> 
> should read LNAM_REFS (ie the 'E')

Sylvain,

I have modified the code to use #define'd constants to
help avoid mistaken spelling like this. I should have done
that to start with!

> also at s57dump.cpp:112 I replace
> 
> bRegistrarLoaded = oRegistrar.LoadInfo( 
> "/home/warmerda/data/s57", TRUE );
> 
> for this
> 
> bRegistrarLoaded = oRegistrar.LoadInfo( NULL, TRUE );
> 
> so that the path is found correctly.

I find it hard to believe that everyone doesn't keep the files under
"/home/warmerda/data/s57"! OK, I have changed this as suggested.

All changes are in CVS and will appear in GDAL/OGR 1.1.8 release eventually.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up | Frank Warmerdam, warmerdam@p...
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush | Geospatial Programmer for Rent




From warmerdam at p...  Wed May 15 22:51:22 2002
From: warmerdam at p... (Frank Warmerdam)
Date: Wed Nov 21 11:49:16 2007
Subject: OpenEV_FW_1.4.2
Message-ID: <3CE31EAA.4030100@p...>

Folks,

I have prepared a new incremental release of OpenEV_FW. This includes
current cuts of OpenEV and GDAL from CVS and upgrades to PROJ 4.4.5 (really
the current CVS version).

This cut also includes the gcps2wld.py script, and a gcps2wld.bat file for
generating world files from datasets with GCPs ... my real reason for preparing
this release.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up | Frank Warmerdam, warmerdam@p...
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush | Geospatial Programmer for Rent




From jlawhead at p...  Thu May 16 10:42:44 2002
From: jlawhead at p... (jlawheadus)
Date: Wed Nov 21 11:49:16 2007
Subject: OpenEV_FW_1.4.2
In-Reply-To: <3CE31EAA.4030100@p...>
Message-ID: <ac0gh4+lbi1@eGroups.com>

Frank,
I downloaded OpenEV 1.4.2 on Windows 2000. I put the correct path to 
the OpenEV directory tree in "setfw.bat" but when I run "openev.bat" I 
get a dialog box from Python with the following error:

"The procedure entry point NCSFileTellStdIO could not be located in 
the dynamic link library NCSUtil.dll"

I also have ActiveState's Python version 2.2 installed so I added the 
full path to the Python executable in OpenEV to "openev.bat" just 
to make sure the correct version was used. I still received the same 
error.

Any ideas?

Thanks,
Joel


--- In gdal-dev@y..., Frank Warmerdam <warmerdam@p...> wrote:
> Folks,
> 
> I have prepared a new incremental release of OpenEV_FW. This 
includes
> current cuts of OpenEV and GDAL from CVS and upgrades to PROJ 4.4.5 
(really
> the current CVS version).
> 
> This cut also includes the gcps2wld.py script, and a gcps2wld.bat 
file for
> generating world files from datasets with GCPs ... my real reason 
for preparing
> this release.
> 
> Best regards,
> 
> -- 
> 
---------------------------------------+------------------------------
--------
> I set the clouds in motion - turn up | Frank Warmerdam, 
warmerdam@p...
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush | Geospatial Programmer for 
Rent



From tmitchell at l...  Thu May 16 11:37:45 2002
From: tmitchell at l... (Tyler Mitchell)
Date: Wed Nov 21 11:49:16 2007
Subject: [gdal-dev] Re: OpenEV_FW_1.4.2
Message-ID: <OF1185170E.4BFB334D-ON88256BBB.0055D084@LocalDomain>


Isn't that the reference the ECW libraries?



"jlawheadus" 
<jlawhead@pixsell To: gdal-dev@yahoogroups.com 
.com> cc: 
Fax to: 
05/16/2002 07:42 Subject: [gdal-dev] Re: OpenEV_FW_1.4.2 
AM 
Please respond to 
gdal-dev 










Frank,
I downloaded OpenEV 1.4.2 on Windows 2000. I put the correct path to
the OpenEV directory tree in "setfw.bat" but when I run "openev.bat" I
get a dialog box from Python with the following error:

"The procedure entry point NCSFileTellStdIO could not be located in
the dynamic link library NCSUtil.dll"

I also have ActiveState's Python version 2.2 installed so I added the
full path to the Python executable in OpenEV to "openev.bat" just
to make sure the correct version was used. I still received the same
error.

Any ideas?

Thanks,
Joel


--- In gdal-dev@y..., Frank Warmerdam <warmerdam@p...> wrote:
> Folks,
>
> I have prepared a new incremental release of OpenEV_FW. This
includes
> current cuts of OpenEV and GDAL from CVS and upgrades to PROJ 4.4.5
(really
> the current CVS version).
>
> This cut also includes the gcps2wld.py script, and a gcps2wld.bat
file for
> generating world files from datasets with GCPs ... my real reason
for preparing
> this release.
>
> Best regards,
>
> --
>
---------------------------------------+------------------------------
--------
> I set the clouds in motion - turn up | Frank Warmerdam,
warmerdam@p...
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush | Geospatial Programmer for
Rent


Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service.










From warmerdam at p...  Thu May 16 11:33:11 2002
From: warmerdam at p... (Frank Warmerdam)
Date: Wed Nov 21 11:49:16 2007
Subject: [gdal-dev] Re: OpenEV_FW_1.4.2
References: <ac0gh4+lbi1@eGroups.com>
Message-ID: <3CE3D137.7000902@p...>

jlawheadus wrote:
> Frank,
> I downloaded OpenEV 1.4.2 on Windows 2000. I put the correct path to 
> the OpenEV directory tree in "setfw.bat" but when I run "openev.bat" I 
> get a dialog box from Python with the following error:
> 
> "The procedure entry point NCSFileTellStdIO could not be located in 
> the dynamic link library NCSUtil.dll"
> 
> I also have ActiveState's Python version 2.2 installed so I added the 
> full path to the Python executable in OpenEV to "openev.bat" just 
> to make sure the correct version was used. I still received the same 
> error.
> 
> Any ideas?
> 
> Thanks,
> Joel
Joel,

I am unable to reproduce this problem. I would suggest resetting your path
to the minimum before running openev to ensure you aren't getting some other
environment variable, though setfw.bat does try to put the OpenEV_FW bin
directory ahead of everything else so I wouldn't think this would be a problem.

Do you have any NCS dlls in your WINNT or WINNT\SYSTEM32 directories (or
whatever the equivelent directories are on Win2000)? If so, I think they
take precidence over the PATH. Try running OpenEV.bat from within
openev_fw\bin. In that case the local dlls should take precidence over even
the ones in the system directories.

Also, I discovered while looking into this that there is another problem with
using openev in the distribution I posted. Assuming you get past the above
problem, could you try the following dist and see if it is OK for you?

ftp://gdal.velocet.ca/pub/outgoing/OpenEV_FW_143.zip

If so, I will post it in the usual places.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up | Frank Warmerdam, warmerdam@p...
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush | Geospatial Programmer for Rent




From jlawhead at p...  Thu May 16 17:50:51 2002
From: jlawhead at p... (jlawheadus)
Date: Wed Nov 21 11:49:16 2007
Subject: OpenEV_FW_1.4.2
In-Reply-To: <3CE3D137.7000902@p...>
Message-ID: <ac19jr+lnn7@eGroups.com>

Good news - a duplicate 'ncsutil.dll' was to blame in my system32 
directory as Frank predicted. I forgot I had some other ERMapper 
software installed. I renamed the dll in the system32 dir temporarily 
and that did the trick.

And the 1.4.3 version works great. I've been playing with it and 
haven't run into any trouble yet on Win2k.

Thanks everyone.

-- Joel

--- In gdal-dev@y..., Frank Warmerdam <warmerdam@p...> wrote:
> jlawheadus wrote:
> > Frank,
> > I downloaded OpenEV 1.4.2 on Windows 2000. I put the correct path 
to 
> > the OpenEV directory tree in "setfw.bat" but when I run 
"openev.bat" I 
> > get a dialog box from Python with the following error:
> > 
> > "The procedure entry point NCSFileTellStdIO could not be located 
in 
> > the dynamic link library NCSUtil.dll"
> > 
> > I also have ActiveState's Python version 2.2 installed so I added 
the 
> > full path to the Python executable in OpenEV to "openev.bat" just 
> > to make sure the correct version was used. I still received the 
same 
> > error.
> > 
> > Any ideas?
> > 
> > Thanks,
> > Joel
> Joel,
> 
> I am unable to reproduce this problem. I would suggest resetting 
your path
> to the minimum before running openev to ensure you aren't getting 
some other
> environment variable, though setfw.bat does try to put the OpenEV_FW 
bin
> directory ahead of everything else so I wouldn't think this would be 
a problem.
> 
> Do you have any NCS dlls in your WINNT or WINNT\SYSTEM32 directories 
(or
> whatever the equivelent directories are on Win2000)? If so, I think 
they
> take precidence over the PATH. Try running OpenEV.bat from within
> openev_fw\bin. In that case the local dlls should take precidence 
over even
> the ones in the system directories.
> 
> Also, I discovered while looking into this that there is another 
problem with
> using openev in the distribution I posted. Assuming you get past 
the above
> problem, could you try the following dist and see if it is OK for 
you?
> 
> ftp://gdal.velocet.ca/pub/outgoing/OpenEV_FW_143.zip
> 
> If so, I will post it in the usual places.
> 
> Best regards,
> 
> -- 
> 
---------------------------------------+------------------------------
--------
> I set the clouds in motion - turn up | Frank Warmerdam, 
warmerdam@p...
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush | Geospatial Programmer for 
Rent



From a_kissel at e...  Wed May 22 06:16:01 2002
From: a_kissel at e... (Andrey Kiselev)
Date: Wed Nov 21 11:49:16 2007
Subject: Driver options in GDAL
Message-ID: <200205221016.g4MAG1b0022910@a...>

Frank,

I have two chained questions about GDAL and OpenEV.

1. Is it possible to use GDAL driver options in OpenEV? For example my
driver can return raw data or calibrated values and I want to say to OpenEV
what kind of data I need. Band selection question also very useful. I can
look, how it may be implemented and do it.

2. What about special structure for the driver options handling? Driver will
get parameters by queriyng GDALDriver class, not by processing commanline,
all options will be known to the GDAL core when driver registered. Using
this method driver help system may be organized. For example, I have say
something like

gdal_translate -of GTiff HELP

and list of GeoTIFF options with descriptions will be displayed. Also
external applications may get a list of driver supported options and
construct a GUI widgets based on it.


-- 
Andrey V. Kiselev
Scientific Research Center for Ecological Safety Russian Academy of Sciences
Office phone: +7 812 2307834 ICQ UIN 26871517
Registered Linux user number 169907



From warmerdam at p...  Wed May 22 09:51:08 2002
From: warmerdam at p... (Frank Warmerdam)
Date: Wed Nov 21 11:49:16 2007
Subject: [gdal-dev] Driver options in GDAL
References: <200205221016.g4MAG1b0022910@a...>
Message-ID: <3CEBA24C.5000405@p...>

Andrey Kiselev wrote:
> Frank,
> 
> I have two chained questions about GDAL and OpenEV.
> 
> 1. Is it possible to use GDAL driver options in OpenEV? For example my
> driver can return raw data or calibrated values and I want to say to OpenEV
> what kind of data I need. Band selection question also very useful. I can
> look, how it may be implemented and do it.

Andrey,

Note that currently GDAL provides no reasonably mechanism to supply options
when opening an existing dataset. The papszOptions argument currently is
only available when creating a new dataset. This makes it difficult to select
options to control access to existing datasets that might affect behaviour like
whether to apply calibration on the fly.

My off hand suggestion would be append something to the filename to mean that
the calibrated values should be returned. eg. "abc/l2a.dat" might be direct
values from the file while "abc/l2a.dat/calib" might return calibrated values.


> 2. What about special structure for the driver options handling? Driver will
> get parameters by queriyng GDALDriver class, not by processing commanline,
> all options will be known to the GDAL core when driver registered. Using
> this method driver help system may be organized. For example, I have say
> something like
> 
> gdal_translate -of GTiff HELP
> 
> and list of GeoTIFF options with descriptions will be displayed. Also
> external applications may get a list of driver supported options and
> construct a GUI widgets based on it.

This would certainly be very desirable, especially if we want to populate
a GUI with a set of controls related to the options, and do it automatically.
As far as documentation, my assumption todate has been the user should browse
the html documentation for a driver when they want more information.

We would need to determine how we want to describe the options, embed
appropriate structures in the driver, and update all the existing drivers with
file creation support.

I would also like some of the existing driver internals, such as whether a
pfnCreate or pfnCreateCopy method is available to be more transparent to C
applications. Currently this info is only available to C++ applications who
have to look directly into the GDBDriver object data members.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up | Frank Warmerdam, warmerdam@p...
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush | Geospatial Programmer for Rent




From bgmilne at c...  Thu May 23 10:51:48 2002
From: bgmilne at c... (Buchan Milne)
Date: Wed Nov 21 11:49:16 2007
Subject: RPMs for Mandrake 8.2 and cooker
Message-ID: <3CED0204.20205@c...>

In preparing RPMs of Grass5pre4 for he Mandrake cooker and 8.2, I have
also compiled gdal (for gdal support in grass).

RPMs can currently be found for 8.2 at:
http://ranger.dnsalias.com/mandrake/mandrake8.2/grass

In the process of compiling the RPMs, I had some issues:

1)libtiff and geotiff problems
Mandrake 8.2 has the following versions of libtiff and geotiff:

[bgmilne@bgmilne bgmilne]$ rpm -q libtiff3 libtiff3-devel libgeotiff1
libgeotiff1-devel
libtiff3-3.5.5-9mdk
libtiff3-devel-3.5.5-9mdk
libgeotiff1-1.1.4-2mdk
libgeotiff1-devel-1.1.4-2mdk
[bgmilne@bgmilne bgmilne]$

As you will see from the gdal spec file
(http://ranger.dnsalias.com/mandrake/mandrake8.2/grass/gdal.spec) I am
currently compiling against gdal's internal copy of geotiff, since I get
errors when linking against the system libtiff and libgeotiff (sample
errors given below for libgeotiff). I also had to avoid conflicting
with the headers for the system libgeotiff because of this. I could not
find any documentation on which version of libtiff and libgeotiff are
included. I would prefer to link against the system libtiff and
libgeotiff if possible.

2)Makefile patch
I had problems in the %install section of the RPM, until I patched the
makefile for DESTDIR support. This makes it easier to package, since the
user does not need to be root, mess with system files, or use different
arguments to make than used during compile. Mandrake has a macro
available for use in the spec file (%makeinstall_std) which runs make
$DESTDIR=$RPM_BUILD_ROOT.

I think (if the patch does not adversely affect normal building, which 
it should not) that it
would make life easier for packagers if this patch could be applied in
CVS. The patchis attached.

As soon as the issue regarding the use of internal copies of libtiff and
libgeotiff are resolved (either way), I will commit these RPMs to the
Mandrake cooker contribs, so that they will be available in next release
(along with Grass).

Since I have the grass and gdal packages available, and waiting to go
into the cooker contribs, a prompt response would be appreciated (as I
need to get back to working on my thesis, for which I need grass).

Regards,
Buchan


make[2]: Entering directory `/home/bgmilne/rpm/BUILD/gdal-1.1.7/frmts/gtiff'
c++ -c -I../.. -I../../port -I../../core -I../../ogr -Wall -fPIC -O3
-fomit-frame-pointer -pipe -mcpu=pentiumpro -march=i586 -ffast-math
-fno-strength-reduce -I/usr/include -I/usr/include/include
-I/usr/include -I/usr/include/include -I/usr/include/include
-I/usr/include -I/usr/include -I/usr/include/include
-I/usr/local/include geotiff.cpp -o geotiff.o
geotiff.cpp: In method `GTiffRasterBand::GTiffRasterBand (GTiffDataset
*, int)':
geotiff.cpp:336: `SAMPLEFORMAT_COMPLEXINT' undeclared (first use this
function)
geotiff.cpp:336: (Each undeclared identifier is reported only once for
each function it appears in.)
geotiff.cpp:349: `SAMPLEFORMAT_COMPLEXIEEEFP' undeclared (first use
this function)
geotiff.cpp: In function `TIFF *GTiffCreate (const char *, int, int,
int, GDALDataType, char **)':
geotiff.cpp:2162: warning: `uint16 nSampleFormat' might be used
uninitialized in this function
make[2]: *** [geotiff.o] Error 1
make[2]: Leaving directory `/home/bgmilne/rpm/BUILD/gdal-1.1.7/frmts/gtiff'
make[1]: *** [sub-libs] Error 1
make[1]: Leaving directory `/home/bgmilne/rpm/BUILD/gdal-1.1.7/frmts'
make: *** [frmts-target] Error 2

-- 
|----------------Registered Linux User #182071-----------------|
Buchan Milne Mechanical Engineer, Network Manager
Cellphone * Work +27 82 472 2231 * +27 21 8828820x202
Stellenbosch Automotive Engineering http://www.cae.co.za
GPG Key http://ranger.dnsalias.com/bgmilne.asc
1024D/60D204A7 2919 E232 5610 A038 87B1 72D6 AC92 BA50 60D2 04A7
-------------- next part --------------
name="gdal-1.1.7-destdir.patch"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline;
filename="gdal-1.1.7-destdir.patch"

--- gdal-1.1.7.orig/./GNUmakefile	Wed Mar 27 23:41:45 2002
+++ gdal-1.1.7/./GNUmakefile	Tue May 21 18:49:25 2002
@@ -114,10 +114,10 @@
install:	lib install-actions

install-actions:
-	$(INSTALL_DIR) $(INST_BIN)
-	$(INSTALL_DIR) $(INST_DATA)
-	$(INSTALL_DIR) $(INST_LIB)
-	$(INSTALL_DIR) $(INST_INCLUDE)
+	$(INSTALL_DIR) $(DESTDIR)$(INST_BIN)
+	$(INSTALL_DIR) $(DESTDIR)$(INST_DATA)
+	$(INSTALL_DIR) $(DESTDIR)$(INST_LIB)
+	$(INSTALL_DIR) $(DESTDIR)$(INST_INCLUDE)
(cd port; $(MAKE) install)
(cd core; $(MAKE) install)
(cd frmts; $(MAKE) install)
@@ -126,8 +126,8 @@
ifneq ($(PYTHON),no)
(cd pymod; $(MAKE) install)
endif
-	$(INSTALL) $(GDAL_LIB) $(INST_LIB)
+	$(INSTALL) $(GDAL_LIB) $(DESTDIR)$(INST_LIB)
ifeq ($(HAVE_LD_SHARED),yes)
-	$(INSTALL) $(GDAL_SLIB) $(INST_LIB)
+	$(INSTALL) $(GDAL_SLIB) $(DESTDIR)$(INST_LIB)
endif
-	for f in data/*.csv data/stateplane.txt ; do $(INSTALL) $$f $(INST_DATA) ; done
+	for f in data/*.csv data/stateplane.txt ; do $(INSTALL) $$f $(DESTDIR)$(INST_DATA) ; done
--- gdal-1.1.7.orig/port/GNUmakefile	Wed Jan 23 22:45:16 2002
+++ gdal-1.1.7/port/GNUmakefile	Tue May 21 18:38:59 2002
@@ -33,8 +33,8 @@
$(RANLIB) $(LIB)

install:	$(LIB)
-	for f in *.h ; do $(INSTALL) $$f $(INST_INCLUDE) ; done
-	$(INSTALL) cpl.a $(INST_LIB)
+	for f in *.h ; do $(INSTALL) $$f $(DESTDIR)$(INST_INCLUDE) ; done
+	$(INSTALL) cpl.a $(DESTDIR)$(INST_LIB)

xmlreformat:	xmlreformat.o $(LIB)
-	$(CXX) $(CXXFLAGS) xmlreformat.o $(LIB) -o xmlreformat
\ No newline at end of file
+	$(CXX) $(CXXFLAGS) xmlreformat.o $(LIB) -o xmlreformat
--- gdal-1.1.7.orig/core/GNUmakefile	Wed Nov 21 05:16:47 2001
+++ gdal-1.1.7/core/GNUmakefile	Tue May 21 18:38:59 2002
@@ -26,4 +26,4 @@
$(CXX) -c $(GDAL_INCLUDE) $(CXXFLAGS) $*.cpp -o $*.o

install:
-	for f in *.h ; do $(INSTALL) $$f $(INST_INCLUDE) ; done
+	for f in *.h ; do $(INSTALL) $$f $(DESTDIR)$(INST_INCLUDE) ; done
--- gdal-1.1.7.orig/ogr/GNUmakefile	Fri Mar 29 01:54:26 2002
+++ gdal-1.1.7/ogr/GNUmakefile	Tue May 21 18:38:59 2002
@@ -123,16 +123,16 @@

ifeq ($(OGR_ENABLED),yes)
install-full:	ogrinfo ogr2ogr ogrtindex
-	$(INSTALL) ogr2ogr $(INST_BIN)
-	$(INSTALL) ogrinfo $(INST_BIN)
-	$(INSTALL) ogrtindex $(INST_BIN)
-	$(INSTALL) $(OGRFRMTS_LIB) $(INST_LIB)
+	$(INSTALL) ogr2ogr $(DESTDIR)$(INST_BIN)
+	$(INSTALL) ogrinfo $(DESTDIR)$(INST_BIN)
+	$(INSTALL) ogrtindex $(DESTDIR)$(INST_BIN)
+	$(INSTALL) $(OGRFRMTS_LIB) $(DESTDIR)$(INST_LIB)
else
install-full:
endif

install:	$(OGR_LIB) install-full
-	for f in $(INST_H_FILES) ; do $(INSTALL) $$f $(INST_INCLUDE) ; done
-	$(INSTALL) $(OGR_LIB) $(INST_LIB)
+	for f in $(INST_H_FILES) ; do $(INSTALL) $$f $(DESTDIR)$(INST_INCLUDE) ; done
+	$(INSTALL) $(OGR_LIB) $(DESTDIR)$(INST_LIB)


--- gdal-1.1.7.orig/apps/GNUmakefile	Wed Nov 7 05:49:16 2001
+++ gdal-1.1.7/apps/GNUmakefile	Tue May 21 18:38:59 2002
@@ -86,6 +86,6 @@


install: default
-	for f in $(BIN_LIST) ; do $(INSTALL) $$f $(INST_BIN) ; done
-	$(INSTALL) gdal-config-inst $(INST_BIN)/gdal-config
+	for f in $(BIN_LIST) ; do $(INSTALL) $$f $(DESTDIR)$(INST_BIN) ; done
+	$(INSTALL) gdal-config-inst $(DESTDIR)$(INST_BIN)/gdal-config

--- gdal-1.1.7.orig/pymod/GNUmakefile	Sat Sep 15 04:51:29 2001
+++ gdal-1.1.7/pymod/GNUmakefile	Tue May 21 18:38:59 2002
@@ -30,5 +30,5 @@


install:
-	$(INSTALL_DIR) $(INST_PYMOD)
-	for f in *.py $(GDALMODULE) ; do $(INSTALL) $$f $(INST_PYMOD) ; done
+	$(INSTALL_DIR) $(DESDIR)$(INST_PYMOD)
+	for f in *.py $(GDALMODULE) ; do $(INSTALL) $$f $(DESTDIR)$(INST_PYMOD) ; done

From alessandro_amici at t...  Mon May 27 10:22:51 2002
From: alessandro_amici at t... (gdal_dev_reader)
Date: Wed Nov 21 11:49:16 2007
Subject: Linux Binary Release
In-Reply-To: <3CDBE733.3080801@p...>
Message-ID: <actffr+so4c@eGroups.com>


hi,

any reason for libgdal.1.1.so to be named that way (as opposed to
libgdal.so.1.1 that seems more standard, at least on linux?) and to
have no SONAME?

regards,
alessandro



From warmerdam at p...  Mon May 27 10:21:29 2002
From: warmerdam at p... (Frank Warmerdam)
Date: Wed Nov 21 11:49:16 2007
Subject: [gdal-dev] Re: Linux Binary Release
References: <actffr+so4c@eGroups.com>
Message-ID: <3CF240E9.5010809@p...>

gdal_dev_reader wrote:
> hi,
> 
> any reason for libgdal.1.1.so to be named that way (as opposed to
> libgdal.so.1.1 that seems more standard, at least on linux?) and to
> have no SONAME?
> 
> regards,
> alessandro

Alessandro,

There is no compellingly good reason, but basically I name it differently
to make it clear I am not using the normal shared library mechanisms for
version control.

I know that sounds lame. :-)

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up | Frank Warmerdam, warmerdam@p...
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush | Geospatial Programmer for Rent




From alessandro_amici at t...  Mon May 27 10:32:13 2002
From: alessandro_amici at t... (gdal_dev_reader)
Date: Wed Nov 21 11:49:16 2007
Subject: RPMs for Mandrake 8.2 and cooker
In-Reply-To: <3CED0204.20205@c...>
Message-ID: <actg1d+6ict@eGroups.com>


hi,

i maintain a private debian package of gdal.

make install prefix=/my/tmp/dir/usr

accomplishes much of what it is needed by a packager without the need
to change the Makefiles.

the only real problem is the python module (no $prefix for it),
DESTDIR support for that would be nice.

cheers,
alessandro



From bgmilne at c...  Mon May 27 10:41:50 2002
From: bgmilne at c... (Buchan Milne)
Date: Wed Nov 21 11:49:16 2007
Subject: [gdal-dev] Re: Linux Binary Release
References: <actffr+so4c@eGroups.com> <3CF240E9.5010809@p...>
Message-ID: <3CF245AE.8050202@c...>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Frank Warmerdam wrote:
|
| gdal_dev_reader wrote:
|
|>hi,
|>
|>any reason for libgdal.1.1.so to be named that way (as opposed to
|>libgdal.so.1.1 that seems more standard, at least on linux?) and to
|>have no SONAME?
|>
|>regards,
|>alessandro
|
|
| Alessandro,
|
| There is no compellingly good reason, but basically I name it differently
| to make it clear I am not using the normal shared library mechanisms for
| version control.
|

So how should people:
1)Get gdal into a linux distro (where packaging standards require the
ability to have multiple versions of the same library, but of different
SONAME).
2)Ensure that they are using the same API as the binary shared library?

I would like to see standard shared library support. Is there are good
reason NOT to use it (of course, the library version does not have to
correspond to the software version anyway, look at gconf ;-)).

This is why I would like to see it:
http://ranger.dnsalias.com/mandrake/mandrake8.2/grass/

Regards,
Buchan


- --
|----------------Registered Linux User #182071-----------------|
Buchan Milne Mechanical Engineer, Network Manager
Cellphone * Work +27 82 472 2231 * +27 21 8828820x202
Stellenbosch Automotive Engineering http://www.cae.co.za
GPG Key http://ranger.dnsalias.com/bgmilne.asc
1024D/60D204A7 2919 E232 5610 A038 87B1 72D6 AC92 BA50 60D2 04A7
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.6 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQE88kWtrJK6UGDSBKcRAhBbAKCjkATEFv6ZCBo/e7J19S8+FJLVgQCgpbip
cTasJ1f9WEaT+yqLvG0VZ0I=
=FvdQ
-----END PGP SIGNATURE-----



From alessandro_amici at t...  Mon May 27 10:44:19 2002
From: alessandro_amici at t... (gdal_dev_reader)
Date: Wed Nov 21 11:49:16 2007
Subject: Linux Binary Release
In-Reply-To: <3CF240E9.5010809@p...>
Message-ID: <actgo3+ca7r@eGroups.com>


hi,

why don't you use the standard version control mechanism, then? :)

on my systems (debian linux) i use: 
make WITH_SONAME="-Wl,-soname,libgdal.so.$(major)" \
GDAL_SLIB="\$(GDAL_ROOT)/libgdal.\$(SO_EXT).\$(GDAL_VER)" \
GDAL_SLIB_LINK="-L\$(GDAL_ROOT) -lgdal"

and i get what looks like a standard shared object (and happily
compile programs with -lgdal instead of -lgdal.1.1 :))

cheers,
alessandro



From tklistaddr at k...  Sun May 26 14:30:14 2002
From: tklistaddr at k... (Timothy H. Keitt)
Date: Wed Nov 21 11:49:16 2007
Subject: [gdal-dev] Re: RPMs for Mandrake 8.2 and cooker
In-Reply-To: <actg1d+6ict@eGroups.com>
References: <actg1d+6ict@eGroups.com>
Message-ID: <1022437814.5314.6.camel@peregrine>

I should mention that I just packaged GDAL for woody as well. I simply
use '--with-python=no' during the configure stage; everything else
installs fine in the standard /usr locations. I can make the package
available on request for testing (its very rough still). If others are
interested, we might consider starting a Debian GIS SIG with mailing
list, etc.

T.

On Mon, 2002-05-27 at 10:32, gdal_dev_reader wrote:
> 
> 
> hi,
> 
> i maintain a private debian package of gdal.
> 
> make install prefix=/my/tmp/dir/usr
> 
> accomplishes much of what it is needed by a packager without the need
> to change the Makefiles.
> 
> the only real problem is the python module (no $prefix for it),
> DESTDIR support for that would be nice.
> 
> cheers,
> alessandro
> 
> 
> 
> 
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 
> 
> 



From a_kissel at e...  Tue May 28 04:38:21 2002
From: a_kissel at e... (Andrey Kiselev)
Date: Wed Nov 21 11:49:16 2007
Subject: [gdal-dev] Re: RPMs for Mandrake 8.2 and cooker
In-Reply-To: <1022437814.5314.6.camel@peregrine>
References: <actg1d+6ict@eGroups.com>
  <1022437814.5314.6.camel@peregrine>
Message-ID: <200205280838.g4S8cLXb024921@a...>

> I should mention that I just packaged GDAL for woody as well. I simply
> use '--with-python=no' during the configure stage; everything else
> installs fine in the standard /usr locations. I can make the package
> available on request for testing (its very rough still). If others are

It will be interesting to test your package, I'm also make an effort to
package GDAL for Debian.


-- 
Andrey V. Kiselev
Scientific Research Center for Ecological Safety Russian Academy of Sciences
Office phone: +7 812 2307834 ICQ UIN 26871517
Registered Linux user number 169907



From tklistaddr at k...  Mon May 27 10:50:41 2002
From: tklistaddr at k... (Timothy H. Keitt)
Date: Wed Nov 21 11:49:16 2007
Subject: [gdal-dev] Re: RPMs for Mandrake 8.2 and cooker
In-Reply-To: <200205280838.g4S8cLXb024921@a...>
References: <actg1d+6ict@eGroups.com> <1022437814.5314.6.camel@peregrine> 
  <200205280838.g4S8cLXb024921@a...>
Message-ID: <1022511041.4562.0.camel@peregrine>

On Tue, 2002-05-28 at 04:38, Andrey Kiselev wrote:
> 
> > I should mention that I just packaged GDAL for woody as well. I simply
> > use '--with-python=no' during the configure stage; everything else
> > installs fine in the standard /usr locations. I can make the package
> > available on request for testing (its very rough still). If others are
> 
> It will be interesting to test your package, I'm also make an effort to
> package GDAL for Debian.
> 
> 
> -- 
> Andrey V. Kiselev
> Scientific Research Center for Ecological Safety Russian Academy of Sciences
> Office phone: +7 812 2307834 ICQ UIN 26871517
> Registered Linux user number 169907
> 
> 
> 
> 
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 
> 
> 

-------------- next part --------------
A non-text attachment was scrubbed...
Name: gdal_1.1.7-1_i386.deb
Type: application/x-deb
Size: 35 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20020527/219ef9a7/gdal_1.1.7-1_i386.bin
From paul at t...  Tue May 28 08:09:51 2002
From: paul at t... (Paul Selormey)
Date: Wed Nov 21 11:49:16 2007
Subject: [gdal-dev] Re: RPMs for Mandrake 8.2 and cooker
References: <actg1d+6ict@eGroups.com> <1022437814.5314.6.camel@peregrine> <200205280838.g4S8cLXb024921@a...> <1022511041.4562.0.camel@peregrine>
Message-ID: <000f01c20640$940ed9b0$700201c0@M...>

Please use the file section of the mailing list to upload large files.

Best regards,
Paul.

----- Original Message -----
From: "Timothy H. Keitt" <tklistaddr@k...>
To: <gdal-dev@yahoogroups.com>
Sent: Monday, May 27, 2002 11:50 PM
Subject: Re: [gdal-dev] Re: RPMs for Mandrake 8.2 and cooker


>
> On Tue, 2002-05-28 at 04:38, Andrey Kiselev wrote:
> >
> > > I should mention that I just packaged GDAL for woody as well. I simply
> > > use '--with-python=no' during the configure stage; everything else
> > > installs fine in the standard /usr locations. I can make the package
> > > available on request for testing (its very rough still). If others are
> >
> > It will be interesting to test your package, I'm also make an effort to
> > package GDAL for Debian.
> >
> >
> > --
> > Andrey V. Kiselev
> > Scientific Research Center for Ecological Safety Russian Academy of
Sciences
> > Office phone: +7 812 2307834 ICQ UIN 26871517
> > Registered Linux user number 169907
> >
> >
> >
> >
> > Your use of Yahoo! Groups is subject to
http://docs.yahoo.com/info/terms/
> >
> >
>
>
>
>
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
>
>



From tklistaddr at k...  Tue May 28 10:30:17 2002
From: tklistaddr at k... (Timothy H. Keitt)
Date: Wed Nov 21 11:49:16 2007
Subject: [gdal-dev] Re: RPMs for Mandrake 8.2 and cooker
In-Reply-To: <000f01c20640$940ed9b0$700201c0@M...>
References: <actg1d+6ict@eGroups.com> <1022437814.5314.6.camel@peregrine>
  <200205280838.g4S8cLXb024921@a...>
  <1022511041.4562.0.camel@peregrine> 
  <000f01c20640$940ed9b0$700201c0@M...>
Message-ID: <1022596217.11598.1.camel@keittlab-6>

Yes, sorry; it was a case of clumsy fingers.

T.

On Tue, 2002-05-28 at 08:09, Paul Selormey wrote:
> 
> Please use the file section of the mailing list to upload large files.
> 
> Best regards,
> Paul.
> 
> ----- Original Message -----
> From: "Timothy H. Keitt" <tklistaddr@k...>
> To: <gdal-dev@yahoogroups.com>
> Sent: Monday, May 27, 2002 11:50 PM
> Subject: Re: [gdal-dev] Re: RPMs for Mandrake 8.2 and cooker
> 
> 
> >
> > On Tue, 2002-05-28 at 04:38, Andrey Kiselev wrote:
> > >
> > > > I should mention that I just packaged GDAL for woody as well. I simply
> > > > use '--with-python=no' during the configure stage; everything else
> > > > installs fine in the standard /usr locations. I can make the package
> > > > available on request for testing (its very rough still). If others are
> > >
> > > It will be interesting to test your package, I'm also make an effort to
> > > package GDAL for Debian.
> > >
> > >
> > > --
> > > Andrey V. Kiselev
> > > Scientific Research Center for Ecological Safety Russian Academy of
> Sciences
> > > Office phone: +7 812 2307834 ICQ UIN 26871517
> > > Registered Linux user number 169907
> > >
> > >
> > >
> > >
> > > Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/
> > >
> > >
> >
> >
> >
> >
> > Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
> >
> >
> 
> 
> 
> 
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 
> 
> 



From warmerdam at p...  Tue May 28 14:54:36 2002
From: warmerdam at p... (Frank Warmerdam)
Date: Wed Nov 21 11:49:16 2007
Subject: gdal_priv.h changes
Message-ID: <3CF3D26C.8080008@p...>

	
Folks,

I have made a few changes to the GDALDataset class that will require any
updating their source from CVS to to a make clean before rebuilding.

The changes related to the addition of the GDALOpenShared() function which
keeps a registry of open datasets and allows them to be reused by other
parts of an application. This has primarily been done for the virtual
dataset code, to avoid ending up with many open handles to underlying
datasets. Eventually OpenEV will be upgraded to use GDALOpenShared() though
it already tries to do something similar itself.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up | Frank Warmerdam, warmerdam@p...
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush | Geospatial Programmer for Rent




From a_kissel at e...  Wed May 29 05:15:59 2002
From: a_kissel at e... (Andrey Kiselev)
Date: Wed Nov 21 11:49:16 2007
Subject: [gdal-dev] Re: RPMs for Mandrake 8.2 and cooker
In-Reply-To: <1022511041.4562.0.camel@peregrine>
References: <actg1d+6ict@eGroups.com>
  <1022437814.5314.6.camel@peregrine>
  <200205280838.g4S8cLXb024921@a...>
  <1022511041.4562.0.camel@peregrine>
Message-ID: <200205290916.g4T9G1Xb012901@a...>

> > > I should mention that I just packaged GDAL for woody as well. I simply
> > > use '--with-python=no' during the configure stage; everything else
> > > installs fine in the standard /usr locations. I can make the package
> > > available on request for testing (its very rough still). If others are
> > It will be interesting to test your package, I'm also make an effort to
> > package GDAL for Debian.

Timothy,
you send a binary package, but what about debianization .diff? It is most
interesting thing for me :-)


-- 
Andrey V. Kiselev
Scientific Research Center for Ecological Safety Russian Academy of Sciences
Office phone: +7 812 2307834 ICQ UIN 26871517
Registered Linux user number 169907



From paul at t...  Wed May 29 07:44:43 2002
From: paul at t... (Paul Selormey)
Date: Wed Nov 21 11:49:16 2007
Subject: On Proj4...
References: <actg1d+6ict@eGroups.com><1022437814.5314.6.camel@peregrine><200205280838.g4S8cLXb024921@a...><1022511041.4562.0.camel@peregrine> <200205290916.g4T9G1Xb012901@a...>
Message-ID: <000501c20706$3b0189f0$700201c0@M...>

Hello All,
As I have stated earlier, I am working to remove all the macros style codes
to
a more readable version of the projection library.

With the exception of the PROJ_HEAD in the pj_list.h file, I have completed
the
removal from all other files. I am not removing the constants.

I have found two problems and need some help...

1. One file strtod.c is a GPL code. Is the Proj4 therefore not under GPL?
and other
libraries using it?

2. One file biveval.c still contains one pre-ANSI C function.

/* basic bivariate Chebyshev evaluation */
static double ceval(C, n) struct PW_COEF *C;
{
....
}

what is the right ANSI version of this function. I could not get this right
(it seems
the "n" is an integer!) :(

I will post the final codes for all to evaluate and then start work on
porting to C++.
I know many will still prefer this

----------------------------------------------------------------------------
-----------
ENTRY0(leac)
P->phi2 = pj_param(P->params, "rlat_1").f;
P->phi1 = pj_param(P->params, "bsouth").i ? - HALFPI: HALFPI;
ENDENTRY(setup(P))
----------------------------------------------------------------------------
----------

to this:

----------------------------------------------------------------------------
---------
const char * const pj_s_leac = des_leac;

PJ *pj_leac(PJ *P)
{
if (!P)
{
if( (P = pj_malloc(sizeof(PJ))) != ((void *)0))
{
P->pfree = freeup;
P->fwd = 0;
P->inv = 0;
P->spc = 0;
P->descr = des_leac;
}
return P;
}
else
{
P->phi2 = pj_param(P->params, "rlat_1").f;
P->phi1 = pj_param(P->params, "bsouth").i ? - HALFPI: HALFPI;
}
return (setup(P));
}
----------------------------------------------------------------------------
--------

However, the macro-free version will make it earsier to port the library to
C++/Java/C# etc
and that is my goal.

Best regards,
Paul.




