From antonio.guirado at f-integra.org  Fri Jan 10 06:31:00 2003
From: antonio.guirado at f-integra.org (Antonio M. Guirado)
Date: Fri, 10 Jan 2003 15:31:00 +0100
Subject: [OSRS-PROJ] FROM ELLIPSOID WGS84 TO UTM DT50
Message-ID: <20030110153100.4223153e.antonio.guirado@f-integra.org>

Hi,

I'd like to know how to convert values in WGS84 (latitude, longitude) that are obtained from a GPS to (X,Y) UTM datum European 1950 (Spain Zone=30).

I have just to install "proj" and I don't know how I can do it.

Can anyone help me?

If proj is not able to do it (I think so). Could anybody tell me the way to do it?. I think helmert method is possible but 
I can't find the value of the parameters and the formules.

Thanks in advance.
Regards


----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From Willy.Hersman at conocophillips.com  Wed Jan 29 15:06:57 2003
From: Willy.Hersman at conocophillips.com (William Hersman)
Date: Wed, 29 Jan 2003 14:06:57 -0900
Subject: [OSRS-PROJ] Pseudo X/Y values, forward and reverse
Message-ID: <OFEA571394.98B7362A-ON89256CBD.007D2445@ppco.com>

We are struggling with the following problem.  Perhaps someone could
comment.

Alaska has 10 Stateplane zones.  Let's say a point exists in zone 10 and we
want the pseudo x/y for zone 4.  On forward projection the given lat/long
returns x/y values calculated for zone 4. When one then re-inputs the x/y
values into the algorithm to get a lat/long, the inverse does not return to
the same point.  In fact, in terms of feet, it is nearly a mile off !  What
might be going wrong here, and should one expect to be able to "round-trip"
a point when junmping across zones?

Thanks,

Willy Hersman
ConocoPhillips, Alaska

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From ed at topozone.com  Wed Jan 29 16:13:47 2003
From: ed at topozone.com (Ed McNierney)
Date: Wed, 29 Jan 2003 19:13:47 -0500
Subject: [OSRS-PROJ] Pseudo X/Y values, forward and reverse
Message-ID: <13858AA1A74F30419F319ACB66A9D1221F3C11@mercator.topozone.com>

Willy -

Can you provide us with the numbers you're using in your sample?

Are you correctly interpreting and re-entering the lat/lon values?  It
sounds like you could be getting (for example) output lat/lon in degrees
and decimal minutes which is being input as degrees/minutes/seconds.

	- Ed

Ed McNierney
President and Chief Mapmaker
TopoZone.com / Maps a la carte, Inc.
73 Princeton Street, Suite 305
North Chelmsford, MA  01863
Phone: (978) 251-4242   Fax: (978) 251-1396
ed at topozone.com


-----Original Message-----
From: William Hersman [mailto:Willy.Hersman at conocophillips.com] 
Sent: Wednesday, January 29, 2003 6:07 PM
To: osrs-proj at remotesensing.org
Subject: [OSRS-PROJ] Pseudo X/Y values, forward and reverse

We are struggling with the following problem.  Perhaps someone could
comment.

Alaska has 10 Stateplane zones.  Let's say a point exists in zone 10 and
we
want the pseudo x/y for zone 4.  On forward projection the given
lat/long
returns x/y values calculated for zone 4. When one then re-inputs the
x/y
values into the algorithm to get a lat/long, the inverse does not return
to
the same point.  In fact, in terms of feet, it is nearly a mile off !
What
might be going wrong here, and should one expect to be able to
"round-trip"
a point when junmping across zones?

Thanks,

Willy Hersman
ConocoPhillips, Alaska

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.
----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From Willy.Hersman at conocophillips.com  Wed Jan 29 17:19:11 2003
From: Willy.Hersman at conocophillips.com (William Hersman)
Date: Wed, 29 Jan 2003 16:19:11 -0900
Subject: [OSRS-PROJ] Pseudo X/Y values, forward and reverse
Message-ID: <OFA81ADC22.E22EECAA-ON89256CBE.0006E989@ppco.com>


Input    -175.1234589    59.7654305  DD
Return   -4054878.4814   2990301.082 ASP 4 FEET
Input    -4054878.4814   2990301.082 ASP 4 FEET
Return   -175.1487387    59.7638269  DD



                                                                                                          
                    "Ed McNierney" <ed at topozone.com>                                                      
                    Sent by: owner-osrs-proj at remotesensing.org                                            
                                                                                                          
                                                                                                          
                    01/29/2003 03:13 PM                                                                   
                    Any replies will be addressed to: osrs-proj                                           
                                                                                                          
                     To:   <osrs-proj at remotesensing.org>                                                  
                     cc:                                                                                  
                     Subject:    RE: [OSRS-PROJ] Pseudo X/Y values, forward and reverse                   
                                                                                                          




Willy -

Can you provide us with the numbers you're using in your sample?

Are you correctly interpreting and re-entering the lat/lon values?  It
sounds like you could be getting (for example) output lat/lon in degrees
and decimal minutes which is being input as degrees/minutes/seconds.

           - Ed

Ed McNierney
President and Chief Mapmaker
TopoZone.com / Maps a la carte, Inc.
73 Princeton Street, Suite 305
North Chelmsford, MA  01863
Phone: (978) 251-4242   Fax: (978) 251-1396
ed at topozone.com


-----Original Message-----
From: William Hersman [mailto:Willy.Hersman at conocophillips.com]
Sent: Wednesday, January 29, 2003 6:07 PM
To: osrs-proj at remotesensing.org
Subject: [OSRS-PROJ] Pseudo X/Y values, forward and reverse

We are struggling with the following problem.  Perhaps someone could
comment.

Alaska has 10 Stateplane zones.  Let's say a point exists in zone 10 and
we
want the pseudo x/y for zone 4.  On forward projection the given
lat/long
returns x/y values calculated for zone 4. When one then re-inputs the
x/y
values into the algorithm to get a lat/long, the inverse does not return
to
the same point.  In fact, in terms of feet, it is nearly a mile off !
What
might be going wrong here, and should one expect to be able to
"round-trip"
a point when junmping across zones?

Thanks,

Willy Hersman
ConocoPhillips, Alaska

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.
----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.




----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From cjmce at lsu.edu  Wed Jan 29 19:15:37 2003
From: cjmce at lsu.edu (Clifford J Mugnier)
Date: Wed, 29 Jan 2003 21:15:37 -0600
Subject: [OSRS-PROJ] Pseudo X/Y values, forward and reverse
Message-ID: <OFBB3D7047.06FFEFAE-ON86256CBE.0011E8BA-86256CBE.0011E911@lsu.edu>


Zone 10 is Lambert Conformal Conic (Aleutian Islands) and should return to
the same starting coordinates when going great distances from the central
meridian of zone 10.  Such is NOT the case for Transverse Mercator which is
zones 2-9.

Cliff Mugnier
LOUISIANA STATE UNIVERSITY
------------------------------------
Input    -175.1234589    59.7654305  DD
Return   -4054878.4814   2990301.082 ASP 4 FEET
Input    -4054878.4814   2990301.082 ASP 4 FEET
Return   -175.1487387    59.7638269  DD




"Ed McNierney" <ed at topozone.com>
Sent by: owner-osrs-proj at remotesensing.org


01/29/2003 03:13 PM
Any replies will be addressed to: osrs-proj

To:   <osrs-proj at remotesensing.org>
cc:
Subject:    RE: [OSRS-PROJ] Pseudo X/Y values, forward and reverse





Willy -

Can you provide us with the numbers you're using in your sample?

Are you correctly interpreting and re-entering the lat/lon values?  It
sounds like you could be getting (for example) output lat/lon in degrees
and decimal minutes which is being input as degrees/minutes/seconds.

- Ed

Ed McNierney
President and Chief Mapmaker
TopoZone.com / Maps a la carte, Inc.
73 Princeton Street, Suite 305
North Chelmsford, MA  01863
Phone: (978) 251-4242   Fax: (978) 251-1396
ed at topozone.com


-----Original Message-----
From: William Hersman [mailto:Willy.Hersman at conocophillips.com]
Sent: Wednesday, January 29, 2003 6:07 PM
To: osrs-proj at remotesensing.org
Subject: [OSRS-PROJ] Pseudo X/Y values, forward and reverse

We are struggling with the following problem.  Perhaps someone could
comment.

Alaska has 10 Stateplane zones.  Let's say a point exists in zone 10 and
we
want the pseudo x/y for zone 4.  On forward projection the given
lat/long
returns x/y values calculated for zone 4. When one then re-inputs the
x/y
values into the algorithm to get a lat/long, the inverse does not return
to
the same point.  In fact, in terms of feet, it is nearly a mile off !
What
might be going wrong here, and should one expect to be able to
"round-trip"
a point when junmping across zones?

Thanks,

Willy Hersman
ConocoPhillips, Alaska

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.
----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.




----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.



----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From warmerdam at pobox.com  Thu Jan 30 14:02:44 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu, 30 Jan 2003 17:02:44 -0500
Subject: [OSRS-PROJ] Pseudo X/Y values, forward and reverse
In-Reply-To: <OFA81ADC22.E22EECAA-ON89256CBE.0006E989@ppco.com>
References: <OFA81ADC22.E22EECAA-ON89256CBE.0006E989@ppco.com>
Message-ID: <3E39A104.90506@pobox.com>

William Hersman wrote:
> Input    -175.1234589    59.7654305  DD
> Return   -4054878.4814   2990301.082 ASP 4 FEET
> Input    -4054878.4814   2990301.082 ASP 4 FEET
> Return   -175.1487387    59.7638269  DD


William,

It would clearly help alot if you could provide the details of the
coordinate system.  I tried this:

warmerda at gdal2200[237]% proj -I -v +init=nad27:5004 +units=ft
#Transverse Mercator
#       Cyl, Sph&Ell
# +init=nad27:5004 +units=ft +proj=tmerc +datum=NAD27 +lon_0=-150 +lat_0=54
# +k=.9999 +x_0=152400.3048006096 +y_0=0 +no_defs +ellps=clrk66
# +nadgrids=conus,ntv1_can.dat
-4054905.40     2990291.47             (input)
175d7'10.261"W  59d45'56.295"N         (output)

warmerda at gdal2200[238]% proj -v +init=nad27:5004 +units=ft
#Transverse Mercator
#       Cyl, Sph&Ell
# +init=nad27:5004 +units=ft +proj=tmerc +datum=NAD27 +lon_0=-150 +lat_0=54
# +k=.9999 +x_0=152400.3048006096 +y_0=0 +no_defs +ellps=clrk66
# +nadgrids=conus,ntv1_can.dat
175d7'10.261"W  59d45'56.295"N          (input)
-4054186.84     2990083.90              (output)

I see there is an over 700 ft difference in the positions.  Far more than
I would have expected.  In this case the longitude is 25 degrees away from
the central meridian for the zone, but I wouldn't have thought the
reversibility of the equations would have been so poor at that distance.

Cliff, you mentioned that the TM coordinates would not be reversible at
great distances.  Is this the nature of the TM equations or a weakness in
their implementation with PROJ.4?

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From cjmce at lsu.edu  Thu Jan 30 14:53:34 2003
From: cjmce at lsu.edu (Clifford J Mugnier)
Date: Thu, 30 Jan 2003 16:53:34 -0600
Subject: [OSRS-PROJ] Pseudo X/Y values, forward and reverse
Message-ID: <OF6D90B030.3536EF45-ON86256CBE.007DC0E6-86256CBE.007DC12F@lsu.edu>


Frank,

It's the implementation.  I think John P. Snyder's book and formulae were
used for PROJ4.  That would mean that the formulae for TM are to the 5th
derivative.  That barely gets to +/- 3 degrees from the central meridian.
7th derivative gets almost to 4 degrees difference.  Fifteenth derivative
gets to +/- 24 degrees from the central meridian with 1 mm "round-trip"
computational accuracy.

Cliff Mugnier
LOUISIANA STATE UNIVERSITY
William Hersman wrote:
> Input    -175.1234589    59.7654305  DD
> Return   -4054878.4814   2990301.082 ASP 4 FEET
> Input    -4054878.4814   2990301.082 ASP 4 FEET
> Return   -175.1487387    59.7638269  DD


William,

It would clearly help alot if you could provide the details of the
coordinate system.  I tried this:

warmerda at gdal2200[237]% proj -I -v +init=nad27:5004 +units=ft
#Transverse Mercator
#       Cyl, Sph&Ell
# +init=nad27:5004 +units=ft +proj=tmerc +datum=NAD27 +lon_0=-150 +lat_0=54
# +k=.9999 +x_0=152400.3048006096 +y_0=0 +no_defs +ellps=clrk66
# +nadgrids=conus,ntv1_can.dat
-4054905.40     2990291.47             (input)
175d7'10.261"W  59d45'56.295"N         (output)

warmerda at gdal2200[238]% proj -v +init=nad27:5004 +units=ft
#Transverse Mercator
#       Cyl, Sph&Ell
# +init=nad27:5004 +units=ft +proj=tmerc +datum=NAD27 +lon_0=-150 +lat_0=54
# +k=.9999 +x_0=152400.3048006096 +y_0=0 +no_defs +ellps=clrk66
# +nadgrids=conus,ntv1_can.dat
175d7'10.261"W  59d45'56.295"N          (input)
-4054186.84     2990083.90              (output)

I see there is an over 700 ft difference in the positions.  Far more than
I would have expected.  In this case the longitude is 25 degrees away from
the central meridian for the zone, but I wouldn't have thought the
reversibility of the equations would have been so poor at that distance.

Cliff, you mentioned that the TM coordinates would not be reversible at
great distances.  Is this the nature of the TM equations or a weakness in
their implementation with PROJ.4?

Best regards,

--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.



----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From Willy.Hersman at conocophillips.com  Thu Jan 30 15:58:30 2003
From: Willy.Hersman at conocophillips.com (William Hersman)
Date: Thu, 30 Jan 2003 14:58:30 -0900
Subject: [OSRS-PROJ] Pseudo X/Y values, forward and reverse
Message-ID: <OFEAD01F15.35E7555A-ON89256CBE.0082653F@ppco.com>


Cliff,

Thank you, this is making more sense now.  The number of derivatives used
in the algorithm limits how far from the central meridian that you can go
and still expect to return to the same lat/long.  Is this only on the
inverse calculation or is this on the forward calculation as well.  In
other words, do the calculated x/y values from the forward projection
suffer in accuracy?  Also, was there some reason why they did not carry out
the formula with more derivatives in PROJ4?

William Hersman
ConocoPhillips, Alaska



                                                                                                          
                    "Clifford J Mugnier" <cjmce at lsu.edu>                                                  
                    Sent by: owner-osrs-proj at remotesensing.org                                            
                                                                                                          
                                                                                                          
                    01/30/2003 01:53 PM                                                                   
                    Any replies will be addressed to: osrs-proj                                           
                                                                                                          
                     To:   osrs-proj at remotesensing.org                                                    
                     cc:                                                                                  
                     Subject:    Re: [OSRS-PROJ] Pseudo X/Y values, forward and reverse                   
                                                                                                          





Frank,

It's the implementation.  I think John P. Snyder's book and formulae were
used for PROJ4.  That would mean that the formulae for TM are to the 5th
derivative.  That barely gets to +/- 3 degrees from the central meridian.
7th derivative gets almost to 4 degrees difference.  Fifteenth derivative
gets to +/- 24 degrees from the central meridian with 1 mm "round-trip"
computational accuracy.

Cliff Mugnier
LOUISIANA STATE UNIVERSITY
William Hersman wrote:
> Input    -175.1234589    59.7654305  DD
> Return   -4054878.4814   2990301.082 ASP 4 FEET
> Input    -4054878.4814   2990301.082 ASP 4 FEET
> Return   -175.1487387    59.7638269  DD


William,

It would clearly help alot if you could provide the details of the
coordinate system.  I tried this:

warmerda at gdal2200[237]% proj -I -v +init=nad27:5004 +units=ft
#Transverse Mercator
#       Cyl, Sph&Ell
# +init=nad27:5004 +units=ft +proj=tmerc +datum=NAD27 +lon_0=-150 +lat_0=54
# +k=.9999 +x_0=152400.3048006096 +y_0=0 +no_defs +ellps=clrk66
# +nadgrids=conus,ntv1_can.dat
-4054905.40     2990291.47             (input)
175d7'10.261"W  59d45'56.295"N         (output)

warmerda at gdal2200[238]% proj -v +init=nad27:5004 +units=ft
#Transverse Mercator
#       Cyl, Sph&Ell
# +init=nad27:5004 +units=ft +proj=tmerc +datum=NAD27 +lon_0=-150 +lat_0=54
# +k=.9999 +x_0=152400.3048006096 +y_0=0 +no_defs +ellps=clrk66
# +nadgrids=conus,ntv1_can.dat
175d7'10.261"W  59d45'56.295"N          (input)
-4054186.84     2990083.90              (output)

I see there is an over 700 ft difference in the positions.  Far more than
I would have expected.  In this case the longitude is 25 degrees away from
the central meridian for the zone, but I wouldn't have thought the
reversibility of the equations would have been so poor at that distance.

Cliff, you mentioned that the TM coordinates would not be reversible at
great distances.  Is this the nature of the TM equations or a weakness in
their implementation with PROJ.4?

Best regards,

--
---------------------------------------+--------------------------------------

I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.



----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.




----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From cjmce at lsu.edu  Thu Jan 30 21:22:09 2003
From: cjmce at lsu.edu (Clifford J Mugnier)
Date: Thu, 30 Jan 2003 23:22:09 -0600
Subject: [OSRS-PROJ] Pseudo X/Y values, forward and reverse
Message-ID: <OF328E27B7.4A4CFB70-ON86256CBF.001D7D5F-86256CBF.001D7E6D@lsu.edu>


William,

Yes, it counts in BOTH directions.  I'm currently writing the chapter on
"Object Space Coordinate Systems" for the new 5th edition of the "Manual of
Photogrammetry," and I'm including up to the 7th derivative in both direct
and inverse transformations.  Why weren't greater expansions included into
PROJ4?  It's not a topic of general interest in cartography.  Cartographers
generally ignore such things, including the late John P. Snyder.  John was
only interested in what was germain to the U.S. Geological Survey and the
scales of maps that they produced.  John was never interested in geodetic
stuff.  John avoided datums and such things.

WGS84 was a topic of vague interest at the time, NAD83 was just coming on
line, and cartographic interests were beginning to be getting into GIS
applications at the time.  Remember now, that was 20 years ago!  When it
came to private consulting stuff, John used my software (GRIDS 2.0)with the
full 15th derivative implementations in both direct and inverse for
transverse Mercator.  USGS stuff was nice, but when it came to "real world"
applications, well ...

What's one of the rarest books ever printed?  Try TM 5-241-10 "Universal
Transverse Mercator Grid EXTENSION OF ZONE TO ZONE TRANSFORMATION TABLES."
Sept, 1962, 642 pp.

No, I'm not going to fax a copy.  Yes, it has the only copy (ever) of the
equations to the 15th derivative.

Conoco in Ponca City, OK., purchased a copy of my 7th derivative equations
of the Gauss-Krueger Transverse Mercator transformation back in 1988-1989.
The man's name was Grady Lewis.  It ran in MS-DOS.  Small world!  Ten years
earlier than that, both Conoco and Phillips purchased the same stuff in
HP-67 and (later) HP-41CV programs for the same thing.

Cliff

Clifford J. Mugnier (cjmce at LSU.edu)
Chief of Geodesy
Center for GeoInformatics
LOUISIANA STATE UNIVERSITY
Dept. of Civil Engineering
CEBA 3223A
Baton Rouge, LA  70810
Facsimiile (225) 578-8652
Voice       (225) 578-8536
Beep        (504) 382-4371
------------------------------------------------------------
http://www.ASPRS.org/resources.html
http://www.ce.LSU.edu/~mugnier/
------------------------------------------------------------

Cliff,

Thank you, this is making more sense now.  The number of derivatives used
in the algorithm limits how far from the central meridian that you can go
and still expect to return to the same lat/long.  Is this only on the
inverse calculation or is this on the forward calculation as well.  In
other words, do the calculated x/y values from the forward projection
suffer in accuracy?  Also, was there some reason why they did not carry out
the formula with more derivatives in PROJ4?

William Hersman
ConocoPhillips, Alaska




"Clifford J Mugnier" <cjmce at lsu.edu>
Sent by: owner-osrs-proj at remotesensing.org


01/30/2003 01:53 PM
Any replies will be addressed to: osrs-proj

To:   osrs-proj at remotesensing.org
cc:
Subject:    Re: [OSRS-PROJ] Pseudo X/Y values, forward and reverse






Frank,

It's the implementation.  I think John P. Snyder's book and formulae were
used for PROJ4.  That would mean that the formulae for TM are to the 5th
derivative.  That barely gets to +/- 3 degrees from the central meridian.
7th derivative gets almost to 4 degrees difference.  Fifteenth derivative
gets to +/- 24 degrees from the central meridian with 1 mm "round-trip"
computational accuracy.

Cliff Mugnier
LOUISIANA STATE UNIVERSITY
William Hersman wrote:
> Input    -175.1234589    59.7654305  DD
> Return   -4054878.4814   2990301.082 ASP 4 FEET
> Input    -4054878.4814   2990301.082 ASP 4 FEET
> Return   -175.1487387    59.7638269  DD


William,

It would clearly help alot if you could provide the details of the
coordinate system.  I tried this:

warmerda at gdal2200[237]% proj -I -v +init=nad27:5004 +units=ft
#Transverse Mercator
#       Cyl, Sph&Ell
# +init=nad27:5004 +units=ft +proj=tmerc +datum=NAD27 +lon_0=-150 +lat_0=54
# +k=.9999 +x_0=152400.3048006096 +y_0=0 +no_defs +ellps=clrk66
# +nadgrids=conus,ntv1_can.dat
-4054905.40     2990291.47             (input)
175d7'10.261"W  59d45'56.295"N         (output)

warmerda at gdal2200[238]% proj -v +init=nad27:5004 +units=ft
#Transverse Mercator
#       Cyl, Sph&Ell
# +init=nad27:5004 +units=ft +proj=tmerc +datum=NAD27 +lon_0=-150 +lat_0=54
# +k=.9999 +x_0=152400.3048006096 +y_0=0 +no_defs +ellps=clrk66
# +nadgrids=conus,ntv1_can.dat
175d7'10.261"W  59d45'56.295"N          (input)
-4054186.84     2990083.90              (output)

I see there is an over 700 ft difference in the positions.  Far more than
I would have expected.  In this case the longitude is 25 degrees away from
the central meridian for the zone, but I wouldn't have thought the
reversibility of the equations would have been so poor at that distance.

Cliff, you mentioned that the TM coordinates would not be reversible at
great distances.  Is this the nature of the TM equations or a weakness in
their implementation with PROJ.4?

Best regards,

--
---------------------------------------+--------------------------------------

I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.



----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.




----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.



----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From gerald.evenden at verizon.net  Fri Jan 31 12:15:45 2003
From: gerald.evenden at verizon.net (Gerald I. Evenden)
Date: 31 Jan 2003 15:15:45 -0500
Subject: [OSRS-PROJ] Pseudo X/Y values, forward and reverse
In-Reply-To: 	<OF328E27B7.4A4CFB70-ON86256CBF.001D7D5F-86256CBF.001D7E6D@lsu.edu>
References: 	<OF328E27B7.4A4CFB70-ON86256CBF.001D7D5F-86256CBF.001D7E6D@lsu.edu>
Message-ID: <1044044146.2017.8.camel@localhost.localdomain>

I am very sorry, but I consider the current thread nonsense.
Anyone carrying the TM projection ellipsoid projection beyond
3.5 degrees of the CM is up to no good.  UTM does not require
greater extension and the scale factor beyone 3.5 degrees
makes it useless as an accurate conformal projection.

Adding factors to the equations is merely a waste of computer
time.

'Nuff said.

On Fri, 2003-01-31 at 00:22, Clifford J Mugnier wrote:
> 
> William,
> 
> Yes, it counts in BOTH directions.  I'm currently writing the chapter on
> "Object Space Coordinate Systems" for the new 5th edition of the "Manual of
> Photogrammetry," and I'm including up to the 7th derivative in both direct
> and inverse transformations.  Why weren't greater expansions included into
> PROJ4?  It's not a topic of general interest in cartography.  Cartographers
> generally ignore such things, including the late John P. Snyder.  John was
> only interested in what was germain to the U.S. Geological Survey and the
> scales of maps that they produced.  John was never interested in geodetic
> stuff.  John avoided datums and such things.
	...

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From agnew at bilby.ucsd.edu  Fri Jan 31 13:22:15 2003
From: agnew at bilby.ucsd.edu (Duncan Agnew)
Date: Fri, 31 Jan 2003 13:22:15 -0800 (PST)
Subject: [OSRS-PROJ] Pseudo X/Y values, forward and reverse
Message-ID: <200301312122.NAA29789@bilby.ucsd.edu>


For the interested onlookers, perhaps the original poster (Mr. Hersman)
could explain why one would want to get (eg) Alaska SPCS Zone 4 coordinates
when in Zone 10? Since the grid will be very distorted, it's not as though
you can use the X&Y to get distances or direction--if you want to get these,
why not do what is usual over large distances: use lat and long, and solve
for the geodesic?

As far as the software goes, it should probably function so that the direct
and inverse do in fact invert each other to mm precision, to avoid confusion
--but this is not the same as their being "right" for these large distances
(that is, agreeing with an exact expression for the TM).  Does being right
matter, and if so, why? To forestall the obvious answer (which is, to agree
with other, exact, computations), I would ask, who makes such computations?
Given the rarity of TM-5-241-10, not many people, it would appear.

BTW, the Snyder's discussion of the TM equations in USGS PP 1395 clearly
states their limitations and error bounds, with references to where the
more exact formulae can be found (namely, TM-5-241-10).

Duncan Agnew
dagnew at ucsd.edu

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From cjmce at lsu.edu  Fri Jan 31 13:45:59 2003
From: cjmce at lsu.edu (Clifford J Mugnier)
Date: Fri, 31 Jan 2003 15:45:59 -0600
Subject: [OSRS-PROJ] Pseudo X/Y values, forward and reverse
Message-ID: <OFD21E183C.66FB3A19-ON86256CBF.00779090-86256CBF.007790FF@lsu.edu>


Gerald,

In general I am inclined to agree.  However, there WAS a valid reasons for
zone extensions when computing the European Datum of 1950, but I have not
seen a valid reason since.  As a general rule, everytime I have seen
someone with such a need, I felt that it was because they were not familiar
with other projections enough to realize that there are easier ways to skin
such a cat.

I've done such whopping extensions just to see for myself if it could be
done, and after satisfying myself that it could be done; I have never had
an occasion to do it.  (Other than to talk about it as a purely academic
exercise).

There's a very big problem with doing a zone extention.  Even when you
program all of those derivatives and you can do it, nobody else will be
able to do it unless they have the exact same extreme extension running in
their own software.  You won't be able to share the data set!

Moral:  Be careful what you wish for ... you may get your wish!

Cliff Mugnier
LOUISIANA STATE UNIVERSITY

I am very sorry, but I consider the current thread nonsense.
Anyone carrying the TM projection ellipsoid projection beyond
3.5 degrees of the CM is up to no good.  UTM does not require
greater extension and the scale factor beyone 3.5 degrees
makes it useless as an accurate conformal projection.

Adding factors to the equations is merely a waste of computer
time.

'Nuff said.

On Fri, 2003-01-31 at 00:22, Clifford J Mugnier wrote:
>
> William,
>
> Yes, it counts in BOTH directions.  I'm currently writing the chapter on
> "Object Space Coordinate Systems" for the new 5th edition of the "Manual
of
> Photogrammetry," and I'm including up to the 7th derivative in both
direct
> and inverse transformations.  Why weren't greater expansions included
into
> PROJ4?  It's not a topic of general interest in cartography.
Cartographers
> generally ignore such things, including the late John P. Snyder.  John
was
> only interested in what was germain to the U.S. Geological Survey and the
> scales of maps that they produced.  John was never interested in geodetic
> stuff.  John avoided datums and such things.
...

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.



----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From Willy.Hersman at conocophillips.com  Fri Jan 31 14:12:08 2003
From: Willy.Hersman at conocophillips.com (William Hersman)
Date: Fri, 31 Jan 2003 13:12:08 -0900
Subject: [OSRS-PROJ] Pseudo X/Y values, forward and reverse
Message-ID: <OF2E1F6DF6.A8B3FEC2-ON89256CBF.00767728@ppco.com>


Yes, let me explain a bit.  I am not a geodicist, so bear with me, I'm a
computer programmer.  We have a situation here where we need to do regional
analysis that expands across a major portion of Alaska.  There are seismic
lines which are very long, extending for hundreds of miles.  The analysis
will involve seismic data from the Canadian border well out to the Chukchi
Sea.  The software used for this analysis requires that one, and only one
projection be used for the entire project.  All of the data must be loaded
in that one projection.  It has been traditional in our work to use either
UTM or Alaska State Plane as a preferred projection.  Yes, one could argue
that there are better projections to use, I would not diagree, but it has
been decided for better or worse to go with Stateplane.

This requires that all lat/long values which are currently carried with the
data, be converted to Alaska State Plane, Zone 4.  It came to the attention
of myself and other programmers that not all software agrees on the
conversion, especially as one gets further and further away from the ASP 4
Central Meridian.  We investigated further and found that nearly none of
them, PROJ4, GCTP, ARCINFO, BLUE MARBLE, etc, etc. are able to "close the
loop," that is, given a lat/long can you calcluate X/Y and recalculate the
same lat/long.  This bothered us. Ideally one would like to be able to save
results of analysis in lat/long so that it can be used in some other
projection at some future date.

If there is a way to do as the users wish (yes, I agree with Cliff, be
careful what you wish for) then I will make a best stab at it.  If not,
I'll report that this is all foolishness, pick a better projection, pick a
smaller area, or live with the inherent weakness of standard software, or
forget doing the project.  I appreciate all your help.  I know more now
than a few days ago about the algorithm aspect, it's not just a "rounding
error" issue.

William Hersman
ConocoPhillips, Alaska



|-------->
|        |
|-------->
  >--------------------------------------------------------------------------------------------------------------------------------------------------|
  |          Duncan Agnew <agnew at bilby.ucsd.edu>                                                                                                     |
  |          Sent by: owner-osrs-proj at remotesensing.org                                                                                              |
  |                                                                                                                                                  |
  |                                                                                                                                                  |
  |          01/31/2003 12:22 PM                                                                                                                     |
  |          Any replies will be addressed to: osrs-proj                                                                                             |
  |                                                                                                                                                  |
  |           To:   osrs-proj at remotesensing.org                                                                                                      |
  |           cc:   agnew at bilby.ucsd.edu                                                                                                             |
  |           Subject:    Re: [OSRS-PROJ] Pseudo X/Y values, forward and reverse                                                                     |
  >--------------------------------------------------------------------------------------------------------------------------------------------------|





For the interested onlookers, perhaps the original poster (Mr. Hersman)
could explain why one would want to get (eg) Alaska SPCS Zone 4 coordinates
when in Zone 10? Since the grid will be very distorted, it's not as though
you can use the X&Y to get distances or direction--if you want to get
these,
why not do what is usual over large distances: use lat and long, and solve
for the geodesic?

As far as the software goes, it should probably function so that the direct
and inverse do in fact invert each other to mm precision, to avoid
confusion
--but this is not the same as their being "right" for these large distances
(that is, agreeing with an exact expression for the TM).  Does being right
matter, and if so, why? To forestall the obvious answer (which is, to agree
with other, exact, computations), I would ask, who makes such computations?
Given the rarity of TM-5-241-10, not many people, it would appear.

BTW, the Snyder's discussion of the TM equations in USGS PP 1395 clearly
states their limitations and error bounds, with references to where the
more exact formulae can be found (namely, TM-5-241-10).

Duncan Agnew
dagnew at ucsd.edu

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.




----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From cjmce at lsu.edu  Fri Jan 31 14:45:36 2003
From: cjmce at lsu.edu (Clifford J Mugnier)
Date: Fri, 31 Jan 2003 16:45:36 -0600
Subject: [OSRS-PROJ] Pseudo X/Y values, forward and reverse
Message-ID: <OFA764541F.BFCE0657-ON86256CBF.007D0614-86256CBF.007D0671@lsu.edu>


William,

For regional geological analyses, the most common projection that is used
in the oil patch is the Albers Equal Area projection.  If all the latitudes
and longitudes are computed on that projection with the central meridian
being the center of the data set, it will be just fine for the (regional)
purpose intended.

The State Plane systems are for small engineering and surveying projects
that realistically don't encompass more than one to several counties.  For
east-west regions, the Lambert Conformal Conic is slightly better than the
Transverse Mercator because of the ability to go farther in an east-west
direction and still be able to have "round-trip" transformation accuracy.
Geodetically speaking, it is NOT as good as the transverse Mercator.

I suggest you go back to the boss and recommend Albers.

Cliff Mugnier
LOUISIANA STATE UNIVERSITY


Yes, let me explain a bit.  I am not a geodicist, so bear with me, I'm a
computer programmer.  We have a situation here where we need to do regional
analysis that expands across a major portion of Alaska.  There are seismic
lines which are very long, extending for hundreds of miles.  The analysis
will involve seismic data from the Canadian border well out to the Chukchi
Sea.  The software used for this analysis requires that one, and only one
projection be used for the entire project.  All of the data must be loaded
in that one projection.  It has been traditional in our work to use either
UTM or Alaska State Plane as a preferred projection.  Yes, one could argue
that there are better projections to use, I would not diagree, but it has
been decided for better or worse to go with Stateplane.

This requires that all lat/long values which are currently carried with the
data, be converted to Alaska State Plane, Zone 4.  It came to the attention
of myself and other programmers that not all software agrees on the
conversion, especially as one gets further and further away from the ASP 4
Central Meridian.  We investigated further and found that nearly none of
them, PROJ4, GCTP, ARCINFO, BLUE MARBLE, etc, etc. are able to "close the
loop," that is, given a lat/long can you calcluate X/Y and recalculate the
same lat/long.  This bothered us. Ideally one would like to be able to save
results of analysis in lat/long so that it can be used in some other
projection at some future date.

If there is a way to do as the users wish (yes, I agree with Cliff, be
careful what you wish for) then I will make a best stab at it.  If not,
I'll report that this is all foolishness, pick a better projection, pick a
smaller area, or live with the inherent weakness of standard software, or
forget doing the project.  I appreciate all your help.  I know more now
than a few days ago about the algorithm aspect, it's not just a "rounding
error" issue.

William Hersman
ConocoPhillips, Alaska



|-------->
|        |
|-------->
>
--------------------------------------------------------------------------------------------------------------------------------------------------|
|          Duncan Agnew <agnew at bilby.ucsd.edu>
|
|          Sent by: owner-osrs-proj at remotesensing.org
|
|
|
|
|
|          01/31/2003 12:22 PM
|
|          Any replies will be addressed to: osrs-proj
|
|
|
|           To:   osrs-proj at remotesensing.org
|
|           cc:   agnew at bilby.ucsd.edu
|
|           Subject:    Re: [OSRS-PROJ] Pseudo X/Y values, forward and
reverse
|
>
--------------------------------------------------------------------------------------------------------------------------------------------------|





For the interested onlookers, perhaps the original poster (Mr. Hersman)
could explain why one would want to get (eg) Alaska SPCS Zone 4 coordinates
when in Zone 10? Since the grid will be very distorted, it's not as though
you can use the X&Y to get distances or direction--if you want to get
these,
why not do what is usual over large distances: use lat and long, and solve
for the geodesic?

As far as the software goes, it should probably function so that the direct
and inverse do in fact invert each other to mm precision, to avoid
confusion
--but this is not the same as their being "right" for these large distances
(that is, agreeing with an exact expression for the TM).  Does being right
matter, and if so, why? To forestall the obvious answer (which is, to agree
with other, exact, computations), I would ask, who makes such computations?
Given the rarity of TM-5-241-10, not many people, it would appear.

BTW, the Snyder's discussion of the TM equations in USGS PP 1395 clearly
states their limitations and error bounds, with references to where the
more exact formulae can be found (namely, TM-5-241-10).

Duncan Agnew
dagnew at ucsd.edu

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.




----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.



----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From agnew at bilby.ucsd.edu  Fri Jan 31 14:54:10 2003
From: agnew at bilby.ucsd.edu (Duncan Agnew)
Date: Fri, 31 Jan 2003 14:54:10 -0800 (PST)
Subject: [OSRS-PROJ] Pseudo X/Y values, forward and reverse
Message-ID: <200301312254.OAA00205@bilby.ucsd.edu>


Dear Mr. Hersman:

	I vote for "this is all foolishness". I am a geophysicist--not the
exploration kind, but close enough to know what is going on. What the software
wants is coordinates that it can use to get accurate shot-to-receiver
distances--and these distances are never that large. (Because if they were,
the seismic waves would be going too deep to drill, and your company wouldn't
care). And, the software wants to work on a flat Earth, so it uses a grid.

	But, unless the grid is tailored to the line, you can't get good
local accuracy over long distances (e.g., if your line ran NS you could
use a TM with a central meridian along that line). If you try to use (say)
SPCS Alaska Zone 4, things are going to get pretty distorted out to the west.

	Your choices are:

	1. Use something (lat&long) that will work over long distances. I
suspect this is ruled out by the software, and anyway you don't need it: you
only need accurate distances from X&Y over small distances. (Up to 50 km,
maybe?).

	2. Design a projection (grid) that is tailored to each line so that the
local accuracy will be high everywhere. For this you need an expert (Cliff);
and it may not be that easy if the seismic line is not linear.

	3. Break the analysis into smaller regions, and use the appropriate
SPCS for each region.

	I'd vote for 3: but remember, free advice is worth what you paid.

Duncan Agnew
dagnew at ucsd.edu

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From gerald.evenden at verizon.net  Fri Jan 31 17:27:48 2003
From: gerald.evenden at verizon.net (Gerald I. Evenden)
Date: 31 Jan 2003 20:27:48 -0500
Subject: [OSRS-PROJ] Pseudo X/Y values, forward and reverse
In-Reply-To: <OF2E1F6DF6.A8B3FEC2-ON89256CBF.00767728@ppco.com>
References: <OF2E1F6DF6.A8B3FEC2-ON89256CBF.00767728@ppco.com>
Message-ID: <1044062868.2339.8.camel@localhost.localdomain>

The most suitable solution to your problem is finding the proper
projection for you application rather than trying to bend existing
systems that are not suitable.  If your lines are parallel to parallels
then Lambert Conformal Conic would be suitable, and in NS then
TM would work well.  But it sounds like they are probably oblique
and thus Oblique Mercator would be the best projection.

This assumes that a conformal projection is most suitable for
your needs.  In the case of OM you need to determine the best
geodesic that fits your line and use this for the OM factors.
Scale error will be at a minimum all along your seismic line.

As others have pointed out, appropriate selection of projection to
fit the needs of a project is a most important decision and one
should not be overly influenced by exiting projections that have
entirely different requirements.

On Fri, 2003-01-31 at 17:12, William Hersman wrote:
> 
> Yes, let me explain a bit.  I am not a geodicist, so bear with me, I'm a
> computer programmer.  We have a situation here where we need to do regional
> analysis that expands across a major portion of Alaska.  There are seismic
> lines which are very long, extending for hundreds of miles.  The analysis
> will involve seismic data from the Canadian border well out to the Chukchi
> Sea.  The software used for this analysis requires that one, and only one
> projection be used for the entire project.  All of the data must be loaded
> in that one projection.  It has been traditional in our work to use either
> UTM or Alaska State Plane as a preferred projection.  Yes, one could argue
> that there are better projections to use, I would not diagree, but it has
> been decided for better or worse to go with Stateplane.
> 
> This requires that all lat/long values which are currently carried with the
	...

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


