From jmckenna at gatewaygeomatics.com  Fri Aug  3 07:19:15 2018
From: jmckenna at gatewaygeomatics.com (Jeff McKenna)
Date: Fri, 3 Aug 2018 11:19:15 -0300
Subject: [Proj] Fwd: OSGeo Annual General Meeting - projects please join
In-Reply-To: <6a0876ef-1458-c08e-3c56-989946ae4f49@gatewaygeomatics.com>
References: <6a0876ef-1458-c08e-3c56-989946ae4f49@gatewaygeomatics.com>
Message-ID: <9bccec9a-4ce2-56ac-815c-6127fc69882c@gatewaygeomatics.com>

It would be great to have PROJ make a brief report (2 slides) in Dar for 
the AGM (please signup on the wiki page below).



-------- Forwarded Message --------

Dear OSGeo projects & project officers,

the OSGeo Annual General Meeting (AGM) is scheduled for Thursday morning 
August 30 at 8:00-9:00 in Dar Es Salaam (Tansania).

As Project/Committee officer we ask that you attend, or send a delegate 
from your community. The FOSS4G organizers have given us one hour for 
the meeting, leaving us each with around 2 mins!

This update is about your project and community, rather than about your 
software. We are interested in how your community is doing, the 
opportunities and challenges ahead, and how OSGeo can help.

The shared slide deck is available here (request edit access if required):

* 
https://docs.google.com/presentation/d/1imiG7x09ry7lGvmS15FCVq2Z7yaICY00fcpXBK27TXY/edit?usp=sharing

These slides replace the "Annual General Report" 
(https://github.com/geotools/geotools/wiki/GeoTools-Annual-Report-2017) 
used previously, you may wish to borrow that format for inspiration. You 
still can make an annual report page with extended information if you 
like and link to it.

If you are unable to attend we ask that you submit an annual general 
report to the board email list and attend an IRC board meeting by 
November 2018.

We are coordinating activities on the OSGeo Wiki 
(https://wiki.osgeo.org/wiki/Annual_General_Meeting_2018). Please add 
your project and name to the wiki if you can attend.

Best regards

Astrid Emde (OSGeo Secretary)




From kreve at sdfe.dk  Fri Aug  3 13:01:16 2018
From: kreve at sdfe.dk (Kristian Evers)
Date: Fri, 3 Aug 2018 20:01:16 +0000
Subject: [Proj] OSGeo Annual General Meeting - projects please join
In-Reply-To: <9bccec9a-4ce2-56ac-815c-6127fc69882c@gatewaygeomatics.com>
References: <6a0876ef-1458-c08e-3c56-989946ae4f49@gatewaygeomatics.com>
	<9bccec9a-4ce2-56ac-815c-6127fc69882c@gatewaygeomatics.com>
Message-ID: <F2DB9962-92CC-4331-A41F-6635BF0BBA32@sdfe.dk>

Thanks for forwarding this, Jeff.

I don’t think anyone from the PROJ PSC is going to be physically present in Dar
but if necessary I can prepare a few slides or some other form of annual report for
the board to read. Please let me know what you need.

/Kristian

> On 3 Aug 2018, at 16:19, Jeff McKenna <jmckenna at gatewaygeomatics.com> wrote:
> 
> It would be great to have PROJ make a brief report (2 slides) in Dar for 
> the AGM (please signup on the wiki page below).
> 
> 
> 
> -------- Forwarded Message --------
> 
> Dear OSGeo projects & project officers,
> 
> the OSGeo Annual General Meeting (AGM) is scheduled for Thursday morning 
> August 30 at 8:00-9:00 in Dar Es Salaam (Tansania).
> 
> As Project/Committee officer we ask that you attend, or send a delegate 
> from your community. The FOSS4G organizers have given us one hour for 
> the meeting, leaving us each with around 2 mins!
> 
> This update is about your project and community, rather than about your 
> software. We are interested in how your community is doing, the 
> opportunities and challenges ahead, and how OSGeo can help.
> 
> The shared slide deck is available here (request edit access if required):
> 
> * 
> https://docs.google.com/presentation/d/1imiG7x09ry7lGvmS15FCVq2Z7yaICY00fcpXBK27TXY/edit?usp=sharing
> 
> These slides replace the "Annual General Report" 
> (https://github.com/geotools/geotools/wiki/GeoTools-Annual-Report-2017) 
> used previously, you may wish to borrow that format for inspiration. You 
> still can make an annual report page with extended information if you 
> like and link to it.
> 
> If you are unable to attend we ask that you submit an annual general 
> report to the board email list and attend an IRC board meeting by 
> November 2018.
> 
> We are coordinating activities on the OSGeo Wiki 
> (https://wiki.osgeo.org/wiki/Annual_General_Meeting_2018). Please add 
> your project and name to the wiki if you can attend.
> 
> Best regards
> 
> Astrid Emde (OSGeo Secretary)
> 
> 
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj


From jmckenna at gatewaygeomatics.com  Fri Aug  3 13:09:41 2018
From: jmckenna at gatewaygeomatics.com (Jeff McKenna)
Date: Fri, 3 Aug 2018 17:09:41 -0300
Subject: [Proj] OSGeo Annual General Meeting - projects please join
In-Reply-To: <F2DB9962-92CC-4331-A41F-6635BF0BBA32@sdfe.dk>
References: <6a0876ef-1458-c08e-3c56-989946ae4f49@gatewaygeomatics.com>
	<9bccec9a-4ce2-56ac-815c-6127fc69882c@gatewaygeomatics.com>
	<F2DB9962-92CC-4331-A41F-6635BF0BBA32@sdfe.dk>
Message-ID: <cbeca7ae-2960-2f2a-99ff-944651d1beb6@gatewaygeomatics.com>

Thanks Kristian.  I'm sure myself or someone else there with 
boots-on-the-ground in Dar can help present your slides there.  -jeff



On 2018-08-03 5:01 PM, Kristian Evers wrote:
> Thanks for forwarding this, Jeff.
> 
> I don’t think anyone from the PROJ PSC is going to be physically present in Dar
> but if necessary I can prepare a few slides or some other form of annual report for
> the board to read. Please let me know what you need.
> 
> /Kristian
> 
>> On 3 Aug 2018, at 16:19, Jeff McKenna <jmckenna at gatewaygeomatics.com> wrote:
>>
>> It would be great to have PROJ make a brief report (2 slides) in Dar for
>> the AGM (please signup on the wiki page below).
>>
>>
>>
>> -------- Forwarded Message --------
>>
>> Dear OSGeo projects & project officers,
>>
>> the OSGeo Annual General Meeting (AGM) is scheduled for Thursday morning
>> August 30 at 8:00-9:00 in Dar Es Salaam (Tansania).
>>
>> As Project/Committee officer we ask that you attend, or send a delegate
>> from your community. The FOSS4G organizers have given us one hour for
>> the meeting, leaving us each with around 2 mins!
>>
>> This update is about your project and community, rather than about your
>> software. We are interested in how your community is doing, the
>> opportunities and challenges ahead, and how OSGeo can help.
>>
>> The shared slide deck is available here (request edit access if required):
>>
>> *
>> https://docs.google.com/presentation/d/1imiG7x09ry7lGvmS15FCVq2Z7yaICY00fcpXBK27TXY/edit?usp=sharing
>>
>> These slides replace the "Annual General Report"
>> (https://github.com/geotools/geotools/wiki/GeoTools-Annual-Report-2017)
>> used previously, you may wish to borrow that format for inspiration. You
>> still can make an annual report page with extended information if you
>> like and link to it.
>>
>> If you are unable to attend we ask that you submit an annual general
>> report to the board email list and attend an IRC board meeting by
>> November 2018.
>>
>> We are coordinating activities on the OSGeo Wiki
>> (https://wiki.osgeo.org/wiki/Annual_General_Meeting_2018). Please add
>> your project and name to the wiki if you can attend.
>>
>> Best regards
>>
>> Astrid Emde (OSGeo Secretary)
>>
>>


From eha at LIFA.DK  Thu Aug  9 23:21:52 2018
From: eha at LIFA.DK (Evan Haahr Hansen, LIFA A/S)
Date: Fri, 10 Aug 2018 06:21:52 +0000
Subject: [Proj] Few danish PROJ definitions are missing
Message-ID: <0D4877EA68869543AC8206924B97D73F67375126@Mail2010.LIFA.DK>

Hi all
We are about to implement the PROJ libraries in our applications but it seems that a few Danish PROJ definitions are missing:
DNN  - We know that code says that it is "historical" but when you work with old maps you still need it
System City Ring - near Copenhagen
FK89 (EPSG code 3173) - for the Faroe Islands

I also think that there is a small error in the PROJ definition for UTM29N_FVR09. In the last part of the definition there is a reference to FO:UTM32N. Shouldn't it be FO:UTM29N (which is defined in the line above) ?

Med venlig hilsen
Evan Haahr Hansen, LIFA A/S
Ingeniør

[http://website.lifa.dk/docs/LIFA_GIS·IT_logo.png]
T

6313 6800

@

eha at LIFA.DK

D

6313 6852

W

www.lifa.dk<http://www.lifa.dk>

M






Vi tilbyder interne og eksterne kurser. Du kan finde mere information i vores kursuskalender<https://www.lifa.dk/kursuskalender>

[cid:image002.png at 01D43079.16ED8D30]<https://www.linkedin.com/company/lifa-a-s/>
Følg os på LinkedIn og læs de seneste nyheder fra LIFA A/S Landinspektører

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20180810/59506b82/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.png
Type: image/png
Size: 8192 bytes
Desc: image001.png
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20180810/59506b82/attachment.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image002.png
Type: image/png
Size: 1204 bytes
Desc: image002.png
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20180810/59506b82/attachment-0001.png>

From kreve at sdfe.dk  Fri Aug 10 00:14:29 2018
From: kreve at sdfe.dk (Kristian Evers)
Date: Fri, 10 Aug 2018 07:14:29 +0000
Subject: [Proj] Few danish PROJ definitions are missing
In-Reply-To: <0D4877EA68869543AC8206924B97D73F67375126@Mail2010.LIFA.DK>
References: <0D4877EA68869543AC8206924B97D73F67375126@Mail2010.LIFA.DK>
Message-ID: <2DC2BC75-08BF-4498-A1F2-3D178B42370F@sdfe.dk>

Evan,

Thanks for reporting this.

On 10 Aug 2018, at 08:21, Evan Haahr Hansen, LIFA A/S <eha at LIFA.DK<mailto:eha at LIFA.DK>> wrote:

Hi all
We are about to implement the PROJ libraries in our applications but it seems that a few Danish PROJ definitions are missing:

Awesome!

DNN  - We know that code says that it is “historical” but when you work with old maps you still need it
System City Ring – near Copenhagen
FK89 (EPSG code 3173) – for the Faroe Islands

These are all work in progress. I’m adding issues to the tracker [0], that should help prioritize them.


I also think that there is a small error in the PROJ definition for UTM29N_FVR09. In the last part of the definition there is a reference to FO:UTM32N. Shouldn’t it be FO:UTM29N (which is defined in the line above) ?


Fixed [1][2]. This will be released alongside PROJ 5.2 September 1st.


Kristian

[0] https://github.com/NordicGeodesy/NordicTransformations/issues<https://github.com/NordicGeodesy/NordicTransformations/issues?q=is:issue+is:open+sort:updated-desc>
[1] https://github.com/NordicGeodesy/NordicTransformations/commit/a8f15c0423d9410f494db665297cbe1571424b1d
[2] https://github.com/OSGeo/proj-datumgrid/commit/67ad31e00db720f5344499d67fc5bd6627229772

Med venlig hilsen
Evan Haahr Hansen, LIFA A/S
Ingeniør

<image001.png>
T

6313 6800

@

eha at LIFA.DK<mailto:eha at LIFA.DK>

D

6313 6852

W

www.lifa.dk<http://www.lifa.dk/>

M






Vi tilbyder interne og eksterne kurser. Du kan finde mere information i vores kursuskalender<https://www.lifa.dk/kursuskalender>

<image002.png><https://www.linkedin.com/company/lifa-a-s/>
Følg os på LinkedIn og læs de seneste nyheder fra LIFA A/S Landinspektører

_______________________________________________
Proj mailing list
Proj at lists.maptools.org<mailto:Proj at lists.maptools.org>
http://lists.maptools.org/mailman/listinfo/proj

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20180810/99a56aaf/attachment.html>

From even.rouault at spatialys.com  Sat Aug 11 08:11:08 2018
From: even.rouault at spatialys.com (Even Rouault)
Date: Sat, 11 Aug 2018 17:11:08 +0200
Subject: [Proj] Confusion about Docker images
Message-ID: <5522448.d8f7aXQWvS@even-i700>

Hi,

I see in https://hub.docker.com/u/osgeo/
that they are osgeo/proj.4 and osgeo/proj Docker images.

I had some issues to understand what they are / how different they are.

It seems that osgeo/proj is the result of the automated build of master with
https://github.com/OSGeo/proj.4/blob/master/Dockerfile
The leading "# osgeo/proj.4" comment in that file should likely be renamed "# 
osgeo/proj" to avoid the confusion

Whereas osgeo/proj.4 is pulled by travis/docker.sh and used by travis/
build_docs.sh to build the website documentation.
- What is the source of this osgeo/proj.4 Docker image ?
- Shouldn't that be renamed to osgeo/proj-doc-deps or somthing like that to 
avoid confusion ?
- and its description at https://hub.docker.com/r/osgeo/proj.4/ "A Proj.4 
image with a full set of grid files" is also misleading.

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com


From howard at hobu.co  Mon Aug 13 07:42:21 2018
From: howard at hobu.co (Howard Butler)
Date: Mon, 13 Aug 2018 09:42:21 -0500
Subject: [Proj] Confusion about Docker images
In-Reply-To: <5522448.d8f7aXQWvS@even-i700>
References: <5522448.d8f7aXQWvS@even-i700>
Message-ID: <352b3c8b-1a33-60f9-44f7-c6f0de52775d@hobu.co>



On 8/11/18 10:11 AM, Even Rouault wrote:
> Hi,
>
> I see in https://hub.docker.com/u/osgeo/
> that they are osgeo/proj.4 and osgeo/proj Docker images.
>
> I had some issues to understand what they are / how different they are.
>
> It seems that osgeo/proj is the result of the automated build of master with
> https://github.com/OSGeo/proj.4/blob/master/Dockerfile
> The leading "# osgeo/proj.4" comment in that file should likely be renamed "# 
> osgeo/proj" to avoid the confusion
>
> Whereas osgeo/proj.4 is pulled by travis/docker.sh and used by travis/
> build_docs.sh to build the website documentation.
> - What is the source of this osgeo/proj.4 Docker image ?

It was one that I was maintaining locally. I have pushed it to
https://github.com/OSGeo/proj.4/blob/master/docs/docbuild/Dockerfile


> - Shouldn't that be renamed to osgeo/proj-doc-deps or somthing like that to 
> avoid confusion ?

done. osgeo/proj-docs

> - and its description at https://hub.docker.com/r/osgeo/proj.4/ "A Proj.4 
> image with a full set of grid files" is also misleading.

I removed this image to eliminate confusion. If anyone was actually
using it, they'll be able to find the osgeo/proj, which is built
automatically with every commit from ./Dockerfile in the source tree. I
have refreshed it to use Ubuntu 18.04.


Sorry for the confusion.


Howard



-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 528 bytes
Desc: OpenPGP digital signature
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20180813/52f15550/attachment.sig>

From even.rouault at spatialys.com  Mon Aug 13 07:49:55 2018
From: even.rouault at spatialys.com (Even Rouault)
Date: Mon, 13 Aug 2018 16:49:55 +0200
Subject: [Proj] Confusion about Docker images
In-Reply-To: <352b3c8b-1a33-60f9-44f7-c6f0de52775d@hobu.co>
References: <5522448.d8f7aXQWvS@even-i700>
	<352b3c8b-1a33-60f9-44f7-c6f0de52775d@hobu.co>
Message-ID: <1919782.1PQXo3qpBz@even-i700>

Thanks Howard ! Things are much clearer now.

Even

> On 8/11/18 10:11 AM, Even Rouault wrote:
> > Hi,
> > 
> > I see in https://hub.docker.com/u/osgeo/
> > that they are osgeo/proj.4 and osgeo/proj Docker images.
> > 
> > I had some issues to understand what they are / how different they are.
> > 
> > It seems that osgeo/proj is the result of the automated build of master
> > with https://github.com/OSGeo/proj.4/blob/master/Dockerfile
> > The leading "# osgeo/proj.4" comment in that file should likely be renamed
> > "# osgeo/proj" to avoid the confusion
> > 
> > Whereas osgeo/proj.4 is pulled by travis/docker.sh and used by travis/
> > build_docs.sh to build the website documentation.
> > - What is the source of this osgeo/proj.4 Docker image ?
> 
> It was one that I was maintaining locally. I have pushed it to
> https://github.com/OSGeo/proj.4/blob/master/docs/docbuild/Dockerfile
> 
> > - Shouldn't that be renamed to osgeo/proj-doc-deps or somthing like that
> > to
> > avoid confusion ?
> 
> done. osgeo/proj-docs
> 
> > - and its description at https://hub.docker.com/r/osgeo/proj.4/ "A Proj.4
> > image with a full set of grid files" is also misleading.
> 
> I removed this image to eliminate confusion. If anyone was actually
> using it, they'll be able to find the osgeo/proj, which is built
> automatically with every commit from ./Dockerfile in the source tree. I
> have refreshed it to use Ubuntu 18.04.
> 
> 
> Sorry for the confusion.
> 
> 
> Howard


-- 
Spatialys - Geospatial professional services
http://www.spatialys.com


From jcmalapert at gmail.com  Sat Aug 18 12:30:22 2018
From: jcmalapert at gmail.com (Jean-Christophe Malapert)
Date: Sat, 18 Aug 2018 21:30:22 +0200
Subject: [Proj] Convert a planetographic latitude to a planetocentric
	latitude
Message-ID: <CALG0g_Ec-6N-_h=ptdJE_kEx72HMRKwTVtn=bghUaVXMVKR92Q@mail.gmail.com>

Hello,

I am quite new to the use of  Proj4. I spend a few days to investigate a
problem but I have no clue how to solve it. So that's why I am writing to
you.  I hope you will be able to answer me.

I have 2 different CRS for the same planet : one is based on the sphere (CRS1,
radius=3396190) and another one based on the ellipse (CRS2, a=3396190
b=3376200). When I give the (longitude, latitude) in the CRS1 as inputs (
planetocentric latitude = planetographic latitude), I want to get the
planetographic latitude expressed in the CRS2. So, I wrote the following
command :
cs2cs +proj=latlong +a=3396190 +b=3396190 +to +proj=latlong +a=3396190
+b=3376200
> 0 80  # longitude latitude

I get the following result "0dE 80dN 0.000" . The latitude should change
but it is not the case !!! Should I add some options ?  Is it possible to
do this kind of transformation with proj4 ?

Thanks in advance,
Jean-Christophe
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20180818/193b1a66/attachment.html>

From kreve at sdfe.dk  Sat Aug 18 13:11:24 2018
From: kreve at sdfe.dk (Kristian Evers)
Date: Sat, 18 Aug 2018 20:11:24 +0000
Subject: [Proj] Convert a planetographic latitude to a
	planetocentric	latitude
In-Reply-To: <CALG0g_Ec-6N-_h=ptdJE_kEx72HMRKwTVtn=bghUaVXMVKR92Q@mail.gmail.com>
References: <CALG0g_Ec-6N-_h=ptdJE_kEx72HMRKwTVtn=bghUaVXMVKR92Q@mail.gmail.com>
Message-ID: <C3B0560E-37FE-4A0F-B732-A771CAB8F888@sdfe.dk>

Jean-Christophe,

You can do that transformation with PROJ, yes. I can see why you get confused though. It is not really apparent but to do this type of transformation cs2cs needs some hint that it is doing a change in reference frame (which this essentially is). You can do that by adding +towgs84=0,0,0 to both CRS1 and CRS2. When I do that I get the following:

$ echo 0 80 0 | cs2cs +proj=latlong +R=3396190 +towgs84=0,0,0 +to +proj=latlong +a=3396190 +b=3376200 +towgs84=0,0,0
0dE     80d6'51.824"N 19392.342

It is not unreasonable to expect cs2cs to figure this out on it’s own. I’ll give it some thoughts the next couple of days and see if I can come up with a simple solution that handles this particular case.

/Kristian

On 18 Aug 2018, at 21:30, Jean-Christophe Malapert <jcmalapert at gmail.com<mailto:jcmalapert at gmail.com>> wrote:

Hello,

I am quite new to the use of  Proj4. I spend a few days to investigate a problem but I have no clue how to solve it. So that's why I am writing to you.  I hope you will be able to answer me.

I have 2 different CRS for the same planet : one is based on the sphere (CRS1, radius=3396190) and another one based on the ellipse (CRS2, a=3396190 b=3376200). When I give the (longitude, latitude) in the CRS1 as inputs (planetocentric latitude = planetographic latitude), I want to get the planetographic latitude expressed in the CRS2. So, I wrote the following command :
cs2cs +proj=latlong +a=3396190 +b=3396190 +to +proj=latlong +a=3396190 +b=3376200
> 0 80  # longitude latitude

I get the following result "0dE 80dN 0.000" . The latitude should change but it is not the case !!! Should I add some options ?  Is it possible to do this kind of transformation with proj4 ?

Thanks in advance,
Jean-Christophe
_______________________________________________
Proj mailing list
Proj at lists.maptools.org<mailto:Proj at lists.maptools.org>
http://lists.maptools.org/mailman/listinfo/proj

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20180818/f04f0eb9/attachment.html>

From even.rouault at spatialys.com  Sat Aug 18 13:18:08 2018
From: even.rouault at spatialys.com (Even Rouault)
Date: Sat, 18 Aug 2018 22:18:08 +0200
Subject: [Proj] Convert a planetographic latitude to a planetocentric
	latitude
In-Reply-To: <CALG0g_Ec-6N-_h=ptdJE_kEx72HMRKwTVtn=bghUaVXMVKR92Q@mail.gmail.com>
References: <CALG0g_Ec-6N-_h=ptdJE_kEx72HMRKwTVtn=bghUaVXMVKR92Q@mail.gmail.com>
Message-ID: <2250361.UOERtbOOYf@even-i700>

On samedi 18 août 2018 21:30:22 CEST Jean-Christophe Malapert wrote:
> Hello,
> 
> I am quite new to the use of  Proj4. I spend a few days to investigate a
> problem but I have no clue how to solve it. So that's why I am writing to
> you.  I hope you will be able to answer me.
> 
> I have 2 different CRS for the same planet : one is based on the sphere
> (CRS1, radius=3396190) and another one based on the ellipse (CRS2,
> a=3396190 b=3376200). When I give the (longitude, latitude) in the CRS1 as
> inputs ( planetocentric latitude = planetographic latitude), I want to get
> the planetographic latitude expressed in the CRS2. So, I wrote the
> following command :
> cs2cs +proj=latlong +a=3396190 +b=3396190 +to +proj=latlong +a=3396190
> +b=3376200
> 
> > 0 80  # longitude latitude
> 
> I get the following result "0dE 80dN 0.000" . The latitude should change
> but it is not the case !!! Should I add some options ?  Is it possible to
> do this kind of transformation with proj4 ?

You are running into the case 3) of
https://proj4.org/faq.html#how-do-i-debug-problems-with-nad27-nad83-datum-shifting

"The cs2cs command and the underlying pj_transform() API know how to do a grid
shift as part of a more complex coordinate transformation; however, it is
imperative that both the source and destination coordinate system be defined
with appropriate datum information. [...] If either the input or output are not"
"identified as having a datum, the datum shifting (and *ellipsoid change*) step "
"is just quietly skipped!

The grid shift mentions do not apply to your case, but the mention of no ellipsoid change
does apply since you've only described ellipsoids with +a and +b
So basically PROJ will just reuse the geodetic coordinates unchanged

The fix is simple, although a bit counterintuitive when operating on non-Earth bodies,
add a +towgs84=0,0,0 clause to each CRS that will cause a transform from geodetic to
geocentric coordinates.

$ echo "0 80 0" | cs2cs -f "%.8f"  +proj=latlong +a=3396190 +b=3396190 +towgs84=0,0,0 +to +proj=latlong +a=3396190 +b=3376200 +towgs84=0,0,0
0.00000000	80.11439544 19392.34167562

With PROJ 5 or later, you can also use the cct utility with:

$ echo "0 80 0" | cct +proj=pipeline +step +proj=cart +a=3396190 +b=3396190 +step +inv +proj=cart +a=3396190 +b=3376200
  0.0000000000   80.1143954395    19392.3417           inf

Here you create a pipeline that explicitly transforms from geodetic coordinates on CS1 to
geocentric, and then from those geocentric to CS2. 

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com


From even.rouault at spatialys.com  Sat Aug 18 13:21:13 2018
From: even.rouault at spatialys.com (Even Rouault)
Date: Sat, 18 Aug 2018 22:21:13 +0200
Subject: [Proj] Convert a planetographic latitude to a
	planetocentric	latitude
In-Reply-To: <C3B0560E-37FE-4A0F-B732-A771CAB8F888@sdfe.dk>
References: <CALG0g_Ec-6N-_h=ptdJE_kEx72HMRKwTVtn=bghUaVXMVKR92Q@mail.gmail.com>
	<C3B0560E-37FE-4A0F-B732-A771CAB8F888@sdfe.dk>
Message-ID: <5958188.EaKQZyOehF@even-i700>

On samedi 18 août 2018 20:11:24 CEST Kristian Evers wrote:
> Jean-Christophe,
> 
> You can do that transformation with PROJ, yes. I can see why you get
> confused though. It is not really apparent but to do this type of
> transformation cs2cs needs some hint that it is doing a change in reference
> frame (which this essentially is). You can do that by adding +towgs84=0,0,0
> to both CRS1 and CRS2. When I do that I get the following:
 
> $ echo 0 80 0 | cs2cs +proj=latlong +R=3396190 +towgs84=0,0,0 +to
> +proj=latlong +a=3396190 +b=3376200 +towgs84=0,0,0
 0dE     80d6'51.824"N
> 19392.342
> 
> It is not unreasonable to expect cs2cs to figure this out on it’s own. I’ll
> give it some thoughts the next couple of days and see if I can come up with
> a simple solution that handles this particular case.

Kristian,

cs2cs *used* to do this implicit +towgs84=0,0,0 in versions earlier than 4.6, 
and in 4.6 this was changed:

4.6.0 Release Notes
-------------------

 o MAJOR: Rework pj_transform() to avoid applying ellipsoid to ellipsoid
   transformations as a datum shift when no datum info is available.

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com


From kreve at sdfe.dk  Sat Aug 18 13:29:17 2018
From: kreve at sdfe.dk (Kristian Evers)
Date: Sat, 18 Aug 2018 20:29:17 +0000
Subject: [Proj] Convert a planetographic latitude to a
	planetocentric	latitude
In-Reply-To: <5958188.EaKQZyOehF@even-i700>
References: <CALG0g_Ec-6N-_h=ptdJE_kEx72HMRKwTVtn=bghUaVXMVKR92Q@mail.gmail.com>
	<C3B0560E-37FE-4A0F-B732-A771CAB8F888@sdfe.dk>
	<5958188.EaKQZyOehF@even-i700>
Message-ID: <C42A1293-D164-40C7-82C5-160C4AAE4ED4@sdfe.dk>



On 18 Aug 2018, at 22:21, Even Rouault <even.rouault at spatialys.com<mailto:even.rouault at spatialys.com>> wrote:

On samedi 18 août 2018 20:11:24 CEST Kristian Evers wrote:
Jean-Christophe,

You can do that transformation with PROJ, yes. I can see why you get
confused though. It is not really apparent but to do this type of
transformation cs2cs needs some hint that it is doing a change in reference
frame (which this essentially is). You can do that by adding +towgs84=0,0,0
to both CRS1 and CRS2. When I do that I get the following:

$ echo 0 80 0 | cs2cs +proj=latlong +R=3396190 +towgs84=0,0,0 +to
+proj=latlong +a=3396190 +b=3376200 +towgs84=0,0,0
0dE     80d6'51.824"N
19392.342

It is not unreasonable to expect cs2cs to figure this out on it’s own. I’ll
give it some thoughts the next couple of days and see if I can come up with
a simple solution that handles this particular case.

Kristian,

cs2cs *used* to do this implicit +towgs84=0,0,0 in versions earlier than 4.6,
and in 4.6 this was changed:

4.6.0 Release Notes
-------------------

o MAJOR: Rework pj_transform() to avoid applying ellipsoid to ellipsoid
  transformations as a datum shift when no datum info is available.

Good catch. I wonder why this was changed to the current implementation. The
differing ellipsoid parameters for CRS1 and CRS2 can be regarded as datum
information (albeit rudimentary datums).

/Kristian


Even

--
Spatialys - Geospatial professional services
http://www.spatialys.com<http://www.spatialys.com/>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20180818/e6fb27d5/attachment.html>

From martin.desruisseaux at geomatys.com  Sat Aug 18 14:03:00 2018
From: martin.desruisseaux at geomatys.com (Martin Desruisseaux)
Date: Sat, 18 Aug 2018 23:03:00 +0200
Subject: [Proj] Convert a planetographic latitude to a planetocentric
 latitude
In-Reply-To: <C42A1293-D164-40C7-82C5-160C4AAE4ED4@sdfe.dk>
References: <CALG0g_Ec-6N-_h=ptdJE_kEx72HMRKwTVtn=bghUaVXMVKR92Q@mail.gmail.com>
	<C3B0560E-37FE-4A0F-B732-A771CAB8F888@sdfe.dk>
	<5958188.EaKQZyOehF@even-i700>
	<C42A1293-D164-40C7-82C5-160C4AAE4ED4@sdfe.dk>
Message-ID: <edc5d10d-1e96-9826-5f2e-0014160bc95b@geomatys.com>

Le 18/08/2018 à 22:29, Kristian Evers a écrit :

> Good catch. I wonder why this was changed to the current
> implementation. The differing ellipsoid parameters for CRS1 and CRS2
> can be regarded as datum information (albeit rudimentary datums). 
>
I see the same as Kristian; "ellipsoid shift" is incomplete compared to
"datum shift", but still seem less surprising to me than doing nothing.

Anyway, a library can chose to do nothing, or to approximate an
ellipsoid shift with "Abridged Molodensky" method on the basis that
there is no point trying to be too accurate in the absence of more
complete datum shift information, or chose to do a full transformation
going through geocentric coordinates. All those choices are okay. But a
suggest that coordinate transformation libraries should provide some
mechanism telling to the user which operations the library choose to
apply for a given pair of CRS. The WKT 2 (ISO 19162) expression of
CoordinateOperation can be one way.

    Martin




From even.rouault at spatialys.com  Sat Aug 18 14:17:04 2018
From: even.rouault at spatialys.com (Even Rouault)
Date: Sat, 18 Aug 2018 23:17:04 +0200
Subject: [Proj] Convert a planetographic latitude to a planetocentric
	latitude
In-Reply-To: <C42A1293-D164-40C7-82C5-160C4AAE4ED4@sdfe.dk>
References: <CALG0g_Ec-6N-_h=ptdJE_kEx72HMRKwTVtn=bghUaVXMVKR92Q@mail.gmail.com>
	<5958188.EaKQZyOehF@even-i700>
	<C42A1293-D164-40C7-82C5-160C4AAE4ED4@sdfe.dk>
Message-ID: <3955091.qWEdjB0i6E@even-i700>

> Good catch. I wonder why this was changed to the current implementation.
> The differing ellipsoid parameters for CRS1 and CRS2 can be regarded as
> datum information (albeit rudimentary datums).

I tracked down this to

commit d6636b805e0e8136f427ca79c57b21d421539169
Author: Frank Warmerdam <warmerdam at pobox.com>
Date:   Mon Nov 26 00:21:59 2007 +0000

    Modified PJ structure to hold a_orig, es_orig, ellipsoid definition before
    adjustment for spherical projections.
    Modified pj_datum_transform() to use the original ellipsoid parameters,
    not the ones adjusted for spherical projections.
    Modified pj_datum_transform() to not attempt any datum shift via
    geocentric coordinates if the source *or* destination are raw ellipsoids
    (ie. PJD_UNKNOWN).  All per PROJ bug #1602, GDAL bug #2025.
    
    
    git-svn-id: http://svn.osgeo.org/metacrs/proj/trunk at 1406 
4e78687f-474d-0410-85f9-8d5e500ac6b2


The GDAL ticket is still there:
https://trac.osgeo.org/gdal/ticket/2025


There are 2 bugfixes mixed in that commit, but the specific bit for the issue 
discussed here is at the beginning of pj_datum_transform()

/* -------------------------------------------------------------------- */
/*      We cannot do any meaningful datum transformation if either      */
/*      the source or destination are of an unknown datum type          */
/*      (ie. only a +ellps declaration, no +datum).  This is new        */
/*      behavior for PROJ 4.6.0.                                        */
/* -------------------------------------------------------------------- */
    if( src->datum_type == PJD_UNKNOWN
        || dst->datum_type == PJD_UNKNOWN )
        return 0;


I guess the intent was that it would be obvious to users that something is 
wrong when they see that their coordinates do not change, whereas if silent
geocentric transformation was done, they would have the feeling that the
"right thing" is done, whereas they should probably have provided a horizontal 
grid or +towgs84 parameters to have a good result

Both behaviour can be discussed, but at this point of history of the cs2cs / 
pj_transform API, it might perhaps be prudent to freeze the behaviour of that 
legacy API to the current one (especially if we remove it at some future 
point)
I can recall a number of complaints/surprises when the 4.6.0 behaviour was 
introduced and people got different results than with previous versions. (That 
said, I guess they must have now added their +towgs84=0,0,0 parameter to get 
the pre-4.6 results, so if we change again, that shouldn't affect them.)

We can perhaps reconsider that for the proj_transform() / cct case.

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com


From elmir.jagudin at gmail.com  Wed Aug 22 02:19:14 2018
From: elmir.jagudin at gmail.com (Elmir Jagudin)
Date: Wed, 22 Aug 2018 11:19:14 +0200
Subject: [Proj] converting WGS84/ETRS89 to ITM/OSGM15
Message-ID: <CAFaYjoQoRyJH+wNkyAgr=_vOrOVJSyZ8VJ0z3J13DrvB1vOSVQ@mail.gmail.com>

Hi

I'm trying to convert a WGS84/ETRS89 positions in Ireland into a ITM (Irish
Transverse Mercator) easting northings and OSGM15 elevations.

Using the this commands:

  echo -6.6 53 21 | /proj \
     +proj=tmerc +lat_0=53.5 +lon_0=-8 +k=0.99982 +x_0=600000 +y_0=750000
+ellps=GRS80
     +towgs84=0,0,0,0,0,0,0 +units=m +no_defs

gives me:

  693972.63    695281.52 21

The easting and northing are correct, however the elevation is not, the
correct value is -35.15.

Is it possible to use proj4 to calculate OSGM15 elevations? What should the
proj-string be in that case?

Or do i need to create a .gtx file for OSGM15?

Not sure how the elevations work in proj4, is there any documentation i
could read?


Thanks in advance,
Elmir
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20180822/45b4f704/attachment.html>

From Alain.Orsoni at ign.fr  Wed Aug 22 03:10:36 2018
From: Alain.Orsoni at ign.fr (Alain Orsoni)
Date: Wed, 22 Aug 2018 10:10:36 +0000
Subject: [Proj] converting WGS84/ETRS89 to ITM/OSGM15
In-Reply-To: <CAFaYjoQoRyJH+wNkyAgr=_vOrOVJSyZ8VJ0z3J13DrvB1vOSVQ@mail.gmail.com>
References: <CAFaYjoQoRyJH+wNkyAgr=_vOrOVJSyZ8VJ0z3J13DrvB1vOSVQ@mail.gmail.com>
Message-ID: <84D945F3-8AEF-4287-87A3-E509541B9DC5@ign.fr>

Hi,

Trying to answer with my knowledge :
On my computer I can do this transform in this way

echo -6.6 53 21 | cs2cs +init=epsg:4326 +to +proj=tmerc +lat_0=53.5 +lon_0=-8 +k=0.99982 +x_0=600000 +y_0=750000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +geoidgrids=egm08_25_rg.gtx +units=m +no_defs
693972.63 695281.52 -35.37

The result is a little bit different from what you expect. Maybe because I use egm08 and you expect another Geoid model.
Doing the same way you try this (with proj program) I can’t get the correct use of the GeoidGrid. Why????

echo -6.6 53 21 | proj +proj=tmerc +lat_0=53.5 +lon_0=-8 +k=0.99982 +x_0=600000 +y_0=750000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +geoidgrids=egm08_25_rg.gtx +units=m +no_defs
693972.63 695281.52 21

But your problem in that you seem to enter with an ellipsoid elevation and want to get geoid elevation at the end of the process. For this you need to install the geoidgrids on your PROJ installation, and use it as indicated here but with cs2cs program.

Alain


Le 22 août 2018 à 11:19, Elmir Jagudin <elmir.jagudin at gmail.com<mailto:elmir.jagudin at gmail.com>> a écrit :

Hi

I'm trying to convert a WGS84/ETRS89 positions in Ireland into a ITM (Irish Transverse Mercator) easting northings and OSGM15 elevations.

Using the this commands:

  echo -6.6 53 21 | /proj \
     +proj=tmerc +lat_0=53.5 +lon_0=-8 +k=0.99982 +x_0=600000 +y_0=750000 +ellps=GRS80
     +towgs84=0,0,0,0,0,0,0 +units=m +no_defs

gives me:

  693972.63    695281.52 21

The easting and northing are correct, however the elevation is not, the correct value is -35.15.

Is it possible to use proj4 to calculate OSGM15 elevations? What should the proj-string be in that case?

Or do i need to create a .gtx file for OSGM15?

Not sure how the elevations work in proj4, is there any documentation i could read?


Thanks in advance,
Elmir
_______________________________________________
Proj mailing list
Proj at lists.maptools.org<mailto:Proj at lists.maptools.org>
http://lists.maptools.org/mailman/listinfo/proj

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20180822/1304fcaf/attachment.html>

From even.rouault at spatialys.com  Wed Aug 22 03:26:24 2018
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 22 Aug 2018 12:26:24 +0200
Subject: [Proj] converting WGS84/ETRS89 to ITM/OSGM15
In-Reply-To: <84D945F3-8AEF-4287-87A3-E509541B9DC5@ign.fr>
References: <CAFaYjoQoRyJH+wNkyAgr=_vOrOVJSyZ8VJ0z3J13DrvB1vOSVQ@mail.gmail.com>
	<84D945F3-8AEF-4287-87A3-E509541B9DC5@ign.fr>
Message-ID: <6449208.ddraOsTcAU@even-i700>

Alain,

> Doing the same way you try
> this (with proj program) I can’t get the correct use of the GeoidGrid.
> Why???? 

proj is the historical command line utility at the time where the library only 
handled cartographic projections, but not datum transformations hence it 
ignores +towgs84, +nadgrids, +geoidgrids. For the later, you need to use cs2s

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com


From jcmalapert at gmail.com  Wed Aug 22 04:09:36 2018
From: jcmalapert at gmail.com (Jean-Christophe Malapert)
Date: Wed, 22 Aug 2018 13:09:36 +0200
Subject: [Proj] Some tests with proj4
In-Reply-To: <CALG0g_EaUv8qR3VahCh44HrrH4ZxrCRzD2O2O92ckn0JfxUZVQ@mail.gmail.com>
References: <CALG0g_EaUv8qR3VahCh44HrrH4ZxrCRzD2O2O92ckn0JfxUZVQ@mail.gmail.com>
Message-ID: <CALG0g_GKJ5Fy9-ROxau70wuf+abbQMo2WSeY2bJ6+S3AiB-OrA@mail.gmail.com>

Hi Kristian

Back to my proj4/gdal problem that I have posted on the proj4 mailing list

I did some tests  and I woud like to share them with you

1/ I took a pixel coordinate on meters on my map (this is equirecangular
projection with a ocentric datum) and I asked to transform in (long,lat)
with a ocentric datum
echo "-4025114 2971144" | gdaltransform *-s_srs* 'PROJCS["Mars Simple
Cylindrical (Ellipse,
clon=0)",GEOGCS["GCS_Mars_2000_Sphere",DATUM["D_Mars_2000_Sphere",SPHEROID["Mars_2000_IAU_IAG_Sphere
",3396190,*0*
]],PRIMEM["Airy-0",0],UNIT["degree",0.0174532925199433]],PROJECTION["Equirectangular"],PARAMETER["latitude_of_origin",0],PARAMETER["central_meridian",0],PARAMETER["standard_parallel_1",0],PARAMETER["false_easting",0],PARAMETER["false_northing",0],UNIT["metre",1]]'
*-t_srs* 'GEOGCS["Mars 2015 Ocentric",DATUM["D_Mars_2015
",SPHEROID["Mars_2015_IAU_Ocentric",3396190,*0*
],AUTHORITY["IAU","WGCCRE"]],PRIMEM["Airy-0",0,AUTHORITY["IAU","WGCCRE"]],UNIT["Degree",0.017453292519943295],AUTHORITY["IAU2015","49900"]]'

-67.9061078028676 50.1249964005599 0

2/ Same request but I want to ographic CRS as output

echo "-4025114 2971144" | gdaltransform *-s_srs* 'PROJCS["Mars Simple
Cylindrical (Ellipse,
clon=0)",GEOGCS["GCS_Mars_2000_Sphere",DATUM["D_Mars_2000_Sphere",SPHEROID["Mars_2000_IAU_IAG_Sphere
",3396190,0]],PRIMEM["Airy-0",*0*
],UNIT["degree",0.0174532925199433]],PROJECTION["Equirectangular"],PARAMETER["latitude_of_origin",0],PARAMETER["central_meridian",0],PARAMETER["standard_parallel_1",0],PARAMETER["false_easting",0],PARAMETER["false_northing",0],UNIT["metre",1]]'
*-t_srs* 'GEOGCS["Mars 2015 Ographic",DATUM["D_Mars_2015
",SPHEROID["Mars_2015_IAU_Ographic",3396190,*169.89444722361*
],AUTHORITY["IAU","WGCCRE"]],PRIMEM["Airy-0",0,AUTHORITY["IAU","WGCCRE"]],UNIT["Degree",0.017453292519943295],AUTHORITY["IAU2015","49901"]]'

-67.9061078028676 50.1249964005599 0

Conclusion : The result is the same and it is not possible !!! - proj4 is
not intialized correctly in GDAL

3/ Same request as 2 but I force the init of proj4 with the EXTENSION
parameter
echo "-4025114 2971144" | gdaltransform *-s_srs* 'PROJCS["Mars Simple
Cylindrical (Ellipse,
clon=0)",GEOGCS["GCS_Mars_2000_Sphere",DATUM["D_Mars_2000_Sphere",SPHEROID["Mars_2000_IAU_IAG_Sphere
",3396190,0]],PRIMEM["Airy-0",*0*
],UNIT["degree",0.0174532925199433]],PROJECTION["Equirectangular"],PARAMETER["latitude_of_origin",0],PARAMETER["central_meridian",0],PARAMETER["standard_parallel_1",0],PARAMETER["false_easting",0],PARAMETER["false_northing",0],UNIT["metre",1],*EXTENSION["PROJ4","+proj=eqc
+lat_ts=0 +lat_0=0 +lon_0=0 +x_0=0 +y_0=0 +a=3396190 +b=3396190 +units=m
+towgs84=0,0,0 +no_defs"]*]' *-t_srs* 'GEOGCS["Mars 2015
Ographic",DATUM["D_Mars_2015 ",SPHEROID["Mars_2015_IAU_Ographic",3396190,
*169.89444722361*
],AUTHORITY["IAU","WGCCRE"]],PRIMEM["Airy-0",0,AUTHORITY["IAU","WGCCRE"]],UNIT["Degree",0.017453292519943295],*EXTENSION["PROJ4","+proj=longlat
+a=3396190 +b=3376200 +towgs84=0,0,0 +no_defs"]*
,AUTHORITY["IAU2015","49901"]]'

-67.9061078028676 50.4563269924926 11816.1605372787

conclusion : the latitude changes, much better but is it correct ?

4/ tranformation ocentric to ographic sans EXTENSION
echo "0 70" | gdaltransform *-s_srs*
'GEOGCS["GCS_Mars_2000_Sphere",DATUM["D_Mars_2000_Sphere",SPHEROID["Mars_2000_IAU_IAG_Sphere
",3396190,*0*]],PRIMEM["Airy-0",0],UNIT["degree",0.0174532925199433]]'
*-t_srs* 'GEOGCS["Mars 2015 Ographic",DATUM["D_Mars_2015
",SPHEROID["Mars_2015_IAU_Ographic",3396190,*169.89444722361*
],AUTHORITY["IAU","WGCCRE"]],PRIMEM["Airy-0",0,AUTHORITY["IAU","WGCCRE"]],UNIT["Degree",0.017453292519943295],AUTHORITY["IAU2015","49901"]]'

0 70 0

Conclusion : same problem than 1

5/ transformation ocentric to ographic avec EXTENSION
echo "0 70" | gdaltransform *-s_srs
*'GEOGCS["GCS_Mars_2000_Sphere",DATUM["D_Mars_2000_Sphere",SPHEROID["Mars_2000_IAU_IAG_Sphere
",3396190,*0*]],PRIMEM["Airy-0",0],UNIT["degree",0.0174532925199433],*EXTENSION["PROJ4","+proj=longlat
+a=3396190 +b=3396190 +towgs84=0,0,0 +no_defs"]*]' *-t_srs* 'GEOGCS["Mars
2015 Ographic",DATUM["D_Mars_2015
",SPHEROID["Mars_2015_IAU_Ographic",3396190,*169.89444722361*
],AUTHORITY["IAU","WGCCRE"]],PRIMEM["Airy-0",0,AUTHORITY["IAU","WGCCRE"]],UNIT["Degree",0.017453292519943295],*EXTENSION["PROJ4","+proj=longlat
+a=3396190 +b=3376200 +towgs84=0,0,0 +no_defs"]*
,AUTHORITY["IAU2015","49901"]]'

0 70.2153180967239 17669.7044292935

conclusion : the latitude changes, much better but is it correct ?

6/ Even's tests
$ cs2cs -f "%.8f" +proj=longlat +a=3396190 +b=3396190 +towgs84=0,0,0 +to \

                  +proj=longlat +a=3396190 +b=3376200 +towgs84=0,0,0
2 49 0
2.00000000      49.33354110 11429.20699246


*With PROJ5*
$ cct +proj=pipeline +step +proj=geoc +inv +a=3396190 +b=3376200
2 49 0
  2.0000000000   49.3346654289        0.0000           inf

Conclusion : PROJ5 abd PROJ4 give different results. It seems the result of
PROJ5 is better because of the third value in the result. It means
towgs84=0,0,0 is not enough to get ographic coordinates from ocentric
coordinates

The current problem is that a lot of SIG softwares use PROJ4 (mapserver,
gdal, QGIS). For instance QGIS uses Mars2000 CRS  with the following proj4
string *+proj=longlat +a=3396190 +b=3396190 **+no_defs*
In my case, my data is projected but with an ocentric datum. It means when
I think to get a ographic latitude, I get an ocentric latitude.

Is there a way to provide a patch to PROJ4 the time PROJ5 is released with
the stack gdal/mapserver ?

Thanks a lot,
Jean-Christophe
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20180822/72737aef/attachment.html>

From knudsen.thomas at gmail.com  Wed Aug 22 08:26:56 2018
From: knudsen.thomas at gmail.com (Thomas Knudsen)
Date: Wed, 22 Aug 2018 17:26:56 +0200
Subject: [Proj] Some tests with proj4
In-Reply-To: <CALG0g_GKJ5Fy9-ROxau70wuf+abbQMo2WSeY2bJ6+S3AiB-OrA@mail.gmail.com>
References: <CALG0g_EaUv8qR3VahCh44HrrH4ZxrCRzD2O2O92ckn0JfxUZVQ@mail.gmail.com>
	<CALG0g_GKJ5Fy9-ROxau70wuf+abbQMo2WSeY2bJ6+S3AiB-OrA@mail.gmail.com>
Message-ID: <CAH0YoEPQ+9WZLJ11nAQa8p3GzZc3+e4w94HTkRWpkM5jTcopPA@mail.gmail.com>

Hello Jean-Christophe,

No, the result you get from cct is not strictly correct in a 3D world. The
problem is that proj=geoc calls the 4D API function
proj_geocentric_latitude(), which is copied directly from code in the
original pj_fwd / pj_inv code and reflects the 2D/cartographic origin of
PROJ.

proj_geocentric_latitude() works correctly (I believe) *** but only on the
surface of the ellipsoid ***.

In a true 3D world, the planetocentric latitude should converge toward the
planetographical as the height grows. But the proj=geoc implementation
currently ignores the height entirely.

I think you will get what you expect if you do as follows:

cct +proj=pipeline +step +proj=cart +R=3396190 +step +proj=cart +inv
+a=3396190 +b=3376200

i.e. first convert your planetocentric coordinates to 3D cartesian, using a
spherical planet model, then convert back to planetographical coordinates
using the proper ellipsoidal model.

At least in this case the two latitudes converge as the height grows:

echo 2 49 1e3 0 | cct ...
  2.0000000000 49.3334430922  12429.1901 0.0000

echo 2 49 1e12 0 | cct ...
  2.0000000000   49.0000011347  1000000011372.7307 0.0000

/Thomas

Den ons. 22. aug. 2018 kl. 13.11 skrev Jean-Christophe Malapert <
jcmalapert at gmail.com>:

>
> Hi Kristian
>
> Back to my proj4/gdal problem that I have posted on the proj4 mailing list
>
> I did some tests  and I woud like to share them with you
>
> 1/ I took a pixel coordinate on meters on my map (this is equirecangular
> projection with a ocentric datum) and I asked to transform in (long,lat)
> with a ocentric datum
> echo "-4025114 2971144" | gdaltransform *-s_srs* 'PROJCS["Mars Simple
> Cylindrical (Ellipse,
> clon=0)",GEOGCS["GCS_Mars_2000_Sphere",DATUM["D_Mars_2000_Sphere",SPHEROID["Mars_2000_IAU_IAG_Sphere
> ",3396190,*0*
> ]],PRIMEM["Airy-0",0],UNIT["degree",0.0174532925199433]],PROJECTION["Equirectangular"],PARAMETER["latitude_of_origin",0],PARAMETER["central_meridian",0],PARAMETER["standard_parallel_1",0],PARAMETER["false_easting",0],PARAMETER["false_northing",0],UNIT["metre",1]]'
> *-t_srs* 'GEOGCS["Mars 2015 Ocentric",DATUM["D_Mars_2015
> ",SPHEROID["Mars_2015_IAU_Ocentric",3396190,*0*
> ],AUTHORITY["IAU","WGCCRE"]],PRIMEM["Airy-0",0,AUTHORITY["IAU","WGCCRE"]],UNIT["Degree",0.017453292519943295],AUTHORITY["IAU2015","49900"]]'
>
> -67.9061078028676 50.1249964005599 0
>
> 2/ Same request but I want to ographic CRS as output
>
> echo "-4025114 2971144" | gdaltransform *-s_srs* 'PROJCS["Mars Simple
> Cylindrical (Ellipse,
> clon=0)",GEOGCS["GCS_Mars_2000_Sphere",DATUM["D_Mars_2000_Sphere",SPHEROID["Mars_2000_IAU_IAG_Sphere
> ",3396190,0]],PRIMEM["Airy-0",*0*
> ],UNIT["degree",0.0174532925199433]],PROJECTION["Equirectangular"],PARAMETER["latitude_of_origin",0],PARAMETER["central_meridian",0],PARAMETER["standard_parallel_1",0],PARAMETER["false_easting",0],PARAMETER["false_northing",0],UNIT["metre",1]]'
> *-t_srs* 'GEOGCS["Mars 2015 Ographic",DATUM["D_Mars_2015
> ",SPHEROID["Mars_2015_IAU_Ographic",3396190,*169.89444722361*
> ],AUTHORITY["IAU","WGCCRE"]],PRIMEM["Airy-0",0,AUTHORITY["IAU","WGCCRE"]],UNIT["Degree",0.017453292519943295],AUTHORITY["IAU2015","49901"]]'
>
> -67.9061078028676 50.1249964005599 0
>
> Conclusion : The result is the same and it is not possible !!! - proj4 is
> not intialized correctly in GDAL
>
> 3/ Same request as 2 but I force the init of proj4 with the EXTENSION
> parameter
> echo "-4025114 2971144" | gdaltransform *-s_srs* 'PROJCS["Mars Simple
> Cylindrical (Ellipse,
> clon=0)",GEOGCS["GCS_Mars_2000_Sphere",DATUM["D_Mars_2000_Sphere",SPHEROID["Mars_2000_IAU_IAG_Sphere
> ",3396190,0]],PRIMEM["Airy-0",*0*
> ],UNIT["degree",0.0174532925199433]],PROJECTION["Equirectangular"],PARAMETER["latitude_of_origin",0],PARAMETER["central_meridian",0],PARAMETER["standard_parallel_1",0],PARAMETER["false_easting",0],PARAMETER["false_northing",0],UNIT["metre",1],*EXTENSION["PROJ4","+proj=eqc
> +lat_ts=0 +lat_0=0 +lon_0=0 +x_0=0 +y_0=0 +a=3396190 +b=3396190 +units=m
> +towgs84=0,0,0 +no_defs"]*]' *-t_srs* 'GEOGCS["Mars 2015
> Ographic",DATUM["D_Mars_2015 ",SPHEROID["Mars_2015_IAU_Ographic",3396190,
> *169.89444722361*
> ],AUTHORITY["IAU","WGCCRE"]],PRIMEM["Airy-0",0,AUTHORITY["IAU","WGCCRE"]],UNIT["Degree",0.017453292519943295],*EXTENSION["PROJ4","+proj=longlat
> +a=3396190 +b=3376200 +towgs84=0,0,0 +no_defs"]*
> ,AUTHORITY["IAU2015","49901"]]'
>
> -67.9061078028676 50.4563269924926 11816.1605372787
>
> conclusion : the latitude changes, much better but is it correct ?
>
> 4/ tranformation ocentric to ographic sans EXTENSION
> echo "0 70" | gdaltransform *-s_srs* 'GEOGCS["GCS_Mars_2000_Sphere",DATUM["D_Mars_2000_Sphere",SPHEROID["Mars_2000_IAU_IAG_Sphere
> ",3396190,*0*]],PRIMEM["Airy-0",0],UNIT["degree",0.0174532925199433]]'
> *-t_srs* 'GEOGCS["Mars 2015 Ographic",DATUM["D_Mars_2015
> ",SPHEROID["Mars_2015_IAU_Ographic",3396190,*169.89444722361*
> ],AUTHORITY["IAU","WGCCRE"]],PRIMEM["Airy-0",0,AUTHORITY["IAU","WGCCRE"]],UNIT["Degree",0.017453292519943295],AUTHORITY["IAU2015","49901"]]'
>
> 0 70 0
>
> Conclusion : same problem than 1
>
> 5/ transformation ocentric to ographic avec EXTENSION
> echo "0 70" | gdaltransform *-s_srs *'GEOGCS["GCS_Mars_2000_Sphere",DATUM["D_Mars_2000_Sphere",SPHEROID["Mars_2000_IAU_IAG_Sphere
> ",3396190,*0*]],PRIMEM["Airy-0",0],UNIT["degree",0.0174532925199433],*EXTENSION["PROJ4","+proj=longlat
> +a=3396190 +b=3396190 +towgs84=0,0,0 +no_defs"]*]' *-t_srs* 'GEOGCS["Mars
> 2015 Ographic",DATUM["D_Mars_2015
> ",SPHEROID["Mars_2015_IAU_Ographic",3396190,*169.89444722361*
> ],AUTHORITY["IAU","WGCCRE"]],PRIMEM["Airy-0",0,AUTHORITY["IAU","WGCCRE"]],UNIT["Degree",0.017453292519943295],*EXTENSION["PROJ4","+proj=longlat
> +a=3396190 +b=3376200 +towgs84=0,0,0 +no_defs"]*
> ,AUTHORITY["IAU2015","49901"]]'
>
> 0 70.2153180967239 17669.7044292935
>
> conclusion : the latitude changes, much better but is it correct ?
>
> 6/ Even's tests
> $ cs2cs -f "%.8f" +proj=longlat +a=3396190 +b=3396190 +towgs84=0,0,0 +to
> \
>                   +proj=longlat +a=3396190 +b=3376200 +towgs84=0,0,0
> 2 49 0
> 2.00000000      49.33354110 11429.20699246
>
>
> *With PROJ5*
> $ cct +proj=pipeline +step +proj=geoc +inv +a=3396190 +b=3376200
> 2 49 0
>   2.0000000000   49.3346654289        0.0000           inf
>
> Conclusion : PROJ5 abd PROJ4 give different results. It seems the result
> of PROJ5 is better because of the third value in the result. It means
> towgs84=0,0,0 is not enough to get ographic coordinates from ocentric
> coordinates
>
> The current problem is that a lot of SIG softwares use PROJ4 (mapserver,
> gdal, QGIS). For instance QGIS uses Mars2000 CRS  with the following proj4
> string *+proj=longlat +a=3396190 +b=3396190 **+no_defs*
> In my case, my data is projected but with an ocentric datum. It means when
> I think to get a ographic latitude, I get an ocentric latitude.
>
> Is there a way to provide a patch to PROJ4 the time PROJ5 is released with
> the stack gdal/mapserver ?
>
> Thanks a lot,
> Jean-Christophe
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20180822/842987f0/attachment.html>

From knudsen.thomas at gmail.com  Wed Aug 22 23:13:31 2018
From: knudsen.thomas at gmail.com (Thomas Knudsen)
Date: Thu, 23 Aug 2018 08:13:31 +0200
Subject: [Proj] Some tests with proj4
In-Reply-To: <CAH0YoEPQ+9WZLJ11nAQa8p3GzZc3+e4w94HTkRWpkM5jTcopPA@mail.gmail.com>
References: <CALG0g_EaUv8qR3VahCh44HrrH4ZxrCRzD2O2O92ckn0JfxUZVQ@mail.gmail.com>
	<CALG0g_GKJ5Fy9-ROxau70wuf+abbQMo2WSeY2bJ6+S3AiB-OrA@mail.gmail.com>
	<CAH0YoEPQ+9WZLJ11nAQa8p3GzZc3+e4w94HTkRWpkM5jTcopPA@mail.gmail.com>
Message-ID: <CAH0YoEOwQnXD-jakJ2n8dUCfCYFCssDkLipbK5zgiTx6h_969A@mail.gmail.com>

Rethinking, I realize that this is probably not what you want, since the
height coordinate will then be referred to the spherical reference, rather
than the ellipsoidal (hence the 1000 m height in the first example, growing
to 12429 m, when reckoned from the ellipsoid).

Any better suggestions?


Den ons. 22. aug. 2018 kl. 17.26 skrev Thomas Knudsen <
knudsen.thomas at gmail.com>:

>
> Hello Jean-Christophe,
>
> No, the result you get from cct is not strictly correct in a 3D world. The
> problem is that proj=geoc calls the 4D API function
> proj_geocentric_latitude(), which is copied directly from code in the
> original pj_fwd / pj_inv code and reflects the 2D/cartographic origin of
> PROJ.
>
> proj_geocentric_latitude() works correctly (I believe) *** but only on the
> surface of the ellipsoid ***.
>
> In a true 3D world, the planetocentric latitude should converge toward the
> planetographical as the height grows. But the proj=geoc implementation
> currently ignores the height entirely.
>
> I think you will get what you expect if you do as follows:
>
> cct +proj=pipeline +step +proj=cart +R=3396190 +step +proj=cart +inv
> +a=3396190 +b=3376200
>
> i.e. first convert your planetocentric coordinates to 3D cartesian, using
> a spherical planet model, then convert back to planetographical coordinates
> using the proper ellipsoidal model.
>
> At least in this case the two latitudes converge as the height grows:
>
> echo 2 49 1e3 0 | cct ...
>   2.0000000000 49.3334430922  12429.1901 0.0000
>
> echo 2 49 1e12 0 | cct ...
>   2.0000000000   49.0000011347  1000000011372.7307 0.0000
>
> /Thomas
>
> Den ons. 22. aug. 2018 kl. 13.11 skrev Jean-Christophe Malapert <
> jcmalapert at gmail.com>:
>
>>
>> Hi Kristian
>>
>> Back to my proj4/gdal problem that I have posted on the proj4 mailing list
>>
>> I did some tests  and I woud like to share them with you
>>
>> 1/ I took a pixel coordinate on meters on my map (this is equirecangular
>> projection with a ocentric datum) and I asked to transform in (long,lat)
>> with a ocentric datum
>> echo "-4025114 2971144" | gdaltransform *-s_srs* 'PROJCS["Mars Simple
>> Cylindrical (Ellipse,
>> clon=0)",GEOGCS["GCS_Mars_2000_Sphere",DATUM["D_Mars_2000_Sphere",SPHEROID["Mars_2000_IAU_IAG_Sphere
>> ",3396190,*0*
>> ]],PRIMEM["Airy-0",0],UNIT["degree",0.0174532925199433]],PROJECTION["Equirectangular"],PARAMETER["latitude_of_origin",0],PARAMETER["central_meridian",0],PARAMETER["standard_parallel_1",0],PARAMETER["false_easting",0],PARAMETER["false_northing",0],UNIT["metre",1]]'
>> *-t_srs* 'GEOGCS["Mars 2015 Ocentric",DATUM["D_Mars_2015
>> ",SPHEROID["Mars_2015_IAU_Ocentric",3396190,*0*
>> ],AUTHORITY["IAU","WGCCRE"]],PRIMEM["Airy-0",0,AUTHORITY["IAU","WGCCRE"]],UNIT["Degree",0.017453292519943295],AUTHORITY["IAU2015","49900"]]'
>>
>> -67.9061078028676 50.1249964005599 0
>>
>> 2/ Same request but I want to ographic CRS as output
>>
>> echo "-4025114 2971144" | gdaltransform *-s_srs* 'PROJCS["Mars Simple
>> Cylindrical (Ellipse,
>> clon=0)",GEOGCS["GCS_Mars_2000_Sphere",DATUM["D_Mars_2000_Sphere",SPHEROID["Mars_2000_IAU_IAG_Sphere
>> ",3396190,0]],PRIMEM["Airy-0",*0*
>> ],UNIT["degree",0.0174532925199433]],PROJECTION["Equirectangular"],PARAMETER["latitude_of_origin",0],PARAMETER["central_meridian",0],PARAMETER["standard_parallel_1",0],PARAMETER["false_easting",0],PARAMETER["false_northing",0],UNIT["metre",1]]'
>> *-t_srs* 'GEOGCS["Mars 2015 Ographic",DATUM["D_Mars_2015
>> ",SPHEROID["Mars_2015_IAU_Ographic",3396190,*169.89444722361*
>> ],AUTHORITY["IAU","WGCCRE"]],PRIMEM["Airy-0",0,AUTHORITY["IAU","WGCCRE"]],UNIT["Degree",0.017453292519943295],AUTHORITY["IAU2015","49901"]]'
>>
>> -67.9061078028676 50.1249964005599 0
>>
>> Conclusion : The result is the same and it is not possible !!! - proj4 is
>> not intialized correctly in GDAL
>>
>> 3/ Same request as 2 but I force the init of proj4 with the EXTENSION
>> parameter
>> echo "-4025114 2971144" | gdaltransform *-s_srs* 'PROJCS["Mars Simple
>> Cylindrical (Ellipse,
>> clon=0)",GEOGCS["GCS_Mars_2000_Sphere",DATUM["D_Mars_2000_Sphere",SPHEROID["Mars_2000_IAU_IAG_Sphere
>> ",3396190,0]],PRIMEM["Airy-0",*0*
>> ],UNIT["degree",0.0174532925199433]],PROJECTION["Equirectangular"],PARAMETER["latitude_of_origin",0],PARAMETER["central_meridian",0],PARAMETER["standard_parallel_1",0],PARAMETER["false_easting",0],PARAMETER["false_northing",0],UNIT["metre",1],*EXTENSION["PROJ4","+proj=eqc
>> +lat_ts=0 +lat_0=0 +lon_0=0 +x_0=0 +y_0=0 +a=3396190 +b=3396190 +units=m
>> +towgs84=0,0,0 +no_defs"]*]' *-t_srs* 'GEOGCS["Mars 2015
>> Ographic",DATUM["D_Mars_2015 ",SPHEROID["Mars_2015_IAU_Ographic",3396190,
>> *169.89444722361*
>> ],AUTHORITY["IAU","WGCCRE"]],PRIMEM["Airy-0",0,AUTHORITY["IAU","WGCCRE"]],UNIT["Degree",0.017453292519943295],*EXTENSION["PROJ4","+proj=longlat
>> +a=3396190 +b=3376200 +towgs84=0,0,0 +no_defs"]*
>> ,AUTHORITY["IAU2015","49901"]]'
>>
>> -67.9061078028676 50.4563269924926 11816.1605372787
>>
>> conclusion : the latitude changes, much better but is it correct ?
>>
>> 4/ tranformation ocentric to ographic sans EXTENSION
>> echo "0 70" | gdaltransform *-s_srs* 'GEOGCS["GCS_Mars_2000_Sphere",DATUM["D_Mars_2000_Sphere",SPHEROID["Mars_2000_IAU_IAG_Sphere
>> ",3396190,*0*]],PRIMEM["Airy-0",0],UNIT["degree",0.0174532925199433]]'
>> *-t_srs* 'GEOGCS["Mars 2015 Ographic",DATUM["D_Mars_2015
>> ",SPHEROID["Mars_2015_IAU_Ographic",3396190,*169.89444722361*
>> ],AUTHORITY["IAU","WGCCRE"]],PRIMEM["Airy-0",0,AUTHORITY["IAU","WGCCRE"]],UNIT["Degree",0.017453292519943295],AUTHORITY["IAU2015","49901"]]'
>>
>> 0 70 0
>>
>> Conclusion : same problem than 1
>>
>> 5/ transformation ocentric to ographic avec EXTENSION
>> echo "0 70" | gdaltransform *-s_srs *'GEOGCS["GCS_Mars_2000_Sphere",DATUM["D_Mars_2000_Sphere",SPHEROID["Mars_2000_IAU_IAG_Sphere
>> ",3396190,*0*]],PRIMEM["Airy-0",0],UNIT["degree",0.0174532925199433],*EXTENSION["PROJ4","+proj=longlat
>> +a=3396190 +b=3396190 +towgs84=0,0,0 +no_defs"]*]' *-t_srs* 'GEOGCS["Mars
>> 2015 Ographic",DATUM["D_Mars_2015
>> ",SPHEROID["Mars_2015_IAU_Ographic",3396190,*169.89444722361*
>> ],AUTHORITY["IAU","WGCCRE"]],PRIMEM["Airy-0",0,AUTHORITY["IAU","WGCCRE"]],UNIT["Degree",0.017453292519943295],*EXTENSION["PROJ4","+proj=longlat
>> +a=3396190 +b=3376200 +towgs84=0,0,0 +no_defs"]*
>> ,AUTHORITY["IAU2015","49901"]]'
>>
>> 0 70.2153180967239 17669.7044292935
>>
>> conclusion : the latitude changes, much better but is it correct ?
>>
>> 6/ Even's tests
>> $ cs2cs -f "%.8f" +proj=longlat +a=3396190 +b=3396190 +towgs84=0,0,0 +to
>> \
>>                   +proj=longlat +a=3396190 +b=3376200 +towgs84=0,0,0
>> 2 49 0
>> 2.00000000      49.33354110 11429.20699246
>>
>>
>> *With PROJ5*
>> $ cct +proj=pipeline +step +proj=geoc +inv +a=3396190 +b=3376200
>> 2 49 0
>>   2.0000000000   49.3346654289        0.0000           inf
>>
>> Conclusion : PROJ5 abd PROJ4 give different results. It seems the result
>> of PROJ5 is better because of the third value in the result. It means
>> towgs84=0,0,0 is not enough to get ographic coordinates from ocentric
>> coordinates
>>
>> The current problem is that a lot of SIG softwares use PROJ4 (mapserver,
>> gdal, QGIS). For instance QGIS uses Mars2000 CRS  with the following proj4
>> string *+proj=longlat +a=3396190 +b=3396190 **+no_defs*
>> In my case, my data is projected but with an ocentric datum. It means
>> when I think to get a ographic latitude, I get an ocentric latitude.
>>
>> Is there a way to provide a patch to PROJ4 the time PROJ5 is released
>> with the stack gdal/mapserver ?
>>
>> Thanks a lot,
>> Jean-Christophe
>> _______________________________________________
>> Proj mailing list
>> Proj at lists.maptools.org
>> http://lists.maptools.org/mailman/listinfo/proj
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20180823/410aab69/attachment.html>

From elmir.jagudin at gmail.com  Thu Aug 23 01:41:39 2018
From: elmir.jagudin at gmail.com (Elmir Jagudin)
Date: Thu, 23 Aug 2018 10:41:39 +0200
Subject: [Proj] converting WGS84/ETRS89 to ITM/OSGM15
In-Reply-To: <84D945F3-8AEF-4287-87A3-E509541B9DC5@ign.fr>
References: <CAFaYjoQoRyJH+wNkyAgr=_vOrOVJSyZ8VJ0z3J13DrvB1vOSVQ@mail.gmail.com>
	<84D945F3-8AEF-4287-87A3-E509541B9DC5@ign.fr>
Message-ID: <CAFaYjoREFms0gTGH86tB=Eu48PGWsB18NpKhaziA-Sqjp5P2Mg@mail.gmail.com>

On Wed, Aug 22, 2018 at 12:12 PM Alain Orsoni <Alain.Orsoni at ign.fr> wrote:

> Hi,
>
> Trying to answer with my knowledge :
> On my computer I can do this transform in this way
>
> echo -6.6 53 21 | cs2cs +init=epsg:4326 +to +proj=tmerc +lat_0=53.5
> +lon_0=-8 +k=0.99982 +x_0=600000 +y_0=750000 +ellps=GRS80
> +towgs84=0,0,0,0,0,0,0 +geoidgrids=egm08_25_rg.gtx +units=m +no_defs
> 693972.63 695281.52 -35.37
>
> The result is a little bit different from what you expect. Maybe because I
> use egm08 and you expect another Geoid model.
>

Aha, cool. This looks like the right path for me.

Yes, the OSGM15 is probably using slightly different geoid model. I'll try
to create gtx file for OSGM15.

If anyone is curious, there is a document the describes OSGM15 here:
https://www.ordnancesurvey.co.uk/business-and-government/help-and-support/navigation-technology/os-net/formats-for-developers.html

/Elmir
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20180823/6b866ad7/attachment.html>

From elmir.jagudin at gmail.com  Thu Aug 23 01:45:27 2018
From: elmir.jagudin at gmail.com (Elmir Jagudin)
Date: Thu, 23 Aug 2018 10:45:27 +0200
Subject: [Proj] converting WGS84/ETRS89 to ITM/OSGM15
In-Reply-To: <6449208.ddraOsTcAU@even-i700>
References: <CAFaYjoQoRyJH+wNkyAgr=_vOrOVJSyZ8VJ0z3J13DrvB1vOSVQ@mail.gmail.com>
	<84D945F3-8AEF-4287-87A3-E509541B9DC5@ign.fr>
	<6449208.ddraOsTcAU@even-i700>
Message-ID: <CAFaYjoQdjZZ7mJ1ddkqcqyby_zzZoJo8A_8+03EgZgvewVHDRA@mail.gmail.com>

On Wed, Aug 22, 2018 at 12:27 PM Even Rouault <even.rouault at spatialys.com>
wrote:

> Alain,
>
> > Doing the same way you try
> > this (with proj program) I can’t get the correct use of the GeoidGrid.
> > Why????
>
> proj is the historical command line utility at the time where the library
> only
> handled cartographic projections, but not datum transformations hence it
> ignores +towgs84, +nadgrids, +geoidgrids. For the later, you need to use
> cs2s
>
> Even
>

Ok, this explains why +geoidgrids never worked.

It's a bit of a pitfall, maybe a warning should be in order?

/Elmir
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20180823/b77ebf65/attachment.html>

From kreve at sdfe.dk  Thu Aug 23 02:53:07 2018
From: kreve at sdfe.dk (Kristian Evers)
Date: Thu, 23 Aug 2018 09:53:07 +0000
Subject: [Proj] Release date of 5.2.0
Message-ID: <0ED09D5A-CDDB-4DC7-B4A2-1A4B2B7C0233@sdfe.dk>

The release of PROJ 5.2.0 is scheduled for September 1st. Looking at the calendar it seems unlikely that I will have enough time to prepare the release (both RC and final). I see two solutions to this: 1) Someone else take care of the release this time or 2) postpone the release until September 15th were I will have better time to prepare the release.

So, will anyone from the PSC volunteer to take a lead on the release this time around? If not I suggest we postpone the release a few weeks.

Let me hear what you think?

/Kristian

From knudsen.thomas at gmail.com  Thu Aug 23 03:22:36 2018
From: knudsen.thomas at gmail.com (Thomas Knudsen)
Date: Thu, 23 Aug 2018 12:22:36 +0200
Subject: [Proj] Release date of 5.2.0
In-Reply-To: <0ED09D5A-CDDB-4DC7-B4A2-1A4B2B7C0233@sdfe.dk>
References: <0ED09D5A-CDDB-4DC7-B4A2-1A4B2B7C0233@sdfe.dk>
Message-ID: <CAH0YoEN2Nw3F85yY4HCDr3aT+y6cijo2nXwFLFTHYLY1ES1reg@mail.gmail.com>

I suggest we postpone a few weeks

tor. d. 23. aug. 2018 11.55 skrev Kristian Evers <kreve at sdfe.dk>:

> The release of PROJ 5.2.0 is scheduled for September 1st. Looking at the
> calendar it seems unlikely that I will have enough time to prepare the
> release (both RC and final). I see two solutions to this: 1) Someone else
> take care of the release this time or 2) postpone the release until
> September 15th were I will have better time to prepare the release.
>
> So, will anyone from the PSC volunteer to take a lead on the release this
> time around? If not I suggest we postpone the release a few weeks.
>
> Let me hear what you think?
>
> /Kristian
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20180823/a6b10555/attachment.html>

From schwehr at gmail.com  Thu Aug 23 06:15:46 2018
From: schwehr at gmail.com (Kurt Schwehr)
Date: Thu, 23 Aug 2018 06:15:46 -0700
Subject: [Proj] Release date of 5.2.0
In-Reply-To: <CAH0YoEN2Nw3F85yY4HCDr3aT+y6cijo2nXwFLFTHYLY1ES1reg@mail.gmail.com>
References: <0ED09D5A-CDDB-4DC7-B4A2-1A4B2B7C0233@sdfe.dk>
	<CAH0YoEN2Nw3F85yY4HCDr3aT+y6cijo2nXwFLFTHYLY1ES1reg@mail.gmail.com>
Message-ID: <CACmBxyvkL+-uRpjpaABDYiEfGeZkUC53vHqWq=CzhrjacRDEwg@mail.gmail.com>

+1 to postpone

On Thu, Aug 23, 2018 at 3:24 AM Thomas Knudsen <knudsen.thomas at gmail.com>
wrote:

> I suggest we postpone a few weeks
>
> tor. d. 23. aug. 2018 11.55 skrev Kristian Evers <kreve at sdfe.dk>:
>
>> The release of PROJ 5.2.0 is scheduled for September 1st. Looking at the
>> calendar it seems unlikely that I will have enough time to prepare the
>> release (both RC and final). I see two solutions to this: 1) Someone else
>> take care of the release this time or 2) postpone the release until
>> September 15th were I will have better time to prepare the release.
>>
>> So, will anyone from the PSC volunteer to take a lead on the release this
>> time around? If not I suggest we postpone the release a few weeks.
>>
>> Let me hear what you think?
>>
>> /Kristian
>> _______________________________________________
>> Proj mailing list
>> Proj at lists.maptools.org
>> http://lists.maptools.org/mailman/listinfo/proj
>>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj



-- 
--
http://schwehr.org
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20180823/0afa65ea/attachment.html>

From huwejames at gmail.com  Thu Aug 23 14:13:58 2018
From: huwejames at gmail.com (Huw James)
Date: Thu, 23 Aug 2018 16:13:58 -0500
Subject: [Proj] Release date of 5.2.0
In-Reply-To: <CACmBxyvkL+-uRpjpaABDYiEfGeZkUC53vHqWq=CzhrjacRDEwg@mail.gmail.com>
References: <0ED09D5A-CDDB-4DC7-B4A2-1A4B2B7C0233@sdfe.dk>
	<CAH0YoEN2Nw3F85yY4HCDr3aT+y6cijo2nXwFLFTHYLY1ES1reg@mail.gmail.com>
	<CACmBxyvkL+-uRpjpaABDYiEfGeZkUC53vHqWq=CzhrjacRDEwg@mail.gmail.com>
Message-ID: <CAMMNKS5eD4Hctkdc2101XTgdNESjA8uOxtLtUn2ai0AMJ4RzkQ@mail.gmail.com>

+2 to postpone, Huw

On Thu, Aug 23, 2018 at 8:17 AM Kurt Schwehr <schwehr at gmail.com> wrote:

> +1 to postpone
>
> On Thu, Aug 23, 2018 at 3:24 AM Thomas Knudsen <knudsen.thomas at gmail.com>
> wrote:
>
>> I suggest we postpone a few weeks
>>
>> tor. d. 23. aug. 2018 11.55 skrev Kristian Evers <kreve at sdfe.dk>:
>>
>>> The release of PROJ 5.2.0 is scheduled for September 1st. Looking at the
>>> calendar it seems unlikely that I will have enough time to prepare the
>>> release (both RC and final). I see two solutions to this: 1) Someone else
>>> take care of the release this time or 2) postpone the release until
>>> September 15th were I will have better time to prepare the release.
>>>
>>> So, will anyone from the PSC volunteer to take a lead on the release
>>> this time around? If not I suggest we postpone the release a few weeks.
>>>
>>> Let me hear what you think?
>>>
>>> /Kristian
>>> _______________________________________________
>>> Proj mailing list
>>> Proj at lists.maptools.org
>>> http://lists.maptools.org/mailman/listinfo/proj
>>>
>> _______________________________________________
>> Proj mailing list
>> Proj at lists.maptools.org
>> http://lists.maptools.org/mailman/listinfo/proj
>
>
>
> --
> --
> http://schwehr.org
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20180823/e5397bb4/attachment.html>

From kreve at sdfe.dk  Mon Aug 27 00:44:19 2018
From: kreve at sdfe.dk (Kristian Evers)
Date: Mon, 27 Aug 2018 07:44:19 +0000
Subject: [Proj] Release date of 5.2.0
In-Reply-To: <CAMMNKS5eD4Hctkdc2101XTgdNESjA8uOxtLtUn2ai0AMJ4RzkQ@mail.gmail.com>
References: <0ED09D5A-CDDB-4DC7-B4A2-1A4B2B7C0233@sdfe.dk>
	<CAH0YoEN2Nw3F85yY4HCDr3aT+y6cijo2nXwFLFTHYLY1ES1reg@mail.gmail.com>
	<CACmBxyvkL+-uRpjpaABDYiEfGeZkUC53vHqWq=CzhrjacRDEwg@mail.gmail.com>
	<CAMMNKS5eD4Hctkdc2101XTgdNESjA8uOxtLtUn2ai0AMJ4RzkQ@mail.gmail.com>
Message-ID: <2E885BB293AF0448A0181138489E9A0EAEE726C0@S000014.PROD.SITAD.DK>

All right, I’m postponing the release to September 15 then [0] . Thanks for you input.

/Kristian

[0] https://github.com/OSGeo/proj.4/milestone/10

Fra: proj-bounces at lists.maptools.org <proj-bounces at lists.maptools.org> På vegne af Huw James
Sendt: 23. august 2018 23:14
Til: PROJ.4 and general Projections Discussions <proj at lists.maptools.org>
Emne: Re: [Proj] Release date of 5.2.0

+2 to postpone, Huw

On Thu, Aug 23, 2018 at 8:17 AM Kurt Schwehr <schwehr at gmail.com<mailto:schwehr at gmail.com>> wrote:
+1 to postpone

On Thu, Aug 23, 2018 at 3:24 AM Thomas Knudsen <knudsen.thomas at gmail.com<mailto:knudsen.thomas at gmail.com>> wrote:
I suggest we postpone a few weeks

tor. d. 23. aug. 2018 11.55 skrev Kristian Evers <kreve at sdfe.dk<mailto:kreve at sdfe.dk>>:
The release of PROJ 5.2.0 is scheduled for September 1st. Looking at the calendar it seems unlikely that I will have enough time to prepare the release (both RC and final). I see two solutions to this: 1) Someone else take care of the release this time or 2) postpone the release until September 15th were I will have better time to prepare the release.

So, will anyone from the PSC volunteer to take a lead on the release this time around? If not I suggest we postpone the release a few weeks.

Let me hear what you think?

/Kristian
_______________________________________________
Proj mailing list
Proj at lists.maptools.org<mailto:Proj at lists.maptools.org>
http://lists.maptools.org/mailman/listinfo/proj
_______________________________________________
Proj mailing list
Proj at lists.maptools.org<mailto:Proj at lists.maptools.org>
http://lists.maptools.org/mailman/listinfo/proj


--
--
http://schwehr.org
_______________________________________________
Proj mailing list
Proj at lists.maptools.org<mailto:Proj at lists.maptools.org>
http://lists.maptools.org/mailman/listinfo/proj
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20180827/51244c06/attachment.html>

From kreve at sdfe.dk  Mon Aug 27 07:58:45 2018
From: kreve at sdfe.dk (Kristian Evers)
Date: Mon, 27 Aug 2018 14:58:45 +0000
Subject: [Proj] OSGeo Annual General Meeting - projects please join
In-Reply-To: <cbeca7ae-2960-2f2a-99ff-944651d1beb6@gatewaygeomatics.com>
References: <6a0876ef-1458-c08e-3c56-989946ae4f49@gatewaygeomatics.com>
	<9bccec9a-4ce2-56ac-815c-6127fc69882c@gatewaygeomatics.com>
	<F2DB9962-92CC-4331-A41F-6635BF0BBA32@sdfe.dk>
	<cbeca7ae-2960-2f2a-99ff-944651d1beb6@gatewaygeomatics.com>
Message-ID: <2E885BB293AF0448A0181138489E9A0EAEE74E93@S000014.PROD.SITAD.DK>

Jeff,

As promised, here is my PROJ report for the OSGeo AGM: https://docs.google.com/presentation/d/1mo5eW0PPOC21hT2Nde6AGc5MPP-WxtfILEF_H_EykR4/edit?usp=sharing

I would like to kindly ask you to include the report in the main AGM presentation (I don't have access) and present it on behalf of the PROJ PSC at the meeting. Please let me know if you need me to clarify anything.

Thank you very much,
Kristian


> -----Oprindelig meddelelse-----
> Fra: proj-bounces at lists.maptools.org <proj-bounces at lists.maptools.org> På
> vegne af Jeff McKenna
> Sendt: 3. august 2018 22:10
> Til: proj at lists.maptools.org
> Emne: Re: [Proj] OSGeo Annual General Meeting - projects please join
> 
> Thanks Kristian.  I'm sure myself or someone else there with
> boots-on-the-ground in Dar can help present your slides there.  -jeff
> 
> 
> 
> On 2018-08-03 5:01 PM, Kristian Evers wrote:
> > Thanks for forwarding this, Jeff.
> >
> > I don’t think anyone from the PROJ PSC is going to be physically present in
> Dar
> > but if necessary I can prepare a few slides or some other form of annual
> report for
> > the board to read. Please let me know what you need.
> >
> > /Kristian
> >
> >> On 3 Aug 2018, at 16:19, Jeff McKenna
> <jmckenna at gatewaygeomatics.com> wrote:
> >>
> >> It would be great to have PROJ make a brief report (2 slides) in Dar for
> >> the AGM (please signup on the wiki page below).
> >>
> >>
> >>
> >> -------- Forwarded Message --------
> >>
> >> Dear OSGeo projects & project officers,
> >>
> >> the OSGeo Annual General Meeting (AGM) is scheduled for Thursday
> morning
> >> August 30 at 8:00-9:00 in Dar Es Salaam (Tansania).
> >>
> >> As Project/Committee officer we ask that you attend, or send a delegate
> >> from your community. The FOSS4G organizers have given us one hour for
> >> the meeting, leaving us each with around 2 mins!
> >>
> >> This update is about your project and community, rather than about your
> >> software. We are interested in how your community is doing, the
> >> opportunities and challenges ahead, and how OSGeo can help.
> >>
> >> The shared slide deck is available here (request edit access if required):
> >>
> >> *
> >>
> https://docs.google.com/presentation/d/1imiG7x09ry7lGvmS15FCVq2Z7yaIC
> Y00fcpXBK27TXY/edit?usp=sharing
> >>
> >> These slides replace the "Annual General Report"
> >> (https://github.com/geotools/geotools/wiki/GeoTools-Annual-Report-
> 2017)
> >> used previously, you may wish to borrow that format for inspiration. You
> >> still can make an annual report page with extended information if you
> >> like and link to it.
> >>
> >> If you are unable to attend we ask that you submit an annual general
> >> report to the board email list and attend an IRC board meeting by
> >> November 2018.
> >>
> >> We are coordinating activities on the OSGeo Wiki
> >> (https://wiki.osgeo.org/wiki/Annual_General_Meeting_2018). Please
> add
> >> your project and name to the wiki if you can attend.
> >>
> >> Best regards
> >>
> >> Astrid Emde (OSGeo Secretary)
> >>
> >>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj

From minshall at acm.org  Wed Aug 29 19:50:35 2018
From: minshall at acm.org (Greg Minshall)
Date: Thu, 30 Aug 2018 05:50:35 +0300
Subject: [Proj] building, testing from git repository -- 'ctest' failures
Message-ID: <25266.1535597435@minshall-apollo.minshall.org>

hi.

sorry if i missed a step in the README files.

i cloned the current git repository, checked out a recent release (i
tried for both 5.1.0 and 5.0.1), followed the instructions in README.md
----
    cd proj
    mkdir build
    cd build
    cmake ..
    cmake --build .
----

i then cloned proj-datumgrid, and pointed the environmental variable
PROJ_LIB in its direction
----
bash minshall-apollo: {1195} ls $PROJ_LIB
BETA2007.gsb    README.DATUMGRID  cmake/        lla/            nzgd2kgrid0005.gsb  stpaul
CMakeLists.txt  TN                conus         north-america/  oceania/
FL              WI                egm96_15.gtx  ntf_r93.gsb     prvi
HOWTORELEASE    WO                europe/       ntv1_can.dat    stgeorge
MD              alaska            hawaii        null            stlrnc
----

then, back in proj.4/build, ran ctest, and came up with lots of
failures.  (i tried various things in proj-datumgrid, such as attempts
at cmake, checking out 1.6, etc., to no avail.)

any thoughts on what i might be doing wrong?  i'm on lubuntu, relatively
recent.  also, for all this, i did *not* run ./autogen.sh, ./configure,
etc.  are they still part of the build process?

one thought: do i need to first do (whatever the cmake equivalent of)
"make install"?  or, do the tests run out of the build directories?

cheers, Greg

p.s.  ctest run, failures:
----
bash minshall-apollo: {1210} ctest
Test project /home/minshall/src/import/osgeo/proj/proj.4/build
      Start  1: test27
 1/29 Test  #1: test27 ...........................   Passed    0.31 sec
      Start  2: test83
 2/29 Test  #2: test83 ...........................   Passed    0.26 sec
      Start  3: testvarious
 3/29 Test  #3: testvarious ......................***Failed    0.08 sec
      Start  4: geodesic-test
 4/29 Test  #4: geodesic-test ....................   Passed    0.00 sec
      Start  5: Builtins
 5/29 Test  #5: Builtins .........................   Passed    0.01 sec
      Start  6: Builtins2
 6/29 Test  #6: Builtins2 ........................***Failed    0.02 sec
      Start  7: Axisswap
 7/29 Test  #7: Axisswap .........................***Failed    0.00 sec
      Start  8: Deformation
 8/29 Test  #8: Deformation ......................***Failed    0.00 sec
      Start  9: Ellipsoid
 9/29 Test  #9: Ellipsoid ........................***Failed    0.00 sec
      Start 10: GDA
10/29 Test #10: GDA ..............................   Passed    0.00 sec
      Start 11: 4D-API-cs2cs-style
11/29 Test #11: 4D-API-cs2cs-style ...............***Failed    0.00 sec
      Start 12: DHDN_ETRS89
12/29 Test #12: DHDN_ETRS89 ......................***Failed    0.00 sec
      Start 13: GIGS-5101.1-jhs
13/29 Test #13: GIGS-5101.1-jhs ..................***Failed    0.00 sec
      Start 14: GIGS-5101.2-jhs
14/29 Test #14: GIGS-5101.2-jhs ..................***Failed    0.00 sec
      Start 15: GIGS-5101.3-jhs
15/29 Test #15: GIGS-5101.3-jhs ..................***Failed    0.00 sec
      Start 16: GIGS-5101.4-jhs-etmerc
16/29 Test #16: GIGS-5101.4-jhs-etmerc ...........***Failed    0.00 sec
      Start 17: GIGS-5102.1
17/29 Test #17: GIGS-5102.1 ......................***Failed    0.00 sec
      Start 18: GIGS-5103.1
18/29 Test #18: GIGS-5103.1 ......................***Failed    0.00 sec
      Start 19: GIGS-5103.2
19/29 Test #19: GIGS-5103.2 ......................***Failed    0.00 sec
      Start 20: GIGS-5103.3
20/29 Test #20: GIGS-5103.3 ......................***Failed    0.00 sec
      Start 21: GIGS-5105.2
21/29 Test #21: GIGS-5105.2 ......................***Failed    0.00 sec
      Start 22: GIGS-5106
22/29 Test #22: GIGS-5106 ........................***Failed    0.00 sec
      Start 23: GIGS-5107
23/29 Test #23: GIGS-5107 ........................***Failed    0.00 sec
      Start 24: GIGS-5109
24/29 Test #24: GIGS-5109 ........................***Failed    0.00 sec
      Start 25: GIGS-5111.1
25/29 Test #25: GIGS-5111.1 ......................***Failed    0.00 sec
      Start 26: GIGS-5112
26/29 Test #26: GIGS-5112 ........................***Failed    0.00 sec
      Start 27: GIGS-5113
27/29 Test #27: GIGS-5113 ........................***Failed    0.00 sec
      Start 28: GIGS-5201
28/29 Test #28: GIGS-5201 ........................***Failed    0.00 sec
      Start 29: GIGS-5208
29/29 Test #29: GIGS-5208 ........................***Failed    0.00 sec

17% tests passed, 24 tests failed out of 29

Total Test time (real) =   0.74 sec

The following tests FAILED:
          3 - testvarious (Failed)
          6 - Builtins2 (Failed)
          7 - Axisswap (Failed)
          8 - Deformation (Failed)
          9 - Ellipsoid (Failed)
         11 - 4D-API-cs2cs-style (Failed)
         12 - DHDN_ETRS89 (Failed)
         13 - GIGS-5101.1-jhs (Failed)
         14 - GIGS-5101.2-jhs (Failed)
         15 - GIGS-5101.3-jhs (Failed)
         16 - GIGS-5101.4-jhs-etmerc (Failed)
         17 - GIGS-5102.1 (Failed)
         18 - GIGS-5103.1 (Failed)
         19 - GIGS-5103.2 (Failed)
         20 - GIGS-5103.3 (Failed)
         21 - GIGS-5105.2 (Failed)
         22 - GIGS-5106 (Failed)
         23 - GIGS-5107 (Failed)
         24 - GIGS-5109 (Failed)
         25 - GIGS-5111.1 (Failed)
         26 - GIGS-5112 (Failed)
         27 - GIGS-5113 (Failed)
         28 - GIGS-5201 (Failed)
         29 - GIGS-5208 (Failed)
Errors while running CTest


From kreve at sdfe.dk  Wed Aug 29 22:53:57 2018
From: kreve at sdfe.dk (Kristian Evers)
Date: Thu, 30 Aug 2018 05:53:57 +0000
Subject: [Proj] building, testing from git repository -- 'ctest' failures
In-Reply-To: <25266.1535597435@minshall-apollo.minshall.org>
References: <25266.1535597435@minshall-apollo.minshall.org>
Message-ID: <5F95EEDC-699E-4E9F-849D-B19E69B0677C@sdfe.dk>

Greg,

There’s a few things at play here and we’ve not done a particularly good job at helping you get started down the right path. The docs omit a lot of what is needed to run a development build.

Your problem is definitely caused by not having the correct files in PROJ_LIB. From the output below it would seem as if you are missing the contents of nad/ in PROJ_LIB. That is, the epsg file and other init-files. You have two options:

1) dump the contents of proj-datumgrid in nad/
2) Copy the files from nad/ to your PROJ_LIB folder alongside the proj-datumgrid files

It should also be noted that the proj-datumgrid repository is not meant to be used in “development mode" (although it probably can). Generally you are safer to just download the most recent proj-datumgrid archives and unpackage them in your PROJ_LIB folder.

I suggest you take a look at the Travis setup for a written out example of how to set up a development version of PROJ: https://github.com/OSGeo/proj.4/blob/master/travis/install.sh

I hope that helps you move on.

/Kristian

On 30 Aug 2018, at 04:50, Greg Minshall <minshall at acm.org<mailto:minshall at acm.org>> wrote:

hi.

sorry if i missed a step in the README files.

i cloned the current git repository, checked out a recent release (i
tried for both 5.1.0 and 5.0.1), followed the instructions in README.md
----
   cd proj
   mkdir build
   cd build
   cmake ..
   cmake --build .
----

i then cloned proj-datumgrid, and pointed the environmental variable
PROJ_LIB in its direction
----
bash minshall-apollo: {1195} ls $PROJ_LIB
BETA2007.gsb    README.DATUMGRID  cmake/        lla/            nzgd2kgrid0005.gsb  stpaul
CMakeLists.txt  TN                conus         north-america/  oceania/
FL              WI                egm96_15.gtx  ntf_r93.gsb     prvi
HOWTORELEASE    WO                europe/       ntv1_can.dat    stgeorge
MD              alaska            hawaii        null            stlrnc
----

then, back in proj.4/build, ran ctest, and came up with lots of
failures.  (i tried various things in proj-datumgrid, such as attempts
at cmake, checking out 1.6, etc., to no avail.)

any thoughts on what i might be doing wrong?  i'm on lubuntu, relatively
recent.  also, for all this, i did *not* run ./autogen.sh, ./configure,
etc.  are they still part of the build process?

one thought: do i need to first do (whatever the cmake equivalent of)
"make install"?  or, do the tests run out of the build directories?

cheers, Greg

p.s.  ctest run, failures:
----
bash minshall-apollo: {1210} ctest
Test project /home/minshall/src/import/osgeo/proj/proj.4/build
     Start  1: test27
1/29 Test  #1: test27 ...........................   Passed    0.31 sec
     Start  2: test83
2/29 Test  #2: test83 ...........................   Passed    0.26 sec
     Start  3: testvarious
3/29 Test  #3: testvarious ......................***Failed    0.08 sec
     Start  4: geodesic-test
4/29 Test  #4: geodesic-test ....................   Passed    0.00 sec
     Start  5: Builtins
5/29 Test  #5: Builtins .........................   Passed    0.01 sec
     Start  6: Builtins2
6/29 Test  #6: Builtins2 ........................***Failed    0.02 sec
     Start  7: Axisswap
7/29 Test  #7: Axisswap .........................***Failed    0.00 sec
     Start  8: Deformation
8/29 Test  #8: Deformation ......................***Failed    0.00 sec
     Start  9: Ellipsoid
9/29 Test  #9: Ellipsoid ........................***Failed    0.00 sec
     Start 10: GDA
10/29 Test #10: GDA ..............................   Passed    0.00 sec
     Start 11: 4D-API-cs2cs-style
11/29 Test #11: 4D-API-cs2cs-style ...............***Failed    0.00 sec
     Start 12: DHDN_ETRS89
12/29 Test #12: DHDN_ETRS89 ......................***Failed    0.00 sec
     Start 13: GIGS-5101.1-jhs
13/29 Test #13: GIGS-5101.1-jhs ..................***Failed    0.00 sec
     Start 14: GIGS-5101.2-jhs
14/29 Test #14: GIGS-5101.2-jhs ..................***Failed    0.00 sec
     Start 15: GIGS-5101.3-jhs
15/29 Test #15: GIGS-5101.3-jhs ..................***Failed    0.00 sec
     Start 16: GIGS-5101.4-jhs-etmerc
16/29 Test #16: GIGS-5101.4-jhs-etmerc ...........***Failed    0.00 sec
     Start 17: GIGS-5102.1
17/29 Test #17: GIGS-5102.1 ......................***Failed    0.00 sec
     Start 18: GIGS-5103.1
18/29 Test #18: GIGS-5103.1 ......................***Failed    0.00 sec
     Start 19: GIGS-5103.2
19/29 Test #19: GIGS-5103.2 ......................***Failed    0.00 sec
     Start 20: GIGS-5103.3
20/29 Test #20: GIGS-5103.3 ......................***Failed    0.00 sec
     Start 21: GIGS-5105.2
21/29 Test #21: GIGS-5105.2 ......................***Failed    0.00 sec
     Start 22: GIGS-5106
22/29 Test #22: GIGS-5106 ........................***Failed    0.00 sec
     Start 23: GIGS-5107
23/29 Test #23: GIGS-5107 ........................***Failed    0.00 sec
     Start 24: GIGS-5109
24/29 Test #24: GIGS-5109 ........................***Failed    0.00 sec
     Start 25: GIGS-5111.1
25/29 Test #25: GIGS-5111.1 ......................***Failed    0.00 sec
     Start 26: GIGS-5112
26/29 Test #26: GIGS-5112 ........................***Failed    0.00 sec
     Start 27: GIGS-5113
27/29 Test #27: GIGS-5113 ........................***Failed    0.00 sec
     Start 28: GIGS-5201
28/29 Test #28: GIGS-5201 ........................***Failed    0.00 sec
     Start 29: GIGS-5208
29/29 Test #29: GIGS-5208 ........................***Failed    0.00 sec

17% tests passed, 24 tests failed out of 29

Total Test time (real) =   0.74 sec

The following tests FAILED:
         3 - testvarious (Failed)
         6 - Builtins2 (Failed)
         7 - Axisswap (Failed)
         8 - Deformation (Failed)
         9 - Ellipsoid (Failed)
        11 - 4D-API-cs2cs-style (Failed)
        12 - DHDN_ETRS89 (Failed)
        13 - GIGS-5101.1-jhs (Failed)
        14 - GIGS-5101.2-jhs (Failed)
        15 - GIGS-5101.3-jhs (Failed)
        16 - GIGS-5101.4-jhs-etmerc (Failed)
        17 - GIGS-5102.1 (Failed)
        18 - GIGS-5103.1 (Failed)
        19 - GIGS-5103.2 (Failed)
        20 - GIGS-5103.3 (Failed)
        21 - GIGS-5105.2 (Failed)
        22 - GIGS-5106 (Failed)
        23 - GIGS-5107 (Failed)
        24 - GIGS-5109 (Failed)
        25 - GIGS-5111.1 (Failed)
        26 - GIGS-5112 (Failed)
        27 - GIGS-5113 (Failed)
        28 - GIGS-5201 (Failed)
        29 - GIGS-5208 (Failed)
Errors while running CTest
_______________________________________________
Proj mailing list
Proj at lists.maptools.org<mailto:Proj at lists.maptools.org>
http://lists.maptools.org/mailman/listinfo/proj

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20180830/addbfcba/attachment.html>

From minshall at acm.org  Fri Aug 31 07:44:16 2018
From: minshall at acm.org (Greg Minshall)
Date: Fri, 31 Aug 2018 17:44:16 +0300
Subject: [Proj] building, testing from git repository -- 'ctest' failures
In-Reply-To: Your message of "Thu, 30 Aug 2018 05:53:57 +0000."
	<5F95EEDC-699E-4E9F-849D-B19E69B0677C@sdfe.dk>
Message-ID: <8518.1535726656@minshall-apollo.minshall.org>

Kristian,

thanks.  combining the contents of proj-datum and proj.4/nad in my
$PROJ_LIB fixed all but one of the failures.
----
The following tests FAILED:
         12 - DHDN_ETRS89 (Failed)
Errors while running CTest
----
i'm not sure what this is, but i'm satisfied i'm basically running.
whereas "make check" apparently runs without errors.  (i'll look into
this last error when i'm able.)

thanks for the pointer -- now i've looked at install.sh.  i'll try to
rely on it for the future.

cheers, Greg


