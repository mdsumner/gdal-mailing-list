From pal.kristensen at statkart.no  Wed Apr  1 00:45:33 2009
From: pal.kristensen at statkart.no (paalkr)
Date: Wed, 1 Apr 2009 00:45:33 -0700 (PDT)
Subject: [Proj] Kruger 1912 inverse formulas are faster than I claimed.
In-Reply-To: <FAF6E56B26D2044696772EBE89B15351F27A2E@posty.carmenta.se>
References: <FAF6E56B26D2044696772EBE89B15351F2750E@posty.carmenta.se>
	<FAF6E56B26D2044696772EBE89B15351F27A2E@posty.carmenta.se>
Message-ID: <1238571933952-2567670.post@n2.nabble.com>


Hi!

The work you have done regarding higher accuracy i very interesting. I work in the Norwegian Mapping and Cadastre Authority, and as you described we tend to use UTM zone 33 for all of Norway when building national wide databases. Because of this I would like to try out the enhancements you have worked on. Is there any pre-build binaries available of proj4 that contains the fix? Is the source code available so that I can compile it myself? Is it possible to incorporate this fix in the latest proj4 release, or does it depend on a specific revision number?

Regards,
Pål Kristensen



Hello,

I must apologize.  My timings for the Krüger 
formulas in the inverse direction were wrong.  

It's embarassing, but when I generated a lot of test 
points, I did not realize that they could get latitudes 
far outside the range of -90 to 90.  I am not sure why 
this affected my computations so much (since they are 
not iterative), but it seems to have made the computation 
about 10 times longer.

I have also managed to do a few real improvements.  
For example, it turned out that calling sinh(t) and cosh(t), 
on the same t, was inefficient on my computer.  It was much 
better to use the definition and write 

	double exp_t = exp(t);
	double exp_minust = 1.0 / exp_t;
	double sinh_t = 0.5 * (exp_t - exp_minust); 
	double cosh_t = 0.5 * (exp_t + exp_minust); 

After these and a few other minor improvements, my current timings are

                forward  inverse 
  Snyder/tmerc    220      675
  Krüger formulas 625      625

where the numbers give the milliseconds needed to process a million points.
So the Krüger inverse is not slower than tmerc. In the forward direction,
Krüger is around 3 times slower than tmerc.  

So, after I have seen these figures, I do not see much need for a 
compromise algorithm.

A clever algorithm could call the tmerc forward where this is accurate 
enough for the application, perhaps out to 6 or 9 longitude degrees 
from the central meridian.  Elsewhere, it would use the Krüger forward. 
In the inverse direction, the algorithm could just as well use 
Krüger formulas everywhere. 

About the area of usefulness for the Krüger formulas, I do not see 
any troubles around the north and south poles.  The worst error 
I found was that the inverse rounded a latitude, which should 
be 89.999999401 or 6.7 cm from the pole, was rounded to 90.0 exactly. 

The Krüger formulas do not work near the "west pole" and "east pole",
though (the points on the equator, 90 degrees from the central meridian.) 
I am not sure yet exactly how near you can go.  As a rough estimate,
I would say that the formulas work at least to 6000 km from the central 
meridian and its antipodal meridian (true distance, not projected 
distance), but I have not done enough tests yet. 

I am sorry that I asked a question based on faulty data. 
(I just hope that my figures are right this time!) 

--
Mikael Rittri
Carmenta AB
Box 11354
SE-404 28 Göteborg
Visitors: Sankt Eriksgatan 5
SWEDEN
Tel: +46-31-775 57 37
Mob: +46-703-60 34 07 
mikael.rittri at carmenta.com
www.carmenta.com
-----Original Message-----
From: proj-bounces at lists.maptools.org [mailto:proj-bounces at lists.maptools.org] On Behalf Of Mikael Rittri
Sent: den 22 maj 2008 11:04
To: proj at lists.maptools.org
Subject: [Proj] Transverse Mercator algorithm with good accuracy/speedtrade-off? 

[--- Text deleted ---] 

I have implemented the Swedish proposal[*], which was not too difficult, and I got it to agree with Oscar van Vlijmen's test point. But my implementation is about 4.5 times slower than tmerc in the forward direction, and about 15 times slower in the inverse direction. I doubt that I can improve the speed much. 

[--- Text deleted ---] 

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj



-- 
View this message in context: http://n2.nabble.com/Transverse-Mercator-algorithm-with-good-accuracy-speed-trade-off--tp2064100p2567670.html
Sent from the PROJ.4 mailing list archive at Nabble.com.



From knudsen.thomas at gmail.com  Wed Apr  1 01:02:36 2009
From: knudsen.thomas at gmail.com (Thomas Knudsen)
Date: Wed, 1 Apr 2009 10:02:36 +0200
Subject: [Proj] Kruger 1912 inverse formulas are faster than I claimed.
In-Reply-To: <1238571933952-2567670.post@n2.nabble.com>
References: <FAF6E56B26D2044696772EBE89B15351F2750E@posty.carmenta.se>
	<FAF6E56B26D2044696772EBE89B15351F27A2E@posty.carmenta.se>
	<1238571933952-2567670.post@n2.nabble.com>
Message-ID: <7e6835790904010102n3d2e2128yc137dbbdced01083@mail.gmail.com>

Pål & Mikael,

Are you aware of Karsten Engsager's wide-range, high precision
implementation ("etmerc" in Gerald's libproj - don't know whether it has
been entered into Frank's yet). Gerald did some timing testing, which was
posted to the list about a year ago.

Engsager's implementation was considered amazingly accurate for an insane
range of input values - and still very fast (although a bit slower than the
Snyder "tmerc").

Regards
Thomas Knudsen, National Survey and Cadastre - Denmark (KMS)


2009/4/1 paalkr <pal.kristensen at statkart.no>

>
> Hi!
>
> The work you have done regarding higher accuracy i very interesting. I work
> in the Norwegian Mapping and Cadastre Authority, and as you described we
> tend to use UTM zone 33 for all of Norway when building national wide
> databases. Because of this I would like to try out the enhancements you have
> worked on. Is there any pre-build binaries available of proj4 that contains
> the fix? Is the source code available so that I can compile it myself? Is it
> possible to incorporate this fix in the latest proj4 release, or does it
> depend on a specific revision number?
>
> Regards,
> Pål Kristensen
>
>
>
> Hello,
>
> I must apologize.  My timings for the Krüger
> formulas in the inverse direction were wrong.
>
> It's embarassing, but when I generated a lot of test
> points, I did not realize that they could get latitudes
> far outside the range of -90 to 90.  I am not sure why
> this affected my computations so much (since they are
> not iterative), but it seems to have made the computation
> about 10 times longer.
>
> I have also managed to do a few real improvements.
> For example, it turned out that calling sinh(t) and cosh(t),
> on the same t, was inefficient on my computer.  It was much
> better to use the definition and write
>
>        double exp_t = exp(t);
>        double exp_minust = 1.0 / exp_t;
>        double sinh_t = 0.5 * (exp_t - exp_minust);
>        double cosh_t = 0.5 * (exp_t + exp_minust);
>
> After these and a few other minor improvements, my current timings are
>
>                forward  inverse
>  Snyder/tmerc    220      675
>  Krüger formulas 625      625
>
> where the numbers give the milliseconds needed to process a million points.
> So the Krüger inverse is not slower than tmerc. In the forward direction,
> Krüger is around 3 times slower than tmerc.
>
> So, after I have seen these figures, I do not see much need for a
> compromise algorithm.
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20090401/8a3349c7/attachment.html>

From ckarney at sarnoff.com  Wed Apr  1 03:39:11 2009
From: ckarney at sarnoff.com (Charles Karney)
Date: Wed, 01 Apr 2009 06:39:11 -0400
Subject: [Proj] Geodesics on Saturn's moons
Message-ID: <ssr63hoaca8.fsf@petrel.petrel.org>

I've updated my geodesic routines.  For documentation go to

    http://charles.karney.info/geographic/geodesic.html

The code itself (C++ classes and the Geod utility) is available at

    http://charles.karney.info/geographic

The main changes are:

    * code has been sped up modestly (about 25-30%) by trimming the
      orders of the series used and by improving the starting guesses
      for Newton's method for the inverse problem.

    * a prolate spheroid can be specified by a negative reciprocal
      flattening.

    * the Geod utility accepts the following new options (type Geod -h,
      for details):
      -e a r, to set the ellipsoid parameters,
      -b, to report azi2 as a back azimuth,
      -a, to accept and report distances in terms of arc length on the
          auxiliary sphere.

Example: to determine a geodesic for a pair of points on Tethys, one of
Saturn's moons (which is prolate on account of tidal forces?), do

    echo 30N 0E 28S 180W | ./Geod -e 529300 -47.7 -i -p 0
=>
    44.80204 136.31245 1660275

Still to do:

    * More documentation (probably at least a month off)
    * More thorough analysis of Newton's method for inverse problem

-- 
Charles Karney <ckarney at sarnoff.com>
Sarnoff Corporation, Princeton, NJ 08543-5300

URL: http://charles.karney.info
Tel: +1 609 734 2312
Fax: +1 609 734 2662


From support.mn at elisanet.fi  Wed Apr  1 04:09:55 2009
From: support.mn at elisanet.fi (support.mn at elisanet.fi)
Date: Wed, 1 Apr 2009 14:09:55 +0300 (EEST)
Subject: [Proj] Some questions
Message-ID: <11905962.621481238584196322.JavaMail.support.mn@elisanet.fi>

Hello,

here are some questions to the proj.4 list.

1) What I have understood, the LibProj is an updated projection package?
Is there any plan to integrate this into the Proj.4 or is it too different for that
purpose. End users would of coures like to have more and more projections
and inverses available. Maybe some time in the future?

2) The ellipsoid question. How was the double ellipsoid case solved.. or
will it be of any error source? I am assuming that if the datum shift ellipsoid
is different than the original one, the error will be anyway too small to have
any practical meaning? And so it does not matter which ellipsoid is used
for the datum shift since all the ellipsoids are almost the same... but sure
the numbers will differ.

Regards: Janne / MNS Support



From Mikael.Rittri at carmenta.com  Wed Apr  1 05:19:38 2009
From: Mikael.Rittri at carmenta.com (Mikael Rittri)
Date: Wed, 1 Apr 2009 14:19:38 +0200
Subject: [Proj] Kruger 1912 inverse formulas are faster than I claimed.
In-Reply-To: <1238571933952-2567670.post@n2.nabble.com>
References: <FAF6E56B26D2044696772EBE89B15351F2750E@posty.carmenta.se><FAF6E56B26D2044696772EBE89B15351F27A2E@posty.carmenta.se>
	<1238571933952-2567670.post@n2.nabble.com>
Message-ID: <FAF6E56B26D2044696772EBE89B15351017E8333@posty.carmenta.se>

Hello Pål,

my own work is now implemented in Carmenta Engine, which is a 
commercial GIS toolkit (http://www.carmenta.com/products/carmenta-engine).

As Thomas Knudsen said, Gerald Evenden has now implemented three
wide-accuracy Transverse Mercator algorithms in his libproj4. 
These are 
   ftmerc (French algorithm), 
   ktmerc (Swedish algorithm, almost the same as a Finnish algorithm), 
   etmerc (Engsager's Danish algorithm). 
I have read about them in the manual, but I haven't tried them.
The libproj4 can be found here: http://members.verizon.net/~vze2hc4d/proj4 

TK> ...don't know whether it has been entered into Frank's yet). 

I don't know, either. 

For the ultimate overview of Transverse Mercator algorithms, 
see Charles Karney's post from Sep 2008, 
http://lists.maptools.org/pipermail/proj/2008-September/003746.html ,
as well as the documentation of his GeographicLib 
(http://charles.karney.info/geographic).  This library also 
provides a wide-accuracy TM algorithm.  Not to mention his global-
accuracy TM algorithm, which has errors less than 8 nanometers.
Now, that's what I call amazing accuracy. 

However, any of the wide-accuracy TM algorithms should be more than
enough for Norway.  My understanding is that these give millimeter
accuracy to at least 40 degrees of arc distance (not degrees 
of longitude) away from the central meridian. (Well, depending 
on the number of terms used in the series expansion, etc.)

Best regards,

--
Mikael Rittri
Carmenta AB
Box 11354
SE-404 28 Göteborg
Visitors: Sankt Eriksgatan 5
SWEDEN
Tel: +46-31-775 57 37
Mob: +46-703-60 34 07 
mikael.rittri at carmenta.com
www.carmenta.com

-----Original Message-----
From: proj-bounces at lists.maptools.org [mailto:proj-bounces at lists.maptools.org] On Behalf Of paalkr
Sent: den 1 april 2009 09:46
To: proj at lists.maptools.org
Subject: Re: [Proj] Kruger 1912 inverse formulas are faster than I claimed.


Hi!

The work you have done regarding higher accuracy i very interesting. I work in the Norwegian Mapping and Cadastre Authority, and as you described we tend to use UTM zone 33 for all of Norway when building national wide databases. Because of this I would like to try out the enhancements you have worked on. Is there any pre-build binaries available of proj4 that contains the fix? Is the source code available so that I can compile it myself? Is it possible to incorporate this fix in the latest proj4 release, or does it depend on a specific revision number?

Regards,
Pål Kristensen



Hello,

I must apologize.  My timings for the Krüger formulas in the inverse direction were wrong.  

It's embarassing, but when I generated a lot of test points, I did not realize that they could get latitudes far outside the range of -90 to 90.  I am not sure why this affected my computations so much (since they are not iterative), but it seems to have made the computation about 10 times longer.

I have also managed to do a few real improvements.  
For example, it turned out that calling sinh(t) and cosh(t), on the same t, was inefficient on my computer.  It was much better to use the definition and write 

	double exp_t = exp(t);
	double exp_minust = 1.0 / exp_t;
	double sinh_t = 0.5 * (exp_t - exp_minust); 
	double cosh_t = 0.5 * (exp_t + exp_minust); 

After these and a few other minor improvements, my current timings are

                forward  inverse 
  Snyder/tmerc    220      675
  Krüger formulas 625      625

where the numbers give the milliseconds needed to process a million points.
So the Krüger inverse is not slower than tmerc. In the forward direction, Krüger is around 3 times slower than tmerc.  

So, after I have seen these figures, I do not see much need for a compromise algorithm.

A clever algorithm could call the tmerc forward where this is accurate enough for the application, perhaps out to 6 or 9 longitude degrees from the central meridian.  Elsewhere, it would use the Krüger forward. 
In the inverse direction, the algorithm could just as well use Krüger formulas everywhere. 

About the area of usefulness for the Krüger formulas, I do not see any troubles around the north and south poles.  The worst error I found was that the inverse rounded a latitude, which should be 89.999999401 or 6.7 cm from the pole, was rounded to 90.0 exactly. 

The Krüger formulas do not work near the "west pole" and "east pole", though (the points on the equator, 90 degrees from the central meridian.) I am not sure yet exactly how near you can go.  As a rough estimate, I would say that the formulas work at least to 6000 km from the central meridian and its antipodal meridian (true distance, not projected distance), but I have not done enough tests yet. 

I am sorry that I asked a question based on faulty data. 
(I just hope that my figures are right this time!) 

--
Mikael Rittri
Carmenta AB
Box 11354
SE-404 28 Göteborg
Visitors: Sankt Eriksgatan 5
SWEDEN
Tel: +46-31-775 57 37
Mob: +46-703-60 34 07
mikael.rittri at carmenta.com
www.carmenta.com
-----Original Message-----
From: proj-bounces at lists.maptools.org [mailto:proj-bounces at lists.maptools.org] On Behalf Of Mikael Rittri
Sent: den 22 maj 2008 11:04
To: proj at lists.maptools.org
Subject: [Proj] Transverse Mercator algorithm with good accuracy/speedtrade-off? 

[--- Text deleted ---] 

I have implemented the Swedish proposal[*], which was not too difficult, and I got it to agree with Oscar van Vlijmen's test point. But my implementation is about 4.5 times slower than tmerc in the forward direction, and about 15 times slower in the inverse direction. I doubt that I can improve the speed much. 

[--- Text deleted ---] 

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj



--
View this message in context: http://n2.nabble.com/Transverse-Mercator-algorithm-with-good-accuracy-speed-trade-off--tp2064100p2567670.html
Sent from the PROJ.4 mailing list archive at Nabble.com.

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj


From ckarney at Sarnoff.com  Wed Apr  1 05:27:27 2009
From: ckarney at Sarnoff.com (Karney, Charles)
Date: Wed, 1 Apr 2009 08:27:27 -0400
Subject: [Proj] Kruger 1912 inverse formulas are faster than I claimed.
In-Reply-To: <1238571933952-2567670.post@n2.nabble.com>
References: <FAF6E56B26D2044696772EBE89B15351F2750E@posty.carmenta.se>
	<FAF6E56B26D2044696772EBE89B15351F27A2E@posty.carmenta.se>,
	<1238571933952-2567670.post@n2.nabble.com>
Message-ID: <91F640D26AB8E54982706321A514CA264E86364C16@MALIBU.sarnoff.internal>

I have code (not part of libproj) which implements the transverse
Mercator projection by the following methods:

    * Krueger series of order 6 (but the order can be selected in [4,8]
      at compile time);
    * "exact" method (Thompson and Lee) in terms of elliptic functions.

These routines also compute the convergence and scale of the projection.
For documentation go to

    http://charles.karney.info/geographic/transversemercator.html

The code itself (C++ classes and a utility, TransverseMercatorTest, for
testing the two implementations) is available at

    http://charles.karney.info/geographic

The exact method is accurate to 8 nm everywhere and allows the accuracy
of approximate methods to be measured.  I find that the 6th order
Krueger method is accurate to 5 nm, within 4200 km (about 35 arc
degrees) of the central meridian.  (Obviously, I had to use a high
precision version of the exact method to make this determination.)

The errors in the Krueger method are primarily a function of distance
from the meridian (not longitude); hence there's no penalty for
countries at high latitudes.

My focus has mostly been on accuracy over speed, so I make no claims on
how fast these routines are beyond the following:

    * the exact routines are about 4.5 times slower than the 6th-order
      series;
    * the speed of the series solution is not very sensitive to its
      order.

--
Charles Karney <ckarney at sarnoff.com>
Sarnoff Corporation, Princeton, NJ 08543-5300

URL: http://charles.karney.info
Tel: +1 609 734 2312
Fax: +1 609 734 2662


From Stefan.Ziegler at bd.so.ch  Wed Apr  1 05:41:13 2009
From: Stefan.Ziegler at bd.so.ch (Ziegler Stefan)
Date: Wed, 1 Apr 2009 14:41:13 +0200
Subject: [Proj] Problems using grid shift files
Message-ID: <H00002ea0485ea65.1238589672.srsofaioi6145.ktso.ch@MHS>

Hi

thanks for your answers and sorry for not replying for approx. 2 months.
I will now spend some time on my problems with grid files. I thought
first that the shift grid files can be used for any reprojection (eg.
21781 to 32632). But it's only usable for one specific reprojection
(defined in the file header). The reprojection is more an equalization
than a "simple" reprojection since the old reference frame (CH1903/LV03)
is inaccurate. By adding the +nadgrid parameter I'm able to reproject
correctly only to one reference system. Reprojections to other systems
are wrong. Is there a way to tell proj4 that it only considers the grid
file for one system?

My intention is to use the grid file for the reprojection of large
raster dataset (aerial images) in web mapping services. I can reproject
the whole dataset statically but this approach doubles the place
requirement :( (~300 gigs). And what about other data I serve via a web
mapping service? I'd like a more dynamic way. One solution would be
something like a chain of reprojections: every time I want to reproject
from 21781 to 4326 there will be a additional reprojection (21781 ->
2056 -> 4326) in the background. But I have no idea how to do this. 

Any help and other ideas are appreciated!
regards
Stefan




> -----Ursprüngliche Nachricht-----
> Von: Paul Kelly [mailto:paul-grass at stjohnspoint.co.uk]
> Gesendet am: Freitag, 23. Januar 2009 16:12
> An: PROJ.4 and general Projections Discussions
> Betreff: Re: [Proj] Problems using grid shift files
> 
> On Fri, 23 Jan 2009, Mikael Rittri wrote:
> 
> > I think cs2cs normally assumes that a grid shift file will 
> transform a national datum to WGS84.
> > So I don't know how chenyx06.gsb can be used by cs2cs, but 
> perhaps some pipe
> > construction could be used.
> 
> Specify the gridshift file as part of the PROJ.4 description 
> of the CH1903 
> system, and use a +towgs84=0,0,0 datum parameter set for the CH1903+ 
> location. Something along those lines should work I think, but the 
> co-ordinates would need to be transformed again to get to WGS84.
> 
> Paul
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
> 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20090401/143b36b7/attachment.html>

From peifer at gmx.eu  Wed Apr  1 05:59:24 2009
From: peifer at gmx.eu (Hermann Peifer)
Date: Wed, 01 Apr 2009 14:59:24 +0200
Subject: [Proj] ERROR 6: No translation for Lambert Conformal Conic to
 PROJ.4 format is known.
Message-ID: <gqvofc$dfe$1@ger.gmane.org>

Hi,

Is this simply yet another unsupported projection, or could something 
else be wrong?

Thanks in advance, Hermann


ERROR 6: No translation for Lambert Conformal Conic to PROJ.4 format is 
known.
Failed to create coordinate transformation between the
following coordinate systems.  This may be because they
are not transformable, or because projection services
(PROJ.4 DLL/.so) could not be loaded.
Source:
PROJCS["French Lambert II Carto",
     GEOGCS["NTF (Paris meridian)",
         DATUM["NTF (Paris meridian)",
             SPHEROID["Clarke_1880_IGN",6378249.2,293.4660213]],
         PRIMEM["Paris",0.0],
         UNIT["Degree",0.017453292519943295]],
     PROJECTION["Lambert Conformal Conic"],
     PARAMETER["Standard_Parallel_1",45.898919],
     PARAMETER["Standard_Parallel_2",47.696015],
     PARAMETER["Latitude_Of_Origin",46.800000],
     PARAMETER["Central_Meridian",2.337229167],
     PARAMETER["False_Easting",600000.000000],
     PARAMETER["False_Northing",2200000.000000],
     UNIT["Meter",1.000000000000]]
Target:
GEOGCS["WGS 84",
     DATUM["WGS_1984",
         SPHEROID["WGS 84",6378137,298.257223563,
             AUTHORITY["EPSG","7030"]],
         AUTHORITY["EPSG","6326"]],
     PRIMEM["Greenwich",0,
         AUTHORITY["EPSG","8901"]],
     UNIT["degree",0.01745329251994328,
         AUTHORITY["EPSG","9122"]],
     AUTHORITY["EPSG","4326"]]



From paul-grass at stjohnspoint.co.uk  Wed Apr  1 06:10:15 2009
From: paul-grass at stjohnspoint.co.uk (Paul Kelly)
Date: Wed, 1 Apr 2009 14:10:15 +0100 (BST)
Subject: [Proj] Problems using grid shift files
In-Reply-To: <H00002ea0485ea65.1238589672.srsofaioi6145.ktso.ch@MHS>
References: <H00002ea0485ea65.1238589672.srsofaioi6145.ktso.ch@MHS>
Message-ID: <Pine.LNX.4.62.0904011358560.30814@vortex.ukshells.co.uk>

On Wed, 1 Apr 2009, Ziegler Stefan wrote:

> Hi
>
> thanks for your answers and sorry for not replying for approx. 2 months.
> I will now spend some time on my problems with grid files. I thought
> first that the shift grid files can be used for any reprojection (eg.
> 21781 to 32632). But it's only usable for one specific reprojection
> (defined in the file header). The reprojection is more an equalization
> than a "simple" reprojection since the old reference frame (CH1903/LV03)
> is inaccurate. By adding the +nadgrid parameter I'm able to reproject
> correctly only to one reference system. Reprojections to other systems
> are wrong.

Remember that we are slightly abusing the PROJ.4 API here by using CH1903+ 
as a pivot datum instead of WGS84. So the +towgs84 parameters for other 
co-ordinate systems must be adjusted so they describe a transformation to 
CH1903+, rather than a transformation to WGS84, in exactly the same way as 
we have used parameters of +towgs84=0,0,0 for CH1903+. If you have an 
accurate set of +towgs84 parameters for the CH1903+ --> WGS84 
transformation, I suspect you might be able to determine the parameters 
for your target datum to CH1903+ through some matrix multiplication (bear 
in mind that a set of +towgs84 parameters consist of rotational, 
translational and scaling components) but I'm not sure of the exact nature 
of the calculations you would need to do and I haven't tried it.

In other words, you should be able to avoid a chain of re-projections by 
chaining the datum transformations before doing the re-projection. That's 
how I understand it anyway but I could have missed something.

Paul


From Mikael.Rittri at carmenta.com  Wed Apr  1 06:47:54 2009
From: Mikael.Rittri at carmenta.com (Mikael Rittri)
Date: Wed, 1 Apr 2009 15:47:54 +0200
Subject: [Proj] Problems using grid shift files
In-Reply-To: <Pine.LNX.4.62.0904011358560.30814@vortex.ukshells.co.uk>
References: <H00002ea0485ea65.1238589672.srsofaioi6145.ktso.ch@MHS>
	<Pine.LNX.4.62.0904011358560.30814@vortex.ukshells.co.uk>
Message-ID: <FAF6E56B26D2044696772EBE89B15351017E835B@posty.carmenta.se>

Paul Kelly wrote:

> On Wed, 1 Apr 2009, Ziegler Stefan wrote:
> 
> > Hi
> >
> > thanks for your answers and sorry for not replying for approx. 2
months.
> > I will now spend some time on my problems with grid files. I thought

> > first that the shift grid files can be used for any reprojection
(eg.
> > 21781 to 32632). But it's only usable for one specific reprojection 
> > (defined in the file header). The reprojection is more an
equalization 
> > than a "simple" reprojection since the old reference frame 
> > (CH1903/LV03) is inaccurate. By adding the +nadgrid parameter I'm
able 
> > to reproject correctly only to one reference system. Reprojections
to 
> > other systems are wrong.
> 
> Remember that we are slightly abusing the PROJ.4 API here by 
> using CH1903+ as a pivot datum instead of WGS84. So the +towgs84 
> parameters for other co-ordinate systems must be adjusted so they 
> describe a transformation to CH1903+, rather than a transformation 
> to WGS84, in exactly the same way CH1903+as we have used parameters 
> of +towgs84=0,0,0 for CH1903+. If you have an accurate set of +towgs84

> parameters for the CH1903+ --> WGS84 transformation, I suspect you
might 
> be able to determine the parameters for your target datum to CH1903+ 
> through some matrix multiplication (bear in mind that a set of
+towgs84 
> parameters consist of rotational, translational and scaling
components)
> but I'm not sure of the exact nature of the calculations you would
need
> to do and I haven't tried it.
> 
> In other words, you should be able to avoid a chain of re-projections
by 
> chaining the datum transformations before doing the re-projection.
That's
> how I understand it anyway but I could have missed something.
> 
> Paul

That's clever. I didn't think of that, but it sounds right. 
The currently recommended transform from CH1903+ to WGS84 (or to ETRS89,

technically) is actually a 3-parameter transform, for some reason: 

    +towgs84=674.374,15.056,405.346

EPSG coord. transformation code 1676 or 1647.  When the target is
regarded 
as ETRS89 rather than WGS84, then EPSG says the accuracy is 0.1 meter.
(Otherwise the continental drift makes the accuracy only about half a
meter.)  

This should make it easier to follow Paul's advice.  I suspect these 
three numbers should be added to the corresponding dx,dy,dz of all other
transformations, in order to make CH1903+ the pivot datum. Or possibly 
subtracted, of course...  (But I am not really certain, to be honest.) 

Best regards,
--
Mikael Rittri
Carmenta AB
SWEDEN
www.carmenta.com


From warmerdam at pobox.com  Wed Apr  1 07:12:14 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed, 01 Apr 2009 10:12:14 -0400
Subject: [Proj] ERROR 6: No translation for Lambert Conformal Conic to
 PROJ.4 format is known.
In-Reply-To: <gqvofc$dfe$1@ger.gmane.org>
References: <gqvofc$dfe$1@ger.gmane.org>
Message-ID: <49D3763E.1020609@pobox.com>

Hermann Peifer wrote:
> Hi,
> 
> Is this simply yet another unsupported projection, or could something 
> else be wrong?
...
>      PROJECTION["Lambert Conformal Conic"],

Hermann,

What is the source of this WKT?  Oracle?  GeoTools?  The PROJECTION keyword
does not match my expectations nor the specification on which WKT is
based which I believe included an example of LCC.  The keyword should be
Lambert_Conformal_Conic_1SP or Lambert_Conformal_Conic_2SP.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From warmerdam at pobox.com  Wed Apr  1 07:22:02 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed, 01 Apr 2009 10:22:02 -0400
Subject: [Proj] Some questions
In-Reply-To: <11905962.621481238584196322.JavaMail.support.mn@elisanet.fi>
References: <11905962.621481238584196322.JavaMail.support.mn@elisanet.fi>
Message-ID: <49D3788A.9070408@pobox.com>

support.mn at elisanet.fi wrote:
> Hello,
> 
> here are some questions to the proj.4 list.
> 
> 1) What I have understood, the LibProj is an updated projection package?
> Is there any plan to integrate this into the Proj.4 or is it too different for that
> purpose. End users would of coures like to have more and more projections
> and inverses available. Maybe some time in the future?

Janne,

libproj4 is fairly similar to PROJ.4, and with a little work it is
possible to port projection algorithms from one to the other.  I have
carried a couple of items from libproj4 to PROJ.4 in the last few years
however, I have not made any comprehensive effort to keep things in sync.

There is no immediate plan to re-engineer PROJ.4 to use libproj4 as it's
underlying projections library though that has been discussed as a
possibility.

> 2) The ellipsoid question. How was the double ellipsoid case solved.. or
> will it be of any error source? I am assuming that if the datum shift ellipsoid
> is different than the original one, the error will be anyway too small to have
> any practical meaning? And so it does not matter which ellipsoid is used
> for the datum shift since all the ellipsoids are almost the same... but sure
> the numbers will differ.

The double ellipsoid case was not really resolved.  It is still
necessary in some cases to use tricks like +nadgrids=@null to
effectively treat a non-WGS84 ellipsoid based dataset as if it were
based on WGS84 as a datum.

The differences in ellipsoid can be very significant.  The most
common situation this comes up is with sphere based projections
(like google spherical mercator) where the projection is on a
sphere but you are expected afterwards to treat the lat/long
result as being on WGS84.  In this situation incorrect interpretation
can result in very substantial errors.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From peifer at gmx.eu  Wed Apr  1 09:19:34 2009
From: peifer at gmx.eu (Hermann Peifer)
Date: Wed, 01 Apr 2009 18:19:34 +0200
Subject: [Proj] ERROR 6: No translation for Lambert Conformal Conic to
 PROJ.4 format is known.
In-Reply-To: <49D3763E.1020609@pobox.com>
References: <gqvofc$dfe$1@ger.gmane.org> <49D3763E.1020609@pobox.com>
Message-ID: <gr046m$sc2$1@ger.gmane.org>

Frank Warmerdam wrote:
> Hermann Peifer wrote:
>> Hi,
>>
>> Is this simply yet another unsupported projection, or could something 
>> else be wrong?
> ...
>>      PROJECTION["Lambert Conformal Conic"],
> 
> Hermann,
> 
> What is the source of this WKT?  Oracle?  GeoTools?  The PROJECTION keyword
> does not match my expectations nor the specification on which WKT is
> based which I believe included an example of LCC.  The keyword should be
> Lambert_Conformal_Conic_1SP or Lambert_Conformal_Conic_2SP.
> 

We receive shapefile deliveries from a network of several hundred data 
providers across more than 30 European countries. I do not know what 
kind of shapefile-generating systems they use at home. I will ask the 
French provider of this particular shapefile. More news soon.

Hermann



From EMiller at dfg.ca.gov  Wed Apr  1 11:06:10 2009
From: EMiller at dfg.ca.gov (Eric Miller)
Date: Wed, 01 Apr 2009 11:06:10 -0700
Subject: [Proj] ERROR 6: No translation for Lambert Conformal
	Conic	toPROJ.4 format is known.
In-Reply-To: <gr046m$sc2$1@ger.gmane.org>
References: <gqvofc$dfe$1@ger.gmane.org> <49D3763E.1020609@pobox.com>
	<gr046m$sc2$1@ger.gmane.org>
Message-ID: <49D34AA1.95FD.00E4.0@dfg.ca.gov>

>>> On 4/1/2009 at 9:19 AM, Hermann Peifer <peifer at gmx.eu> wrote:
> Frank Warmerdam wrote:
>> Hermann Peifer wrote:
>>> Hi,
>>>
>>> Is this simply yet another unsupported projection, or could
something 
>>> else be wrong?
>> ...
>>>      PROJECTION["Lambert Conformal Conic"],
>> 
>> Hermann,
>> 
>> What is the source of this WKT?  Oracle?  GeoTools?  The PROJECTION
keyword
>> does not match my expectations nor the specification on which WKT
is
>> based which I believe included an example of LCC.  The keyword
should be
>> Lambert_Conformal_Conic_1SP or Lambert_Conformal_Conic_2SP.
>> 
> 
> We receive shapefile deliveries from a network of several hundred
data 
> providers across more than 30 European countries. I do not know what

> kind of shapefile-generating systems they use at home. I will ask the

> French provider of this particular shapefile. More news soon.
> 

Frank,

ArcGIS (9.1 at least) has "Lambert_Conformal_Conic" for U.S. state
plane definitions and others.  All of the definitions I looked at had
two standard parallels. 

I'm not sure where the 1SP and 2SP stuff comes from.  The Simple
Features Spec. for OLE (1.1) appendix 4-6 only lists "Lambert conformal
conic."  So, the software in question is using the listed name.  The
practice of replacing spaces with underscores in never mentioned.  The
examples use underscores but the list of supported projections does not
have underscores and there is no direction that underscores should be
used or supported.

Thus, I think a robust WKT interpreter must accept projection names
with or without underscores and with or without the _1SP or _2SP
refinements. (If needed, it must look at the parameters to
disambiguate.)  Additionally, there probably needs to be handling for
hyphens (missing or present) and accents/non-ascii (missing, present or
alternate spelling).  Is it "Plate-Carée" or "Plate_Caree" or
"Plate-Carree" or "Plate_Carree" or ... ?  Only the first version is
listed in appendix 4-6.  Perhaps it's easiest just to maintain a table
of synonyms?

 
-- 

Eric G. Miller
Staff Programmer
CA Dept. of Fish & Game



From fluyoz at hotmail.com  Wed Apr  1 12:32:47 2009
From: fluyoz at hotmail.com (Fernando Javier Luyo Zegarra)
Date: Wed, 1 Apr 2009 14:32:47 -0500
Subject: [Proj] Error during the coordinate transformation?
In-Reply-To: <B597ADFC46B67741B18EA6AA13613FF7EC2664@email002.lsu.edu>
References: <gqtg0j$ui4$1@ger.gmane.org> <49D24908.1060202@pobox.com>
	<495743997A4F45069F44D4DC788DF50B@PCHP> 	<49D26E8D.3040507@pobox.com>
	<BLU107-W1B8D05BE9B89A0D52C569DC8A0@phx.gbl> 
	<B597ADFC46B67741B18EA6AA13613FF7EC2664@email002.lsu.edu>
Message-ID: <BLU107-W4DA627C75BD9AAE05160CDC8B0@phx.gbl>



Hi
The code corresponds to Perú
Fernando





Date: Tue, 31 Mar 2009 16:17:29 -0500
From: cjmce at lsu.edu
To: proj at lists.maptools.org; proj at lists.maptools.org
Subject: Re: [Proj] Error during the coordinate transformation?










Dear Fernando:
 
What country is this, and what parameters did you use.  I suspect you're in Venezuela ... please confirm.
 
Estan usted en la Republica de Venezuela?  Esta verdad?
 
C. Mugnier
Louisiana State University



From: proj-bounces at lists.maptools.org on behalf of Fernando Javier Luyo Zegarra
Sent: Tue 31-Mar-09 16:11
To: proj at lists.maptools.org
Subject: [Proj] Error during the coordinate transformation‏





Hello,

I'm developed a routine for transforming coordinates of points which are in PSAD56 Zone 18S (srid = 24878) to Wgs84 Zone 18s (srid = 32718)

The items are stored in the fields "geom" the table "MyTable" (srid = 24878).

To perform the operation using the following syntax:


       select Transform (geom, 32718) from MyTable


Reviewing the results found that there is an error:


Example:

Point in Psad56 Zn 18s

        X = 264365.2955 Y = 8665287.3660 Z = 0.0000

The result of the transformation is:

        X = 264366.1196 Y = 8665292.17 Z = 0.0000

However, the same point in cartografia WGS84 Zone 18S has the following coordinates:

        X = 264143.0640 Y = 8664919.0231 Z = 0.0000

Apparently the SRID of the parameters are not properly used or applied incorrectly the function Transform ()

While waiting for your help


Fernando Luyo
pd: Sorry for my bad English
**************************************************

Hola

Estoy elaborando una rutina para transformar coordenadas de puntos que estan en PSAD56 Zona 18S (srid=24878) a Wgs84 Zona 18s (srid=32718)

Los puntos estan almacenados en el campo "geom" de la tabla "MyTable" (srid=24878).


Para realizar la operacion estoy usando la siguiente sintaxis:


select Transform(geom,32718) from MyTable

Al revisar los resultados encontre que hay un error :

Ejemplo : 

Punto en Psad56 Zn 18s

X = 264365.2955     Y = 8665287.3660     Z = 0.0000

El resultado de la transformacion es: 

X = 264366.1196     Y = 8665292.17       Z = 0.0000

Sin embargo, el mismo punto en cartografia en WGS84 Zona 18S tiene las siguientes coordenadas:

X = 264143.0640     Y = 8664919.0231     Z = 0.0000

Al parecer los parametros de los SRID usado no estan correctos o estoy aplicando mal la funcion Transform()

A la espera de su ayuda< br>
saludos

Fernando Luyo

**************************************************





Discover the new Windows Vista Learn more! 
_________________________________________________________________
Connect to the next generation of MSN Messenger 
http://imagine-msn.com/messenger/launch80/default.aspx?locale=en-us&source=wlmailtagline
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20090401/6e7abfd3/attachment.html>

From warmerdam at pobox.com  Wed Apr  1 12:52:18 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed, 01 Apr 2009 15:52:18 -0400
Subject: [Proj] ERROR 6: No translation for Lambert Conformal Conic
 toPROJ.4 format is known.
In-Reply-To: <49D34AA1.95FD.00E4.0@dfg.ca.gov>
References: <gqvofc$dfe$1@ger.gmane.org> <49D3763E.1020609@pobox.com>
	<gr046m$sc2$1@ger.gmane.org> <49D34AA1.95FD.00E4.0@dfg.ca.gov>
Message-ID: <49D3C5F2.5070401@pobox.com>

Eric Miller wrote:
  > Frank,
> 
> ArcGIS (9.1 at least) has "Lambert_Conformal_Conic" for U.S. state
> plane definitions and others.  All of the definitions I looked at had
> two standard parallels. 
> 
> I'm not sure where the 1SP and 2SP stuff comes from.  The Simple
> Features Spec. for OLE (1.1) appendix 4-6 only lists "Lambert conformal
> conic."  So, the software in question is using the listed name.  The
> practice of replacing spaces with underscores in never mentioned.  The
> examples use underscores but the list of supported projections does not
> have underscores and there is no direction that underscores should be
> used or supported.

Eric,

I believe the 1SP and 2SP naming comes from EPSG.  Reviewing
OGC 99-049 (SFSQL 1.1) I see it does not list many example PROJECTION
keywords.  I only noticed "Transverse_Mercator".  The list of projection
methods lists this as "Transverse Mercator", but it is not at all
clear that this list is intended to represent the keyword values.

> Thus, I think a robust WKT interpreter must accept projection names
> with or without underscores and with or without the _1SP or _2SP
> refinements. (If needed, it must look at the parameters to
> disambiguate.)  Additionally, there probably needs to be handling for
> hyphens (missing or present) and accents/non-ascii (missing, present or
> alternate spelling).  Is it "Plate-Carée" or "Plate_Caree" or
> "Plate-Carree" or "Plate_Carree" or ... ?  Only the first version is
> listed in appendix 4-6.  Perhaps it's easiest just to maintain a table
> of synonyms?

The WKT specification is grossly incomplete leaving us with such
ambiguities.  One approach is to have lots of guessing based on similar
names or lots of translation dictionaries.  I have taken the practice
instead of documenting "OGR WKT" and preparing morphing functions to
convert it to/from other representations.  The most noteworthy implementation
is the one for ESRI (Projection Engine) WKT.

I am now taking the approach that for any projection method not currently
supported in GDAL/OGR that I will adopt the ESRI PE formulation since it
is the form with widest industry adoption.  I wish I had done this sooner
(from the beginning).

I would note that CS-Map maintains extensive translation tables to convert
between the WKT represention of various software packages.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From cjmce at lsu.edu  Wed Apr  1 14:32:36 2009
From: cjmce at lsu.edu (Clifford J Mugnier)
Date: Wed, 1 Apr 2009 16:32:36 -0500
Subject: [Proj] Error during the coordinate transformation?
References: <gqtg0j$ui4$1@ger.gmane.org> <49D24908.1060202@pobox.com>
	<495743997A4F45069F44D4DC788DF50B@PCHP>
	<49D26E8D.3040507@pobox.com>
	<BLU107-W1B8D05BE9B89A0D52C569DC8A0@phx.gbl>
	<B597ADFC46B67741B18EA6AA13613FF7EC2664@email002.lsu.edu>
	<BLU107-W4DA627C75BD9AAE05160CDC8B0@phx.gbl>
Message-ID: <B597ADFC46B67741B18EA6AA13613FF7EC2669@email002.lsu.edu>

Fernando,
 
Check out my column on Perú in Photogrammetric Engineering and Remote Sensing from May of 2006.  I have more than one set of parameters listed between PSAD56 and WGS84.  (One is from the U.S. Military, and a different one is from the Instituto Geografico Militar in Perú.)
 
www.ASPRS.org/resources/grids
 
C. Mugnier
LSU

________________________________

From: proj-bounces at lists.maptools.org on behalf of Fernando Javier Luyo Zegarra
Sent: Wed 01-Apr-09 14:32
To: proj at lists.maptools.org
Subject: Re: [Proj] Error during the coordinate transformation?



Hi

The code corresponds to Perú
Fernando






________________________________

Date: Tue, 31 Mar 2009 16:17:29 -0500
From: cjmce at lsu.edu
To: proj at lists.maptools.org; proj at lists.maptools.org
Subject: Re: [Proj] Error during the coordinate transformation?


Dear Fernando:
 
What country is this, and what parameters did you use.  I suspect you're in Venezuela ... please confirm.
 
Estan usted en la Republica de Venezuela?  Esta verdad?
 
C. Mugnier
Louisiana State University

________________________________

From: proj-bounces at lists.maptools.org on behalf of Fernando Javier Luyo Zegarra
Sent: Tue 31-Mar-09 16:11
To: proj at lists.maptools.org
Subject: [Proj] Error during the coordinate transformation?



Hello,

I'm developed a routine for transforming coordinates of points which are in PSAD56 Zone 18S (srid = 24878) to Wgs84 Zone 18s (srid = 32718)

The items are stored in the fields "geom" the table "MyTable" (srid = 24878).

To perform the operation using the following syntax:


       select Transform (geom, 32718) from MyTable


Reviewing the results found that there is an error:


Example:

Point in Psad56 Zn 18s

        X = 264365.2955 Y = 8665287.3660 Z = 0.0000

The result of the transformation is:

        X = 264366.1196 Y = 8665292.17 Z = 0.0000

However, the same point in cartografia WGS84 Zone 18S has the following coordinates:

        X = 264143.0640 Y = 8664919.0231 Z = 0.0000

Apparently the SRID of the parameters are not properly used or applied incorrectly the function Transform ()

While waiting for your help


Fernando Luyo
pd: Sorry for my bad English
**************************************************

Hola

Estoy elaborando una rutina para transformar coordenadas de puntos que estan en PSAD56 Zona 18S (srid=24878) a Wgs84 Zona 18s (srid=32718)

Los puntos estan almacenados en el campo "geom" de la tabla "MyTable" (srid=24878).


Para realizar la operacion estoy usando la siguiente sintaxis:


select Transform(geom,32718) from MyTable

Al revisar los resultados encontre que hay un error :

Ejemplo : 

Punto en Psad56 Zn 18s

X = 264365.2955     Y = 8665287.3660     Z = 0.0000

El resultado de la transformacion es: 

X = 264366.1196     Y = 8665292.17       Z = 0.0000

Sin embargo, el mismo punto en cartografia en WGS84 Zona 18S tiene las siguientes coordenadas:

X = 264143.0640     Y = 8664919.0231     Z = 0.0000

Al parecer los parametros de los SRID usado no estan correctos o estoy aplicando mal la funcion Transform()

A la espera de su ayuda< br>
saludos

Fernando Luyo

**************************************************




________________________________

Discover the new Windows Vista Learn more! <http://search.msn.com/results.aspx?q=windows+vista&mkt=en-US&form=QBRE>  

________________________________

Connect to the next generation of MSN Messenger  Get it now! <http://imagine-msn.com/messenger/launch80/default.aspx?locale=en-us&source=wlmailtagline> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20090401/dda4f156/attachment.html>

From cjmce at lsu.edu  Wed Apr  1 14:50:37 2009
From: cjmce at lsu.edu (Clifford J Mugnier)
Date: Wed, 1 Apr 2009 16:50:37 -0500
Subject: [Proj] ERROR 6: No translation for Lambert ConformalConic to
	PROJ.4 format is known.
References: <gqvofc$dfe$1@ger.gmane.org> <49D3763E.1020609@pobox.com>
	<gr046m$sc2$1@ger.gmane.org> <49D34AA1.95FD.00E4.0@dfg.ca.gov>
Message-ID: <B597ADFC46B67741B18EA6AA13613FF7EC266A@email002.lsu.edu>

Actually, American Samoa has a single standard parallel; it is a true Tangent Case of the Lambert Conformal Conic.  
 
On the other hand, the British Definition only lists the Latitude of Origin along with the Scale Factor at Origin.  For the British Definition, there's only "one standard parallel" according to the ignorant programmers that can't spell Geodesy with their eyes closed, but the two standard parallel case in the British Definition also lists the Scale Factor at Origin as being less than one (0.9999xxxxxxx).  
 
For American Samoa, in the British Definition, the Scale Factor at Origin is equal to unity (1.0).
 
>From whence does 1SP and 2SP come from?  Ignorance.
 
The math to convert from one definition to the other is in the Sixth Edition of the Manual of Photogrammetry, Chapter 3.
 
C. Mugnier
LSU

________________________________

From: proj-bounces at lists.maptools.org on behalf of Eric Miller
Sent: Wed 01-Apr-09 13:06
To: proj at lists.maptools.org
Subject: Re: [Proj] ERROR 6: No translation for Lambert ConformalConic toPROJ.4 format is known.



>>> On 4/1/2009 at 9:19 AM, Hermann Peifer <peifer at gmx.eu> wrote:
> Frank Warmerdam wrote:
>> Hermann Peifer wrote:
>>> Hi,
>>>
>>> Is this simply yet another unsupported projection, or could
something
>>> else be wrong?
>> ...
>>>      PROJECTION["Lambert Conformal Conic"],
>>
>> Hermann,
>>
>> What is the source of this WKT?  Oracle?  GeoTools?  The PROJECTION
keyword
>> does not match my expectations nor the specification on which WKT
is
>> based which I believe included an example of LCC.  The keyword
should be
>> Lambert_Conformal_Conic_1SP or Lambert_Conformal_Conic_2SP.
>>
>
> We receive shapefile deliveries from a network of several hundred
data
> providers across more than 30 European countries. I do not know what

> kind of shapefile-generating systems they use at home. I will ask the

> French provider of this particular shapefile. More news soon.
>

Frank,

ArcGIS (9.1 at least) has "Lambert_Conformal_Conic" for U.S. state
plane definitions and others.  All of the definitions I looked at had
two standard parallels.

I'm not sure where the 1SP and 2SP stuff comes from.  The Simple
Features Spec. for OLE (1.1) appendix 4-6 only lists "Lambert conformal
conic."  So, the software in question is using the listed name.  The
practice of replacing spaces with underscores in never mentioned.  The
examples use underscores but the list of supported projections does not
have underscores and there is no direction that underscores should be
used or supported.

Thus, I think a robust WKT interpreter must accept projection names
with or without underscores and with or without the _1SP or _2SP
refinements. (If needed, it must look at the parameters to
disambiguate.)  Additionally, there probably needs to be handling for
hyphens (missing or present) and accents/non-ascii (missing, present or
alternate spelling).  Is it "Plate-Carée" or "Plate_Caree" or
"Plate-Carree" or "Plate_Carree" or ... ?  Only the first version is
listed in appendix 4-6.  Perhaps it's easiest just to maintain a table
of synonyms?


--

Eric G. Miller
Staff Programmer
CA Dept. of Fish & Game

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20090401/aac5a1de/attachment.html>

From hamish_b at yahoo.com  Wed Apr  1 16:07:28 2009
From: hamish_b at yahoo.com (Hamish)
Date: Wed, 1 Apr 2009 16:07:28 -0700 (PDT)
Subject: [Proj] ERROR 6: No translation for Lambert ConformalConic to
	PROJ.4 format is known.
Message-ID: <557358.351.qm@web110013.mail.gq1.yahoo.com>


Eric:
> Additionally, there probably needs to be handling for
> hyphens (missing or present) and accents/non-ascii
> (missing, present or alternate spelling).  Is it "Plate-Carée"
> or "Plate_Caree" or "Plate-Carree" or "Plate_Carree" or ... ?
> Only the first version is listed in appendix 4-6.

worse, a french office-mate tells me that it should be in the masculine
form, so no second "e". google is no help as it returns hits for all
variants. possibly derived from pre-modern french too...? aaagh


Hamish



      



From Mikael.Rittri at carmenta.com  Thu Apr  2 00:48:12 2009
From: Mikael.Rittri at carmenta.com (Mikael Rittri)
Date: Thu, 2 Apr 2009 09:48:12 +0200
Subject: [Proj] ERROR 6: No translation for Lambert ConformalConic
	toPROJ.4 format is known.
In-Reply-To: <557358.351.qm@web110013.mail.gq1.yahoo.com>
References: <557358.351.qm@web110013.mail.gq1.yahoo.com>
Message-ID: <FAF6E56B26D2044696772EBE89B15351017E83F7@posty.carmenta.se>

> Hamish wrote: 
> 
> Eric:
> > Additionally, there probably needs to be handling for hyphens (missing 
> > or present) and accents/non-ascii (missing, present or alternate 
> > spelling).  Is it "Plate-Carée"
> > or "Plate_Caree" or "Plate-Carree" or "Plate_Carree" or ... ?
> > Only the first version is listed in appendix 4-6.
> 
> worse, a french office-mate tells me that it should be in the 
> masculine form, so no second "e". google is no help as it returns
> hits for all variants. possibly derived from pre-modern french too...? 
> aaagh
> 
> Hamish

Wait a minute. I'm not French, but I studied French in school for 
a short while, so I am sure I know better (insert smiley here). 

Both Snyder (Map Projections: A Working Manual) and French wikipedia (http://fr.wikipedia.org/wiki/Projection_cylindrique_%C3%A9quidistante)
writes "plate carrée".   

I looked up "plate" in the French wikipedia, and it is clear 
that "plate" is used as an adjective here, the feminine form
of "plat", meaning flat. In theory, it could be used as a noun, 
but "une plate" could only mean a flat-bottomed boat, or a small
iron blade of some sort. (All right, I used Google Translate to 
figure out what the French wikipedia said, but it looked convincing...) 

So, "plate carrée" is an abbreviation of "la projection plate carrée", 
the flat and square projection. (I guess there could be some masculine
synonym to "la projection" in the French language, but then the 
adjectives would be "plat carré".) 

Eric wrote:

> Only the first version is listed in appendix 4-6. 

The first version being "Plate-Carée", you mean? That must be
a typo, there should be two "r" in "carrée".

On the other hand, I am worried about the accent, since string
comparison is important in Well-Known Text. I mean, no one 
argues (I hope) that "Krovak" must be spelled with the Czech 
diacritical marks in Well-Known Text.  

Oh well.  Nothing is simple.

--
Mikael Rittri
Carmenta AB
SWEDEN
www.carmenta.com


From Stefan.Ziegler at bd.so.ch  Thu Apr  2 01:42:11 2009
From: Stefan.Ziegler at bd.so.ch (Ziegler Stefan)
Date: Thu, 2 Apr 2009 10:42:11 +0200
Subject: [Proj] Problems using grid shift files
Message-ID: <H00002ea04876a88.1238661730.srsofaioi6145.ktso.ch@MHS>

> Remember that we are slightly abusing the PROJ.4 API here by 
> using CH1903+ 
> as a pivot datum instead of WGS84. So the +towgs84 parameters 
> for other 
> co-ordinate systems must be adjusted so they describe a 
> transformation to 
> CH1903+, rather than a transformation to WGS84, in exactly 
> the same way as 
> we have used parameters of +towgs84=0,0,0 for CH1903+. If you have an 
> accurate set of +towgs84 parameters for the CH1903+ --> WGS84 
> transformation, I suspect you might be able to determine the 
> parameters 
> for your target datum to CH1903+ through some matrix 
> multiplication (bear 
> in mind that a set of +towgs84 parameters consist of rotational, 
> translational and scaling components) but I'm not sure of the 
> exact nature 
> of the calculations you would need to do and I haven't tried it.
> 
> In other words, you should be able to avoid a chain of 
> re-projections by 
> chaining the datum transformations before doing the 
> re-projection. That's 
> how I understand it anyway but I could have missed something.
> Paul

Mmmmh, I think this is beyond my mental skills ;-) So I start with some
questions: what is a pivot datum? And how can I chain datum
transformation (without piping in the shell)? How does proj does a
re-projection? I assumed something like: projection A -> ellipsoid A
----> here comes the datum transformation ----> ellipsoid B ->
projection B. So if I know the accurate relation between ellipsoid A and
B (like the +towgs84 params) I'm able to reproject more or less exact?

All our data is CH1903 and I'd like to be able either to apply the
equalization ('hidden' in the grid file) to the data with each
reprojection or at least that it's only applied in the reprojection from
CH1903 to CH1903+ but is ignored for other reprojections (e.g. CH1903
--> UTM).

Thanks a lot.
Stefan


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20090402/4f4fe6f3/attachment.html>

From Mikael.Rittri at carmenta.com  Thu Apr  2 04:46:52 2009
From: Mikael.Rittri at carmenta.com (Mikael Rittri)
Date: Thu, 2 Apr 2009 13:46:52 +0200
Subject: [Proj] ERROR 6: No translation for Double_Stereographic to
	PROJ.4 format is known.
In-Reply-To: <49D26E8D.3040507@pobox.com>
References: <gqtg0j$ui4$1@ger.gmane.org>
	<49D24908.1060202@pobox.com><495743997A4F45069F44D4DC788DF50B@PCHP>
	<49D26E8D.3040507@pobox.com>
Message-ID: <FAF6E56B26D2044696772EBE89B15351017E8484@posty.carmenta.se>

Frank Warmerdam wrote (31 March 2009): 

> OvV_HN wrote:
> > I don't get it. I always thought the existing PROJ (and libproj) 
> > function sterea was a full implementation of the double
stereographic 
> > projection, suited for Dutch RD, New Brunswick / Prince Edward
Island 
> > stereo and Romanian Stereo 70.
> 
> Oscar,
> 
> Well, that is possible.  Is someone willing to do some leg work 
> confirming if that is the case, and documenting the correct
formulation 
> of the coordinate systems described in
http://trac.osgeo.org/gdal/ticket/2487
> for PROJ.4?  Some sample test points would also be helpful.  Given
that I 
> would be happy to update GDAL to support double stereographic and
update 
> some other resources.

I think Oscar is right (at least for the Netherlands,
very likely for the Canadian projections, and I don't 
know anything about Romania.)

I found some older posts in the Proj Archives, which 
I try to summarize here. (Apologies if there are 
errors in my summary.)

Gerald Evenden wrote a post, mainly about the 
terminology, but also citing Rueben Schulz, who 
wrote that 
> The EPSG does not have any plans to include 
> the USGS form in their database since they 
> do not know of any coordinate reference systems 
> that use it.
http://lists.maptools.org/pipermail/proj/2004-May/001216.html

Jan Hartmann agreed that the Dutch Stereographic 
should be implemented by proj=sterea, not proj=stere, 
and attached two images showing 
(a) that the United States variant, proj=stere, would
give errors up to 8 meters in the Netherlands, and 
(b) that the correct proj=sterea gives errors up 
to 0.2 meters, anyway. (?!)
http://lists.maptools.org/pipermail/proj/2006-January/002021.html

Oscar van Vlijmen replied that proj=sterea should 
give errors at most 0.2 millimeters in the Netherlands 
(and that's because the Dutch authorities use an 
approximative algorithm claimed to have that accuracy, 
while proj=sterea is exact (or more exact)). 
The up to 0.2 meter error, found by Jan Hartmann, 
can be attributed to a grid correction used by 
the official transformation tool RDNAPTRANS, writes Oscar.
If I understand him correctly, the official tool conflates 
the map projection with a datum shift via grid file.
There are some test points in Oscar's post, but he wrote    

> I got with my version of sterea: 

so I guess that's his own implementation of sterea, 
rather than the implementation in Proj.4. 
http://lists.maptools.org/pipermail/proj/2006-January/002022.html

Best regards,

--
Mikael Rittri
Carmenta AB
SWEDEN
www.carmenta.com


From ovv at hetnet.nl  Thu Apr  2 08:43:12 2009
From: ovv at hetnet.nl (OvV_HN)
Date: Thu, 2 Apr 2009 17:43:12 +0200
Subject: [Proj] ERROR 6: No translation for Double_Stereographic to
	PROJ.4 format is known.
In-Reply-To: <49D26E8D.3040507@pobox.com>
References: <gqtg0j$ui4$1@ger.gmane.org>
	<49D24908.1060202@pobox.com><495743997A4F45069F44D4DC788DF50B@PCHP>
	<49D26E8D.3040507@pobox.com>
Message-ID: <2511D83DA61743F6A3998F6BB764BFA8@PCHP>

I can look up some official test points in my files, including references to 
more or less authoritative sources. Will take a few days, around Sunday 
perhaps.
The latest versions of the RDNAP software (Netherlands) indeed do grid 
interpolation.
The Dutch Kadaster has/had an on-line transformation tool without grid 
interpolation, but with Schreiber polynomials, including a small error 
however.
Prince Edward test points are described in a Technical Report (no. 48 I 
believe).
Romanian test points can be obtained from a Hungarian Excel application by 
Gábor Timár.


Oscar van Vlijmen


----- Original Message ----- 
From: "Frank Warmerdam" <warmerdam at pobox.com>
To: "PROJ.4 and general Projections Discussions" <proj at lists.maptools.org>
Sent: Tuesday, March 31, 2009 9:27 PM
Subject: Re: [Proj] ERROR 6: No translation for Double_Stereographic to 
PROJ.4 format is known.


> OvV_HN wrote:
>> I don't get it. I always thought the existing PROJ (and libproj) function
>> sterea was a full implementation of the double stereographic projection,
>> suited for Dutch RD, New Brunswick / Prince Edward Island stereo and
>> Romanian Stereo 70.
>
> Oscar,
>
> Well, that is possible.  Is someone willing to do some leg work confirming
> if that is the case, and documenting the correct formulation of the
> coordinate systems described in http://trac.osgeo.org/gdal/ticket/2487
> for PROJ.4?  Some sample test points would also be helpful.  Given that
> I would be happy to update GDAL to support double stereographic and
> update some other resources.





From support.mn at elisanet.fi  Fri Apr  3 04:34:56 2009
From: support.mn at elisanet.fi (support.mn at elisanet.fi)
Date: Fri, 3 Apr 2009 14:34:56 +0300 (EEST)
Subject: [Proj] Some questions
Message-ID: <10244324.1425591238758496317.JavaMail.support.mn@elisanet.fi>

Frank Warmerdam [warmerdam at pobox.com] kirjoitti: 

> There is no immediate plan to re-engineer PROJ.4 to use libproj4 as it's
> underlying projections library though that has been discussed as a
> possibility.
> 

Ok.

> The double ellipsoid case was not really resolved.  It is still
> necessary in some cases to use tricks like +nadgrids=@null to
> effectively treat a non-WGS84 ellipsoid based dataset as if it were
> based on WGS84 as a datum.
> 
> The differences in ellipsoid can be very significant.  The most
> common situation this comes up is with sphere based projections
> (like google spherical mercator) where the projection is on a
> sphere but you are expected afterwards to treat the lat/long
> result as being on WGS84.  In this situation incorrect interpretation
> can result in very substantial errors.
> 

Is there any easy way to open the projection and datum shift ellipsoids
for the end user to be altered in those cases where required?

For example something like:

pellps=.....
dellps=.....

where "pellps" would stand for "projection ellipsoid" and
"dellps" for "datum ellipsoid".

and when both are the same, just normal

ellps=....

where "ellps" stands for both datum and projection. That
would not alter the existing definitions, but allow more
accurate control of the ellipsoids involved.

Also the other ellipsoid parameters would get same type
of modifiers... p and d.

The idea would be to allow the proj.4 definition to have full
control of the calculations involved. Maybe some day in the
future?

Janne.



From paul-grass at stjohnspoint.co.uk  Fri Apr  3 05:57:34 2009
From: paul-grass at stjohnspoint.co.uk (Paul Kelly)
Date: Fri, 3 Apr 2009 13:57:34 +0100 (BST)
Subject: [Proj] Problems using grid shift files
In-Reply-To: <H00002ea04876a88.1238661730.srsofaioi6145.ktso.ch@MHS>
References: <H00002ea04876a88.1238661730.srsofaioi6145.ktso.ch@MHS>
Message-ID: <Pine.LNX.4.62.0904031349001.858@vortex.ukshells.co.uk>

Hello,
I think it would help if you give an example of one of the transformations 
that gave the incorrect results, with the exact cs2cs command-line you 
used and test points.

On Thu, 2 Apr 2009, Ziegler Stefan wrote:

> Mmmmh, I think this is beyond my mental skills ;-) So I start with some
> questions: what is a pivot datum? And how can I chain datum
> transformation (without piping in the shell)? How does proj does a
> re-projection? I assumed something like: projection A -> ellipsoid A
> ----> here comes the datum transformation ----> ellipsoid B ->
> projection B. So if I know the accurate relation between ellipsoid A and
> B (like the +towgs84 params) I'm able to reproject more or less exact?

No, there is generally an extra stage:

Source Datum --> datum transformation A --> Pivot datum --> datum
transformation B --> Target Datum

Only when either your source or target datum is the same as the pivot 
datum is there only one datum transformation. For all other cases you need 
two sets of datum transformation parameters, for the source and target 
datum to some intermediate pivot datum. Parameters for use of WGS84 as a 
pivot datum are well defined for most datums. But in your case when you 
want to use CH1903+ as a pivot datum instead you need to calculate a new 
set of datum transformation parameters.

As of yet I'm not sure exactly how to calculate the new parameters but if 
you post some details of the conversion you're trying to do with some 
sample points, maybe someone will be able to work it out for you.

Paul


From Stefan.Ziegler at bd.so.ch  Fri Apr  3 06:49:56 2009
From: Stefan.Ziegler at bd.so.ch (Ziegler Stefan)
Date: Fri, 3 Apr 2009 15:49:56 +0200
Subject: [Proj] Problems using grid shift files
Message-ID: <H00002ea048ab2b1.1238766595.srsofaioi6145.ktso.ch@MHS>

Thanks Paul! It's getting clearer and clearer. I'll give it a try before
coming back and moaning :)

regards
Stefan

> -----Ursprüngliche Nachricht-----
> Von: Paul Kelly [mailto:paul-grass at stjohnspoint.co.uk]
> Gesendet am: Freitag, 3. April 2009 14:58
> An: Ziegler Stefan
> Cc: proj
> Betreff: Re: AW: Re: AW: Re: [Proj] Problems using grid shift files
> 
> Hello,
> I think it would help if you give an example of one of the 
> transformations 
> that gave the incorrect results, with the exact cs2cs 
> command-line you 
> used and test points.
> 
> On Thu, 2 Apr 2009, Ziegler Stefan wrote:
> 
> > Mmmmh, I think this is beyond my mental skills ;-) So I 
> start with some
> > questions: what is a pivot datum? And how can I chain datum
> > transformation (without piping in the shell)? How does proj does a
> > re-projection? I assumed something like: projection A -> ellipsoid A
> > ----> here comes the datum transformation ----> ellipsoid B ->
> > projection B. So if I know the accurate relation between 
> ellipsoid A and
> > B (like the +towgs84 params) I'm able to reproject more or 
> less exact?
> 
> No, there is generally an extra stage:
> 
> Source Datum --> datum transformation A --> Pivot datum --> datum
> transformation B --> Target Datum
> 
> Only when either your source or target datum is the same as the pivot 
> datum is there only one datum transformation. For all other 
> cases you need 
> two sets of datum transformation parameters, for the source 
> and target 
> datum to some intermediate pivot datum. Parameters for use of 
> WGS84 as a 
> pivot datum are well defined for most datums. But in your 
> case when you 
> want to use CH1903+ as a pivot datum instead you need to 
> calculate a new 
> set of datum transformation parameters.
> 
> As of yet I'm not sure exactly how to calculate the new 
> parameters but if 
> you post some details of the conversion you're trying to do with some 
> sample points, maybe someone will be able to work it out for you.
> 
> Paul
> 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20090403/82abd342/attachment.html>

From ovv at hetnet.nl  Fri Apr  3 08:52:09 2009
From: ovv at hetnet.nl (OvV_HN)
Date: Fri, 3 Apr 2009 17:52:09 +0200
Subject: [Proj] Test points double stereographic projection
Message-ID: <C83F74229EBA42CA8CD8F173D0D254A4@PCHP>

As promised, and a bit sooner than expected (if at all):
pretty good test points for the double stereographic projection, sterea in 
libproj/proj.

Double stereographic projection
======================

Examples.
My values, compared with (near) official sources.
My values are calculated with a reincarnation of libprojs sterea.

Prince Edward Island
---------------------
Source:
A manual for geodetic coordinate transformations in the maritime provinces, 
D.B. Thomson, E.J. Krakiwsky, R.R. Steeves, Technical Report No. 48, July 
1977, Department of Geodesy and Geomatics Engineering, University of New 
Brunswick, Canada.
http://gge.unb.ca/Pubs/TR48.pdf

lat = 46d 42m 28.147s; lon = -64d 29m 34.014s;
lat0 = 47.25d; lon0 = -63;
x0 = 7e5; y0 = 4e5;
k0 = 0.999912;
Clarke 1866 ellipsoid
->
x = 585855.4464; source: 585855.446 m
y = 340817.7602; source: 340817.760 m


Rijksdriehoeksstelsel Nederland (The Netherlands)
-------------------------------
Source:
"Coördinatentransformator" by Ed Stevenhagen.
https://rdinfo.kadaster.nl/

x = 100000; y = 400000;
lat0 = 52d 9m 22.178s; lon0 = 5d 23m 15.500s;
x0 = 155000.00; y0 = 463000.00;
k0 = 0.9999079;
Bessel 1841 ellipsoid
->
lat = 51d 35m 13.69685s;  source: 51d 35m 13.7s;
lon =  4d 35m 38.106473s; source:  4d 35m 38.1s;
This is without grid interpolation.


Romanian Stereo-70
-------------------
Source:
The Official Viteaz Page
Transformation between the Transylvanian grid coordinates.
Gábor Timár, Space Research Group, Dept. of Geophysics, Eötvös University of 
Budapest, Hungary.
Calculator: viteaz.xls
http://sas2.elte.hu/tg/viteaz_en.htm

x = 430869.000; y = 482668.000;
lat0 = 46; lon0 = 25;
x0 = 5e5; y0 = 5e5;
k0 = 0.99975;
Krasowski 1940 ellipsoid
->
lat = 45d 50m 26.01090s; source: 45d 50m 26.01s
lon = 24d 06m 35.64460s; source: 24d  6m 35.64s


Yours,

Oscar van Vlijmen 




From warmerdam at pobox.com  Fri Apr  3 12:54:51 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri, 03 Apr 2009 15:54:51 -0400
Subject: [Proj] Some questions
In-Reply-To: <10244324.1425591238758496317.JavaMail.support.mn@elisanet.fi>
References: <10244324.1425591238758496317.JavaMail.support.mn@elisanet.fi>
Message-ID: <49D6698B.9010003@pobox.com>

support.mn at elisanet.fi wrote:
> Is there any easy way to open the projection and datum shift ellipsoids
> for the end user to be altered in those cases where required?
> 
> For example something like:
> 
> pellps=.....
> dellps=.....
> 
> where "pellps" would stand for "projection ellipsoid" and
> "dellps" for "datum ellipsoid".
> 
> and when both are the same, just normal
> 
> ellps=....
> 
> where "ellps" stands for both datum and projection. That
> would not alter the existing definitions, but allow more
> accurate control of the ellipsoids involved.

Janne,

No, no such capability has been implemented.  I'm still not too keen
on doing so either for reasons previously stated.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From luckmdw at gmail.com  Sat Apr  4 00:17:51 2009
From: luckmdw at gmail.com (luckmdw at gmail.com)
Date: Sat, 04 Apr 2009 00:17:51 -0700
Subject: [Proj] help me about the pj_init problem
Message-ID: <23395463.1033571238829471579.JavaMail.nabble@tervel.nabble.com>

Hello,my friends:
   I have a trouble that trouble me so  long.in a few weeks ago,i accepte a project to compile a program about gps application,which use the proj.4.6.1,to ran on the intel Xscale  pxa270 Platform.in the fowllow,i configure the PROJ and then compile it on the cross-compiling toolchain.
#!/bin/bash
rm -f config.cache config.status
make clean
CC=arm-linux-gcc \
CXX=arm-linux-g++ \
#CFLAGS="-pipe -s -O2 -march=armv5te -mtune=xscale" \
#LDFLAGS="-Wl,-O1"
./configure --prefix=/root/gis \
  --build=i686-pc-linux-gnu \
  --host=arm-linux \
  --target=arm-linux\
  --with-PACKAGE=yes \
  --enable-FEATURE=yes
make
make install

 I will also post a section of my program that include the pj_init() function that seems cause the error.
void EngineCommon::initialize_proj_ref()
{
    if(projRef != NULL) release_proj_ref();

    char* parameters[]={"proj=lcc","ellps=WGS84"};

//double lat_1=45;
//double lat_2=60;
      if(!(projRef = pj_init(2,parameters))){
     //if(!(projRef = pj_init_plus(*parameters))){
        printf("Projection Initialization Failure: %d\n%s\n",pj_errno,pj_strerrno(pj_errno));
      printf("error number:%d\n",pj_errno);

    }
    
}
    my program can run on the pc succsessfully ,but when i transplantate after compile it together with the proj which utilize the arm cross-compiling toolchian,and then run on the Xscale platform,some information may suggest some error on the terminal,confer to the follow;

   Projection Initialization Failure: -21                      
    conic lat_1 = -lat_2                                                            
    error number:-21                                                                
    table poi_category already exists                                               
    466163d,0d,0    
    Aborted
      but i don't konw the reason ,two weeks have elapsed and i am in urgent for solving the problem , is any friend encouter the same situation ,any suggestion is thanking,help me please!


From support.mn at elisanet.fi  Sat Apr  4 06:51:06 2009
From: support.mn at elisanet.fi (support.mn at elisanet.fi)
Date: Sat, 4 Apr 2009 16:51:06 +0300 (EEST)
Subject: [Proj] Some questions
Message-ID: <23316131.1522601238853066965.JavaMail.support.mn@elisanet.fi>

I understand. The problem for our part is that we are seeking
all the time more and more accuracy. Could we put it behind
some switch? The standard version would not allow such
parameters, but if one switched some switch on, then one
could use such parameters.

Something like:

#define ALLOW_FULL_ELLPS_CONTROL

The full control of the calculation is important for us since we have
to get accurate results (especially in the future). If it is behind some
switch, that does not bother us? The other people will also not
see any difference, since the switch could be off by default.

Regards: Janne. / MNS Support

----------------------------------------

> > For example something like:
> > 
> > pellps=.....
> > dellps=.....
> > 
> > where "pellps" would stand for "projection ellipsoid" and
> > "dellps" for "datum ellipsoid".
> > 
> > and when both are the same, just normal
> > 
> > ellps=....
> > 
> > where "ellps" stands for both datum and projection. That
> > would not alter the existing definitions, but allow more
> > accurate control of the ellipsoids involved.

> 
> No, no such capability has been implemented.  I'm still not too keen
> on doing so either for reasons previously stated.
> 



From warmerdam at pobox.com  Sat Apr  4 08:00:30 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sat, 04 Apr 2009 11:00:30 -0400
Subject: [Proj] help me about the pj_init problem
In-Reply-To: <23395463.1033571238829471579.JavaMail.nabble@tervel.nabble.com>
References: <23395463.1033571238829471579.JavaMail.nabble@tervel.nabble.com>
Message-ID: <49D7760E.8020701@pobox.com>

luckmdw at gmail.com wrote:
>  I will also post a section of my program that include the pj_init() function that seems cause the error.
> void EngineCommon::initialize_proj_ref()
> {
>     if(projRef != NULL) release_proj_ref();
> 
>     char* parameters[]={"proj=lcc","ellps=WGS84"};
> 
> //double lat_1=45;
> //double lat_2=60;
>       if(!(projRef = pj_init(2,parameters))){
>      //if(!(projRef = pj_init_plus(*parameters))){
>         printf("Projection Initialization Failure: %d\n%s\n",pj_errno,pj_strerrno(pj_errno));
>       printf("error number:%d\n",pj_errno);
> 
>     }
>     
> }
>     my program can run on the pc succsessfully ,but when i transplantate after compile it together with the proj which utilize the arm cross-compiling toolchian,and then run on the Xscale platform,some information may suggest some error on the terminal,confer to the follow;
> 
>    Projection Initialization Failure: -21                      
>     conic lat_1 = -lat_2                                                            

Luckmdw,

You have not specified lat_1 or lat_2 values.  I suspect on the PC the
proj_def.dat initialization file is being found which defaults lat_1 to 33
and lat_2 to 45 (good for the continental USA) while on the ARM this file
is not being found and the default of zero and zero is used.  This is
apparently inappropriate for LCC.

Please add appropriate lat_1 and lat_2 values for LCC in your definition. If
you want the same results as on the PC you could explicitly specify:

   char* parameters[]={"proj=lcc","lat_1=33", "lat_2=45", "ellps=WGS84"};

Good luck,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From geraldi.evenden at gmail.com  Mon Apr  6 11:58:53 2009
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Mon, 6 Apr 2009 14:58:53 -0400
Subject: [Proj] Just a short visit with some items
Message-ID: <200904061458.54008.geraldi.evenden@gmail.com>

Hi. Your grumpy old proj'er is back but fortunately only
for a moment to make a couple of announcements:

1. The website:

http://members.verizon.net/~gerald.evenden/proj4/

has been updated to reflect status of my activities
on the new libproject and application spin-offs.
Distribution is by GNU `configure' and I'd appreciate
any trials and comments.  Sorry, only Linux, Unix
and clones.

2. How long this website will retain its name is
problematic because I may be changing phone and
thus Internet provider.  It would be nice to get a
domain name and independent space provider but this
is unbroken ground for me and needs research.

--------------------

It would be nice to link this stuff with a group with
a group that would provide a little more exposure.
This group was appropriate but *severe* philosophic
differences prohibit a tight connection.  Read the
"Note 1" link on the above website title line.  ;-)

--------------------

I am currently updating the proj material with the
only minor addition of option pm=<longitude>.  This
only affects converting longitude data in the
projection process.  Any longitude in the initialization
process is assumed to be in the longitude of the
old prime meridian.

Suggestions of putting geographic limits to data
being projected is impractical.  The main place this
suggestion was aimed at was limiting the longitude
range for UTM.  But UTM longitude range varies from
+-3 degrees for most zones up to +-6 degrees for
some Scandinavian regions.  Also, military limits are
base upon over-ranging in meters---not longitude.  Except
for checking for latitude range (which libproj4 already
does) it is an impractical option.

There will be some changes in the projection structure
but other than the pm addition, there is not expected to
be few entry changes for application programmers or users.
The header file will be changed to <project.h> and the
entry proj_initstr(s) will be dropped because all that
is required is a macro to imitate proj_init(s,1) or, for
that matter, to accommodate 'proj-4.x's' pj_init_plus.
Of course, you could do that with libproj4 some time
ago.

Outside of changing from pj_ to proj_, users who *properly*
employed osgeos proj.4 will have almost no problems using
the project library.

----------------------------

Please forgive me for going back to the all-time stupid
statement from 25 March:

"I would discourage the use of pj_fwd and pj_inv. If "obsolete" is
offensive, how about "private". It is so provincial in this day and
age to think that we merely project and un-project without concern for
datum."

This individual failed to recognize that a very large number
of world scale maps are generated each year.  If a location
is in error by 1km the mislocation on the printed page
is about 1mm for a 1:1,000,000 scale map (regional in
extent depending upon page size) and for a 1:100,000,000
page size world map mislocated by 10 microns.  I doubt
that most map makers will quibble too much on the 1mm
and laugh at 10 microns.  I will suggest that there
are a large population of map makers that rightfully care less
about datum shift.

Secondly, to compare a complex entry like:

p = pj_transform(pj_latlong, pj_merc, 1, &x, &y, NULL );

to the elegance of simplicity:

XY pj_fwd( LP lp, PJ *P );

and infer an improvement?  For shame!!!  For shame!

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist


From roger at opq.se  Tue Apr  7 02:37:11 2009
From: roger at opq.se (Roger Oberholtzer)
Date: Tue, 07 Apr 2009 11:37:11 +0200
Subject: [Proj] Are they six of one...
Message-ID: <1239097032.24368.45.camel@acme.pacific>

I am calculating northings/eastings in SWEREF99 TM, from WGS84
lat/longs. I see that I can specify the calculation in two ways:

"+proj=utm +zone=33 +ellps=GRS80
	+towgs84=0,0,0,0,0,0,0 +no_defs"

"+proj=tmerc +ellps=GRS80 +k=0.9996 +x_0=500000 +y_0=0
	+lon_0=15.0  +lat_0=0.0
	+towgs84=0,0,0,0,0,0,0 +no_defs"

and I get identical results. So I am wondering if either specification
has merit over the other. If no difference in results, could there be
any possible difference in calculation speed? Or any other non-religious
reason to choose one over the other? 

-- 
Roger Oberholtzer

OPQ Systems / Ramböll RST

Ramböll Sverige AB
Krukmakargatan 21
P.O. Box 17009
SE-104 62 Stockholm, Sweden

Office: Int +46 8-615 60 20
Mobile: Int +46 70-815 1696



From ndzinn at comcast.net  Tue Apr  7 05:01:12 2009
From: ndzinn at comcast.net (Noel Zinn)
Date: Tue, 7 Apr 2009 07:01:12 -0500
Subject: [Proj] Some questions
In-Reply-To: <23316131.1522601238853066965.JavaMail.support.mn@elisanet.fi>
References: <23316131.1522601238853066965.JavaMail.support.mn@elisanet.fi>
Message-ID: <08A5A814B8C34CB7A2D327E6B681C97E@PowerSpec>

Janne,

Your two objectives, (1) full ellipsoid control and (2) more and more
accuracy, are contradictory and self defeating.  As we learned in the Google
Maps debate, allowing full ellipsoid control changes the definition of the
projection that (you think) you are using.  For example, the spherical
Mercator is conformal if the geographicals (lat/lon) come from a sphere of
the correct radius.  But if we feed the spherical Mercator equations
geographicals that come from an ellipsoid, the result is non conformal.  The
projection we are actually using is not the spherical Mercator but some
Pseudo Mercator because the equations for distortion (scale factor in this
case) have to be rewritten.  That is not "more and more accuracy".  It's the
opposite.  Who knows what happens to other conformal projections?  Who knows
what happens to the equal area property of equal area projections?
Cartography is more than XY to and from LL.  Projections have properties.
Full ellipsoid control destroys those properties.

Noel Zinn


-----Original Message-----
From: proj-bounces at lists.maptools.org
[mailto:proj-bounces at lists.maptools.org] On Behalf Of support.mn at elisanet.fi
Sent: Saturday, April 04, 2009 8:51 AM
To: PROJ.4 and general Projections Discussions
Subject: Re: [Proj] Some questions

I understand. The problem for our part is that we are seeking
all the time more and more accuracy. Could we put it behind
some switch? The standard version would not allow such
parameters, but if one switched some switch on, then one
could use such parameters.

Something like:

#define ALLOW_FULL_ELLPS_CONTROL

The full control of the calculation is important for us since we have
to get accurate results (especially in the future). If it is behind some
switch, that does not bother us? The other people will also not
see any difference, since the switch could be off by default.

Regards: Janne. / MNS Support

----------------------------------------

> > For example something like:
> > 
> > pellps=.....
> > dellps=.....
> > 
> > where "pellps" would stand for "projection ellipsoid" and
> > "dellps" for "datum ellipsoid".
> > 
> > and when both are the same, just normal
> > 
> > ellps=....
> > 
> > where "ellps" stands for both datum and projection. That
> > would not alter the existing definitions, but allow more
> > accurate control of the ellipsoids involved.

> 
> No, no such capability has been implemented.  I'm still not too keen
> on doing so either for reasons previously stated.
> 

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj



From support.mn at elisanet.fi  Tue Apr  7 07:00:17 2009
From: support.mn at elisanet.fi (support.mn at elisanet.fi)
Date: Tue, 7 Apr 2009 17:00:17 +0300 (EEST)
Subject: [Proj] Some questions
Message-ID: <7096288.1058561239112818234.JavaMail.support.mn@elisanet.fi>

Ok,

I understand the problems very well. The ultimate solution would be such
a definition, that would allow one to define any complexity there is possible
and still have some easy default solutions also.

Janne. / MNS Support

-----------------------------------

Noel Zinn [ndzinn at comcast.net] kirjoitti: 
> Janne,
> 
> Your two objectives, (1) full ellipsoid control and (2) more and more
> accuracy, are contradictory and self defeating.  As we learned in the Google
> Maps debate, allowing full ellipsoid control changes the definition of the
> projection that (you think) you are using.  For example, the spherical
> Mercator is conformal if the geographicals (lat/lon) come from a sphere of
> the correct radius.  But if we feed the spherical Mercator equations
> geographicals that come from an ellipsoid, the result is non conformal.  The
> projection we are actually using is not the spherical Mercator but some
> Pseudo Mercator because the equations for distortion (scale factor in this
> case) have to be rewritten.  That is not "more and more accuracy".  It's the
> opposite.  Who knows what happens to other conformal projections?  Who knows
> what happens to the equal area property of equal area projections?
> Cartography is more than XY to and from LL.  Projections have properties.
> Full ellipsoid control destroys those properties.
> 
> Noel Zinn
> 
> 
> -----Original Message-----
> From: proj-bounces at lists.maptools.org
> [mailto:proj-bounces at lists.maptools.org] On Behalf Of support.mn at elisanet.fi
> Sent: Saturday, April 04, 2009 8:51 AM
> To: PROJ.4 and general Projections Discussions
> Subject: Re: [Proj] Some questions
> 
> I understand. The problem for our part is that we are seeking
> all the time more and more accuracy. Could we put it behind
> some switch? The standard version would not allow such
> parameters, but if one switched some switch on, then one
> could use such parameters.
> 
> Something like:
> 
> #define ALLOW_FULL_ELLPS_CONTROL
> 
> The full control of the calculation is important for us since we have
> to get accurate results (especially in the future). If it is behind some
> switch, that does not bother us? The other people will also not
> see any difference, since the switch could be off by default.
> 
> Regards: Janne. / MNS Support
> 
> ----------------------------------------
> 
> > > For example something like:
> > > 
> > > pellps=.....
> > > dellps=.....
> > > 
> > > where "pellps" would stand for "projection ellipsoid" and
> > > "dellps" for "datum ellipsoid".
> > > 
> > > and when both are the same, just normal
> > > 
> > > ellps=....
> > > 
> > > where "ellps" stands for both datum and projection. That
> > > would not alter the existing definitions, but allow more
> > > accurate control of the ellipsoids involved.
> 
> > 
> > No, no such capability has been implemented.  I'm still not too keen
> > on doing so either for reasons previously stated.
> > 
> 
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
> 
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
> 



From mfinn at usgs.gov  Tue Apr  7 09:58:04 2009
From: mfinn at usgs.gov (Michael P Finn)
Date: Tue, 7 Apr 2009 10:58:04 -0600
Subject: [Proj] Some questions
In-Reply-To: <08A5A814B8C34CB7A2D327E6B681C97E@PowerSpec>
References: <23316131.1522601238853066965.JavaMail.support.mn@elisanet.fi>
	<08A5A814B8C34CB7A2D327E6B681C97E@PowerSpec>
Message-ID: <OF23E54006.8173BCD5-ON87257591.005D2B63-87257591.005D35D9@usgs.gov>

Noel, thank you for sharing the explanation.   Mike Finn





From:
"Noel Zinn" <ndzinn at comcast.net>
To:
"'PROJ.4 and general Projections Discussions'" <proj at lists.maptools.org>
Date:
04/07/2009 06:03 AM
Subject:
Re: [Proj] Some questions
Sent by:
proj-bounces at lists.maptools.org



Janne,

Your two objectives, (1) full ellipsoid control and (2) more and more
accuracy, are contradictory and self defeating.  As we learned in the 
Google
Maps debate, allowing full ellipsoid control changes the definition of the
projection that (you think) you are using.  For example, the spherical
Mercator is conformal if the geographicals (lat/lon) come from a sphere of
the correct radius.  But if we feed the spherical Mercator equations
geographicals that come from an ellipsoid, the result is non conformal. 
The
projection we are actually using is not the spherical Mercator but some
Pseudo Mercator because the equations for distortion (scale factor in this
case) have to be rewritten.  That is not "more and more accuracy".  It's 
the
opposite.  Who knows what happens to other conformal projections?  Who 
knows
what happens to the equal area property of equal area projections?
Cartography is more than XY to and from LL.  Projections have properties.
Full ellipsoid control destroys those properties.

Noel Zinn


-----Original Message-----
From: proj-bounces at lists.maptools.org
[mailto:proj-bounces at lists.maptools.org] On Behalf Of 
support.mn at elisanet.fi
Sent: Saturday, April 04, 2009 8:51 AM
To: PROJ.4 and general Projections Discussions
Subject: Re: [Proj] Some questions

I understand. The problem for our part is that we are seeking
all the time more and more accuracy. Could we put it behind
some switch? The standard version would not allow such
parameters, but if one switched some switch on, then one
could use such parameters.

Something like:

#define ALLOW_FULL_ELLPS_CONTROL

The full control of the calculation is important for us since we have
to get accurate results (especially in the future). If it is behind some
switch, that does not bother us? The other people will also not
see any difference, since the switch could be off by default.

Regards: Janne. / MNS Support

----------------------------------------

> > For example something like:
> > 
> > pellps=.....
> > dellps=.....
> > 
> > where "pellps" would stand for "projection ellipsoid" and
> > "dellps" for "datum ellipsoid".
> > 
> > and when both are the same, just normal
> > 
> > ellps=....
> > 
> > where "ellps" stands for both datum and projection. That
> > would not alter the existing definitions, but allow more
> > accurate control of the ellipsoids involved.

> 
> No, no such capability has been implemented.  I'm still not too keen
> on doing so either for reasons previously stated.
> 

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20090407/3dede7a6/attachment.html>

From geraldi.evenden at gmail.com  Tue Apr  7 11:45:34 2009
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Tue, 7 Apr 2009 14:45:34 -0400
Subject: [Proj] Correction and example.
Message-ID: <200904071445.34625.geraldi.evenden@gmail.com>

Correction to last email

proj_initstr will *not* be replaced with a macro in the near future.

--------------------------------------------------------

Example: instead of the crude example at

http://trac.osgeo.org/proj/wiki/ProjAPI

the following is a little more elegant and handles general input
data, including DMS:

#include "../lib_proj.h"
#include <stdio.h>
#define MAXLINE 1000
int main(int argc, char **argv) {
    char options[] = "proj=merc ellps=clrk66 lat_ts=33";
    char line[MAXLINE], *s;
    PROJ *P;
    PROJ_XY out;
    PROJ_LP in;

    if (!(P = proj_initstr(options))) {
	fprintf(stderr, "projection init failure\n");
	exit(1);
    }
    while (s = fgets(line, MAXLINE, stdin)) {
	in.phi = proj_dmstor(s, &s);
	in.lam = proj_dmstor(s, &s);
	out = proj_fwd(in, P);
	printf("%.2f\t%.2f\n", out.x, out.y);
    }
    exit(0);
}

Remember the mantra:

     "CARTOGRAPHIC PROJECTIONS HAVE NOTHING TO DO WITH DATUMS"

Write that on the board 200 times and you may go home.

Anyway, I've had my say and I are auta here.  TTFN

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist


From Mikael.Rittri at carmenta.com  Wed Apr  8 02:13:24 2009
From: Mikael.Rittri at carmenta.com (Mikael Rittri)
Date: Wed, 8 Apr 2009 11:13:24 +0200
Subject: [Proj] Are they six of one...
In-Reply-To: <1239097032.24368.45.camel@acme.pacific>
References: <1239097032.24368.45.camel@acme.pacific>
Message-ID: <FAF6E56B26D2044696772EBE89B15351017E8863@posty.carmenta.se>

Roger Oberholtzer wrote about +proj=utm versus +proj=tmerc 
when defining SWEREF99 TM:

> If no difference in results, could there be any 
> possible difference in calculation speed?

No. In the file src/PJ_tmerc.c, you can see the 
initialization code for +proj=utm, and it just 
translates the zone and hemisphere parameters 
into ordinary tmerc parameters. After this 
initialization is done, the computations 
should be exactly the same. 

> Or any other non-religious reason to choose 
> one over the other? 

Human readability, perhaps? If you use +proj=utm, it 
is obvious from the command line that SWEREF99 TM 
uses the same projection as UTM Zone 33 North. 
That's less obvious with the +proj=tmerc definition. 

On the other hand, maybe you _want_ to obscure this
fact, to avoid confusion, since SWEREF99 TM has not 
the same area of use as WGS84 UTM Zone 33 North.  
Its area of use is wider to cover Sweden, and not
as tall (if "tall" is the right word).  The Swedish
Land Survey do not say that SWEREF99 TM _is_ UTM,
they just claim 
   "consistency with UTM in the major part of the country."
   (http://www.lantmateriet.se/templates/LMV_Page.aspx?id=4219&lang=EN)  

So I'd say the choice is a matter of taste (or religion). 

Best regards,
--
Mikael Rittri
Carmenta AB
SWEDEN
www.carmenta.com

-----Original Message-----
From: proj-bounces at lists.maptools.org [mailto:proj-bounces at lists.maptools.org] On Behalf Of Roger Oberholtzer
Sent: den 7 april 2009 11:37
To: proj at lists.maptools.org
Subject: [Proj] Are they six of one...

I am calculating northings/eastings in SWEREF99 TM, from WGS84 lat/longs. I see that I can specify the calculation in two ways:

"+proj=utm +zone=33 +ellps=GRS80
	+towgs84=0,0,0,0,0,0,0 +no_defs"

"+proj=tmerc +ellps=GRS80 +k=0.9996 +x_0=500000 +y_0=0
	+lon_0=15.0  +lat_0=0.0
	+towgs84=0,0,0,0,0,0,0 +no_defs"

and I get identical results. So I am wondering if either specification has merit over the other. If no difference in results, could there be any possible difference in calculation speed? Or any other non-religious reason to choose one over the other? 

--
Roger Oberholtzer

OPQ Systems / Ramböll RST

Ramböll Sverige AB
Krukmakargatan 21
P.O. Box 17009
SE-104 62 Stockholm, Sweden

Office: Int +46 8-615 60 20
Mobile: Int +46 70-815 1696

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj


From ckarney at sarnoff.com  Sat Apr 11 06:36:50 2009
From: ckarney at sarnoff.com (Charles Karney)
Date: Sat, 11 Apr 2009 09:36:50 -0400
Subject: [Proj] Bessel and the geodesic problem
Message-ID: <ssrvdpbe2h9.fsf@petrel.petrel.org>

I was reading Bessel's paper on geodesics

  F.W. Bessel,
  Ueber die Berechnung der geographischen Laengen und Breiten aus
  geodaetischen Vermessungen,
  Astron. Nachr. 4, 241-254 (1826),
  http://adsabs.harvard.edu/abs/1826AN......4..241B

(brushing off some very rusty German I learned in Vienna, long long
ago), and was struck by two things:

(1) How much of the problem he tackles in this one paper

  * calculus of variations for a rotationally symmetric figure
  * introduction of the auxiliary sphere;
  * specialization to ellipsoid with the differential equations for
    distance and longitude;
  * identification of integrals as elliptic integrals;
  * series expansions of the integrals;
  * an assessment of the number of terms necessary to provide accuracy
    to 0.001" and 0.0001" (3cm and 3mm);
  * tabulation of the coefficients of the expansions valid for arbitrary
    eccentricity (given to 8 places for the leading terms);
  * a worked example (Seeberg to Dunkirk, a distance of 300818 toises =
    586 km, with the result accurate to 0.001").

Essentially, he cleans up the direct geodesic problem, with the minor
caveat that he has to pull a hack to express the longitude integral in
terms of a single parameter so that the coefficients can be tabulated
(he pushes the dependence on the second parameter off into a higher
order term).

(2) However, the real eye-opener was that Bessel uses a change of
variable so that half the terms in his expansions drop out!  (Having to
evaluate a series several hundred times in order to compile an
exhaustive table is powerful motivation to look for such tricks.)

This change of variable essentially exposes a symmetry between prolate
and oblate ellipsoids and this symmetry causes the coefficients of
sin(2*k*sigma)*eps^m to vanish if k+m is odd.

The peculiar thing is that this technique seems to have been promptly
forgotten.  Certainly most of the 20th century literature (Rainsford,
Vicenty, Bowring, Rapp) doesn't use it.

Here's a comparison of the expansions for the distance integral for the
geodesic problem (DISPLAY WITH A FIXED WIDTH FONT!).

The integral is question is

  s/b = integral(sqrt(1 + u2 * sin(sigma)^2, sigma)

where u2 = e^2/(1-e^2) * cos(alpha0)^2 and e^2 = f * (2-f), s =
distance, b = minor radius, f = flattening, sigma = arc length on
auxiliary sphere.

The expansion [Rainsford, Rapp, et al.] of s/b as a Taylor series in u2
up to O(f^4) is:

                          2       3         4
                 u2   3 u2    5 u2    175 u2
   sigma * ( 1 + -- - ----- + ----- - ------- + . . . )
                 4     64      256     16384

                             2        3        4
                      u2   u2    15 u2    35 u2
 - sin(2 * sigma) * ( -- - --- + ------ - ------ + . . . )
                      8    32     1024     4096

                        2       3        4
                      u2    3 u2    35 u2
 - sin(4 * sigma) * ( --- - ----- + ------ + . . . )
                      256   1024    16384

                        3        4
                      u2     5 u2
 - sin(6 * sigma) * ( ---- - ----- + . . . )
                      3072   12288

                          4
                      5 u2
 - sin(8 * sigma) * ( ------ + . . . )
                      131072


Bessel (1926) substitutes

  u2 = 4 * eps / (1 - eps)^2

and expands (1-eps) * s/b as a Taylor series in eps up to O(f^4) to
give:

                     2      4
                  eps    eps
   sigma * ( 1 + ---- + ---- + . . . )
                   4      64

                               3
                      eps   eps
 - sin(2 * sigma) * ( --- - ---- + . . . )
                       2     16

                         2      4
                      eps    eps
 - sin(4 * sigma) * ( ---- - ---- + . . . )
                       16     64

                         3
                      eps
 - sin(6 * sigma) * ( ---- + . . . )
                       48

                           4
                      5 eps
 - sin(8 * sigma) * ( ------ + . . . )
                       512

With Bessel's substitution, there are half the number of terms and the
convergence is faster.  (Bessel writes the coefficients so that the
pattern is clear.  See the expressions for A, B, and C on p. 246 of his
paper.)

A final note: The notation in Bessel's paper is thoroughly modern.  A
colleague reminded me that vector notation had to wait another 75 years
for Gibbs.  Aside from this, the minor pecularities are

  * RR, ee, for e^2, R^2 (but the exponent notation is used elsewhere);

  * variable notation for trig functions (e.g., tgt and tang for tan);

  * "cos m^2" for (cos m)^2 (now printed as cos^2 m);

  * log10(0.2) = 9.301, instead of the 20th century notation of bar1.301
    (and of course there is no 21th century notation for logs as a means
    of hand calculation).

You've got to love that 19th century mathematics!

-- 
Charles Karney <ckarney at sarnoff.com>
Sarnoff Corporation, Princeton, NJ 08543-5300

Tel: +1 609 734 2312
Fax: +1 609 734 2662


From Stefan.Ziegler at bd.so.ch  Tue Apr 14 01:30:37 2009
From: Stefan.Ziegler at bd.so.ch (Ziegler Stefan)
Date: Tue, 14 Apr 2009 10:30:37 +0200
Subject: [Proj] Problems using grid shift files
Message-ID: <H00002ea0494797c.1239697835.srsofaioi6145.ktso.ch@MHS>

Hi Paul

just want to let you know that it works now. I had to change 4 lines in
the pj_transform.c file (some wgs84 hardcoded stuff for shift grids) and
then changed the definitions in the epsg file as suggested. And the best
thing is, that it works with MapServer too (vector and raster data). I'm
now able to do an on-the-fly equalization :)

Thanks
Stefan

> -----Ursprüngliche Nachricht-----
> Von: Paul Kelly [mailto:paul-grass at stjohnspoint.co.uk]
> Gesendet am: Freitag, 3. April 2009 14:58
> An: Ziegler Stefan
> Cc: proj
> Betreff: Re: AW: Re: AW: Re: [Proj] Problems using grid shift files
> 
> Hello,
> I think it would help if you give an example of one of the 
> transformations 
> that gave the incorrect results, with the exact cs2cs 
> command-line you 
> used and test points.
> 
> On Thu, 2 Apr 2009, Ziegler Stefan wrote:
> 
> > Mmmmh, I think this is beyond my mental skills ;-) So I 
> start with some
> > questions: what is a pivot datum? And how can I chain datum
> > transformation (without piping in the shell)? How does proj does a
> > re-projection? I assumed something like: projection A -> ellipsoid A
> > ----> here comes the datum transformation ----> ellipsoid B ->
> > projection B. So if I know the accurate relation between 
> ellipsoid A and
> > B (like the +towgs84 params) I'm able to reproject more or 
> less exact?
> 
> No, there is generally an extra stage:
> 
> Source Datum --> datum transformation A --> Pivot datum --> datum
> transformation B --> Target Datum
> 
> Only when either your source or target datum is the same as the pivot 
> datum is there only one datum transformation. For all other 
> cases you need 
> two sets of datum transformation parameters, for the source 
> and target 
> datum to some intermediate pivot datum. Parameters for use of 
> WGS84 as a 
> pivot datum are well defined for most datums. But in your 
> case when you 
> want to use CH1903+ as a pivot datum instead you need to 
> calculate a new 
> set of datum transformation parameters.
> 
> As of yet I'm not sure exactly how to calculate the new 
> parameters but if 
> you post some details of the conversion you're trying to do with some 
> sample points, maybe someone will be able to work it out for you.
> 
> Paul
> 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20090414/0692a7f2/attachment.html>

From ckarney at Sarnoff.com  Fri Apr 24 13:00:54 2009
From: ckarney at Sarnoff.com (Karney, Charles)
Date: Fri, 24 Apr 2009 16:00:54 -0400
Subject: [Proj] Bessel and the geodesic problem
In-Reply-To: <ssrvdpbe2h9.fsf@petrel.petrel.org>
References: <ssrvdpbe2h9.fsf@petrel.petrel.org>
Message-ID: <91F640D26AB8E54982706321A514CA2652B10F6D21@MALIBU.sarnoff.internal>

> The peculiar thing is that this technique seems to have been promptly
> forgotten.  Certainly most of the 20th century literature (Rainsford,
> Vicenty, Bowring, Rapp) doesn't use it.

No, I'm wrong about Vincenty...

Vincenty's 1975 paper [Survey Review 23(176), 88-93 (Apr. 1975)] does
indeed ignore Bessel's method for halving the number of terms in the
series

However, in a subsequent letter to the journal [Survey Review 23(180),
294 (Apr. 1976)], he gives shorter expressions for his constants A and
B, eqs (3) and (4), using Bessel's variable (citing Helmert's book).

His new formulas for A and B are:

    eps = (sqrt(u^2 + 1) - 1) / (sqrt(u^2 + 1) + 1)
    A = (1 + eps^2/4) / (1 - eps)
    B = eps * (1 - 3*eps^2/8)

except that he uses Helmert's notation eps = k_1.  I would also
improve the expression for eps with

    eps = u^2/(2 + 2*sqrt(u^2+1) + u^2)

As far as I can tell, implementors of Vincenty's method have overlooked
this optimization.  (In fact, it will improve the accuracy of the method
as well.)

--
Charles Karney <ckarney at sarnoff.com>
Sarnoff Corporation, Princeton, NJ 08543-5300

Tel: +1 609 734 2312
Fax: +1 609 734 2662


From geraldi.evenden at gmail.com  Sat Apr 25 07:40:43 2009
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Sat, 25 Apr 2009 10:40:43 -0400
Subject: [Proj] CC is back
Message-ID: <200904251040.43132.geraldi.evenden@gmail.com>

Your Curmudgeon Cartographer is back.

As you may have noted (through some unknown accident) that the old 'proj' 
Verizon site is now dead.  The equivalent is now available at:

http://home.comcast.net/~gevenden56/geodesy/project/

A little rough around the edges but the critical parts seem to work.

The projection library has now been converted and I am currently spot checking 
the results.  The meanest part of the change over was the modifiction to 
proj_param which often proviced cleaner code in the using procedures.

Individual projection usage comments were significantly cleaned up and 
expanded in many cases: known to y'all as the results of a [l]proj -lP 
expanded list.

Option pm=<prime meridian> was added.  More about this and datum corrections 
in later email.

One problem persists which may not be solvable.  Processing argument strings 
was improved whereas the strings could be of type 'const'.  Thus:

VOID *proj_initstr(const char *);

But a problem exists with the list version proj_init;

Next phase is the retool the making of the libproject distribution which is 
getting much more complicated than the original distribution.  ;-(

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist


From geraldi.evenden at gmail.com  Sat Apr 25 10:22:37 2009
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Sat, 25 Apr 2009 13:22:37 -0400
Subject: [Proj] Minor initialization problem
Message-ID: <200904251322.37135.geraldi.evenden@gmail.com>

It seems I ran into a hole in the C specification regarding arrays of constant 
chars which make the compilation of proj_init exude a warning but will 
compile OK.

I was hoping to use a construct making the character string array elements of 
argv as type const.  But that is either impossible or impractical.  However, 
internal usage of the arrays are as const even though the prototype is 
void *proj_init(int, char **);

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist


From j.l.h.hartmann at uva.nl  Sat Apr 25 14:49:51 2009
From: j.l.h.hartmann at uva.nl (Jan Hartmann)
Date: Sat, 25 Apr 2009 23:49:51 +0200
Subject: [Proj] CC is back
In-Reply-To: <200904251040.43132.geraldi.evenden@gmail.com>
References: <200904251040.43132.geraldi.evenden@gmail.com>
Message-ID: <49F3857F.8020406@uva.nl>

Quoting from the new site's procedure list:

"[vague future]Datum conversions---in part will include resurrected 
material from original proj distribution as well as alternative methods"

I am *very* interested in that one!

Jan Hartmann

Gerald I. Evenden wrote:
> Your Curmudgeon Cartographer is back.
>
> As you may have noted (through some unknown accident) that the old 'proj' 
> Verizon site is now dead.  The equivalent is now available at:
>
> http://home.comcast.net/~gevenden56/geodesy/project/
>
> A little rough around the edges but the critical parts seem to work.
>
> The projection library has now been converted and I am currently spot checking 
> the results.  The meanest part of the change over was the modifiction to 
> proj_param which often proviced cleaner code in the using procedures.
>
> Individual projection usage comments were significantly cleaned up and 
> expanded in many cases: known to y'all as the results of a [l]proj -lP 
> expanded list.
>
> Option pm=<prime meridian> was added.  More about this and datum corrections 
> in later email.
>
> One problem persists which may not be solvable.  Processing argument strings 
> was improved whereas the strings could be of type 'const'.  Thus:
>
> VOID *proj_initstr(const char *);
>
> But a problem exists with the list version proj_init;
>
> Next phase is the retool the making of the libproject distribution which is 
> getting much more complicated than the original distribution.  ;-(
>
>   


From al001 at uni-koeln.de  Sun Apr 26 02:14:03 2009
From: al001 at uni-koeln.de (Irwin Scollar)
Date: Sun, 26 Apr 2009 11:14:03 +0200
Subject: [Proj] Lambert Conformal Conic
Message-ID: <200904260914.n3Q9E6as002666@smtp-auth.uni-koeln.de>

In France, the Institut Géographique National 
(IGN) has abandoned mapping using four Lambert 
secant conic zones which were in use after World 
War One based on the NTF (Nouvelle Triangulation 
de la France) of the late 19th and early 20th 
century and the Clarke 1880 ellipsoid.

Today, three variants are supported by IGN, one 
using a WGS84 ellipsoid covering the whole of the 
country called Lambert 93, one using the Clarke 
1880 ellipsoid like the old NTF based grid did, 
with the dual latitudes of the old NTF zone II 
and a different false Northing called Lambert 
Extended II, and one for higher precision using 9 
zones and the GRS80/WGS84 ellipsoid called 
Lambert CC (Coniques Conformes).  Lambert 93 is 
now the standard for most products from the IGN.

These recent developments are not included in 
Cliff Mugnier's ASPRS article of 2001:

http://www.asprs.org/resources/grids/01-2001-france.pdf

For calculating single points in the new systems, 
IGN offers their interactive program Circé which 
has a user interface similar to Geotrans 2 from 
NGA with the supporting maths described in:

<http://professionnels.ign.fr/DISPLAY/000/526/700/5267002/transformaton.pdf>http://professionnels.ign.fr/DISPLAY/000/526/700/5267002/transformaton.pdf 


(2004)

Lambert 93 and Lambert Extended II coordinates as 
well as GRS80 Lat/Lons can be viewed 
interactively  for high resolution aerial 
photographs with a number of overlays including 
the cadastral maps in metropolitan France at:

<http://www.geoportail.fr/visu2D.do?ter=metropole>http://www.geoportail.fr/visu2D.do?ter=metropolehttp://www.geoportail.fr/visu2D.do?ter=metropole

The formulae in the IGN  paper "transformaton.pdf 
" (note the missing i) appear to differ slightly 
from those for this projection in Snyder, US 
Geological Survey Professional Paper 1395, 4th 
Ed. 1987, pp. 107-109 as well as those in Cliff 
Mugnier's contribution to the 5th edition of the 
ASPRS Manual of Photogrammetry, p. 194-197 and in proj4 pj_lcc.c

A discussion similar to the recent one concerning 
the Transverse Mercator about the accuracy and 
speed of the different approaches for computing 
conformal grid values with the Lambert Conic 
secant projection for France and elsewhere would be greatly appreciated.

Irwin Scollar  



From jerome at georezo.net  Sun Apr 26 04:30:34 2009
From: jerome at georezo.net (=?iso-8859-1?Q?Cuinet_J=E9r=F4me?=)
Date: Sun, 26 Apr 2009 13:30:34 +0200
Subject: [Proj] Lambert Conformal Conic
In-Reply-To: <200904260914.n3Q9E6as002666@smtp-auth.uni-koeln.de>
References: <200904260914.n3Q9E6as002666@smtp-auth.uni-koeln.de>
Message-ID: <43D675DBB77A4C19806C0BA16E354F19@JCPORTABLE>

With both Lambert 93 and 9 Lambert CC, the ellipsoid used is the GRS80 (wich 
is similar to WGS84), the precision is the same. The one difference is the 
scale factor on the application area. The geodetic datum is named RGF93 
(réseau géodésique français).

For Lambert II Étendu, the geodetic datum has always been NTF. There are no 
changement, and I think that datum or based grid is as important as 
ellipsoid specification.

Jérôme Cuinet

----- Original Message ----- 
From: "Irwin Scollar" <al001 at uni-koeln.de>
To: <proj at lists.maptools.org>
Sent: Sunday, April 26, 2009 11:14 AM
Subject: [Proj] Lambert Conformal Conic

Today, three variants are supported by IGN, one
using a WGS84 ellipsoid covering the whole of the
country called Lambert 93, one using the Clarke
1880 ellipsoid like the old NTF based grid did,
with the dual latitudes of the old NTF zone II
and a different false Northing called Lambert
Extended II, and one for higher precision using 9
zones and the GRS80/WGS84 ellipsoid called
Lambert CC (Coniques Conformes).  Lambert 93 is
now the standard for most products from the IGN.

Irwin Scollar



From ovv at hetnet.nl  Sun Apr 26 04:41:44 2009
From: ovv at hetnet.nl (OvV_HN)
Date: Sun, 26 Apr 2009 13:41:44 +0200
Subject: [Proj] Lambert Conformal Conic
In-Reply-To: <200904260914.n3Q9E6as002666@smtp-auth.uni-koeln.de>
References: <200904260914.n3Q9E6as002666@smtp-auth.uni-koeln.de>
Message-ID: <BCBB8BDB114340F6B1D90D414A21D624@PCHP>

There are more disturbing differences with respect to the Lambert 
projection.
Like the French IGN according to the publication "Transformaton.pdf", the 
Belgian NGI work with fixed values of two projection constants. In normal 
applications, they are calculated.
This can give differences.

Let's focus our attention first to the publication:

"Coördinaattransformaties en kaartprojecties"
Ministerie van Verkeer en Waterstaat, Directoraat-Generaal Rijkswaterstaat, 
Meetkundige Dienst
3e herziene uitgave, December 2000
MD-rapportnummer: MDGAP - 2000.31
Ch. 4.5 "De Lambert-projectie"
http://www.rdnap.nl/download/coor-en-proj.zip

Yes, this is a publication from the Netherlands, but the Belgian Lambert72 
projection is carefully delineated with an example. The mentioned projection 
constants are the same as are published by the Belgian NGI in an old 
publication.

Remarkably: the test point mentioned on the NGI page
http://www.ngi.be/NL/NL2-1-4.shtm
cannot be reproduced by the (correct) algorithm, published in the more 
recent publication, also found on that web page
<http://www.ngi.be/Common/Lambert2008/Transformation_Geographic_Lambert_NL.pdf>
The given results can however be reproduced if you take the projection 
constants, mentioned in the still available publication 
"Coördinaattransformaties en kaartprojecties" mentioned above.

The Belgian example at hand reads:

Lambert 1972 projection
lat = 50d 40m 46.461s N; lon = 5d 48m 26.533s E;
Published grid coordinates: X = 251763.204; Y = 153034.174 m
With the published projection constants
p = 0.7716421928
k = 11565915.812935
I get:
251763.20419; 153034.17402
But with the exactly calculated projection constants I get:
251763.20416; 153034.13255
Note the large difference in Y.
The reason for this difference is that there is a small error in the 
published projection constants.
These numbers were used for many years.

You can also calculate the Lambert 1972 with the standard LCC procedure, but 
with an adjusted lat1, lat2, x0 and y0. Depending on the truncation of these 
numbers, you can get slightly different values.
For instance, with
lat1 = 49d 50m 0.00204s; lat2 = 51d 10m 0.00204s;
x0 = 150000.01256; y0 = 5400088.4378;
I get:
251763.20461; 153034.17552


The same problem occurs with the Hungarian EOV projection (not supported by 
PROJ): small differences are obtained whether one uses the published values 
of certain projection constants, or if one calculates them exactly.


Oscar van Vlijmen



----- Original Message ----- 
From: "Irwin Scollar" <al001 at uni-koeln.de>
To: <proj at lists.maptools.org>
Sent: Sunday, April 26, 2009 11:14 AM
Subject: [Proj] Lambert Conformal Conic


In France, the Institut Géographique National
(IGN) has abandoned mapping using four Lambert
secant conic zones which were in use after World
War One based on the NTF (Nouvelle Triangulation
de la France) of the late 19th and early 20th
century and the Clarke 1880 ellipsoid.

....

A discussion similar to the recent one concerning
the Transverse Mercator about the accuracy and
speed of the different approaches for computing
conformal grid values with the Lambert Conic
secant projection for France and elsewhere would be greatly appreciated.

Irwin Scollar






From geraldi.evenden at gmail.com  Sun Apr 26 07:57:44 2009
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Sun, 26 Apr 2009 10:57:44 -0400
Subject: [Proj] Lambert Conformal Conic
In-Reply-To: <BCBB8BDB114340F6B1D90D414A21D624@PCHP>
References: <200904260914.n3Q9E6as002666@smtp-auth.uni-koeln.de>
	<BCBB8BDB114340F6B1D90D414A21D624@PCHP>
Message-ID: <200904261057.44362.geraldi.evenden@gmail.com>

On Sunday 26 April 2009 7:41:44 am OvV_HN wrote:
> There are more disturbing differences with respect to the Lambert
> projection.
>	....
> The Belgian example at hand reads:
>
> Lambert 1972 projection
> lat = 50d 40m 46.461s N; lon = 5d 48m 26.533s E;
> Published grid coordinates: X = 251763.204; Y = 153034.174 m
> With the published projection constants

Question: where do these constants come from and/or what do they mean?

I am not aware of making conic specifications in this manner.

> p = 0.7716421928
> k = 11565915.812935
> I get:
> 251763.20419; 153034.17402
> But with the exactly calculated projection constants I get:
> 251763.20416; 153034.13255
> Note the large difference in Y.
	...
-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist


From ovv at hetnet.nl  Sun Apr 26 09:00:43 2009
From: ovv at hetnet.nl (OvV_HN)
Date: Sun, 26 Apr 2009 18:00:43 +0200
Subject: [Proj] Lambert Conformal Conic
In-Reply-To: <200904261057.44362.geraldi.evenden@gmail.com>
References: <200904260914.n3Q9E6as002666@smtp-auth.uni-koeln.de><BCBB8BDB114340F6B1D90D414A21D624@PCHP>
	<200904261057.44362.geraldi.evenden@gmail.com>
Message-ID: <795CE6F0F0BF47CDB2123923065820B0@PCHP>


----- Original Message ----- 
From: "Gerald I. Evenden" <geraldi.evenden at gmail.com>
To: "PROJ.4 and general Projections Discussions" <proj at lists.maptools.org>
Sent: Sunday, April 26, 2009 4:57 PM
Subject: Re: [Proj] Lambert Conformal Conic


> On Sunday 26 April 2009 7:41:44 am OvV_HN wrote:
>> There are more disturbing differences with respect to the Lambert
>> projection.
>> ....
>> The Belgian example at hand reads:
>>
>> Lambert 1972 projection
>> lat = 50d 40m 46.461s N; lon = 5d 48m 26.533s E;
>> Published grid coordinates: X = 251763.204; Y = 153034.174 m
>> With the published projection constants
>
> Question: where do these constants come from and/or what do they mean?
>
> I am not aware of making conic specifications in this manner.

Now you are. I think it's a filthy habit, developed in a time when CPU time 
was at a premium.
People calculated probably with a hand calculator the projection variables 
that are not varying for a given application.
I would like to refer to the EPSG Guidance note G7-2, specifically the 
formulae of paragraph 1.3.1.1 of the Jan 2009 version (EPSG dataset 
coordinate operation method code 9802).
Constant p in my email is the same as constant n in the EPSG Guidance note 
G7-2 and constant k is the same as a*F in the same publication.

Oscar van Vlijmen




From ckarney at Sarnoff.com  Sun Apr 26 17:01:16 2009
From: ckarney at Sarnoff.com (Karney, Charles)
Date: Sun, 26 Apr 2009 20:01:16 -0400
Subject: [Proj] Lambert Conformal Conic
In-Reply-To: <795CE6F0F0BF47CDB2123923065820B0@PCHP>
References: <200904260914.n3Q9E6as002666@smtp-auth.uni-koeln.de><BCBB8BDB114340F6B1D90D414A21D624@PCHP>
	<200904261057.44362.geraldi.evenden@gmail.com>,
	<795CE6F0F0BF47CDB2123923065820B0@PCHP>
Message-ID: <91F640D26AB8E54982706321A514CA2652B10F6D23@MALIBU.sarnoff.internal>

Another example of frozen-in approximate constants...

geotrans (thru at least version 2.4.2) defines the latitude of true
scale for the UPS projection as 81.114528 (see definition of
MAX_ORIGIN_LAT in ups/ups.c).  However, if we assume that UPS is defined
as having a scale of 0.994 at the pole, then the latitude of true scale
is really 81.11451786859362545 or so.

I reported this to the geotrans maintainers in July of last year and
they declined to fix it because doing so would cause their (presumably
incorrect) tests to fail!

--
Charles Karney <ckarney at sarnoff.com>
Sarnoff Corporation, Princeton, NJ 08543-5300

Tel: +1 609 734 2312
Fax: +1 609 734 2662


From Mikael.Rittri at carmenta.com  Mon Apr 27 04:12:18 2009
From: Mikael.Rittri at carmenta.com (Mikael Rittri)
Date: Mon, 27 Apr 2009 13:12:18 +0200
Subject: [Proj] Terminology: what should I call 60 nautical miles?
Message-ID: <FAF6E56B26D2044696772EBE89B153510189F58D@posty.carmenta.se>

Hello,
I would like a term for the length unit that is 60 nautical miles.  

This length unit would approximate one degree of 
arc distance, in the same way as one nautical mile 
approximates one minute of arc distance.

I have thought of the phrase "degree of arc distance" 
(which I think agrees, more or less, with how Snyder uses this phrase)
but some of my colleagues dislike it. 

I have also thought of the phrase "exēntanautical mile",
from Greek "exēnta" = 60, but... 

--
Mikael Rittri
Carmenta AB
SWEDEN
www.carmenta.com


From ndzinn at comcast.net  Mon Apr 27 05:12:13 2009
From: ndzinn at comcast.net (ndzinn at comcast.net)
Date: Mon, 27 Apr 2009 12:12:13 +0000 (UTC)
Subject: [Proj] Terminology: what should I call 60 nautical miles?
In-Reply-To: <FAF6E56B26D2044696772EBE89B153510189F58D@posty.carmenta.se>
Message-ID: <1902196603.1803031240834333581.JavaMail.root@sz0121a.emeryville.ca.mail.comcast.net>



Sexaginta, Latin for sixty (as noun), or sexagimal (as ajective) might offer some possibilities.  -Noel 




----- Original Message ----- 
From: "Mikael Rittri" <Mikael.Rittri at carmenta.com> 
To: proj at lists.maptools.org 
Sent: Monday, April 27, 2009 6:12:18 AM GMT -06:00 US/Canada Central 
Subject: [Proj] Terminology: what should I call 60 nautical miles? 

Hello, 
I would like a term for the length unit that is 60 nautical miles.   

This length unit would approximate one degree of 
arc distance, in the same way as one nautical mile 
approximates one minute of arc distance. 

I have thought of the phrase "degree of arc distance" 
(which I think agrees, more or less, with how Snyder uses this phrase) 
but some of my colleagues dislike it. 

I have also thought of the phrase "exēntanautical mile", 
from Greek "exēnta" = 60, but... 

-- 
Mikael Rittri 
Carmenta AB 
SWEDEN 
www.carmenta.com 
_______________________________________________ 
Proj mailing list 
Proj at lists.maptools.org 
http://lists.maptools.org/mailman/listinfo/proj
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20090427/ddb14207/attachment.html>

From Mikael.Rittri at carmenta.com  Mon Apr 27 05:56:47 2009
From: Mikael.Rittri at carmenta.com (Mikael Rittri)
Date: Mon, 27 Apr 2009 14:56:47 +0200
Subject: [Proj] Terminology: what should I call 60 nautical miles?
In-Reply-To: <1902196603.1803031240834333581.JavaMail.root@sz0121a.emeryville.ca.mail.comcast.net>
References: <FAF6E56B26D2044696772EBE89B153510189F58D@posty.carmenta.se>
	<1902196603.1803031240834333581.JavaMail.root@sz0121a.emeryville.ca.mail.comcast.net>
Message-ID: <FAF6E56B26D2044696772EBE89B153510189F5C7@posty.carmenta.se>

Noel wrote: 
 

 >  Sexaginta, Latin for sixty (as noun), or sexagimal (as ajective) might offer some possibilities.  -Noel 

 

I don't think so. 

Greek numbers are multiplied with.  For example hekto-, kilo-, mega-, ...  

Latin numbers are divided by.  For example deci-, centi-, milli-, ... 

At least, I think that's the original rule.   

 

So, a "sexaginautical mile" ought be 1/60 nautical mile (or about a second of arc distance). 

 

Anyway, "exēntanautical mile" is a rather horrible phrase, and I don't think many 

people know that exēnta means 60 in Greek (I didn't either, until I googled it). 

 

But thanks for the suggestion,

  Mikael 


----- Original Message -----
From: "Mikael Rittri" <Mikael.Rittri at carmenta.com>
To: proj at lists.maptools.org
Sent: Monday, April 27, 2009 6:12:18 AM GMT -06:00 US/Canada Central
Subject: [Proj] Terminology: what should I call 60 nautical miles?

Hello,
I would like a term for the length unit that is 60 nautical miles.  

This length unit would approximate one degree of 
arc distance, in the same way as one nautical mile 
approximates one minute of arc distance.

I have thought of the phrase "degree of arc distance" 
(which I think agrees, more or less, with how Snyder uses this phrase)
but some of my colleagues dislike it. 

I have also thought of the phrase "exēntanautical mile",
from Greek "exēnta" = 60, but... 

--
Mikael Rittri
Carmenta AB
SWEDEN
www.carmenta.com
_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20090427/411a74ea/attachment.html>

From geraldi.evenden at gmail.com  Mon Apr 27 07:05:01 2009
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Mon, 27 Apr 2009 10:05:01 -0400
Subject: [Proj] Terminology: what should I call 60 nautical miles?
In-Reply-To: <FAF6E56B26D2044696772EBE89B153510189F58D@posty.carmenta.se>
References: <FAF6E56B26D2044696772EBE89B153510189F58D@posty.carmenta.se>
Message-ID: <200904271005.01703.geraldi.evenden@gmail.com>

On Monday 27 April 2009 7:12:18 am Mikael Rittri wrote:
> Hello,
> I would like a term for the length unit that is 60 nautical miles.

Dare I ask why?

The "nautical mile" is a rather old fashion term handy in the days of sailing 
on a chart with sextant and chronometer.

I thought everyone was supposed to go metric---an underachieved effort on this 
side of the pond. 

> This length unit would approximate one degree of
> arc distance, in the same way as one nautical mile
> approximates one minute of arc distance.
>
> I have thought of the phrase "degree of arc distance"
> (which I think agrees, more or less, with how Snyder uses this phrase)
> but some of my colleagues dislike it.
>
> I have also thought of the phrase "exēntanautical mile",
> from Greek "exēnta" = 60, but...
>
> --
> Mikael Rittri
> Carmenta AB
> SWEDEN
> www.carmenta.com
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj



-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist


From cjmce at lsu.edu  Mon Apr 27 07:51:16 2009
From: cjmce at lsu.edu (Clifford J Mugnier)
Date: Mon, 27 Apr 2009 09:51:16 -0500
Subject: [Proj] Terminology: what should I call 60 nautical miles?
References: <FAF6E56B26D2044696772EBE89B153510189F58D@posty.carmenta.se>
	<200904271005.01703.geraldi.evenden@gmail.com>
Message-ID: <B597ADFC46B67741B18EA6AA13613FF7EC26A8@email002.lsu.edu>

One minute of arc distance at what latitude?
 
On a sphere, "longitude varies as the cosine of the latitude" but we're not on a sphere, are we?
 
This stuff is not complicated enough for lay people now, so we have to add another esoteric label to shorten "60 nm?"
 
C. Mugnier
LSU

________________________________

From: proj-bounces at lists.maptools.org on behalf of Gerald I. Evenden
Sent: Mon 27-Apr-09 09:05
To: PROJ.4 and general Projections Discussions
Subject: Re: [Proj] Terminology: what should I call 60 nautical miles?



On Monday 27 April 2009 7:12:18 am Mikael Rittri wrote:
> Hello,
> I would like a term for the length unit that is 60 nautical miles.

Dare I ask why?

The "nautical mile" is a rather old fashion term handy in the days of sailing
on a chart with sextant and chronometer.

I thought everyone was supposed to go metric---an underachieved effort on this
side of the pond.

> This length unit would approximate one degree of
> arc distance, in the same way as one nautical mile
> approximates one minute of arc distance.
>
> I have thought of the phrase "degree of arc distance"
> (which I think agrees, more or less, with how Snyder uses this phrase)
> but some of my colleagues dislike it.
>
> I have also thought of the phrase "exentanautical mile",
> from Greek "exenta" = 60, but...
>
> --
> Mikael Rittri
> Carmenta AB
> SWEDEN
> www.carmenta.com
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj



--
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist
_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20090427/e6a63bcc/attachment.html>

From geraldi.evenden at gmail.com  Mon Apr 27 08:15:04 2009
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Mon, 27 Apr 2009 11:15:04 -0400
Subject: [Proj] Terminology: what should I call 60 nautical miles?
In-Reply-To: <B597ADFC46B67741B18EA6AA13613FF7EC26A8@email002.lsu.edu>
References: <FAF6E56B26D2044696772EBE89B153510189F58D@posty.carmenta.se>
	<200904271005.01703.geraldi.evenden@gmail.com>
	<B597ADFC46B67741B18EA6AA13613FF7EC26A8@email002.lsu.edu>
Message-ID: <200904271115.04422.geraldi.evenden@gmail.com>

On Monday 27 April 2009 10:51:16 am Clifford J Mugnier wrote:

Yes, yes, but I believe it is defined as a meridian arc minute and thus only 
subject to the minor variation of eccentricty.  Of course it now has a legal, 
fixed metric length.  Its purpose was probably for the navigator to always 
have a handy scale at the left or right edge of the chart for measuring 
his/her course.

For some unknown reason it is still used by sea/air navigators.  Must be 
retained as a link to the romantic history of travel.  Certainly has no other 
legitimate usage.

> One minute of arc distance at what latitude?
>
> On a sphere, "longitude varies as the cosine of the latitude" but we're not
> on a sphere, are we?
>
> This stuff is not complicated enough for lay people now, so we have to add
> another esoteric label to shorten "60 nm?"
>
> C. Mugnier
> LSU
>
> ________________________________
>
> From: proj-bounces at lists.maptools.org on behalf of Gerald I. Evenden
> Sent: Mon 27-Apr-09 09:05
> To: PROJ.4 and general Projections Discussions
> Subject: Re: [Proj] Terminology: what should I call 60 nautical miles?
>
> On Monday 27 April 2009 7:12:18 am Mikael Rittri wrote:
> > Hello,
> > I would like a term for the length unit that is 60 nautical miles.
>
> Dare I ask why?
>
> The "nautical mile" is a rather old fashion term handy in the days of
> sailing on a chart with sextant and chronometer.
>
> I thought everyone was supposed to go metric---an underachieved effort on
> this side of the pond.
>
> > This length unit would approximate one degree of
> > arc distance, in the same way as one nautical mile
> > approximates one minute of arc distance.
> >
> > I have thought of the phrase "degree of arc distance"
> > (which I think agrees, more or less, with how Snyder uses this phrase)
> > but some of my colleagues dislike it.
> >
> > I have also thought of the phrase "exentanautical mile",
> > from Greek "exenta" = 60, but...
> >
> > --
> > Mikael Rittri
> > Carmenta AB
> > SWEDEN
> > www.carmenta.com
> > _______________________________________________
> > Proj mailing list
> > Proj at lists.maptools.org
> > http://lists.maptools.org/mailman/listinfo/proj
>
> --
> The whole religious complexion of the modern world is due
> to the absence from Jerusalem of a lunatic asylum.
> -- Havelock Ellis (1859-1939) British psychologist
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj



-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist


From cjmce at lsu.edu  Mon Apr 27 08:24:32 2009
From: cjmce at lsu.edu (Clifford J Mugnier)
Date: Mon, 27 Apr 2009 10:24:32 -0500
Subject: [Proj] Lambert Conformal Conic
References: <200904260914.n3Q9E6as002666@smtp-auth.uni-koeln.de><BCBB8BDB114340F6B1D90D414A21D624@PCHP><200904261057.44362.geraldi.evenden@gmail.com>,
	<795CE6F0F0BF47CDB2123923065820B0@PCHP>
	<91F640D26AB8E54982706321A514CA2652B10F6D23@MALIBU.sarnoff.internal>
Message-ID: <B597ADFC46B67741B18EA6AA13613FF7EC26A9@email002.lsu.edu>

The GeoTrans maintainers are keeping Warfighters alive.  Period.  If hundreds of weapons systems are currently programmed for a particular constant, say "81.114528," what is the effect (of a change in GeoTrans) going to be on each and every one of those weapon systems?  Based on what some obscure programmer did 15-20  years ago for one system's coordinate transformation utility ... who can guarantee that there will be absolutely no possible chance of an untested error creeping in now and resulting in "friendly fire?"
 
Frozen-in approximate constants remain frozen-in for a reason, especially when using coordinates for indirect artillery fire and air support.   
 
On a less serious (not involving life and death), application, specific truncations kept over from 19th-century mathematical developments may not be computationally elegant or "correct" in the strictest sense, but they are the absolutely necessary truncations that must be maintained for a particular country's legal system.  Offshore Leases for hydrocarbon exploration and production are worth billions of dollars each, and truncations define areas that would change if the transformations were arbitrarily changed for the sake of elegance.
 
C. Mugnier
LSU
 
P.S.  A rumor has circulated in the Military Geodetic circles for decades that 0.994 in the UPS is actually an old "typo," and should really be 0.9994.   However, it can never be changed because it has been hard-wired into everything (weapon systems) as well as into thousands of editions of paper maps.  Mathematical elegance comes second to Warfighter's lives.

________________________________

From: proj-bounces at lists.maptools.org on behalf of Karney, Charles
Sent: Sun 26-Apr-09 19:01
To: PROJ.4 and general Projections Discussions
Subject: Re: [Proj] Lambert Conformal Conic



Another example of frozen-in approximate constants...

geotrans (thru at least version 2.4.2) defines the latitude of true
scale for the UPS projection as 81.114528 (see definition of
MAX_ORIGIN_LAT in ups/ups.c).  However, if we assume that UPS is defined
as having a scale of 0.994 at the pole, then the latitude of true scale
is really 81.11451786859362545 or so.

I reported this to the geotrans maintainers in July of last year and
they declined to fix it because doing so would cause their (presumably
incorrect) tests to fail!

--
Charles Karney <ckarney at sarnoff.com>
Sarnoff Corporation, Princeton, NJ 08543-5300

Tel: +1 609 734 2312
Fax: +1 609 734 2662
_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20090427/0c47b971/attachment.html>

From al001 at uni-koeln.de  Mon Apr 27 09:11:09 2009
From: al001 at uni-koeln.de (Irwin Scollar)
Date: Mon, 27 Apr 2009 18:11:09 +0200
Subject: [Proj] Lambert Conformal Conic
Message-ID: <200904271611.n3RGBAiT017519@smtp-auth.uni-koeln.de>

It's important to learn that some of the constants for Lambert 
Conformal Conic are not correct in various sources, but the intent of 
my posting was to ask those better versed in numerical matters on 
this list than I am, which of the methods for which I gave references 
give the most accurate results in those cases where I have no 
"official" formulae like I do in the case of France, but where I do 
have official values for the parallels of latitude, false Eastings 
and Northings and the ellipse.

For France, in order to get the same results within the limits of 
floating point accuracy, I must use the maths supplied by the IGN. 
However, for places where I've not found such official formulae, 
perhaps one of the other formulae in the references I cited  have the 
lowest average error out at the projection limits.

Irwin Scollar



From Chris.Barker at noaa.gov  Mon Apr 27 09:28:48 2009
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Mon, 27 Apr 2009 09:28:48 -0700
Subject: [Proj] Terminology: what should I call 60 nautical miles?
In-Reply-To: <200904271115.04422.geraldi.evenden@gmail.com>
References: <FAF6E56B26D2044696772EBE89B153510189F58D@posty.carmenta.se>
	<200904271005.01703.geraldi.evenden@gmail.com>
	<B597ADFC46B67741B18EA6AA13613FF7EC26A8@email002.lsu.edu>
	<200904271115.04422.geraldi.evenden@gmail.com>
Message-ID: <49F5DD40.3000400@noaa.gov>

Gerald I. Evenden wrote:
> Its purpose was probably for the navigator to always 
> have a handy scale at the left or right edge of the chart for measuring 
> his/her course.
> 
> For some unknown reason it is still used by sea/air navigators.  Must be 
> retained as a link to the romantic history of travel.  Certainly has no other 
> legitimate usage.

I use it all the time: is that "handy scale at the left or right edge of 
the chart" no longer a legitimate usage?

It's certainly more useful that the statute mile!

I agree that there really is no need for a special name for 60nm -- If I 
want nm, I use nm, if I want degrees of latitude, I use degrees of latitude.

Having said that, I do have an entry in my personal unit converter for 
degrees of latitude as a distance (defined, for that purpose as 60nm)

;-)


-Chris






-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker at noaa.gov


From geraldi.evenden at gmail.com  Mon Apr 27 09:30:00 2009
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Mon, 27 Apr 2009 12:30:00 -0400
Subject: [Proj] Lambert Conformal Conic
In-Reply-To: <200904271611.n3RGBAiT017519@smtp-auth.uni-koeln.de>
References: <200904271611.n3RGBAiT017519@smtp-auth.uni-koeln.de>
Message-ID: <200904271230.00306.geraldi.evenden@gmail.com>

Snyder's formulary and presumable USGS Lambert CC computations *do not* use 
any series and thus not impacted by various hassles involving series degree 
or constants.  The only "constants" employed by various proj system and GCTP 
are simply those of the ellipsoid, defining parallels (or central parallel 
and scale factor).

If you are simply using Lambert Conformal Conic with no French or other 
annotation I would use any form of *proj* (+proj=lcc) or GCTP.  No series in 
these systems.

On Monday 27 April 2009 12:11:09 pm Irwin Scollar wrote:
> It's important to learn that some of the constants for Lambert
> Conformal Conic are not correct in various sources, but the intent of
> my posting was to ask those better versed in numerical matters on
> this list than I am, which of the methods for which I gave references
> give the most accurate results in those cases where I have no
> "official" formulae like I do in the case of France, but where I do
> have official values for the parallels of latitude, false Eastings
> and Northings and the ellipse.
>
> For France, in order to get the same results within the limits of
> floating point accuracy, I must use the maths supplied by the IGN.
> However, for places where I've not found such official formulae,
> perhaps one of the other formulae in the references I cited  have the
> lowest average error out at the projection limits.
>
> Irwin Scollar
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj



-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist


From knudsen.thomas at gmail.com  Mon Apr 27 12:38:08 2009
From: knudsen.thomas at gmail.com (Thomas Knudsen)
Date: Mon, 27 Apr 2009 21:38:08 +0200
Subject: [Proj] Terminology: what should I call 60 nautical miles?
In-Reply-To: <49F5DD40.3000400@noaa.gov>
References: <FAF6E56B26D2044696772EBE89B153510189F58D@posty.carmenta.se>
	<200904271005.01703.geraldi.evenden@gmail.com>
	<B597ADFC46B67741B18EA6AA13613FF7EC26A8@email002.lsu.edu>
	<200904271115.04422.geraldi.evenden@gmail.com>
	<49F5DD40.3000400@noaa.gov>
Message-ID: <7e6835790904271238r59d07700uab6029ddf7fd6bb0@mail.gmail.com>

2009/4/27 Christopher Barker <Chris.Barker at noaa.gov>
>
>
> I agree that there really is no need for a special name for 60nm
>
>
SI units: 60 nm = 60 nanometres... hardly useful in any geophysical/geodetic
context :-)
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20090427/befe7987/attachment.html>

From cjmce at lsu.edu  Mon Apr 27 12:44:48 2009
From: cjmce at lsu.edu (Clifford J Mugnier)
Date: Mon, 27 Apr 2009 14:44:48 -0500
Subject: [Proj] Terminology: what should I call 60 nautical miles?
References: <FAF6E56B26D2044696772EBE89B153510189F58D@posty.carmenta.se><200904271005.01703.geraldi.evenden@gmail.com><B597ADFC46B67741B18EA6AA13613FF7EC26A8@email002.lsu.edu><200904271115.04422.geraldi.evenden@gmail.com><49F5DD40.3000400@noaa.gov>
	<7e6835790904271238r59d07700uab6029ddf7fd6bb0@mail.gmail.com>
Message-ID: <B597ADFC46B67741B18EA6AA13613FF7EC26AC@email002.lsu.edu>

HA!
 
C. Mugnier
LSU

________________________________

From: proj-bounces at lists.maptools.org on behalf of Thomas Knudsen
Sent: Mon 27-Apr-09 14:38
To: PROJ.4 and general Projections Discussions
Subject: Re: [Proj] Terminology: what should I call 60 nautical miles?


2009/4/27 Christopher Barker <Chris.Barker at noaa.gov> 


	I agree that there really is no need for a special name for 60nm
	
	


SI units: 60 nm = 60 nanometres... hardly useful in any geophysical/geodetic context :-)

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20090427/f14c702a/attachment.html>

From strebe at aol.com  Mon Apr 27 13:02:03 2009
From: strebe at aol.com (strebe at aol.com)
Date: Mon, 27 Apr 2009 16:02:03 -0400
Subject: [Proj] Terminology: what should I call 60 nautical miles?
In-Reply-To: <FAF6E56B26D2044696772EBE89B153510189F58D@posty.carmenta.se>
References: <FAF6E56B26D2044696772EBE89B153510189F58D@posty.carmenta.se>
Message-ID: <8CB958A2A9B6D13-16A8-61C@mblk-d13.sysops.aol.com>


 
Your original instinct seems correct: one degree of arc. That is, after all, the entire reason you are interested in 60 nautical miles, is it not? Because it equates to a degree of arc on the spherical model? If you apply some other terminology to it then you have destroyed the reason for the unit. Or have I missed some other significance?

Regards,
— daan Strebe


 


 

-----Original Message-----
From: Mikael Rittri <Mikael.Rittri at carmenta.com>
To: proj at lists.maptools.org
Sent: Mon, 27 Apr 2009 4:12 am
Subject: [Proj] Terminology: what should I call 60 nautical miles?










Hello,
I would like a term for the length unit that is 60 nautical miles.  

This length unit would approximate one degree of 
arc distance, in the same way as one nautical mile 
approximates one minute of arc distance.

I have thought of the phrase "degree of arc distance" 
(which I think agrees, more or less, with how Snyder uses this phrase)
but some of my colleagues dislike it. 

I have also thought of the phrase "exēntanautical mile",
from Greek "exēnta" = 60, but... 

--
Mikael Rittri
Carmenta AB
SWEDEN
www.carmenta.com
_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj



 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20090427/eda87b95/attachment.html>

From mfinn at usgs.gov  Mon Apr 27 13:18:01 2009
From: mfinn at usgs.gov (Michael P Finn)
Date: Mon, 27 Apr 2009 14:18:01 -0600
Subject: [Proj] Fw: GIScience Research Position at USGS
Message-ID: <OFE7F4565A.43D54F72-ON872575A5.006F68A5-872575A5.006F8368@usgs.gov>

FYI.

(Apologies for cross posts.)
----


The USGS Center of Excellence for Geospatial Information Science announces 
a permanent fulltime Federal position for a researcher in geographic 
information science. Details and application procedures are available at: 


DEU/Nationwide announcement: 

http://jobsearch.usajobs.gov/getjob.asp?JobID=80511066&AVSDM=2009%2D04%2D16+16%3A14%3A41&Logo=0&q=cr-2009-0325&FedEmp=Y&sort=rv&vw=d&brd=3876&ss=0&FedPub=Y&SUBMIT1.x=44&SUBMIT1.y=7 



Merit Promotion announcement: 

http://jobsearch.usajobs.gov/getjob.asp?JobID=80511265&AVSDM=2009%2D04%2D16+16%3A21%3A20&Logo=0&q=cr-2009-0325&FedEmp=Y&sort=rv&vw=d&brd=3876&ss=0&FedPub=Y&SUBMIT1.x=44&SUBMIT1.y=7 



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20090427/655fb961/attachment.html>

From j.l.h.hartmann at uva.nl  Mon Apr 27 14:43:18 2009
From: j.l.h.hartmann at uva.nl (Jan Hartmann)
Date: Mon, 27 Apr 2009 23:43:18 +0200
Subject: [Proj] Terminology: what should I call 60 nautical miles?
In-Reply-To: <B597ADFC46B67741B18EA6AA13613FF7EC26AC@email002.lsu.edu>
References: <FAF6E56B26D2044696772EBE89B153510189F58D@posty.carmenta.se><200904271005.01703.geraldi.evenden@gmail.com><B597ADFC46B67741B18EA6AA13613FF7EC26A8@email002.lsu.edu><200904271115.04422.geraldi.evenden@gmail.com><49F5DD40.3000400@noaa.gov>	<7e6835790904271238r59d07700uab6029ddf7fd6bb0@mail.gmail.com>
	<B597ADFC46B67741B18EA6AA13613FF7EC26AC@email002.lsu.edu>
Message-ID: <49F626F6.5030003@uva.nl>

If everyone who writes me emails could be so concise ...

Jan Hartmann
University of Amsterdam

Clifford J Mugnier wrote:
> HA!
>  
> C. Mugnier
> LSU
>
> ------------------------------------------------------------------------
> *From:* proj-bounces at lists.maptools.org on behalf of Thomas Knudsen
> *Sent:* Mon 27-Apr-09 14:38
> *To:* PROJ.4 and general Projections Discussions
> *Subject:* Re: [Proj] Terminology: what should I call 60 nautical miles?
>
> 2009/4/27 Christopher Barker <Chris.Barker at noaa.gov 
> <mailto:Chris.Barker at noaa.gov>>
>
>
>     I agree that there really is no need for a special name for 60nm
>
>
> SI units: 60 nm = 60 nanometres... hardly useful in any 
> geophysical/geodetic context :-)
> ------------------------------------------------------------------------
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20090427/ebf35c84/attachment.html>

From Mikael.Rittri at carmenta.com  Tue Apr 28 00:41:38 2009
From: Mikael.Rittri at carmenta.com (Mikael Rittri)
Date: Tue, 28 Apr 2009 09:41:38 +0200
Subject: [Proj] Terminology: what should I call 60 nautical miles?
In-Reply-To: <B597ADFC46B67741B18EA6AA13613FF7EC26A8@email002.lsu.edu>
References: <FAF6E56B26D2044696772EBE89B153510189F58D@posty.carmenta.se><200904271005.01703.geraldi.evenden@gmail.com>
	<B597ADFC46B67741B18EA6AA13613FF7EC26A8@email002.lsu.edu>
Message-ID: <FAF6E56B26D2044696772EBE89B153510189F64E@posty.carmenta.se>

Clifford wrote: 
> One minute of arc distance at what latitude?

If we can ignore the sphere/ellipsoid difference for a while, 
then the latitude does not matter, since it is one minute of 
arc distance, not one minute of longitude difference.  

I thought "arc distance" was an established term for the length 
of a great-circle arc, expressed in an angular unit (the angle 
of the arc as seen from the sphere center).  

For example, Snyder writes:
"The formulas ... are practical only within a band between
 4° of longitude and some 10° to 15° of arc distance on 
 either side of the central meridian"
(Map Projections: A Working Manual, page 48).  
He could just as well have written 
"...between 4° of longitude and some 600 to 900 nautical miles...".  

But it may be that "arc distance" isn't as easy to understand 
as I thought. 
 
> so we have to add another esoteric label to shorten "60 nm?"

I had hoped "degree of arc distance" would not be seen as esoteric. 
Or maybe "degree as a length unit", or "pseudo degree" or whatever. 
(The "exēntanautical mile" was meant as a joke.) 

Gerald wrote:
> Dare I ask why?

Yes, but I am not sure I dare to answer...  The more I think about, 
the more I feel that my reasons are not very good. 
    Actually, I was thinking about using a single class to implement
an Equidistant Cylindrical projection, which should be able to 
produce coordinates both in an ordinary length unit (meter, foot, ...) 
and in an angular unit (degree, minute, gon etc.).  Since most 
projections should only use an ordinary length unit, I was thinking
about sneaking in the degree disguised as a length unit. 
    But I am starting to think I shouldn't.  I ought to follow 
the EPSG Guidance Note 7.2, which distinguishes between 
the Equidistant Cylindrical (codes 9842 and 9823) that uses
an ordinary length unit, and the Pseudo Plate Carrée (code 9825)
that uses an angular unit. 
    And if I make that distinction too, I don't need to worry about 
how to disguise the degree as a length unit.  Sorry to have bothered you. 

--
Mikael Rittri
Carmenta AB
SWEDEN
www.carmenta.com 

________________________________

From: proj-bounces at lists.maptools.org [mailto:proj-bounces at lists.maptools.org] On Behalf Of Clifford J Mugnier
Sent: den 27 april 2009 16:51
To: geraldi.evenden at gmail.com; PROJ.4 and general Projections Discussions; PROJ.4 and general Projections Discussions
Subject: Re: [Proj] Terminology: what should I call 60 nautical miles?


One minute of arc distance at what latitude?
 
On a sphere, "longitude varies as the cosine of the latitude" but we're not on a sphere, are we?
 
This stuff is not complicated enough for lay people now, so we have to add another esoteric label to shorten "60 nm?"
 
C. Mugnier
LSU

________________________________

From: proj-bounces at lists.maptools.org on behalf of Gerald I. Evenden
Sent: Mon 27-Apr-09 09:05
To: PROJ.4 and general Projections Discussions
Subject: Re: [Proj] Terminology: what should I call 60 nautical miles?



On Monday 27 April 2009 7:12:18 am Mikael Rittri wrote:
> Hello,
> I would like a term for the length unit that is 60 nautical miles.

Dare I ask why?

The "nautical mile" is a rather old fashion term handy in the days of sailing
on a chart with sextant and chronometer.

I thought everyone was supposed to go metric---an underachieved effort on this
side of the pond.

> This length unit would approximate one degree of
> arc distance, in the same way as one nautical mile
> approximates one minute of arc distance.
>
> I have thought of the phrase "degree of arc distance"
> (which I think agrees, more or less, with how Snyder uses this phrase)
> but some of my colleagues dislike it.
>
> I have also thought of the phrase "exēntanautical mile",
> from Greek "exēnta" = 60, but...
>
> --
> Mikael Rittri
> Carmenta AB
> SWEDEN
> www.carmenta.com
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj



--
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist
_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj 



From support.mn at elisanet.fi  Tue Apr 28 04:46:24 2009
From: support.mn at elisanet.fi (support.mn at elisanet.fi)
Date: Tue, 28 Apr 2009 14:46:24 +0300 (EEST)
Subject: [Proj] Terminology: what should I call 60 nautical miles?
Message-ID: <21271014.4353591240919184886.JavaMail.support.mn@elisanet.fi>

> I would like a term for the length unit that is 60 nautical miles.  

How about:

Standard Length of Degree = "SLOD"

60 nmi = 1 slod

BTW: mi indicates miles and m indicates meters, so nmi stands for nautical miles.

http://en.wikipedia.org/wiki/Nautical_mile

Regards: Janne.



From hamish_b at yahoo.com  Wed Apr 29 01:17:38 2009
From: hamish_b at yahoo.com (Hamish)
Date: Wed, 29 Apr 2009 01:17:38 -0700 (PDT)
Subject: [Proj] Terminology: what should I call 60 nautical miles?
Message-ID: <251455.57823.qm@web110011.mail.gq1.yahoo.com>


[single round-up post to hasten the death of this thread]


Mikael wrote:
> I would like a term for the length unit that is 60 nautical miles. 
....
> Since most projections should only use an ordinary length unit, I was
> thinking about sneaking in the degree disguised as a length unit. 

Janne:
> Standard Length of Degree = "SLOD"
> 60 nmi = 1 slod

Clifford:
> One minute of arc distance at what latitude?

(so SLOD would need to be SLODLat[^see hypothetical footnote])

Mikael:
> But it may be that "arc distance" isn't as easy to understand
> as I thought.

arc-sec and arc-min seem to be widely accepted, so why not arc-degree?
The trouble comes when you try to pass off a unit of angular measure as
a unit of Cartesian measure.

> For example, Snyder writes:
> "The formulas ... are practical only within a band between
> 4° of longitude and some 10° to 15° of arc distance on
> either side of the central meridian"
> (Map Projections: A Working Manual, page 48). 
> He could just as well have written
> "...between 4° of longitude and some 600 to 900 nautical miles...". 

except that Snyder's version is generalized (cut-and-paste ready for
planetary scientists mapping Mars), and yours is specific to our local
hunk of rock.

Janne:
> BTW: mi indicates miles and m indicates meters, so nmi stands for
> nautical miles.

except that the common abbr. for nautical miles is "nm" (like it or not).
Usually it is highly obvious you are not talking about nanometers, so
the collision isn't a problem for human parsers.


Clifford:
> so we have to add another esoteric label to shorten "60 nm?"

.... if the best description of a term also happens to be the simplest,
it is harmful to complicate the matter with technical sounding jargon.


Gerald:
> Its purpose was probably for the navigator to always have a handy scale
> at the left or right edge of the chart for measuring his/her course.

(you answer your own question here)

> For some unknown reason it is still used by sea/air navigators.  Must be
> retained as a link to the romantic history of travel.  Certainly has no other
> legitimate usage.

Christopher:
> I use it all the time: is that "handy scale at the left or right edge of
> the chart" no longer a legitimate usage?
>
> It's certainly more useful that the statute mile!

agreed. also consider that (even in metricized countries) "knots" and paper
charts are still the best solution to the problem, and are still used both
practically and legally (again, "like it or not"). It makes it very simple
to solve the common navigational problems in your head. It's no coincidence
that "practical navigator" and "practical sailor" are popular titles.
Not to mention that just yesterday we had an unpleasant reminder from our
eeePC as to why seawater and electronics do not mix, and thus why brain-
solvable solutions are an important backup.



regards,
Hamish
(oceanographer)



      



