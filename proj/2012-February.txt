From Mikael.Rittri at carmenta.com  Wed Feb  1 01:00:37 2012
From: Mikael.Rittri at carmenta.com (Mikael Rittri)
Date: Wed, 1 Feb 2012 09:00:37 +0000
Subject: [Proj] Further help with the swisstopo NTv2 grid shift ?
In-Reply-To: <20120131163346.GJ15906@gnash>
References: <20120131163346.GJ15906@gnash>
Message-ID: <E4AB3DD44D22854B819908379DE4AD49390B8E5A@SETHNWS023.carmenta.se>

There was a thread about making your own NTv2 files in April 2011.

It may be easiest to generate a new NTv2 file in ASCII format,
and then use an Australian program to convert it to binary.

Some posts from the thread:

Paul Kelly, http://lists.maptools.org/pipermail/proj/2011-April/005630.html

Gabor Molnar, http://lists.maptools.org/pipermail/proj/2011-April/005645.html

Uwe Schmitz, http://lists.maptools.org/pipermail/proj/2011-April/005647.html

Regards,

Mikael Rittri
Carmenta
Sweden
http://www.carmenta.com

-----Original Message-----
From: proj-bounces at lists.maptools.org [mailto:proj-bounces at lists.maptools.org] On Behalf Of Sandro Santilli
Sent: Tuesday, January 31, 2012 5:34 PM
To: proj at lists.maptools.org
Subject: [Proj] Further help with the swisstopo NTv2 grid shift ?

Now that I understood how to use the NTv2 gridshift file provided
by swisstopo (chaining transforms) I'd like to evaluate feasibility
of producing a _new_ NTv2 gridshift file going straight to WGS84
latlong rather than CH1903+ latlong.

How could I proceed to compute the shift ?

--strk;
_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj


From mkennedy2 at earthlink.net  Wed Feb  1 04:31:03 2012
From: mkennedy2 at earthlink.net (Melita Kennedy)
Date: Wed, 1 Feb 2012 04:31:03 -0800 (GMT-08:00)
Subject: [Proj] PROJ: Further help with the swisstopo NTv2 grid shift ?
Message-ID: <14889910.1328099463647.JavaMail.root@elwamui-hound.atl.sa.earthlink.net>


One method would be to calculate the CH1903+ to WGS84 offset for each NTv2 grid point, concatenate them with the offsets from the original file and build a new NTv2 file. EPSG lists a 1m transformation from CH1903+ to WGS84, do a code search for 1676 at http://www.epsg-registry.org. 

Melita

Disclaimer: I'm a member of the subcommittee that maintains the dataset.


>Date: Tue, 31 Jan 2012 17:33:46 +0100
>From: Sandro Santilli <strk at keybit.net>
>Subject: [Proj] Further help with the swisstopo NTv2 grid shift ?
>To: proj at lists.maptools.org
>
>Now that I understood how to use the NTv2 gridshift file provided
>by swisstopo (chaining transforms) I'd like to evaluate feasibility
>of producing a _new_ NTv2 gridshift file going straight to WGS84
>latlong rather than CH1903+ latlong.
>
>How could I proceed to compute the shift ?
>
>--strk;
>
>
>------------------------------



From strk at keybit.net  Wed Feb  1 05:15:41 2012
From: strk at keybit.net (Sandro Santilli)
Date: Wed, 1 Feb 2012 14:15:41 +0100
Subject: [Proj] PROJ: Further help with the swisstopo NTv2 grid shift ?
In-Reply-To: <14889910.1328099463647.JavaMail.root@elwamui-hound.atl.sa.earthlink.net>
References: <14889910.1328099463647.JavaMail.root@elwamui-hound.atl.sa.earthlink.net>
Message-ID: <20120201131541.GF3206@gnash>

On Wed, Feb 01, 2012 at 04:31:03AM -0800, Melita Kennedy wrote:
> 
> One method would be to calculate the CH1903+ to WGS84 offset for each NTv2 grid point, concatenate them with the offsets from the original file and build a new NTv2 file. EPSG lists a 1m transformation from CH1903+ to WGS84, do a code search for 1676 at http://www.epsg-registry.org. 
> 

Great, sounds like what I did. Still unfinished. Will post for review
once completed.

> Disclaimer: I'm a member of the subcommittee that maintains the dataset.

Which dataset ? Swisstopo NTv2 or the epsg-registry ?

--strk;

  ,------o-. 
  |   __/  |    Thank you for PostGIS-2.0 Topology !
  |  / 2.0 |    http://www.pledgebank.com/postgistopology
  `-o------'



From strk at keybit.net  Wed Feb  1 14:21:15 2012
From: strk at keybit.net (Sandro Santilli)
Date: Wed, 1 Feb 2012 23:21:15 +0100
Subject: [Proj] Call for review of derived NTv2 for Swiss projection CH1903
Message-ID: <20120201222115.GQ3206@gnash>

I've finally handled to derive an gridshift for CH1903->WGS84
so that it can be used w/out engaging chains of projections.

The procedure I followed to generate the new file has been:

 1) Project each of the NTv2 grid points to WGS84 using the
    chained approach (CH1903 -> CH1903+ -> WGS84)
 2) Compute the shifts between output and source
 3) Store the shifts in the new NTv2

More details on the how I'll probably give later with a blog post
as it was a complex and interesting trip around GDAL and PostGIS.

The verification I performed has been to project from CH1903/LV03,
using these parameters:

<CH1903_LV03> +proj=somerc +lat_0=46.95240555555556 +lon_0=7.439583333333333 +k_0=1 +x_0=600000 +y_0=200000 +ellps=bessel +nadgrids=CHENYX06a_wgs84.gsb +units=m +no_defs  <>

To CH1903+/LV95 (using EPSG:2056) and computing the distance of each
of the 5 example points found in Chapter 7 of
http://www.swisstopo.admin.ch/internet/swisstopo/en/home/topics/survey/sys/refsys/switzerland.parsysrelated1.37696.downloadList.97912.DownloadFile.tmp/swissprojectionen.pdf

I got a max of 9mm drift.

This mail is to ask others to try the NTv2 file with real data and
let me know if it's working as expected.

The new NTv2 file is here:
http://strk.keybit.net/tmp/CHENYX06a_wgs84.gsb.gz (~ 1Mb)

Thanks in advance.

--strk;

  ,------o-. 
  |   __/  |    Thank you for PostGIS-2.0 Topology !
  |  / 2.0 |    http://www.pledgebank.com/postgistopology
  `-o------'



From Mikael.Rittri at carmenta.com  Thu Feb  2 05:55:14 2012
From: Mikael.Rittri at carmenta.com (Mikael Rittri)
Date: Thu, 2 Feb 2012 13:55:14 +0000
Subject: [Proj] Call for review of derived NTv2 for Swiss projection
 CH1903
In-Reply-To: <20120201222115.GQ3206@gnash>
References: <20120201222115.GQ3206@gnash>
Message-ID: <E4AB3DD44D22854B819908379DE4AD49390B91C8@SETHNWS023.carmenta.se>

Sandro wrote:

> I got a max of 9mm drift.
>
> This mail is to ask others to try the NTv2 file with real data and let me > know if it's working as expected.

Looks excellent to me.

I have used Carmenta Engine to construct two implementations of CH1903.
One uses a concatenated datum shift, where the original NTv2 file
transforms to CH1903+, and the Helmert datum shift continues to WGS84.
The other uses a direct datum shift to WGS84 based on your new NTv2 file.

Then I selected three arbitrary points expressed in CH1903 LongLat and
transformed them to WGS84 LongLat with both implementations. The largest 
difference between the two implementations was 0.008 millimeters. 

So it seems that your drift of 9 millimeters is caused only by the
difference between the official FINELTRA algorithm and the NTv2 file.

Regards,

Mikael Rittri
Carmenta
Sweden
http://www.carmenta.com

-----Original Message-----
From: proj-bounces at lists.maptools.org [mailto:proj-bounces at lists.maptools.org] On Behalf Of Sandro Santilli
Sent: Wednesday, February 01, 2012 11:21 PM
To: PROJ.4 and general Projections Discussions
Subject: [Proj] Call for review of derived NTv2 for Swiss projection CH1903

I've finally handled to derive an gridshift for CH1903->WGS84
so that it can be used w/out engaging chains of projections.

The procedure I followed to generate the new file has been:

 1) Project each of the NTv2 grid points to WGS84 using the
    chained approach (CH1903 -> CH1903+ -> WGS84)
 2) Compute the shifts between output and source
 3) Store the shifts in the new NTv2

More details on the how I'll probably give later with a blog post
as it was a complex and interesting trip around GDAL and PostGIS.

The verification I performed has been to project from CH1903/LV03,
using these parameters:

<CH1903_LV03> +proj=somerc +lat_0=46.95240555555556 +lon_0=7.439583333333333 +k_0=1 +x_0=600000 +y_0=200000 +ellps=bessel +nadgrids=CHENYX06a_wgs84.gsb +units=m +no_defs  <>

To CH1903+/LV95 (using EPSG:2056) and computing the distance of each
of the 5 example points found in Chapter 7 of
http://www.swisstopo.admin.ch/internet/swisstopo/en/home/topics/survey/sys/refsys/switzerland.parsysrelated1.37696.downloadList.97912.DownloadFile.tmp/swissprojectionen.pdf

I got a max of 9mm drift.

This mail is to ask others to try the NTv2 file with real data and
let me know if it's working as expected.

The new NTv2 file is here:
http://strk.keybit.net/tmp/CHENYX06a_wgs84.gsb.gz (~ 1Mb)

Thanks in advance.

--strk;

  ,------o-. 
  |   __/  |    Thank you for PostGIS-2.0 Topology !
  |  / 2.0 |    http://www.pledgebank.com/postgistopology
  `-o------'

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj


From drew.simpson.home at gmail.com  Thu Feb  2 12:27:24 2012
From: drew.simpson.home at gmail.com (Andrew Simpson)
Date: Thu, 2 Feb 2012 16:27:24 -0400
Subject: [Proj] lonlat default datum confusion
Message-ID: <CADxw0on9SzWKReZodbmcd3moA3-AoY=y75-EuZUzf6vuX2ca9A@mail.gmail.com>

Greetings,

I am having trouble understanding how lonlat is handled in cs2cs and proj

If I cs2cs straight from "WGS 84 / UTM zone 20N" to "Montserrat 1958 / BWI"
I get one result.

If I cs2cs to lonlat in between I get a different result.

If I provide a datum on the conversion from lonlat to "Montserrat 1958 /
BWI" such as WGS84, I get the original result, even if the datum is not
applicable as in NAD27.

Is the datum enabling a portion of code that wouldn't otherwise be used,
and then just being discarded?

What EPSG code would lonlat default to, or does it default to the +to
coordinate system?

Thanks for any thoughts

Rel. 4.7.1, 23 September 2009 on Linux 2.6.26-2-686 #1 SMP Thu Sep 16
19:35:51 UTC 2010 i686 GNU/Linux


====================================
--  All the way from UTM to Monty
cs2cs -v +init=epsg:32620 +to +init=epsg:2004 <<EOF
588710.63       1851124.52
EOF
# ---- From Coordinate System ----
#Universal Transverse Mercator (UTM)
#       Cyl, Sph
#       zone= south
# +init=epsg:32620 +proj=utm +zone=20 +ellps=WGS84 +datum=WGS84 +units=m
# +no_defs +towgs84=0,0,0
#--- following specified but NOT used
# +ellps=WGS84
# ---- To Coordinate System ----
#Transverse Mercator
#       Cyl, Sph&Ell
# +init=epsg:2004 +proj=tmerc +lat_0=0 +lon_0=-62 +k=0.9995000000000001
# +x_0=400000 +y_0=0 +ellps=clrk80 +towgs84=174,359,365,0,0,0,0 +units=m
# +no_defs
381799.69       1850374.10 37.86
=====================================

-- Inverse Proj from UTM
invproj -v -f "%.5f" +init=epsg:32620  <<EOF
588710.63       1851124.52
EOF
#Universal Transverse Mercator (UTM)
#       Cyl, Sph
#       zone= south
# +init=epsg:32620 +proj=utm +zone=20 +ellps=WGS84 +datum=WGS84 +units=m
# +no_defs +towgs84=0,0,0
#--- following specified but NOT used
# +ellps=WGS84
-62.16775       16.74132

======================================
-- lonlat to Monty
cs2cs -v +proj=lonlat +to +init=epsg:2004  <<EOF
-62.16775 16.74132
EOF
# ---- From Coordinate System ----
#Lat/long (Geodetic)
#
# +proj=lonlat +ellps=WGS84
# ---- To Coordinate System ----
#Transverse Mercator
#       Cyl, Sph&Ell
# +init=epsg:2004 +proj=tmerc +lat_0=0 +lon_0=-62 +k=0.9995000000000001
# +x_0=400000 +y_0=0 +ellps=clrk80 +towgs84=174,359,365,0,0,0,0 +units=m
# +no_defs
382121.20       1850599.03 0.00

======================================
-- lonlat with a datum to Monty
cs2cs -v +proj=lonlat +datum=NAD27 +to +init=epsg:2004  <<EOF
-62.16775 16.74132
EOF
# ---- From Coordinate System ----
#Lat/long (Geodetic)
#
# +proj=lonlat +datum=NAD27 +ellps=clrk66
# +nadgrids=@conus, at alaska, at ntv2_0.gsb, at ntv1_can.dat
# ---- To Coordinate System ----
#Transverse Mercator
#       Cyl, Sph&Ell
# +init=epsg:2004 +proj=tmerc +lat_0=0 +lon_0=-62 +k=0.9995000000000001
# +x_0=400000 +y_0=0 +ellps=clrk80 +towgs84=174,359,365,0,0,0,0 +units=m
# +no_defs
381799.69       1850374.10 37.86
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20120202/ad693ed0/attachment.html>

From warmerdam at pobox.com  Thu Feb  2 13:43:05 2012
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu, 2 Feb 2012 13:43:05 -0800
Subject: [Proj] lonlat default datum confusion
In-Reply-To: <CADxw0on9SzWKReZodbmcd3moA3-AoY=y75-EuZUzf6vuX2ca9A@mail.gmail.com>
References: <CADxw0on9SzWKReZodbmcd3moA3-AoY=y75-EuZUzf6vuX2ca9A@mail.gmail.com>
Message-ID: <CA+YzLBeT4dRh9K0RdRsEQjkDZvJs8EqhceOvtRwa3KDyi2O+Zw@mail.gmail.com>

On Thu, Feb 2, 2012 at 12:27 PM, Andrew Simpson
<drew.simpson.home at gmail.com> wrote:
> -- Inverse Proj from UTM
> invproj -v -f "%.5f" +init=epsg:32620  <<EOF
> 588710.63       1851124.52
> EOF
> #Universal Transverse Mercator (UTM)
> #       Cyl, Sph
> #       zone= south
> # +init=epsg:32620 +proj=utm +zone=20 +ellps=WGS84 +datum=WGS84 +units=m
> # +no_defs +towgs84=0,0,0
> #--- following specified but NOT used
> # +ellps=WGS84
> -62.16775       16.74132

Andrew,

Note that the above is effectively producing WGS84 output since the
UTM was WGS84.
But the following transformation does not provide a datum with the
source latlon so
no datum transformation will be applied.  So you have effectively
treated the above
WGS84 latlong as if it were Monstserrat 1958.

The thing to keep in mind is if either the source or destination
coordinate system does not have datum parameters defined
(either +datum, +towgs84 or +nadgrids) then no datum transformation
will be applied and your accuracy may be significantly impacted.

Best regards,

>
> ======================================
> -- lonlat to Monty
> cs2cs -v +proj=lonlat +to +init=epsg:2004  <<EOF
> -62.16775 16.74132
> EOF
> # ---- From Coordinate System ----
> #Lat/long (Geodetic)
> #
> # +proj=lonlat +ellps=WGS84
> # ---- To Coordinate System ----
> #Transverse Mercator
> #       Cyl, Sph&Ell
> # +init=epsg:2004 +proj=tmerc +lat_0=0 +lon_0=-62 +k=0.9995000000000001
> # +x_0=400000 +y_0=0 +ellps=clrk80 +towgs84=174,359,365,0,0,0,0 +units=m
> # +no_defs
> 382121.20       1850599.03 0.00
>
> ======================================
> -- lonlat with a datum to Monty
> cs2cs -v +proj=lonlat +datum=NAD27 +to +init=epsg:2004  <<EOF
> -62.16775 16.74132
> EOF
> # ---- From Coordinate System ----
> #Lat/long (Geodetic)
> #
> # +proj=lonlat +datum=NAD27 +ellps=clrk66
> # +nadgrids=@conus, at alaska, at ntv2_0.gsb, at ntv1_can.dat
> # ---- To Coordinate System ----
> #Transverse Mercator
> #       Cyl, Sph&Ell
> # +init=epsg:2004 +proj=tmerc +lat_0=0 +lon_0=-62 +k=0.9995000000000001
> # +x_0=400000 +y_0=0 +ellps=clrk80 +towgs84=174,359,365,0,0,0,0 +units=m
> # +no_defs
> 381799.69       1850374.10 37.86
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj



-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Software Developer


From jagoncal at gmail.com  Thu Feb  2 14:22:45 2012
From: jagoncal at gmail.com (=?ISO-8859-1?Q?Jose_Gon=E7alves?=)
Date: Thu, 2 Feb 2012 22:22:45 +0000
Subject: [Proj] lonlat default datum confusion
In-Reply-To: <CADxw0on9SzWKReZodbmcd3moA3-AoY=y75-EuZUzf6vuX2ca9A@mail.gmail.com>
References: <CADxw0on9SzWKReZodbmcd3moA3-AoY=y75-EuZUzf6vuX2ca9A@mail.gmail.com>
Message-ID: <CALHLaORrA6bHmxBZx__cF0FVuAK47BYO3hN2QLXCjpWU1JSytw@mail.gmail.com>

Andrew

Since you don't specify an ellipsoid in the source system, WGS84 is assumed:

cs2cs -v +proj=lonlat +to +init=epsg:2004

This is not enough because you must specify some datum control, such as
+towgs84=0,0,0 (notice that +datum=WGS84 is equivalent to +ellps=WGS84
+towgs84=0,0,0). You get the correct result with:

cs2cs +proj=lonlat +towgs84=0,0,0 +to +init=epsg:2004
-62.16775 16.74132
381799.69       1850374.10 37.86


Regards

Jose Gonçalves




2012/2/2 Andrew Simpson <drew.simpson.home at gmail.com>

> Greetings,
>
> I am having trouble understanding how lonlat is handled in cs2cs and proj
>
> If I cs2cs straight from "WGS 84 / UTM zone 20N" to "Montserrat 1958 /
> BWI" I get one result.
>
> If I cs2cs to lonlat in between I get a different result.
>
> If I provide a datum on the conversion from lonlat to "Montserrat 1958 /
> BWI" such as WGS84, I get the original result, even if the datum is not
> applicable as in NAD27.
>
> Is the datum enabling a portion of code that wouldn't otherwise be used,
> and then just being discarded?
>
> What EPSG code would lonlat default to, or does it default to the +to
> coordinate system?
>
> Thanks for any thoughts
>
> Rel. 4.7.1, 23 September 2009 on Linux 2.6.26-2-686 #1 SMP Thu Sep 16
> 19:35:51 UTC 2010 i686 GNU/Linux
>
>
> ====================================
> --  All the way from UTM to Monty
> cs2cs -v +init=epsg:32620 +to +init=epsg:2004 <<EOF
> 588710.63       1851124.52
> EOF
> # ---- From Coordinate System ----
> #Universal Transverse Mercator (UTM)
> #       Cyl, Sph
> #       zone= south
> # +init=epsg:32620 +proj=utm +zone=20 +ellps=WGS84 +datum=WGS84 +units=m
> # +no_defs +towgs84=0,0,0
> #--- following specified but NOT used
> # +ellps=WGS84
> # ---- To Coordinate System ----
> #Transverse Mercator
> #       Cyl, Sph&Ell
> # +init=epsg:2004 +proj=tmerc +lat_0=0 +lon_0=-62 +k=0.9995000000000001
> # +x_0=400000 +y_0=0 +ellps=clrk80 +towgs84=174,359,365,0,0,0,0 +units=m
> # +no_defs
> 381799.69       1850374.10 37.86
> =====================================
>
> -- Inverse Proj from UTM
> invproj -v -f "%.5f" +init=epsg:32620  <<EOF
> 588710.63       1851124.52
> EOF
> #Universal Transverse Mercator (UTM)
> #       Cyl, Sph
> #       zone= south
> # +init=epsg:32620 +proj=utm +zone=20 +ellps=WGS84 +datum=WGS84 +units=m
> # +no_defs +towgs84=0,0,0
> #--- following specified but NOT used
> # +ellps=WGS84
> -62.16775       16.74132
>
> ======================================
> -- lonlat to Monty
> cs2cs -v +proj=lonlat +to +init=epsg:2004  <<EOF
> -62.16775 16.74132
> EOF
> # ---- From Coordinate System ----
> #Lat/long (Geodetic)
> #
> # +proj=lonlat +ellps=WGS84
> # ---- To Coordinate System ----
> #Transverse Mercator
> #       Cyl, Sph&Ell
> # +init=epsg:2004 +proj=tmerc +lat_0=0 +lon_0=-62 +k=0.9995000000000001
> # +x_0=400000 +y_0=0 +ellps=clrk80 +towgs84=174,359,365,0,0,0,0 +units=m
> # +no_defs
> 382121.20       1850599.03 0.00
>
> ======================================
> -- lonlat with a datum to Monty
> cs2cs -v +proj=lonlat +datum=NAD27 +to +init=epsg:2004  <<EOF
> -62.16775 16.74132
> EOF
> # ---- From Coordinate System ----
> #Lat/long (Geodetic)
> #
> # +proj=lonlat +datum=NAD27 +ellps=clrk66
> # +nadgrids=@conus, at alaska, at ntv2_0.gsb, at ntv1_can.dat
> # ---- To Coordinate System ----
> #Transverse Mercator
> #       Cyl, Sph&Ell
> # +init=epsg:2004 +proj=tmerc +lat_0=0 +lon_0=-62 +k=0.9995000000000001
> # +x_0=400000 +y_0=0 +ellps=clrk80 +towgs84=174,359,365,0,0,0,0 +units=m
> # +no_defs
> 381799.69       1850374.10 37.86
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20120202/9b5bd465/attachment.html>

From drew.simpson.home at gmail.com  Fri Feb  3 05:14:32 2012
From: drew.simpson.home at gmail.com (Andrew Simpson)
Date: Fri, 3 Feb 2012 09:14:32 -0400
Subject: [Proj] lonlat default datum confusion
In-Reply-To: <CALHLaORrA6bHmxBZx__cF0FVuAK47BYO3hN2QLXCjpWU1JSytw@mail.gmail.com>
References: <CADxw0on9SzWKReZodbmcd3moA3-AoY=y75-EuZUzf6vuX2ca9A@mail.gmail.com>
	<CALHLaORrA6bHmxBZx__cF0FVuAK47BYO3hN2QLXCjpWU1JSytw@mail.gmail.com>
Message-ID: <CADxw0om6GYTs_m14r16v2AArehuCyy1pU4a1yiZFHxv7Za=LTQ@mail.gmail.com>

Thank you for the responses Frank and Jose.

So when I do the UTM to lonlat with no datum, the conversion the results
are in WGS84.

When I go from lonlat to epsg:2004, cs2cs assumes there is no datum
conversion needed, so I get the wrong results.

But if I specify a source datum of NAD27 or WGS84 on the latlon, the
towgs84 in the target epsg:2004 kicks in?

Not sure why I can put either datum in and get the same result?

Thanks again,
Drew

On Thu, Feb 2, 2012 at 6:22 PM, Jose Gonçalves <jagoncal at gmail.com> wrote:

> Andrew
>
> Since you don't specify an ellipsoid in the source system, WGS84 is
> assumed:
>
>
> cs2cs -v +proj=lonlat +to +init=epsg:2004
>
> This is not enough because you must specify some datum control, such as
> +towgs84=0,0,0 (notice that +datum=WGS84 is equivalent to +ellps=WGS84
> +towgs84=0,0,0). You get the correct result with:
>
> cs2cs +proj=lonlat +towgs84=0,0,0 +to +init=epsg:2004
> -62.16775 16.74132
> 381799.69       1850374.10 37.86
>
>
> Regards
>
> Jose Gonçalves
>
>
>
>
> 2012/2/2 Andrew Simpson <drew.simpson.home at gmail.com>
>
>> Greetings,
>>
>> I am having trouble understanding how lonlat is handled in cs2cs and proj
>>
>> If I cs2cs straight from "WGS 84 / UTM zone 20N" to "Montserrat 1958 /
>> BWI" I get one result.
>>
>> If I cs2cs to lonlat in between I get a different result.
>>
>> If I provide a datum on the conversion from lonlat to "Montserrat 1958 /
>> BWI" such as WGS84, I get the original result, even if the datum is not
>> applicable as in NAD27.
>>
>> Is the datum enabling a portion of code that wouldn't otherwise be used,
>> and then just being discarded?
>>
>> What EPSG code would lonlat default to, or does it default to the +to
>> coordinate system?
>>
>> Thanks for any thoughts
>>
>> Rel. 4.7.1, 23 September 2009 on Linux 2.6.26-2-686 #1 SMP Thu Sep 16
>> 19:35:51 UTC 2010 i686 GNU/Linux
>>
>>
>> ====================================
>> --  All the way from UTM to Monty
>> cs2cs -v +init=epsg:32620 +to +init=epsg:2004 <<EOF
>> 588710.63       1851124.52
>> EOF
>> # ---- From Coordinate System ----
>> #Universal Transverse Mercator (UTM)
>> #       Cyl, Sph
>> #       zone= south
>> # +init=epsg:32620 +proj=utm +zone=20 +ellps=WGS84 +datum=WGS84 +units=m
>> # +no_defs +towgs84=0,0,0
>> #--- following specified but NOT used
>> # +ellps=WGS84
>> # ---- To Coordinate System ----
>> #Transverse Mercator
>> #       Cyl, Sph&Ell
>> # +init=epsg:2004 +proj=tmerc +lat_0=0 +lon_0=-62 +k=0.9995000000000001
>> # +x_0=400000 +y_0=0 +ellps=clrk80 +towgs84=174,359,365,0,0,0,0 +units=m
>> # +no_defs
>> 381799.69       1850374.10 37.86
>> =====================================
>>
>> -- Inverse Proj from UTM
>> invproj -v -f "%.5f" +init=epsg:32620  <<EOF
>> 588710.63       1851124.52
>> EOF
>> #Universal Transverse Mercator (UTM)
>> #       Cyl, Sph
>> #       zone= south
>> # +init=epsg:32620 +proj=utm +zone=20 +ellps=WGS84 +datum=WGS84 +units=m
>> # +no_defs +towgs84=0,0,0
>> #--- following specified but NOT used
>> # +ellps=WGS84
>> -62.16775       16.74132
>>
>> ======================================
>> -- lonlat to Monty
>> cs2cs -v +proj=lonlat +to +init=epsg:2004  <<EOF
>> -62.16775 16.74132
>> EOF
>> # ---- From Coordinate System ----
>> #Lat/long (Geodetic)
>> #
>> # +proj=lonlat +ellps=WGS84
>> # ---- To Coordinate System ----
>> #Transverse Mercator
>> #       Cyl, Sph&Ell
>> # +init=epsg:2004 +proj=tmerc +lat_0=0 +lon_0=-62 +k=0.9995000000000001
>> # +x_0=400000 +y_0=0 +ellps=clrk80 +towgs84=174,359,365,0,0,0,0 +units=m
>> # +no_defs
>> 382121.20       1850599.03 0.00
>>
>> ======================================
>> -- lonlat with a datum to Monty
>> cs2cs -v +proj=lonlat +datum=NAD27 +to +init=epsg:2004  <<EOF
>> -62.16775 16.74132
>> EOF
>> # ---- From Coordinate System ----
>> #Lat/long (Geodetic)
>> #
>> # +proj=lonlat +datum=NAD27 +ellps=clrk66
>> # +nadgrids=@conus, at alaska, at ntv2_0.gsb, at ntv1_can.dat
>> # ---- To Coordinate System ----
>> #Transverse Mercator
>> #       Cyl, Sph&Ell
>> # +init=epsg:2004 +proj=tmerc +lat_0=0 +lon_0=-62 +k=0.9995000000000001
>> # +x_0=400000 +y_0=0 +ellps=clrk80 +towgs84=174,359,365,0,0,0,0 +units=m
>> # +no_defs
>> 381799.69       1850374.10 37.86
>>
>> _______________________________________________
>> Proj mailing list
>> Proj at lists.maptools.org
>> http://lists.maptools.org/mailman/listinfo/proj
>>
>
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20120203/f1a42d3e/attachment.html>

From mkennedy2 at earthlink.net  Fri Feb  3 07:54:55 2012
From: mkennedy2 at earthlink.net (Melita Kennedy)
Date: Fri, 3 Feb 2012 07:54:55 -0800 (GMT-08:00)
Subject: [Proj] PROJ: Further help with the swisstopo NTv2 grid
Message-ID: <1584712.1328284495994.JavaMail.root@elwamui-polski.atl.sa.earthlink.net>


>Date: Wed, 1 Feb 2012 14:15:41 +0100
>From: Sandro Santilli <strk at keybit.net>
>Subject: Re: [Proj] PROJ: Further help with the swisstopo NTv2 grid
>	shift ?
>To: Melita Kennedy <mkennedy2 at earthlink.net>,	"PROJ.4 and general
>	Projections Discussions" <proj at lists.maptools.org>
>
>On Wed, Feb 01, 2012 at 04:31:03AM -0800, Melita Kennedy wrote:
>> 
>> One method would be to calculate the CH1903+ to WGS84 offset for each NTv2 grid point, concatenate them with the offsets from the original file and build a new NTv2 file. EPSG lists a 1m transformation from CH1903+ to WGS84, do a code search for 1676 at http://www.epsg-registry.org. 
>> 
>
>Great, sounds like what I did. Still unfinished. Will post for review
>once completed.
>
>> Disclaimer: I'm a member of the subcommittee that maintains the dataset.
>
>Which dataset ? Swisstopo NTv2 or the epsg-registry ?
>
>--strk;

Ah! I'm sorry that I was unclear. The one that maintains the EPSG Geodetic Parameter Dataset. 


From jagoncal at gmail.com  Fri Feb  3 11:21:00 2012
From: jagoncal at gmail.com (=?ISO-8859-1?Q?Jose_Gon=E7alves?=)
Date: Fri, 3 Feb 2012 19:21:00 +0000
Subject: [Proj] lonlat default datum confusion
In-Reply-To: <CADxw0om6GYTs_m14r16v2AArehuCyy1pU4a1yiZFHxv7Za=LTQ@mail.gmail.com>
References: <CADxw0on9SzWKReZodbmcd3moA3-AoY=y75-EuZUzf6vuX2ca9A@mail.gmail.com>
	<CALHLaORrA6bHmxBZx__cF0FVuAK47BYO3hN2QLXCjpWU1JSytw@mail.gmail.com>
	<CADxw0om6GYTs_m14r16v2AArehuCyy1pU4a1yiZFHxv7Za=LTQ@mail.gmail.com>
Message-ID: <CALHLaOQsVySM0s=-=43HwxxtUB=_dxe5zjrVoryvGoCH7froBQ@mail.gmail.com>

Andrew

NAD27 is treated by a datum shift grid (or several grids as you can see in
the output with -v)

# +proj=lonlat +datum=NAD27 +ellps=clrk66
# +nadgrids=@conus, at alaska, at ntv2_0.gsb, at ntv1_can.dat

What the grids do is to estimate (delta_lon,delta_lat) to transform from
NAD27 to WGS84. Since your input point (-62.16775,16.74132) is outside of
the grid range, the shift is zero. So there is no change in the input
coordinates, and accidentally your result is correct.

Regards

Jose Gonçalves



2012/2/3 Andrew Simpson <drew.simpson.home at gmail.com>

> Thank you for the responses Frank and Jose.
>
> So when I do the UTM to lonlat with no datum, the conversion the results
> are in WGS84.
>
> When I go from lonlat to epsg:2004, cs2cs assumes there is no datum
> conversion needed, so I get the wrong results.
>
> But if I specify a source datum of NAD27 or WGS84 on the latlon, the
> towgs84 in the target epsg:2004 kicks in?
>
> Not sure why I can put either datum in and get the same result?
>
> Thanks again,
> Drew
>
> On Thu, Feb 2, 2012 at 6:22 PM, Jose Gonçalves <jagoncal at gmail.com> wrote:
>
>> Andrew
>>
>> Since you don't specify an ellipsoid in the source system, WGS84 is
>> assumed:
>>
>>
>> cs2cs -v +proj=lonlat +to +init=epsg:2004
>>
>> This is not enough because you must specify some datum control, such as
>> +towgs84=0,0,0 (notice that +datum=WGS84 is equivalent to +ellps=WGS84
>> +towgs84=0,0,0). You get the correct result with:
>>
>> cs2cs +proj=lonlat +towgs84=0,0,0 +to +init=epsg:2004
>> -62.16775 16.74132
>> 381799.69       1850374.10 37.86
>>
>>
>> Regards
>>
>> Jose Gonçalves
>>
>>
>>
>>
>> 2012/2/2 Andrew Simpson <drew.simpson.home at gmail.com>
>>
>>> Greetings,
>>>
>>> I am having trouble understanding how lonlat is handled in cs2cs and proj
>>>
>>> If I cs2cs straight from "WGS 84 / UTM zone 20N" to "Montserrat 1958 /
>>> BWI" I get one result.
>>>
>>> If I cs2cs to lonlat in between I get a different result.
>>>
>>> If I provide a datum on the conversion from lonlat to "Montserrat 1958 /
>>> BWI" such as WGS84, I get the original result, even if the datum is not
>>> applicable as in NAD27.
>>>
>>> Is the datum enabling a portion of code that wouldn't otherwise be used,
>>> and then just being discarded?
>>>
>>> What EPSG code would lonlat default to, or does it default to the +to
>>> coordinate system?
>>>
>>> Thanks for any thoughts
>>>
>>> Rel. 4.7.1, 23 September 2009 on Linux 2.6.26-2-686 #1 SMP Thu Sep 16
>>> 19:35:51 UTC 2010 i686 GNU/Linux
>>>
>>>
>>> ====================================
>>> --  All the way from UTM to Monty
>>> cs2cs -v +init=epsg:32620 +to +init=epsg:2004 <<EOF
>>> 588710.63       1851124.52
>>> EOF
>>> # ---- From Coordinate System ----
>>> #Universal Transverse Mercator (UTM)
>>> #       Cyl, Sph
>>> #       zone= south
>>> # +init=epsg:32620 +proj=utm +zone=20 +ellps=WGS84 +datum=WGS84 +units=m
>>> # +no_defs +towgs84=0,0,0
>>> #--- following specified but NOT used
>>> # +ellps=WGS84
>>> # ---- To Coordinate System ----
>>> #Transverse Mercator
>>> #       Cyl, Sph&Ell
>>> # +init=epsg:2004 +proj=tmerc +lat_0=0 +lon_0=-62 +k=0.9995000000000001
>>> # +x_0=400000 +y_0=0 +ellps=clrk80 +towgs84=174,359,365,0,0,0,0 +units=m
>>> # +no_defs
>>> 381799.69       1850374.10 37.86
>>> =====================================
>>>
>>> -- Inverse Proj from UTM
>>> invproj -v -f "%.5f" +init=epsg:32620  <<EOF
>>> 588710.63       1851124.52
>>> EOF
>>> #Universal Transverse Mercator (UTM)
>>> #       Cyl, Sph
>>> #       zone= south
>>> # +init=epsg:32620 +proj=utm +zone=20 +ellps=WGS84 +datum=WGS84 +units=m
>>> # +no_defs +towgs84=0,0,0
>>> #--- following specified but NOT used
>>> # +ellps=WGS84
>>> -62.16775       16.74132
>>>
>>> ======================================
>>> -- lonlat to Monty
>>> cs2cs -v +proj=lonlat +to +init=epsg:2004  <<EOF
>>> -62.16775 16.74132
>>> EOF
>>> # ---- From Coordinate System ----
>>> #Lat/long (Geodetic)
>>> #
>>> # +proj=lonlat +ellps=WGS84
>>> # ---- To Coordinate System ----
>>> #Transverse Mercator
>>> #       Cyl, Sph&Ell
>>> # +init=epsg:2004 +proj=tmerc +lat_0=0 +lon_0=-62 +k=0.9995000000000001
>>> # +x_0=400000 +y_0=0 +ellps=clrk80 +towgs84=174,359,365,0,0,0,0 +units=m
>>> # +no_defs
>>> 382121.20       1850599.03 0.00
>>>
>>> ======================================
>>> -- lonlat with a datum to Monty
>>> cs2cs -v +proj=lonlat +datum=NAD27 +to +init=epsg:2004  <<EOF
>>> -62.16775 16.74132
>>> EOF
>>> # ---- From Coordinate System ----
>>> #Lat/long (Geodetic)
>>> #
>>> # +proj=lonlat +datum=NAD27 +ellps=clrk66
>>> # +nadgrids=@conus, at alaska, at ntv2_0.gsb, at ntv1_can.dat
>>> # ---- To Coordinate System ----
>>> #Transverse Mercator
>>> #       Cyl, Sph&Ell
>>> # +init=epsg:2004 +proj=tmerc +lat_0=0 +lon_0=-62 +k=0.9995000000000001
>>> # +x_0=400000 +y_0=0 +ellps=clrk80 +towgs84=174,359,365,0,0,0,0 +units=m
>>> # +no_defs
>>> 381799.69       1850374.10 37.86
>>>
>>> _______________________________________________
>>> Proj mailing list
>>> Proj at lists.maptools.org
>>> http://lists.maptools.org/mailman/listinfo/proj
>>>
>>
>>
>> _______________________________________________
>> Proj mailing list
>> Proj at lists.maptools.org
>> http://lists.maptools.org/mailman/listinfo/proj
>>
>
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20120203/984d1e15/attachment.html>

From Mikael.Rittri at carmenta.com  Tue Feb  7 06:28:52 2012
From: Mikael.Rittri at carmenta.com (Mikael Rittri)
Date: Tue, 7 Feb 2012 14:28:52 +0000
Subject: [Proj] Setting up a proj4 specification
In-Reply-To: <E4AB3DD44D22854B819908379DE4AD4938884916@SETHNWS023.carmenta.se>
References: <CAFpCUPqvKrcnoShBf2woXRHohnZ1uhahE8Ok4AgskTb1h0r1pQ@mail.gmail.com>
	<4E9E7F9F.1020503@free.fr>
	<E4AB3DD44D22854B819908379DE4AD49388847F2@SETHNWS023.carmenta.se>
	<E4AB3DD44D22854B819908379DE4AD4938884916@SETHNWS023.carmenta.se>
Message-ID: <E4AB3DD44D22854B819908379DE4AD49390BA226@SETHNWS023.carmenta.se>

Hello,

Some months ago, I cited some published datum shifts from Arc 1960 to WGS84
in Kenya. 

Now I have tested them, and they don't work as I cited them. So here are some corrections:

I cited a three-parameter shift that was published in the Grids & Datums
column on Kenya:

   +towgs84=-179.1,-44.7,-302.6

But according to the primary source, 

   A. S. Lwangasi:
   Datum transformation parameters for the Kenya geodetic system.
   Survey Review, Volume 32, Number 247, January 1993, pp. 39-46(8).
   http://www.ingentaconnect.com/content/maney/sre/1993/00000032/00000247/art00004

this shift goes from Arc 1960 to WGS72, so it must be concatenated with a
datum shift from WGS72 to WGS84. If we use EPSG:1237 for the second step,
the result would be 

  +towgs84=-179.1,-44.7,-298.1,0,0,0.554,0.2263

I have compared this with the NIMA shift +towgs84=-157,-2,-299 (EPSG:1284),
and found differences of 3.1 m and 5.9 m on two test points, which isn't
alarming since the NIMA shift has accuracy 6 m, and the Lwangasi shift has
accuracy about 3.5 m (which must be combined with the 2 m accuracy between
WGS72 and WGS84). 
    But if the Lwangasi shift is misinterpreted as going to WGS84, the
differences were 20.4 m and 21.6 m on my test points. 

I also cited a "Molodensky-Badekas 7-parameters transformation" from the
AFREF Newsletter, and made a guess of how it could be represented in Proj.4.
However, I cannot make it work; it differs by hundreds of meters from the
NIMA and Lwangasi shifts, regardless of how I reverse signs.
   My best guess is that this datum shift is intended as a Molodensky-Badekas 10-parameters transformation. (At least, that's what I would call
it). The extra three parameters are the geocentric Cartesian coordinates of
the rotation point (evaluation point). Unfortunately, those three parameters
were not published in the AFREF Newsletter. I tried with the Arc 1960 origin
point in South Africa, but it didn't work. The rotation point is probably
the average of the observations in Kenya (I got pretty good agreement with NIMA and Lwangasi by using Nairobi as rotation point).
   
Best regards,

Mikael Rittri
Carmenta
Sweden
http://www.carmenta.com

-----Original Message-----
From: proj-bounces at lists.maptools.org [mailto:proj-bounces at lists.maptools.org] On Behalf Of Mikael Rittri
Sent: Wednesday, October 19, 2011 3:58 PM
To: PROJ.4 and general Projections Discussions
Cc: Hanlie Pretorius
Subject: Re: [Proj] Setting up a proj4 specification

PS again:

The AFREF newsletter No.5, January 2008,

http://facility.unavco.org/kb/getattachment.php?data=ODR8SkFOIDIwMDggQUZSRUYgbmV3c2xldHRlci5wZGY%3D

publishes what they call a "Molodensky-Badekas 7-Parameters transformation" 
that is "between WGS 84 and Arc 1960 datum for Kenya". I think that means that
the published transformation goes in the direction from WGS 84 to Arc 1960. 
So one would need to reverse the signs of all parameters for use in Proj.4.

Also, I think "Molodensky-Badekas" usually means that the rotation sign
convention is Coordinate Frame Rotation, while Proj.4 uses the opposite 
Position Vector Transformation.  If I am right, the signs of the rotation 
parameters must be reversed once more!  

If I am not mistaken, the Proj.4 syntax for the transformation should be 

   +towgs84=-148.5133,3.4865,-298.0307,-5.9464,7.1414,2.8544,4.3955

Regards,

Mikael Rittri
Carmenta
Sweden
http://www.carmenta.com 


-----Original Message-----
From: Mikael Rittri 
Sent: Wednesday, October 19, 2011 12:55 PM
To: 'PROJ.4 and general Projections Discussions'
Subject: RE: [Proj] Setting up a proj4 specification

PS:

Another datum shift for Arc 1960 to WGS 84 in Kenya is 

   +towgs84=-179.1,-44.7,-302.6

which is probably more accurate. See Clifford Mugnier's column on Kenya, 

http://www.asprs.org/a/resources/grids/06-2003-kenya.pdf

regards,

Mikael Rittri
Carmenta

-----Original Message-----
From: proj-bounces at lists.maptools.org [mailto:proj-bounces at lists.maptools.org] On Behalf Of Mikael Rittri
Sent: Wednesday, October 19, 2011 11:10 AM
To: PROJ.4 and general Projections Discussions
Subject: Re: [Proj] Setting up a proj4 specification

Hello, Hanlie.

[-- see  http://lists.maptools.org/pipermail/proj/2011-October/005962.html  --]
_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj


From noorcs22 at gmail.com  Wed Feb  8 05:31:12 2012
From: noorcs22 at gmail.com (Mustafa646)
Date: Wed, 8 Feb 2012 05:31:12 -0800 (PST)
Subject: [Proj] OGR based C# library for changing projections
Message-ID: <1328707872103-4375963.post@n6.nabble.com>

Like ogr2ogr command line tool, we can convert shapefile projections from one
coordinate system to another coordinate system, similarly, i want to know is
there any C# library probably build on OGR for this converion? OR may be
some other C# library ?  I want to use this library in my C# web application 

--
View this message in context: http://osgeo-org.1560.n6.nabble.com/OGR-based-C-library-for-changing-projections-tp4375963p4375963.html
Sent from the PROJ.4 mailing list archive at Nabble.com.


From EMiller at dfg.ca.gov  Wed Feb  8 17:38:45 2012
From: EMiller at dfg.ca.gov (Eric Miller)
Date: Wed, 8 Feb 2012 17:38:45 -0800
Subject: [Proj] OGR based C# library for changing projections
In-Reply-To: <1328707872103-4375963.post@n6.nabble.com>
References: <1328707872103-4375963.post@n6.nabble.com>
Message-ID: <4F32B325.95FD.00E4.1@dfg.ca.gov>

Maybe http://trac.osgeo.org/gdal/wiki/GdalOgrInCsharp ?
-- 

Eric G. Miller
Software Developer
CA Dept. of Fish & Game


>>> On 2/8/2012 at  5:31 AM, Mustafa646 <noorcs22 at gmail.com> wrote:
> Like ogr2ogr command line tool, we can convert shapefile projections from one
> coordinate system to another coordinate system, similarly, i want to know is
> there any C# library probably build on OGR for this converion? OR may be
> some other C# library ?  I want to use this library in my C# web application 
> 
> 
> --
> View this message in context: 
> http://osgeo-org.1560.n6.nabble.com/OGR-based-C-library-for-changing-project 
> ions-tp4375963p4375963.html
> Sent from the PROJ.4 mailing list archive at Nabble.com.
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org 
> http://lists.maptools.org/mailman/listinfo/proj




From noorcs22 at gmail.com  Thu Feb  9 03:08:00 2012
From: noorcs22 at gmail.com (Mustafa646)
Date: Thu, 9 Feb 2012 03:08:00 -0800 (PST)
Subject: [Proj] C# library for assigning projection to shapefile
Message-ID: <1328785680652-4378845.post@n6.nabble.com>

I have a shapefile without coordinate system defined in it. I need any C#
library which could take shapefile as an input and can assign projection. Is
there any C# library there ?

--
View this message in context: http://osgeo-org.1560.n6.nabble.com/C-library-for-assigning-projection-to-shapefile-tp4378845p4378845.html
Sent from the PROJ.4 mailing list archive at Nabble.com.


From noorcs22 at gmail.com  Thu Feb  9 07:19:36 2012
From: noorcs22 at gmail.com (Mustafa646)
Date: Thu, 9 Feb 2012 07:19:36 -0800 (PST)
Subject: [Proj] API documentation for Gdal/Ogr with C#
Message-ID: <1328800776667-4379832.post@n6.nabble.com>


I want to assign projection to shapefile in my web C# application, for this
i am using Gdal/OGR/OSR C# bindings and add osr_csharp.dll and
ogr_csharp.dll references. But i am facing some difficulty while writing the
code for assigning projection to shapefile. I want to know is there any API
documentation for this which can help me to understand the classes/methods
of these libraries. OR if anybody have some piece of code for assigning
projection to shapefile , then it will be great help for me.
 

--
View this message in context: http://osgeo-org.1560.n6.nabble.com/API-documentation-for-Gdal-Ogr-with-C-tp4379832p4379832.html
Sent from the PROJ.4 mailing list archive at Nabble.com.


From Mikael.Rittri at carmenta.com  Thu Feb  9 07:45:52 2012
From: Mikael.Rittri at carmenta.com (Mikael Rittri)
Date: Thu, 9 Feb 2012 15:45:52 +0000
Subject: [Proj] How common is it that a zero shift means undefined in an
	NTv2 file?
Message-ID: <E4AB3DD44D22854B819908379DE4AD49390BA805@SETHNWS023.carmenta.se>

Hello,

I have noticed that the grid shift files for Great Britain (that do datum shift from OSGB36 to ETRS89)
have meaningful shift values only up to 10 km offshore.  Beyond that limit, OSGB36 is not defined,
the shift values are zero, and the software is supposed to signal an error.

At least, the original British software does so:

    When transformation software encounters a zero parameter it will return an "outside transformation boundary" type error.
    http://www.ordnancesurvey.co.uk/oswebsite/gps/osnetfreeservices/about/surveying_osnet.html#6

However, when using the NTv2 representation of the grid file, the zero shifts may be accepted as valid:

    The 10km off shore buffer is retained in the NTv2 version of OSTN02 so users must be aware that
    no transformation will take place beyond this limit. Unlike in a dedicated implementation of the
    original OSTN02 grid, a GIS system using the NTv2 version of OSTN02 is unlikely to warn the
    user that coordinates are outside the 10km boundary and will therefore not be transformed.
    http://www.ordnancesurvey.co.uk/oswebsite/gps/osnetfreeservices/furtherinfo/ostn02_ntv2.html
I have noticed that the grid shift files for Great Britain (that do datum shift from OSGB36 to ETRS89)

have meaningful shift I wonder if anyone knows of other NTv2 files where zero shifts are supposed to mean undefined?
As far








-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20120209/308bcf74/attachment.html>

From Mikael.Rittri at carmenta.com  Thu Feb  9 07:58:53 2012
From: Mikael.Rittri at carmenta.com (Mikael Rittri)
Date: Thu, 9 Feb 2012 15:58:53 +0000
Subject: [Proj] How common is it that a zero shift means undefined in an
 NTv2 file?
Message-ID: <E4AB3DD44D22854B819908379DE4AD49390BA815@SETHNWS023.carmenta.se>

Oops, I happened to hit Control + Enter by mistake, which means "Send". Sorry.
The end was supposed to be:

I wonder if anyone knows of other NTv2 files where zero shifts are supposed to mean undefined?

As far as I know, most NTv2 files extrapolate the datum shifts, so that they can fill a rectangular grid with
shift values that are continuous and sensible (for some definition of sense).

But maybe there are other countries that use the British style?

Best regards,

Mikael Rittri
Carmenta
Sweden
http://www.carmenta.com

________________________________
From: Mikael Rittri
Sent: Thursday, February 09, 2012 4:46 PM
To: 'proj at lists.maptools.org'
Subject: How common is it that a zero shift means undefined in an NTv2 file?

Hello,

I have noticed that the grid shift files for Great Britain (that do datum shift from OSGB36 to ETRS89)
have meaningful shift values only up to 10 km offshore.  Beyond that limit, OSGB36 is not defined,
the shift values are zero, and the software is supposed to signal an error.

At least, the original British software does so:

    When transformation software encounters a zero parameter it will return an "outside transformation boundary" type error.
    http://www.ordnancesurvey.co.uk/oswebsite/gps/osnetfreeservices/about/surveying_osnet.html#6

However, when using the NTv2 representation of the grid file, the zero shifts may be accepted as valid:

    The 10km off shore buffer is retained in the NTv2 version of OSTN02 so users must be aware that
    no transformation will take place beyond this limit. Unlike in a dedicated implementation of the
    original OSTN02 grid, a GIS system using the NTv2 version of OSTN02 is unlikely to warn the
    user that coordinates are outside the 10km boundary and will therefore not be transformed.
    http://www.ordnancesurvey.co.uk/oswebsite/gps/osnetfreeservices/furtherinfo/ostn02_ntv2.html
I have noticed that the grid shift files for Great Britain (that do datum shift from OSGB36 to ETRS89)

have meaningful shift I wonder if anyone knows of other NTv2 files where zero shifts are supposed to mean undefined?
As far








-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20120209/88d0c1d7/attachment.html>

From ksshannon at gmail.com  Thu Feb  9 08:58:59 2012
From: ksshannon at gmail.com (Kyle Shannon)
Date: Thu, 9 Feb 2012 09:58:59 -0700
Subject: [Proj] API documentation for Gdal/Ogr with C#
In-Reply-To: <1328800776667-4379832.post@n6.nabble.com>
References: <1328800776667-4379832.post@n6.nabble.com>
Message-ID: <CAJ0mEz1SFbBAtkTXHwiv_n49z=JS5t8wQRPk0eYgV-B_-nTxNQ@mail.gmail.com>

OGR api docs are here:

http://gdal.org/ogr/index.html

Check the read write tutorial too.

kss

/**
 *
 * Kyle Shannon
 * ksshannon at gmail.com
 *
 */



On Thu, Feb 9, 2012 at 08:19, Mustafa646 <noorcs22 at gmail.com> wrote:

>
> I want to assign projection to shapefile in my web C# application, for this
> i am using Gdal/OGR/OSR C# bindings and add osr_csharp.dll and
> ogr_csharp.dll references. But i am facing some difficulty while writing
> the
> code for assigning projection to shapefile. I want to know is there any API
> documentation for this which can help me to understand the classes/methods
> of these libraries. OR if anybody have some piece of code for assigning
> projection to shapefile , then it will be great help for me.
>
>
> --
> View this message in context:
> http://osgeo-org.1560.n6.nabble.com/API-documentation-for-Gdal-Ogr-with-C-tp4379832p4379832.html
> Sent from the PROJ.4 mailing list archive at Nabble.com.
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20120209/696ae65b/attachment.html>

From Michael.Smith at usace.army.mil  Thu Feb  9 11:40:01 2012
From: Michael.Smith at usace.army.mil (Smith, Michael ERDC-CRREL-NH)
Date: Thu, 9 Feb 2012 19:40:01 +0000
Subject: [Proj] Proj Release
Message-ID: <CB5960FF.1FD12%michael.smith@usace.army.mil>

Frank,

I would like to request a Proj release in the next couple of months. We are going to be doing security testing of our Lidar system which makes use of trunk proj for PDAL. I'd imagine that we will have a much easier time having a released version.

Mike

--
Michael Smith
US Army Corps
Remote Sensing GIS/Center
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20120209/f71a32a5/attachment.html>

From noorcs22 at gmail.com  Tue Feb 14 09:50:22 2012
From: noorcs22 at gmail.com (Mustafa646)
Date: Tue, 14 Feb 2012 09:50:22 -0800 (PST)
Subject: [Proj] Difference between same projections types
Message-ID: <1329241822684-4469571.post@n6.nabble.com>

Below are the strings of same projection WGS1984

1.  (+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs )

2. GEOGCS["WGS 84",DATUM["WGS_1984",SPHEROID["WGS
84",6378137,298.257223563,AUTHORITY["EPSG","7030"]],TOWGS84[0,0,0,0,0,0,0],AUTHORITY["EPSG","6326"]],PRIMEM["Greenwich",0,AUTHORITY["EPSG","8901"]],UNIT["degree",0.0174532925199433,AUTHORITY["EPSG","9108"]],AUTHORITY["EPSG","4326"]]

3. EPSG: 4326

I know that above 3 represent same projection type. But Can anybody explain
me why we use these different strings for the same projection? And when to
use what? And what is the difference between these 3 types.



--
View this message in context: http://osgeo-org.1560.n6.nabble.com/Difference-between-same-projections-types-tp4469571p4469571.html
Sent from the PROJ.4 mailing list archive at Nabble.com.


From martin.desruisseaux at geomatys.fr  Tue Feb 14 10:47:37 2012
From: martin.desruisseaux at geomatys.fr (Martin Desruisseaux)
Date: Tue, 14 Feb 2012 19:47:37 +0100
Subject: [Proj] Difference between same projections types
In-Reply-To: <1329241822684-4469571.post@n6.nabble.com>
References: <1329241822684-4469571.post@n6.nabble.com>
Message-ID: <4F3AAC49.80202@geomatys.fr>

Hello Mustafa

Le 14/02/12 18:50, Mustafa646 a écrit :
> 1.  (+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs )
This syntax is Proj.4 specific, and may not be understood by other software 
(unless those software provide a Proj.4 compatibility layer). Note however that 
since many projects use Proj.4 for their internal map projections, they 
indirectly use that syntax. For example the PostGIS extension to the PostgreSQL 
database use Proj.4 internally, so its "spatial_ref_sys" table expect that 
syntax. This is non-standard however.


> 2. GEOGCS["WGS 84",DATUM["WGS_1984",SPHEROID["WGS
> 84",6378137,298.257223563,AUTHORITY["EPSG","7030"]],TOWGS84[0,0,0,0,0,0,0],AUTHORITY["EPSG","6326"]],PRIMEM["Greenwich",0,AUTHORITY["EPSG","8901"]],UNIT["degree",0.0174532925199433,AUTHORITY["EPSG","9108"]],AUTHORITY["EPSG","4326"]]
This syntax, named "Well Known Text" (WKT), has been standardized by the OGC 
01-009 specification and is (in theory) an international standard. The syntax is 
described here:

     http://www.geoapi.org/3.0/javadoc/org/opengis/referencing/doc-files/WKT.html

Alternatively you can go straight to the source: 
http://www.opengeospatial.org/standards/ct

This syntax is used in ".prj" file that sometime come with "TIFF + World File" 
images for example. In theory, this syntax should be understood by many 
software. In practice, different software understand it in different ways, 
sometime because the standard had some room for interpretation, and sometime 
because not every developers have implemented the standard correctly.

As a side note, the above WKT is note quite right. It is missing the axis order 
declaration - so it is not a real definition for "EPSG:4326". It is rather a 
definition for "CRS:84" (defined in WMS specification).

By the way, if there is any PostGIS developer reading this list... last time I 
looked, the WKT defined in the PostGIS "spatial_ref_sys" table for France 
Lambert projections declare a wrong "prime meridian" value (more specifically, 
the units are wrong. It should be declared in gradiant - not degrees - because 
the prime meridian shall inherits the unit of the enclosing GEOGCS. While some 
other parts of the WKT specification are vague, this one is clear). I filled a 
bug report to PostGIS years ago, but it doesn't seem to have been addressed...


> 3. EPSG: 4326
This one is only a reference to a definition which shall be provided elsewhere. 
This is often a primary key in a database. Understanding this value require that 
the software had a connection to an appropriate database. In this particular 
case, the database is (or is derived from) the EPSG database: http://www.epsg.org

When using software that can understand such codes, providing the EPSG codes is 
often both the easiest and the most accurate way to define the CRS (assuming 
that the database used by the software doesn't contain errors).

Regards,

     Martin



From support.mn at elisanet.fi  Wed Feb 15 01:48:05 2012
From: support.mn at elisanet.fi (support.mn at elisanet.fi)
Date: Wed, 15 Feb 2012 11:48:05 +0200 (EET)
Subject: [Proj] Difference between same projections types
Message-ID: <11957014.4777691329299285806.JavaMail.support.mn@elisanet.fi>

Hello,

the two first definitions are self sustained but the 3. definition needs a
database where the definition is kept. The problem with the 3. type is
that if the organisation that makes these definitions adds new ones the
old system trops out.

The two first definitions are better since if new definitions are added
the old system can also use them (since all information is given in the
definition it self). If you use a database to keep the references you
need to update that all the time to stay updated if new entries are added.

BTW: this is exactly the problem with some definitions in geotiff
standard. Luckily most creators put all data to the geotiff file and discard
any database but there are users that use the database. New version
of the standard should freeze that database and forbid adding new
entries to it and so force the use of the full definition at least for the
new entries. That would then stabilize the geotiff standard.

Regards: Janne.

------------------------------------

Mustafa646 [noorcs22 at gmail.com] kirjoitti: 
> 1.  (+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs )
> 2. GEOGCS["WGS 84",DATUM["WGS_1984",SPHEROID["WGS
> 84",6378137,298.257223563,AUTHORITY["EPSG","7030"]],TOWGS84[0,0,0,0,0,0,0],AUTHORITY["EPSG","6326"]],PRIMEM["Greenwich",0,AUTHORITY["EPSG","8901"]],UNIT["degree",0.0174532925199433,AUTHORITY["EPSG","9108"]],AUTHORITY["EPSG","4326"]]
> 3. EPSG: 4326
> And what is the difference between these 3 types.
> 



From peifer at gmx.eu  Wed Feb 15 10:13:13 2012
From: peifer at gmx.eu (Hermann Peifer)
Date: Wed, 15 Feb 2012 19:13:13 +0100
Subject: [Proj] Difference between same projections types
In-Reply-To: <11957014.4777691329299285806.JavaMail.support.mn@elisanet.fi>
References: <11957014.4777691329299285806.JavaMail.support.mn@elisanet.fi>
Message-ID: <jhgsjq$hth$1@dough.gmane.org>

On 15/02/2012 10:48, support.mn at elisanet.fi wrote:
> Hello,
>
> the two first definitions are self sustained...

Just to add that the first definition is sort of over-defined:
+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs

+datum=WGS84 resolves already to: +ellps=WGS84 +towgs84=0,0,0. So you 
double-define the ellipsoid (which however doesn't harm). cs2cs -v says:

#--- following specified but NOT used
# +ellps=WGS84

+no_defs also doesn't have any impact in the above case.

Hermann



From peifer at gmx.eu  Sun Feb 19 04:56:37 2012
From: peifer at gmx.eu (Hermann Peifer)
Date: Sun, 19 Feb 2012 13:56:37 +0100
Subject: [Proj] towgs84 values for EPSG:27700
Message-ID: <jhqri3$sea$1@dough.gmane.org>

Hi,

I am working with PROJ Rel. 4.7.1 and GDAL/OGR from trunk.

testepsg and gdalsrsinfo tell me that the towgs84 values for EPSG:27700 
are 375,-111,431,0,0,0,0 whereas cs2cs reports for the same EPSG code: 
446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894

Is this expected behaviour?

Hermann


$ testepsg epsg:27700 | grep PROJ.4
PROJ.4 rendering of [epsg:27700] = +proj=tmerc +lat_0=49 +lon_0=-2 
+k=0.9996012717 +x_0=400000 +y_0=-100000 +ellps=airy 
+towgs84=375,-111,431,0,0,0,0 +units=m +no_defs


$ gdalsrsinfo epsg:27700 | grep PROJ.4
PROJ.4 : '+proj=tmerc +lat_0=49 +lon_0=-2 +k=0.9996012717 +x_0=400000 
+y_0=-100000 +ellps=airy +towgs84=375,-111,431,0,0,0,0 +units=m +no_defs '


$ cs2cs -v +init=epsg:27700 +to +proj=latlong +datum=WGS84
# ---- From Coordinate System ----
#Transverse Mercator
#       Cyl, Sph&Ell
# +init=epsg:27700 +proj=tmerc +lat_0=49 +lon_0=-2 +k=0.9996012717 
+x_0=400000
# +y_0=-100000 +ellps=airy +datum=OSGB36 +units=m +no_defs
# +towgs84=446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894
#--- following specified but NOT used
# +ellps=airy
# ---- To Coordinate System ----
#Lat/long (Geodetic alias)
#
# +proj=latlong +datum=WGS84 +ellps=WGS84 +towgs84=0,0,0
^C



From support.mn at elisanet.fi  Sun Feb 19 12:06:18 2012
From: support.mn at elisanet.fi (support.mn at elisanet.fi)
Date: Sun, 19 Feb 2012 22:06:18 +0200 (EET)
Subject: [Proj] towgs84 values for EPSG:27700
Message-ID: <27082831.5007361329681979109.JavaMail.support.mn@elisanet.fi>

Hello,

Spatial Reference Org

http://spatialreference.org/ref/epsg/27700/
http://spatialreference.org/ref/epsg/27700/proj4/

gives:

+proj=tmerc
+lat_0=49
+lon_0=-2
+k=0.9996012717
+x_0=400000
+y_0=-100000
+ellps=airy
+datum=OSGB36
+units=m
+no_defs 

which is the OSGB 1936 / British National Grid. The
OSGB36 datum is defined differently in both
applications. There are several different definitions
for the OSGB36 and more are added as people need
definitions for different purpose.

So the reason for the difference is that the OSGB36
datum is not any standard value.

Regards: Janne.

------------------------------------------------------------------------

Hermann Peifer [peifer at gmx.eu] kirjoitti: 
> Hi,
> 
> I am working with PROJ Rel. 4.7.1 and GDAL/OGR from trunk.
> 
> testepsg and gdalsrsinfo tell me that the towgs84 values for EPSG:27700 
> are 375,-111,431,0,0,0,0 whereas cs2cs reports for the same EPSG code: 
> 446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894
> 
> Is this expected behaviour?
> 
> Hermann
> 
> 
> $ testepsg epsg:27700 | grep PROJ.4
> PROJ.4 rendering of [epsg:27700] = +proj=tmerc +lat_0=49 +lon_0=-2 
> +k=0.9996012717 +x_0=400000 +y_0=-100000 +ellps=airy 
> +towgs84=375,-111,431,0,0,0,0 +units=m +no_defs
> 
> 
> $ gdalsrsinfo epsg:27700 | grep PROJ.4
> PROJ.4 : '+proj=tmerc +lat_0=49 +lon_0=-2 +k=0.9996012717 +x_0=400000 
> +y_0=-100000 +ellps=airy +towgs84=375,-111,431,0,0,0,0 +units=m +no_defs '
> 
> 
> $ cs2cs -v +init=epsg:27700 +to +proj=latlong +datum=WGS84
> # ---- From Coordinate System ----
> #Transverse Mercator
> #       Cyl, Sph&Ell
> # +init=epsg:27700 +proj=tmerc +lat_0=49 +lon_0=-2 +k=0.9996012717 
> +x_0=400000
> # +y_0=-100000 +ellps=airy +datum=OSGB36 +units=m +no_defs
> # +towgs84=446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894
> #--- following specified but NOT used
> # +ellps=airy
> # ---- To Coordinate System ----
> #Lat/long (Geodetic alias)
> #
> # +proj=latlong +datum=WGS84 +ellps=WGS84 +towgs84=0,0,0
> ^C
> 
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
> 



From hamish_b at yahoo.com  Sun Feb 19 12:29:13 2012
From: hamish_b at yahoo.com (Hamish)
Date: Sun, 19 Feb 2012 12:29:13 -0800 (PST)
Subject: [Proj] towgs84 values for EPSG:27700
In-Reply-To: <27082831.5007361329681979109.JavaMail.support.mn@elisanet.fi>
Message-ID: <1329683353.89143.YahooMailClassic@web110004.mail.gq1.yahoo.com>

Janne wrote:
> Hello,
> 
> Spatial Reference Org
> 
> http://spatialreference.org/ref/epsg/27700/
> http://spatialreference.org/ref/epsg/27700/proj4/
> 
> gives:
> 
> +proj=tmerc
> +lat_0=49
> +lon_0=-2
> +k=0.9996012717
> +x_0=400000
> +y_0=-100000
> +ellps=airy
> +datum=OSGB36
> +units=m
> +no_defs 
> 
> which is the OSGB 1936 / British National Grid. The
> OSGB36 datum is defined differently in both
> applications. There are several different definitions
> for the OSGB36 and more are added as people need
> definitions for different purpose.
> 
> So the reason for the difference is that the OSGB36
> datum is not any standard value.


see http://trac.osgeo.org/proj/ticket/122

(7 term is by not "by definition better" than 3 term +towgs84;
for any given datum there may be a dozen or more transform terms
which are valid/used in differing particular regions; sometimes
you want to match what was used in an earlier dataset rather than
what is today considered ideal; the official EPSG.org db does not
define datum transform terms, those are added by end users (pj4);
if the proj4 epsg code defines +towgs84 terms then tacking a
+nadgrids file at the end creates a conflict which needs string
substitution to fix, but because +datum is now removed from
proj4's copy of epsg you can't automate that process from a
lookup table; qgis is patching around this on a per-datum basis,
grass gis's datum support is more heavily dependent on proj/gdal
and is just plain broken by this; ...)


thanks,
Hamish


From peifer at gmx.eu  Sun Feb 19 21:55:37 2012
From: peifer at gmx.eu (Hermann Peifer)
Date: Mon, 20 Feb 2012 06:55:37 +0100
Subject: [Proj] towgs84 values for EPSG:27700
In-Reply-To: <27082831.5007361329681979109.JavaMail.support.mn@elisanet.fi>
References: <27082831.5007361329681979109.JavaMail.support.mn@elisanet.fi>
Message-ID: <4F41E059.2010002@gmx.eu>

On 19/02/2012 21:06, support.mn at elisanet.fi wrote:
>
> So the reason for the difference is that the OSGB36
> datum is not any standard value.
>

I am aware that there always might be many values for a single EPSG 
code. I also don't want to debate in how far the values of the "ETRS89 
(WGS84) to OSGB36/ODN Helmert transformation", on p. 33 of [1], can be 
considered as "standard values". My simple (slightly rephrased) question 
was:

ogr2ogr -s_srs epsg:27700 # expands to something
cs2cs -v +init=epsg:27700 # expands to something else

Is this expected behaviour?

Hermann

[1]
http://www.ordnancesurvey.co.uk/oswebsite/gps/docs/A_Guide_to_Coordinate_Systems_in_Great_Britain.pdf 



From Mikael.Rittri at carmenta.com  Mon Feb 20 01:45:03 2012
From: Mikael.Rittri at carmenta.com (Mikael Rittri)
Date: Mon, 20 Feb 2012 09:45:03 +0000
Subject: [Proj] towgs84 values for EPSG:27700
In-Reply-To: <4F41E059.2010002@gmx.eu>
References: <27082831.5007361329681979109.JavaMail.support.mn@elisanet.fi>
	<4F41E059.2010002@gmx.eu>
Message-ID: <E4AB3DD44D22854B819908379DE4AD49390E0934@SETHNWS023.carmenta.se>


> Is this expected behaviour?

I can say that I, for one, didn't expect it. Because as far as I know,
the default datum shifts in both Proj.4 and GDAL/OGR come from the
gcs.csv file that is part of libgeotiff. 

However, the gcs.csv file is changed now and then. The default datum
shift of OSGB 1936 was changed from the 7-parameter (epsg:1314) to the
3-parameter (epsg:1195) in the libgeotiff changeset 2023, of May 23, 2011.
The changeset message was just "upgrade to EPSG 7.6 database".

http://trac.osgeo.org/geotiff/changeset/2023/trunk/libgeotiff/csv/gcs.csv

(And I just happened to notice that in the same changeset, the default
 datum shift for Qornoq 1927 was changed from the 7-parameter epsg:1798,
 accuracy 1 m, to the 3-parameter epsg:1797, accuracy 48 m.)

I don't know in what libgeotiff release this changeset was (or will be)
included. But it seems that when you used GDAL/OGR from trunk, this changeset was included, whereas when you used Proj version 4.7.1,
it wasn't.

See also Frank's blog: 
http://fwarmerdam.blogspot.com/2010/03/in-last-few-weeks-i-believe-i-have-made.html

and 

http://trac.osgeo.org/geotiff/ticket/33

Best regards,

Mikael Rittri
Carmenta
Sweden
http://www.carmenta.com

-----Original Message-----
From: proj-bounces at lists.maptools.org [mailto:proj-bounces at lists.maptools.org] On Behalf Of Hermann Peifer
Sent: Monday, February 20, 2012 6:56 AM
To: PROJ.4 and general Projections Discussions
Subject: Re: [Proj] towgs84 values for EPSG:27700

On 19/02/2012 21:06, support.mn at elisanet.fi wrote:
>
> So the reason for the difference is that the OSGB36
> datum is not any standard value.
>

I am aware that there always might be many values for a single EPSG 
code. I also don't want to debate in how far the values of the "ETRS89 
(WGS84) to OSGB36/ODN Helmert transformation", on p. 33 of [1], can be 
considered as "standard values". My simple (slightly rephrased) question 
was:

ogr2ogr -s_srs epsg:27700 # expands to something
cs2cs -v +init=epsg:27700 # expands to something else

Is this expected behaviour?

Hermann

[1]
http://www.ordnancesurvey.co.uk/oswebsite/gps/docs/A_Guide_to_Coordinate_Systems_in_Great_Britain.pdf 

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj


From Mikael.Rittri at carmenta.com  Mon Feb 20 02:26:48 2012
From: Mikael.Rittri at carmenta.com (Mikael Rittri)
Date: Mon, 20 Feb 2012 10:26:48 +0000
Subject: [Proj] Call for review of derived NTv2 for Swiss projection
 CH1903
In-Reply-To: <20120220092022.GD28246@gnash>
References: <20120201222115.GQ3206@gnash>
	<E4AB3DD44D22854B819908379DE4AD49390B91C8@SETHNWS023.carmenta.se>
	<20120220092022.GD28246@gnash>
Message-ID: <E4AB3DD44D22854B819908379DE4AD49390E2DC2@SETHNWS023.carmenta.se>

Hello Sandro,
you wrote:

> ETRS (seems to be the same as WGS84?)

I would say that ETRS was the same as WGS84 on January 1, 1989. But ETRS is
attached to the Eurasian tectonic plate. Since 1989, the continental drift
has moved Europe and ETRS toward northeast by about 2.5 cm per year,
compared to WGS84. 

> anyway it'd be interesting to see if your 0.008 mm error gets even lower
> with this.

Actually, it got slightly worse:

Test point	in CH1903		Diff Sandro	Diff Swisstopo
7.630605°E 46.590702°N	0.008 mm		0.124 mm
8.980228°E 47.020130°N	0.004 mm		0.125 mm
9.857142°E 47.571428°N	0.005 mm		0.112 mm

The first difference column gives the difference between the concatenated
shift (using CHENYX06a.gsb followed by the 3-par shift) and the direct
shift using your file CHENYX06a_wgs84.gsb.

The second difference column gives the difference between the concatenated
shift and the direct shift using the Swisstopo file CHENYX06_etrs.gsb.

One reason for the differences may be that I have assumed that the height
above the Bessel ellipsoid is zero for all test points. This height
shouldn't affect the direct shifts, but it might affect the result of the
3-parameter shift between CH1903+ and WGS84.  It might be better to look up
the ground elevation at each test point, and convert it from orthometric
height to height above Bessel ellipsoid (or just hope that the height type
isn't so important for this test). 
    But maybe it is something else that causes the differences.

> We've asked for redistribution permissions to get the file included
> in the proj-data package.

That would be nice.

Best regards,

Mikael Rittri
Carmenta
Sweden
http://www.carmenta.com

-----Original Message-----
From: Sandro Santilli [mailto:sandro.santilli at gmail.com] On Behalf Of Sandro Santilli
Sent: Monday, February 20, 2012 10:20 AM
To: Mikael Rittri
Cc: PROJ.4 and general Projections Discussions
Subject: Re: [Proj] Call for review of derived NTv2 for Swiss projection CH1903

On Thu, Feb 02, 2012 at 01:55:14PM +0000, Mikael Rittri wrote:
> Sandro wrote:
> 
> > I got a max of 9mm drift.
> >
> > This mail is to ask others to try the NTv2 file with real data and let
> > me know if it's working as expected.
> 
> Looks excellent to me.
> 
> I have used Carmenta Engine to construct two implementations of CH1903.
> One uses a concatenated datum shift, where the original NTv2 file
> transforms to CH1903+, and the Helmert datum shift continues to WGS84.
> The other uses a direct datum shift to WGS84 based on your new NTv2 file.
> 
> Then I selected three arbitrary points expressed in CH1903 LongLat and
> transformed them to WGS84 LongLat with both implementations. The largest 
> difference between the two implementations was 0.008 millimeters. 
> 
> So it seems that your drift of 9 millimeters is caused only by the
> difference between the official FINELTRA algorithm and the NTv2 file.

Thanks a lot for the review Mikael.

Eventually I received an NTv2 file directly converting from CH1903 to
ETRS (seems to be the same as WGS84?) from Swisstopo.

My tests don't show any major difference between using this "official"
grid and the one I made, anyway it'd be interesting to see if your
0.008 mm error gets even lower with this.

Could you try it ? It's attached.

We've asked for redistribution permissions to get the file included
in the proj-data package. Still waiting for a response...

--strk; 

  ,------o-. 
  |   __/  |    Delivering high quality PostGIS 2.0 !
  |  / 2.0 |    http://strk.keybit.net
  `-o------'



From martin.desruisseaux at geomatys.fr  Mon Feb 20 02:55:46 2012
From: martin.desruisseaux at geomatys.fr (Martin Desruisseaux)
Date: Mon, 20 Feb 2012 11:55:46 +0100
Subject: [Proj] towgs84 values for EPSG:27700
In-Reply-To: <E4AB3DD44D22854B819908379DE4AD49390E0934@SETHNWS023.carmenta.se>
References: <27082831.5007361329681979109.JavaMail.support.mn@elisanet.fi>
	<4F41E059.2010002@gmx.eu>
	<E4AB3DD44D22854B819908379DE4AD49390E0934@SETHNWS023.carmenta.se>
Message-ID: <4F4226B2.7080404@geomatys.fr>

Just for information purpose, EPSG make an interesting note about "/early 
binding/" and "/late binding/" coordinate transformation softwares. Quoting:

    Some software resolves the so-called 'multiplicity' problem by associating
    one coordinate transformation only with each CRS. The relevant coordinate
    transformation is even treated as part of the definition of the CRS. This
    solution to the problem of multiplicity is referred to as 'early binding',
    as it binds a coordinate transformation to the CRS before it is associated
    with any geospatial data.

    'Late-binding' software solutions to the multiplicity problem will only
    require the specification of a coordinate transformation at the time the
    coordinates are required to be transformed, i.e. after the association of
    geospatial data and CRS has taken place.

    The solution that has been chosen for any given geoscience software package
    is fundamental to its behaviour with respect to geospatial integrity. Both
    solutions have advantages and disadvantages and both are valid ways of
    controlling geospatial integrity. In this guidance note preference is
    expressed for the late-binding solution, provided the specific disadvantage
    of this solution, is resolved in the software.


Source: http://www.epsg.org/gigs.html (Geospatial Integrity of Geoscience Software)
Document: 'Part 1 -- Guidelines' (OGP report number 430-1), describing the GIGS 
process
Section 3.4 at page 11.


Since the EPSG database does not associate TOWGS84 values to any particular CRS 
(instead, it associates TOWGS84 values to different pair of "sourceCRS to 
targetCRS" transformations), the EPSG database is a "/late binding/" model. 
However some (not all) coordinate transformation libraries convert the EPSG 
model into some form of "/early binding/" model. I would said that the "TOWGS84 
multiplicity" issue come from this conversion...

     Martin

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20120220/9016c089/attachment.html>

From jmckenna at gatewaygeomatics.com  Mon Feb 20 05:04:18 2012
From: jmckenna at gatewaygeomatics.com (Jeff McKenna)
Date: Mon, 20 Feb 2012 09:04:18 -0400
Subject: [Proj] Proj Release
In-Reply-To: <CB5960FF.1FD12%michael.smith@usace.army.mil>
References: <CB5960FF.1FD12%michael.smith@usace.army.mil>
Message-ID: <4F4244D2.5030007@gatewaygeomatics.com>

On 12-02-09 3:40 PM, Smith, Michael ERDC-CRREL-NH wrote:
> Frank,
>
> I would like to request a Proj release in the next couple of months. We
> are going to be doing security testing of our Lidar system which makes
> use of trunk proj for PDAL. I'd imagine that we will have a much easier
> time having a released version.
>

Regular releases of Proj would also help package maintainers.

-jeff



-- 
Jeff McKenna
MapServer Consulting and Training Services
http://www.gatewaygeomatics.com/




From peifer at gmx.eu  Mon Feb 20 11:25:37 2012
From: peifer at gmx.eu (Hermann Peifer)
Date: Mon, 20 Feb 2012 20:25:37 +0100
Subject: [Proj] towgs84 values for EPSG:27700
In-Reply-To: <E4AB3DD44D22854B819908379DE4AD49390E0934@SETHNWS023.carmenta.se>
References: <27082831.5007361329681979109.JavaMail.support.mn@elisanet.fi>
	<4F41E059.2010002@gmx.eu>
	<E4AB3DD44D22854B819908379DE4AD49390E0934@SETHNWS023.carmenta.se>
Message-ID: <jhu6mu$vlq$1@dough.gmane.org>

On 20/02/2012 10:45, Mikael Rittri wrote:
>
>> Is this expected behaviour?
>
> I can say that I, for one, didn't expect it. Because as far as I know,
> the default datum shifts in both Proj.4 and GDAL/OGR come from the
> gcs.csv file that is part of libgeotiff.
>
> However, the gcs.csv file is changed now and then. The default datum
> shift of OSGB 1936 was changed from the 7-parameter (epsg:1314) to the
> 3-parameter (epsg:1195) in the libgeotiff changeset 2023, of May 23, 2011.
> The changeset message was just "upgrade to EPSG 7.6 database".
>
> http://trac.osgeo.org/geotiff/changeset/2023/trunk/libgeotiff/csv/gcs.csv
>

Thanks for the hint, I should have known. I keep forgetting that there 
is a variety of gcs.csv and pcs.csv files around: as part of libgeotiff, 
GDAL/OGR and GRASS, plus the epsg file which comes with PROJ. I have to 
pay more attention to keeping them in sync.

Hermann



From warmerdam at pobox.com  Mon Feb 20 22:03:43 2012
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon, 20 Feb 2012 22:03:43 -0800
Subject: [Proj] Proj Release
In-Reply-To: <4F4244D2.5030007@gatewaygeomatics.com>
References: <CB5960FF.1FD12%michael.smith@usace.army.mil>
	<4F4244D2.5030007@gatewaygeomatics.com>
Message-ID: <4F4333BF.108@pobox.com>

On 12-02-20 05:04 AM, Jeff McKenna wrote:
> On 12-02-09 3:40 PM, Smith, Michael ERDC-CRREL-NH wrote:
>> Frank,
>>
>> I would like to request a Proj release in the next couple of months. We
>> are going to be doing security testing of our Lidar system which makes
>> use of trunk proj for PDAL. I'd imagine that we will have a much easier
>> time having a released version.
>>
>
> Regular releases of Proj would also help package maintainers.

Jeff / Mike,

I have made a pass through the open PROJ.4 tickets and taken action on most
of the recent ones.  I'm hoping to get some feedback on a couple of them.

Two outstanding issues I'd like to address before a final release:

1) Resolve whether it is appropriate for us to have switched from using
+datum= to a detailed definition in the EPSG init file.  The GRASS folks
have raised cain (cane?) about this.

2) Build internal handling for +nadgrids=@null.  It seems most of the
performance problem Thomas was seeing with projections in mapserver related
to using an actual file for this null transformation.

I see it has been around 2.5 years since the last release.  My, how time
flies.  Anyways, I have prepared a snapshot of the current state for those
willing to do some quick testing:

   http://download.osgeo.org/proj/proj-4.8.0b1.tar.gz

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://home.gdal.org/warmerda
and watch the world go round - Rush    | Geospatial Software Developer



From strk at keybit.net  Tue Feb 21 00:53:45 2012
From: strk at keybit.net (Sandro Santilli)
Date: Tue, 21 Feb 2012 09:53:45 +0100
Subject: [Proj] Proj Release
In-Reply-To: <4F4333BF.108@pobox.com>
References: <CB5960FF.1FD12%michael.smith@usace.army.mil>
	<4F4244D2.5030007@gatewaygeomatics.com> <4F4333BF.108@pobox.com>
Message-ID: <20120221085345.GC29795@gnash>

On Mon, Feb 20, 2012 at 10:03:43PM -0800, Frank Warmerdam wrote:

> Two outstanding issues I'd like to address before a final release:
> 
> 1) Resolve whether it is appropriate for us to have switched from using
> +datum= to a detailed definition in the EPSG init file.  The GRASS folks
> have raised cain (cane?) about this.
> 
> 2) Build internal handling for +nadgrids=@null.  It seems most of the
> performance problem Thomas was seeing with projections in mapserver related
> to using an actual file for this null transformation.

Would distributing the Swisstopo shift grid for CH need to be considered
for this release or would everything end up in a separate package ?

I think it would be the gridshift itself and a CH init file with 2
projections in it (1903 and 1903/LV03, the only one using the grid)

--strk; 

  ,------o-. 
  |   __/  |    Delivering high quality PostGIS 2.0 !
  |  / 2.0 |    http://strk.keybit.net
  `-o------'



From j.l.h.hartmann at uva.nl  Tue Feb 21 04:24:47 2012
From: j.l.h.hartmann at uva.nl (Jan Hartmann)
Date: Tue, 21 Feb 2012 13:24:47 +0100
Subject: [Proj] Proj Release
In-Reply-To: <4F4333BF.108@pobox.com>
References: <CB5960FF.1FD12%michael.smith@usace.army.mil>
	<4F4244D2.5030007@gatewaygeomatics.com> <4F4333BF.108@pobox.com>
Message-ID: <4F438D0F.8000503@uva.nl>



On 02/21/2012 07:03 AM, Frank Warmerdam wrote:
> I see it has been around 2.5 years since the last release. My, how 
> time flies. Anyways, I have prepared a snapshot of the current state 
> for those willing to do some quick testing: 
> http://download.osgeo.org/proj/proj-4.8.0b1.tar.gz Best regards, 

I can confirm that the WGS84 gridshift for the Dutch projection 
(EPSG:28992) is now in place and at the latest version (ETRS5).  Thanks 
Frank.

Jan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20120221/aded0ef0/attachment.html>

From jmckenna at gatewaygeomatics.com  Tue Feb 21 09:25:23 2012
From: jmckenna at gatewaygeomatics.com (Jeff McKenna)
Date: Tue, 21 Feb 2012 13:25:23 -0400
Subject: [Proj] Proj Release
In-Reply-To: <4F4333BF.108@pobox.com>
References: <CB5960FF.1FD12%michael.smith@usace.army.mil>
	<4F4244D2.5030007@gatewaygeomatics.com> <4F4333BF.108@pobox.com>
Message-ID: <4F43D383.2050008@gatewaygeomatics.com>

On 12-02-21 2:03 AM, Frank Warmerdam wrote:
>
> I see it has been around 2.5 years since the last release.  My, how time
> flies.  Anyways, I have prepared a snapshot of the current state for those
> willing to do some quick testing:
>
>     http://download.osgeo.org/proj/proj-4.8.0b1.tar.gz

Currently pulling my hair trying to make this on Windows - blank error, 
that I'm too embarrassed to paste here.  It seems /src/makefile.vc is 
very similar to the 4.7.0 version, but now it is driven by a small 
./nmake.opt file.

Still looking...hopefully I find my mistake and I will update this message.

-jeff




-- 
Jeff McKenna
MapServer Consulting and Training Services
http://www.gatewaygeomatics.com/




From warmerdam at pobox.com  Tue Feb 21 10:05:09 2012
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue, 21 Feb 2012 10:05:09 -0800
Subject: [Proj] Proj Release
In-Reply-To: <4F43D383.2050008@gatewaygeomatics.com>
References: <CB5960FF.1FD12%michael.smith@usace.army.mil>
	<4F4244D2.5030007@gatewaygeomatics.com> <4F4333BF.108@pobox.com>
	<4F43D383.2050008@gatewaygeomatics.com>
Message-ID: <CA+YzLBfcT=+FMykPtHWcv0pC4V4_FrKkq=gg9YtfKVaw3VGMcQ@mail.gmail.com>

Folks,

It seems I botched a fix commit on windows.  To get things working
it should be sufficient to apply the following two changes.  One backing
out my misdirected commit, and one applying the intended fix.

  http://trac.osgeo.org/proj/changeset/2169
  http://trac.osgeo.org/proj/changeset/2170

The problem should only affect MSVC builds.

Best regards,
Frank

On Tue, Feb 21, 2012 at 9:25 AM, Jeff McKenna
<jmckenna at gatewaygeomatics.com> wrote:
> Currently pulling my hair trying to make this on Windows - blank error,
> that I'm too embarrassed to paste here.  It seems /src/makefile.vc is
> very similar to the 4.7.0 version, but now it is driven by a small
> ./nmake.opt file.
>
> Still looking...hopefully I find my mistake and I will update this message.
>
> -jeff
>
>
>
>
> --
> Jeff McKenna
> MapServer Consulting and Training Services
> http://www.gatewaygeomatics.com/
>
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj



-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Software Developer


From warmerdam at pobox.com  Tue Feb 21 10:07:41 2012
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue, 21 Feb 2012 10:07:41 -0800
Subject: [Proj] Proj Release
In-Reply-To: <20120221085345.GC29795@gnash>
References: <CB5960FF.1FD12%michael.smith@usace.army.mil>
	<4F4244D2.5030007@gatewaygeomatics.com> <4F4333BF.108@pobox.com>
	<20120221085345.GC29795@gnash>
Message-ID: <CA+YzLBcuQ4E3y-SK=aLc4+EbQN1OKpNg9FpCB0ddt1W3tcJDug@mail.gmail.com>

On Tue, Feb 21, 2012 at 12:53 AM, Sandro Santilli <strk at keybit.net> wrote:
> Would distributing the Swisstopo shift grid for CH need to be considered
> for this release or would everything end up in a separate package ?
>
> I think it would be the gridshift itself and a CH init file with 2
> projections in it (1903 and 1903/LV03, the only one using the grid)

Strk,

If you file a ticket, I can include the init file in the 4.8.0 release.
The grid shift file itself will likely be added to the separate
proj-datumgrid-x.x.zip file and doesn't need to be precisely
synchronized with the source release.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Software Developer


From martin.raspaud at smhi.se  Tue Feb 21 12:14:38 2012
From: martin.raspaud at smhi.se (Martin Raspaud)
Date: Tue, 21 Feb 2012 21:14:38 +0100
Subject: [Proj] Proj Release
In-Reply-To: <CA+YzLBfcT=+FMykPtHWcv0pC4V4_FrKkq=gg9YtfKVaw3VGMcQ@mail.gmail.com>
References: <CB5960FF.1FD12%michael.smith@usace.army.mil>	<4F4244D2.5030007@gatewaygeomatics.com>
	<4F4333BF.108@pobox.com>	<4F43D383.2050008@gatewaygeomatics.com>
	<CA+YzLBfcT=+FMykPtHWcv0pC4V4_FrKkq=gg9YtfKVaw3VGMcQ@mail.gmail.com>
Message-ID: <4F43FB2E.5000709@smhi.se>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 21/02/12 19:05, Frank Warmerdam wrote:
> Folks,
> 
> It seems I botched a fix commit on windows.  To get things working
> it should be sufficient to apply the following two changes.  One backing
> out my misdirected commit, and one applying the intended fix.
> 
>   http://trac.osgeo.org/proj/changeset/2169
>   http://trac.osgeo.org/proj/changeset/2170
> 
> The problem should only affect MSVC builds.

Hi all,

Maybe I come to late for this, but I would like to add a feature for
supporting GOES-R satellite projection in the "geos" projection. I plan
to have this ready within a couple weeks, and it would be nice if it
could be part of the next release. Is there time for this ?

Best regards,
Martin
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.14 (GNU/Linux)
Comment: Using GnuPG with Red Hat - http://enigmail.mozdev.org/

iQEcBAEBAgAGBQJPQ/suAAoJEBdvyODiyJI4qeoIAIBDxpvuxbFIkaEvwdyE13tT
gSLX35FtDzXTZQRGUcX51tJV3vwNd9FR97MMak3WHwFcEe9dpltaPgPrQhXYCS9R
CHMUlPJQqQnxhru2CZlfi6bB+aXs6/kYTToIjXchknD/B2R49bbPCPcn608kgW8u
v2N1nRiB6/ma2FgdVdIogev1KVFwqu1L70+1DD08WCF68X1uzpFRZFj2i2ybdIWy
t/5EeR+lF+qDuCQNViIByykFS0uFxWd3Yl7TvBgRoJLC3t1Vtosq7UkQ4UwEWR1J
wXPBQEOBenhW/xlC8bVy8ncsHEb5050wIFKENqVMzs17CnBFBcVwuizehC/SDIc=
=+JaO
-----END PGP SIGNATURE-----
-------------- next part --------------
A non-text attachment was scrubbed...
Name: martin_raspaud.vcf
Type: text/x-vcard
Size: 303 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20120221/cce59af2/attachment.vcf>

From jmckenna at gatewaygeomatics.com  Tue Feb 21 12:24:14 2012
From: jmckenna at gatewaygeomatics.com (Jeff McKenna)
Date: Tue, 21 Feb 2012 16:24:14 -0400
Subject: [Proj] Proj Release
In-Reply-To: <CA+YzLBfcT=+FMykPtHWcv0pC4V4_FrKkq=gg9YtfKVaw3VGMcQ@mail.gmail.com>
References: <CB5960FF.1FD12%michael.smith@usace.army.mil>
	<4F4244D2.5030007@gatewaygeomatics.com> <4F4333BF.108@pobox.com>
	<4F43D383.2050008@gatewaygeomatics.com>
	<CA+YzLBfcT=+FMykPtHWcv0pC4V4_FrKkq=gg9YtfKVaw3VGMcQ@mail.gmail.com>
Message-ID: <4F43FD6E.9030809@gatewaygeomatics.com>

Thanks Frank, I am able to compile now.

I notice that the PROJ_LIB_DIR isn't used (the 'install' target in 
makefile.vc creates a 'share' folder but nothing is copied to it)...so I 
have removed any reference locally to PROJ_LIB_DIR and that share folder.

-jeff



-- 
Jeff McKenna
MapServer Consulting and Training Services
http://www.gatewaygeomatics.com/




On 12-02-21 2:05 PM, Frank Warmerdam wrote:
> Folks,
>
> It seems I botched a fix commit on windows.  To get things working
> it should be sufficient to apply the following two changes.  One backing
> out my misdirected commit, and one applying the intended fix.
>
>    http://trac.osgeo.org/proj/changeset/2169
>    http://trac.osgeo.org/proj/changeset/2170
>
> The problem should only affect MSVC builds.




From warmerdam at pobox.com  Tue Feb 21 12:46:02 2012
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue, 21 Feb 2012 12:46:02 -0800
Subject: [Proj] Proj Release
In-Reply-To: <4F43FB2E.5000709@smhi.se>
References: <CB5960FF.1FD12%michael.smith@usace.army.mil>
	<4F4244D2.5030007@gatewaygeomatics.com> <4F4333BF.108@pobox.com>
	<4F43D383.2050008@gatewaygeomatics.com>
	<CA+YzLBfcT=+FMykPtHWcv0pC4V4_FrKkq=gg9YtfKVaw3VGMcQ@mail.gmail.com>
	<4F43FB2E.5000709@smhi.se>
Message-ID: <CA+YzLBfq0zOP+dnZDz5GnKuHNqRM6AF=gDnS5Cp5ZBPNM1Dphg@mail.gmail.com>

On Tue, Feb 21, 2012 at 12:14 PM, Martin Raspaud <martin.raspaud at smhi.se> wrote:
> Hi all,
>
> Maybe I come to late for this, but I would like to add a feature for
> supporting GOES-R satellite projection in the "geos" projection. I plan
> to have this ready within a couple weeks, and it would be nice if it
> could be part of the next release. Is there time for this ?

Martin,

Optimistically, I'd like to get 4.8.0 by this weekend.  If
you can do it quickly, it can make it in.  It is also possible
I won't get it finished on time in which case you would
have a little more time.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Software Developer


From martin.raspaud at smhi.se  Wed Feb 22 06:27:29 2012
From: martin.raspaud at smhi.se (Martin Raspaud)
Date: Wed, 22 Feb 2012 15:27:29 +0100
Subject: [Proj] Proj Release
In-Reply-To: <CA+YzLBfq0zOP+dnZDz5GnKuHNqRM6AF=gDnS5Cp5ZBPNM1Dphg@mail.gmail.com>
References: <CB5960FF.1FD12%michael.smith@usace.army.mil>	<4F4244D2.5030007@gatewaygeomatics.com>
	<4F4333BF.108@pobox.com>	<4F43D383.2050008@gatewaygeomatics.com>	<CA+YzLBfcT=+FMykPtHWcv0pC4V4_FrKkq=gg9YtfKVaw3VGMcQ@mail.gmail.com>	<4F43FB2E.5000709@smhi.se>
	<CA+YzLBfq0zOP+dnZDz5GnKuHNqRM6AF=gDnS5Cp5ZBPNM1Dphg@mail.gmail.com>
Message-ID: <4F44FB51.60307@smhi.se>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 21/02/12 21:46, Frank Warmerdam wrote:
> On Tue, Feb 21, 2012 at 12:14 PM, Martin Raspaud <martin.raspaud at smhi.se> wrote:
>> Hi all,
>>
>> Maybe I come to late for this, but I would like to add a feature for
>> supporting GOES-R satellite projection in the "geos" projection. I plan
>> to have this ready within a couple weeks, and it would be nice if it
>> could be part of the next release. Is there time for this ?
> 
> Martin,
> 
> Optimistically, I'd like to get 4.8.0 by this weekend.  If
> you can do it quickly, it can make it in.  It is also possible
> I won't get it finished on time in which case you would
> have a little more time.

Hi Frank,

Here is a patch for the aforementioned feature.

Two questions though:
- - How and where do I change the documentation ? I'm not sure I've seen
documentation for the geos projection somewhere...
- - Are there unittests I need to modify/add to ?

Best regards,
Martin

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.14 (GNU/Linux)
Comment: Using GnuPG with Red Hat - http://enigmail.mozdev.org/

iQEcBAEBAgAGBQJPRPtRAAoJEBdvyODiyJI4mUsH/0N9b5hpd2p9z5jNCrGATnP2
6DvknpVfVq84GD38ARx/2DDz3ETOEFHb7VhBMG8xItaOc7s68xZWzTYQmhS622Mh
+3ndCxHizjWqGT/aBywLXnSs8FNrzWKRknit5TOT6/FSYxLtqeswZ6g2HBW3Wa/J
ieF29jhkNRrs4Pw+fhrV3S84Gt0n702PuN3BXb1gKJYJJUnmptH+12nWXpTzaPGn
luneBu8MinPWmHvtrXsuZsd+L9iyJdJpJfm8P36gpSm8/DqbKIFLohxZEDI/TLF5
WFs5PVwMyzOfa/gmUaEtDn+a+jBFNfSg6DrS6kv/fiH1uUAKzlR2AxXp7bpfiyM=
=QATT
-----END PGP SIGNATURE-----
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: geos_patch.diff
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20120222/ce7f8240/attachment.ksh>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: geos_patch.diff.sig
Type: application/pgp-signature
Size: 287 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20120222/ce7f8240/attachment.sig>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: martin_raspaud.vcf
Type: text/x-vcard
Size: 303 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20120222/ce7f8240/attachment.vcf>

From Roger.bivand at nhh.no  Wed Feb 22 07:18:27 2012
From: Roger.bivand at nhh.no (Roger Bivand)
Date: Wed, 22 Feb 2012 15:18:27 +0000 (UTC)
Subject: [Proj] Proj Release
References: <CB5960FF.1FD12%michael.smith@usace.army.mil>
	<4F4244D2.5030007@gatewaygeomatics.com> <4F4333BF.108@pobox.com>
Message-ID: <loom.20120222T160701-962@post.gmane.org>

Frank Warmerdam <warmerdam <at> pobox.com> writes:

> 
> On 12-02-20 05:04 AM, Jeff McKenna wrote:
> > On 12-02-09 3:40 PM, Smith, Michael ERDC-CRREL-NH wrote:
> >> Frank,
> >>
> >> I would like to request a Proj release in the next couple of months. We
> >> are going to be doing security testing of our Lidar system which makes
> >> use of trunk proj for PDAL. I'd imagine that we will have a much easier
> >> time having a released version.
> >>
> >
> > Regular releases of Proj would also help package maintainers.
> 
> Jeff / Mike,
> 
> I have made a pass through the open PROJ.4 tickets and taken action on most
> of the recent ones.  I'm hoping to get some feedback on a couple of them.
> 
> Two outstanding issues I'd like to address before a final release:
> 
> 1) Resolve whether it is appropriate for us to have switched from using
> +datum= to a detailed definition in the EPSG init file.  The GRASS folks
> have raised cain (cane?) about this.

I certainly feel that this change is premature. All I can see on the web page is
a note that "refinement of datum shifting support" may happen sometime. I don't
think that removing a functioning mechanism used by many - not just in GRASS,
also in R/rgdal - without clear RFC handling, and without fallbacks or
transitional mechanisms - is justified. What will happen is that a release of
PROJ now, without this "mistake" being corrected, will mean that scripts running
a given +init=epsg:<> may end up with different results, not because the current
EPSG file is buggy and needed fixing. When spatial data are used analytically,
as in the GRASS and R communities, reproducibility really does matter.

I suggest that this needs an RFC, and should be held off until some 4.9.0, if
the RFC process concludes that switching from +datum= is on balance justified.
The alternative is to advise users to stay on 4.7, but many cannot control their
build trains well enough for this to be feasible.

Roger


> 
> 2) Build internal handling for +nadgrids=@null.  It seems most of the
> performance problem Thomas was seeing with projections in mapserver related
> to using an actual file for this null transformation.
> 
> I see it has been around 2.5 years since the last release.  My, how time
> flies.  Anyways, I have prepared a snapshot of the current state for those
> willing to do some quick testing:
> 
>    http://download.osgeo.org/proj/proj-4.8.0b1.tar.gz
> 
> Best regards,






From warmerdam at pobox.com  Wed Feb 22 08:26:54 2012
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed, 22 Feb 2012 08:26:54 -0800
Subject: [Proj] Proj Release
In-Reply-To: <4F43FD6E.9030809@gatewaygeomatics.com>
References: <CB5960FF.1FD12%michael.smith@usace.army.mil>
	<4F4244D2.5030007@gatewaygeomatics.com> <4F4333BF.108@pobox.com>
	<4F43D383.2050008@gatewaygeomatics.com>
	<CA+YzLBfcT=+FMykPtHWcv0pC4V4_FrKkq=gg9YtfKVaw3VGMcQ@mail.gmail.com>
	<4F43FD6E.9030809@gatewaygeomatics.com>
Message-ID: <4F45174E.8030305@pobox.com>

On 12-02-21 12:24 PM, Jeff McKenna wrote:
> Thanks Frank, I am able to compile now.
>
> I notice that the PROJ_LIB_DIR isn't used (the 'install' target in
> makefile.vc creates a 'share' folder but nothing is copied to it)...so I
> have removed any reference locally to PROJ_LIB_DIR and that share folder.

Jeff,

Hmm.  src/makefile.vc should hardcode this directory into the binary as
the default search location for support files via this line:

CFLAGS	=	/nologo -I. -DPROJ_LIB=\"$(PROJ_LIB_DIR)\" \
		-DHAVE_STRERROR=1 $(OPTFLAGS)


And then nad/makefile.vc should copy support init files (from OTHER_FILES)
and any created grid shift files via the install-nadgrids target.

Are you doing the nmake /f makefile.vc install from the main PROJ directory
or just from inside the src directory?

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://home.gdal.org/warmerda
and watch the world go round - Rush    | Geospatial Software Developer



From warmerdam at pobox.com  Wed Feb 22 08:32:52 2012
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed, 22 Feb 2012 08:32:52 -0800
Subject: [Proj] Proj Release
In-Reply-To: <loom.20120222T160701-962@post.gmane.org>
References: <CB5960FF.1FD12%michael.smith@usace.army.mil>
	<4F4244D2.5030007@gatewaygeomatics.com> <4F4333BF.108@pobox.com>
	<loom.20120222T160701-962@post.gmane.org>
Message-ID: <4F4518B4.30305@pobox.com>

On 12-02-22 07:18 AM, Roger Bivand wrote:
> I certainly feel that this change is premature. All I can see on the web page is
> a note that "refinement of datum shifting support" may happen sometime. I don't
> think that removing a functioning mechanism used by many - not just in GRASS,
> also in R/rgdal - without clear RFC handling, and without fallbacks or
> transitional mechanisms - is justified. What will happen is that a release of
> PROJ now, without this "mistake" being corrected, will mean that scripts running
> a given +init=epsg:<>  may end up with different results, not because the current
> EPSG file is buggy and needed fixing. When spatial data are used analytically,
> as in the GRASS and R communities, reproducibility really does matter.
>
> I suggest that this needs an RFC, and should be held off until some 4.9.0, if
> the RFC process concludes that switching from +datum= is on balance justified.
> The alternative is to advise users to stay on 4.7, but many cannot control their
> build trains well enough for this to be feasible.

Roger,

I am convinced.  I will modify the OGRSpatialReference::exportToProj4()
code to restore the old behavior and regenerate the EPSG init file for
PROJ.4.  I'll notify the list when it is ready.  I have been quite slack
about the RFC process for PROJ.4.

In the long term I think it is wrong for the epsg init file to generate
+datum widely when it is likely it will not expand to the actual datum
translation defined by EPSG.

I have also been thinking in the back of my head that we should support
some "documentation only" flags in PROJ.4 definitions.  For instance the
IGNF init file uses the +title= option to capture a coordinate system
name.  I'm not sure what software actually uses that.  We might want to
also add +epsg_pcs=n and +epsg_gcs=n directives relating the projected
and geographic coordinate system back to EPSG for easier identification
in various contexts.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://home.gdal.org/warmerda
and watch the world go round - Rush    | Geospatial Software Developer



From warmerdam at pobox.com  Wed Feb 22 08:55:35 2012
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed, 22 Feb 2012 08:55:35 -0800
Subject: [Proj] Proj Release
In-Reply-To: <4F44FB51.60307@smhi.se>
References: <CB5960FF.1FD12%michael.smith@usace.army.mil>
	<4F4244D2.5030007@gatewaygeomatics.com> <4F4333BF.108@pobox.com>
	<4F43D383.2050008@gatewaygeomatics.com>
	<CA+YzLBfcT=+FMykPtHWcv0pC4V4_FrKkq=gg9YtfKVaw3VGMcQ@mail.gmail.com>
	<4F43FB2E.5000709@smhi.se>
	<CA+YzLBfq0zOP+dnZDz5GnKuHNqRM6AF=gDnS5Cp5ZBPNM1Dphg@mail.gmail.com>
	<4F44FB51.60307@smhi.se>
Message-ID: <4F451E07.1030302@pobox.com>

On 12-02-22 06:27 AM, Martin Raspaud wrote:
> Hi Frank,
>
> Here is a patch for the aforementioned feature.

Martin,

Very quick! Could you file this as a ticket at http://proj.osgeo.org/
please?

> Two questions though:
> - - How and where do I change the documentation ? I'm not sure I've seen
> documentation for the geos projection somewhere...

An excellent question and one that has been neglected.  For the healpix
projection the documentation was added in the FAQ but I think this will
be unwieldy in the longer term.  I have created a ProjectionsList wiki
page which for now will be the home to docs for new projections added to
PROJ.4.  At some point we might also add wiki docs for existing common
projections.

   http://trac.osgeo.org/proj/wiki/ProjList

> - - Are there unittests I need to modify/add to ?

I would appreciate adding a brief test of new projections in
proj/nad/testvarious with the results in tv_out.dist.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://home.gdal.org/warmerda
and watch the world go round - Rush    | Geospatial Software Developer



From Roger.bivand at nhh.no  Wed Feb 22 09:07:37 2012
From: Roger.bivand at nhh.no (Roger Bivand)
Date: Wed, 22 Feb 2012 17:07:37 +0000 (UTC)
Subject: [Proj] Proj Release
References: <CB5960FF.1FD12%michael.smith@usace.army.mil>
	<4F4244D2.5030007@gatewaygeomatics.com> <4F4333BF.108@pobox.com>
	<loom.20120222T160701-962@post.gmane.org>
	<4F4518B4.30305@pobox.com>
Message-ID: <loom.20120222T180452-199@post.gmane.org>

Frank Warmerdam <warmerdam <at> pobox.com> writes:

> 
> On 12-02-22 07:18 AM, Roger Bivand wrote:
...
> >
> > I suggest that this needs an RFC, and should be held off until some 
> > 4.9.0, if the RFC process concludes that switching from +datum= 
> > is on balance justified.
..
> 
> I am convinced.  I will modify the OGRSpatialReference::exportToProj4()
> code to restore the old behavior and regenerate the EPSG init file for
> PROJ.4.  I'll notify the list when it is ready.  I have been quite slack
> about the RFC process for PROJ.4.

Thanks for your quick response. This will give us all the time we need to find
better solutions!

Best wishes,

Roger







From jmckenna at gatewaygeomatics.com  Wed Feb 22 09:49:01 2012
From: jmckenna at gatewaygeomatics.com (Jeff McKenna)
Date: Wed, 22 Feb 2012 13:49:01 -0400
Subject: [Proj] Proj Release
In-Reply-To: <4F45174E.8030305@pobox.com>
References: <CB5960FF.1FD12%michael.smith@usace.army.mil>
	<4F4244D2.5030007@gatewaygeomatics.com> <4F4333BF.108@pobox.com>
	<4F43D383.2050008@gatewaygeomatics.com>
	<CA+YzLBfcT=+FMykPtHWcv0pC4V4_FrKkq=gg9YtfKVaw3VGMcQ@mail.gmail.com>
	<4F43FD6E.9030809@gatewaygeomatics.com>
	<4F45174E.8030305@pobox.com>
Message-ID: <4F452A8D.8080601@gatewaygeomatics.com>

On 12-02-22 12:26 PM, Frank Warmerdam wrote:
> 
> Are you doing the nmake /f makefile.vc install from the main PROJ directory
> or just from inside the src directory?

Good catch Frank - I was running it inside /src, but in main PROJ
directory it does populate /share through the 'install-all' target.  Thanks!

-jeff



-- 
Jeff McKenna
MapServer Consulting and Training Services
http://www.gatewaygeomatics.com/




From peifer at gmx.eu  Wed Feb 22 20:59:09 2012
From: peifer at gmx.eu (Hermann Peifer)
Date: Thu, 23 Feb 2012 05:59:09 +0100
Subject: [Proj] invgeod results for small distances
Message-ID: <ji4h2l$u0o$1@dough.gmane.org>


Hi All,

I am wondering if I am the only one who is somewhat puzzled with 
invgeod's results for small distances. If not: would it be worth fixing 
for the upcoming release?

Hermann


# This looks reasonable for a difference in the 6th decimal
[peifer at whitefish:~]> echo 0 0 0 .000001 | invgeod +ellps=WGS84
90d     -90d    0.134


# This should then be 0.013 for the 7th decimal, but it isn't :-(
[peifer at whitefish:~]> echo 0 0 0 .0000001 | invgeod +ellps=WGS84
-2147483648d-2147483648'-nan"   -2147483648d-2147483648'-nan"   -nan


# This isn't true in real life, but at least better than Not-A-Number
[peifer at whitefish:~]> echo 0 0 0 .0000001 | invgeod +ellps=sphere
90d     -90d    0.000



From strk at keybit.net  Wed Feb 22 23:35:44 2012
From: strk at keybit.net (Sandro Santilli)
Date: Thu, 23 Feb 2012 08:35:44 +0100
Subject: [Proj] Call for review of derived NTv2 for Swiss projection
 CH1903
In-Reply-To: <E4AB3DD44D22854B819908379DE4AD49390E2DC2@SETHNWS023.carmenta.se>
References: <20120201222115.GQ3206@gnash>
	<E4AB3DD44D22854B819908379DE4AD49390B91C8@SETHNWS023.carmenta.se>
	<20120220092022.GD28246@gnash>
	<E4AB3DD44D22854B819908379DE4AD49390E2DC2@SETHNWS023.carmenta.se>
Message-ID: <20120223073544.GB3378@gnash>

On Mon, Feb 20, 2012 at 10:26:48AM +0000, Mikael Rittri wrote:
> On Monday, February 20, 2012 10:20 AM, Sandro Santilli wrote:
> >
> > We've asked for redistribution permissions to get the file included
> > in the proj-data package.
> 
> That would be nice.

FYI: the new official grid is on the swisstopo website, distribution
     task being handled via http://trac.osgeo.org/proj/ticket/145

--strk; 

  ,------o-. 
  |   __/  |    Delivering high quality PostGIS 2.0 !
  |  / 2.0 |    http://strk.keybit.net
  `-o------'



From martin.raspaud at smhi.se  Thu Feb 23 02:36:08 2012
From: martin.raspaud at smhi.se (Martin Raspaud)
Date: Thu, 23 Feb 2012 11:36:08 +0100
Subject: [Proj] Proj Release
In-Reply-To: <4F451E07.1030302@pobox.com>
References: <CB5960FF.1FD12%michael.smith@usace.army.mil>	<4F4244D2.5030007@gatewaygeomatics.com>
	<4F4333BF.108@pobox.com>	<4F43D383.2050008@gatewaygeomatics.com>	<CA+YzLBfcT=+FMykPtHWcv0pC4V4_FrKkq=gg9YtfKVaw3VGMcQ@mail.gmail.com>	<4F43FB2E.5000709@smhi.se>	<CA+YzLBfq0zOP+dnZDz5GnKuHNqRM6AF=gDnS5Cp5ZBPNM1Dphg@mail.gmail.com>	<4F44FB51.60307@smhi.se>
	<4F451E07.1030302@pobox.com>
Message-ID: <4F461698.9020401@smhi.se>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 22/02/12 17:55, Frank Warmerdam wrote:
> On 12-02-22 06:27 AM, Martin Raspaud wrote:
>> Hi Frank,
>>
>> Here is a patch for the aforementioned feature.
> 
> Martin,
> 
> Very quick! Could you file this as a ticket at http://proj.osgeo.org/
> please?
> 
>> Two questions though:
>> - - How and where do I change the documentation ? I'm not sure I've seen
>> documentation for the geos projection somewhere...
> 
> An excellent question and one that has been neglected.  For the healpix
> projection the documentation was added in the FAQ but I think this will
> be unwieldy in the longer term.  I have created a ProjectionsList wiki
> page which for now will be the home to docs for new projections added to
> PROJ.4.  At some point we might also add wiki docs for existing common
> projections.
> 
>    http://trac.osgeo.org/proj/wiki/ProjList
> 
>> - - Are there unittests I need to modify/add to ?
> 
> I would appreciate adding a brief test of new projections in
> proj/nad/testvarious with the results in tv_out.dist.
> 
> Best regards,

Hi Frank,

I created ticket #146 for this issue. I attached there an updated
version of the patch, including a small change to the previous patch I
send (so please disregard the old one), unit tests and results.

I also added the proj=geos page to the ProjList. You're very welcome to
have a look at it and give some feedback:
http://trac.osgeo.org/proj/wiki/proj%3Dgeos

Best regards,
Martin
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.14 (GNU/Linux)
Comment: Using GnuPG with Red Hat - http://enigmail.mozdev.org/

iQEcBAEBAgAGBQJPRhaYAAoJEBdvyODiyJI4fl4IAJWT72k4dpVfmBNIkSaC1VFO
ki5yiZDlhVcREupoCKoQD/x5xsxYm0acktnRNjhEE5JBZqSzt8i264yt2e9HKD/P
Hrc6R6eeRGxB5cJXBDeb15oDz+VQ4ZEwH8Gbr9Nin4xPR4yqooEflTqaVhyYXwNQ
s89//MpyTRcVM+8usf0AfI3JDuYlJhP+y4Ih0dCm9JTIxzpNifDn1thuS/Tqjfg2
VDwJ7hi7BLYexnLuGSnFRTAxxIZdwDemnCgMOuTzrO8o7XAa5if+L2Csm3WL6cnb
/KxWgeu2VSVhJ2TBJkrIG6Pm+j9uADlfNf7bgt40DSyrOgooMOFZxMBL0/jam4o=
=CT7N
-----END PGP SIGNATURE-----
-------------- next part --------------
A non-text attachment was scrubbed...
Name: martin_raspaud.vcf
Type: text/x-vcard
Size: 303 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20120223/aebf57a1/attachment.vcf>

From charles.karney at sri.com  Thu Feb 23 04:57:43 2012
From: charles.karney at sri.com (Charles Karney)
Date: Thu, 23 Feb 2012 07:57:43 -0500
Subject: [Proj] invgeod results for small distances
In-Reply-To: <ji4h2l$u0o$1@dough.gmane.org>
References: <ji4h2l$u0o$1@dough.gmane.org>
Message-ID: <4F4637C7.6030208@sri.com>

I recommend using the Geod program provided with GeographicLib

   http://geographiclib.sf.net

Thus:

Geod -i -b -d -p 6 <<EOF
0 0 0 .000001
0 0 0 .0000001
-30 0 29.9 179.9
EOF
=>
090d00'00.0000000" 270d00'00.0000000" 0.111319
090d00'00.0000000" 270d00'00.0000000" 0.011132
170d59'40.4518759" 188d59'46.8569451" 19992090.302327

The last example is another case where invgeod gets the wrong answer.
(Disclaimer: I'm the author of GeographicLib.)

   --Charles

On 02/22/12 23:59, Hermann Peifer wrote:
> # This looks reasonable for a difference in the 6th decimal
> [peifer at whitefish:~]>  echo 0 0 0 .000001 | invgeod +ellps=WGS84
> 90d     -90d    0.134
>
>
> # This should then be 0.013 for the 7th decimal, but it isn't:-(
> [peifer at whitefish:~]>  echo 0 0 0 .0000001 | invgeod +ellps=WGS84
> -2147483648d-2147483648'-nan"   -2147483648d-2147483648'-nan"   -nan
>
>
> # This isn't true in real life, but at least better than Not-A-Number
> [peifer at whitefish:~]>  echo 0 0 0 .0000001 | invgeod +ellps=sphere
> 90d     -90d    0.000


From jennyb at geo.oregonstate.edu  Fri Feb 24 15:02:22 2012
From: jennyb at geo.oregonstate.edu (Bernhard Jenny)
Date: Fri, 24 Feb 2012 15:02:22 -0800
Subject: [Proj] Natural Earth projection
Message-ID: <BE77C179-6E25-4EC0-B4EE-58A3E6E21CAC@geo.oregonstate.edu>

I would like to suggest the inclusion of the Natural Earth projection in PROJ.4. Natural Earth is a new projection for small-scale world maps. Here is more information on the projection:
http://www.shadedrelief.com/NE_proj/

This recent article in Cartography and Geographic Information Science describes the development of the projection and its equations:
http://cartography.oregonstate.edu/pdf/2011_Savric_etal_PolynomialNaturalEarth.pdf

Here is C code ready to be included in PROJ.4:
http://www.shadedrelief.com/NE_proj/natural_earth_proj.zip 

I suggest the following entry for pj_list.h:
PROJ_HEAD(natearth, "Natural Earth")

Best regards,
Bernie

Bernhard Jenny
Assistant Professor
Cartography and Geovisualization
Oregon State University
jennyb at geo.oregonstate.edu
http://cartography.oregonstate.edu/



From hellik at web.de  Sat Feb 25 05:13:25 2012
From: hellik at web.de (Helmut Kudrnovsky)
Date: Sat, 25 Feb 2012 05:13:25 -0800 (PST)
Subject: [Proj] Grid height for Austria *
Message-ID: <1330175605316-4506163.post@n6.nabble.com>

FYI:

links:
http://www.bev.gv.at/portal/page?_pageid=713,2205044&_dad=portal&_schema=PORTAL
http://www.bev.gv.at/portal/page?_pageid=713,2204753&_dad=portal&_schema=PORTAL

* New Product of the BEV: Grid height for Austria *

The BEV - Federal Office of Metrology and Surveying has developed an
Austria-wide
transformation grids : "height grid". (GIS-Grid based upon ntv2-definition)

This height Grid allows, for example, to calculate and to convert
orthometric heights from airborne laser scanning data (ALS) seamlessly for
all of Austria to heights into use. 

the elevation grid (500 x 500 m grid spacing) is offered and free
downloadable in the following formats: GeoTIFF and
CSV.



-----
best regards
Helmut
--
View this message in context: http://osgeo-org.1560.n6.nabble.com/Grid-height-for-Austria-tp4506163p4506163.html
Sent from the PROJ.4 mailing list archive at Nabble.com.


