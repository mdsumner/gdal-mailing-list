From Bryan.Ray at langley.af.mil  Fri Oct  3 07:31:37 2003
From: Bryan.Ray at langley.af.mil (Ray Bryan E 2Lt 1 OSS/OSW)
Date: Fri, 3 Oct 2003 10:31:37 -0400 
Subject: [OSRS-PROJ] Projection Information Weather Satellite
Message-ID: <64C86710F037A342AB8284B061E42E490735D027@fsmuhj10.langley.af.mil>

Hello all,

I'm new to the mailing list and was wondering if anyone knows the projection
(i.e. stereographic, orthographic, etc...) of the following linked image.
I'm trying to write an app that will successfully navigate this image
(display lat / lon at cursor position), but I need the projection info
first.  I have successfully done this with a different image (stereographic
) using Proj4.

Image link:
http://wwwghcc.msfc.nasa.gov/GOES/goeseastconusir.html
<http://wwwghcc.msfc.nasa.gov/GOES/goeseastconusir.html> 

The image is derived from a geostationary weather satellite located at -75
degrees longitude and the equator.

Thanks in advance for any help you can provide.
Bryan
 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20031003/1fdc83e6/attachment.html>

From alex.weidauer at huckfinn.de  Fri Oct  3 09:29:39 2003
From: alex.weidauer at huckfinn.de (Alexander Weidauer)
Date: Fri, 3 Oct 2003 17:29:39 +0100
Subject: [OSRS-PROJ] Projection Information Weather Satellite
Message-ID: <E1A5RyB-0001LY-00@mrvdomng.kundenserver.de>

Hi Brayn,

I think it is a gostationary satellite system so the projetion
seems to be "ortho" the coordinate lon_0 is synchroneous to the UTC 
dat below the image. Pleas read the part 

http://wwwghcc.msfc.nasa.gov/utc.html

The lat is a little bit difficult to find.
But you can set the datas you can set your own parameters.
Please read the part 

http://wwwghcc.msfc.nasa.gov/GOES/getsatellite.html


Bye Alexander Weidauer

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From cjmce at lsu.edu  Fri Oct  3 09:53:02 2003
From: cjmce at lsu.edu (Clifford J Mugnier)
Date: Fri, 3 Oct 2003 11:53:02 -0500
Subject: [OSRS-PROJ] Projection Information Weather Satellite
Message-ID: <OF8D9C5D43.DA11561A-ON86256DB4.005CBEA2-86256DB4.005CBF35@lsu.edu>





The projection is an Oblique Perspective or Oblique Horizon projection.  It
is definitely NOT Oblique Orthographic nor Oblique Stereographic.  It is
close (but not exactly) to an Oblique Globular.

Cliff Mugnier
LOUISIANA STATE UNIVERSITY
------------------------------------
Hello all,

I'm new to the mailing list and was wondering if anyone knows the
projection (i.e. stereographic, orthographic, etc...) of the following
linked image.  I'm trying to write an app that will successfully navigate
this image (display lat / lon at cursor position), but I need the
projection info first.  I have successfully done this with a different
image (stereographic ) using Proj4.

Image link:

http://wwwghcc.msfc.nasa.gov/GOES/goeseastconusir.html

The image is derived from a geostationary weather satellite located at -75
degrees longitude and the equator.

Thanks in advance for any help you can provide.

Bryan





----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From bryan at jincsolutions.com  Fri Oct  3 15:22:28 2003
From: bryan at jincsolutions.com (Bryan Ray)
Date: Fri, 3 Oct 2003 18:22:28 -0400
Subject: [OSRS-PROJ] Projection Information Weather Satellite
In-Reply-To: <E1A5RyB-0001LY-00@mrvdomng.kundenserver.de>
Message-ID: <001001c389fc$d7b65300$0200a8c0@RAYLAPTOP>

Alex,

Thanks for the reply. I tried using the Delphi code you supplied to me
earlier this year using passpoints and Affine Transformations.  With
this image it did not quite work out because of the unknown projection
type that I could initialize with Proj4.  I tried Ortho and Stereo
projections with no luck.

I'll keep trying with other Proj4 supported projections, but I'm not
sure which one to use.

If you have any ideas, please let me know.

Clifford Mugnier says it is probably some type of Oblique Globular. I'll
take all of the expert advise I can get.  It seems to me that it is just
a raw satellite projection (if there is such a thing) with an offset
(looking angle) from -75 Longitude and 0 Latitude.

Bryan



-----Original Message-----
From: owner-osrs-proj at remotesensing.org
[mailto:owner-osrs-proj at remotesensing.org] On Behalf Of Alexander
Weidauer
Sent: Friday, October 03, 2003 12:30 PM
To: osrs-proj at remotesensing.org
Subject: RE: [OSRS-PROJ] Projection Information Weather Satellite


Hi Brayn,

I think it is a gostationary satellite system so the projetion seems to
be "ortho" the coordinate lon_0 is synchroneous to the UTC 
dat below the image. Pleas read the part 

http://wwwghcc.msfc.nasa.gov/utc.html

The lat is a little bit difficult to find.
But you can set the datas you can set your own parameters. Please read
the part 

http://wwwghcc.msfc.nasa.gov/GOES/getsatellite.html


Bye Alexander Weidauer

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.



----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From alex.weidauer at huckfinn.de  Wed Oct  8 07:14:36 2003
From: alex.weidauer at huckfinn.de (Alexander Weidauer)
Date: Wed, 8 Oct 2003 15:14:36 +0100
Subject: [OSRS-PROJ] Projection Information Weather Satellite
Message-ID: <E1A7ED8-0003Wt-00@mrvdomng.kundenserver.de>

Brayn,

I think that will not work with affine transforms 
without having the right projection of the earh body
to the a plain sheet. Do you have a idea what they mean 
with Oblique Horizon projection

it seems to be a photo where the satellite is turned 
over the horizont normal. I think it could determined 
if you have the trace coordinates of the satellite.

To program it it's to high for me and I have to grabb 
deep into the proj library. I think you should write
Gerlad Everden. He is the creator of the library 

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From cjmce at lsu.edu  Wed Oct  8 06:45:38 2003
From: cjmce at lsu.edu (Clifford J Mugnier)
Date: Wed, 8 Oct 2003 08:45:38 -0500
Subject: [OSRS-PROJ] Projection Information Weather Satellite
Message-ID: <OF438F82E6.04E26229-ON86256DB9.004B9614-86256DB9.004B96F6@lsu.edu>





The Oblique Horizon projection was featured in a technical bulletin of
ESSA, the forerunner of NOAA way back during the 1970s.  The author was
named Schmidt, I think.

Cliff Mugnier
LOUISIANA STATE UNIVERSITY
----------------------------------------------
Brayn,

I think that will not work with affine transforms
without having the right projection of the earh body
to the a plain sheet. Do you have a idea what they mean
with Oblique Horizon projection

it seems to be a photo where the satellite is turned
over the horizont normal. I think it could determined
if you have the trace coordinates of the satellite.

To program it it's to high for me and I have to grabb
deep into the proj library. I think you should write
Gerlad Everden. He is the creator of the library

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From Bryan.Ray at langley.af.mil  Wed Oct  8 06:58:47 2003
From: Bryan.Ray at langley.af.mil (Ray Bryan E 2Lt 1 OSS/OSW)
Date: Wed, 8 Oct 2003 09:58:47 -0400 
Subject: [OSRS-PROJ] Projection Information Weather Satellite
Message-ID: <64C86710F037A342AB8284B061E42E49074F3C95@fsmuhj10.langley.af.mil>

Alex,

Thanks for the information.  According the NOAA, its is a GOES projection.
(Geostationary Satellite).  The satellite is in geosync orbit over -75
Longitude and 0 degrees latitude.  They have a fortran program they use to
map to this projection.  I think I will need to do some more research on
this.

Thanks again,
Bryan


-----Original Message-----
From: Alexander Weidauer [mailto:alex.weidauer at huckfinn.de] 
Sent: Wednesday, October 08, 2003 10:15 AM
To: osrs-proj at remotesensing.org
Subject: RE: [OSRS-PROJ] Projection Information Weather Satellite

Brayn,

I think that will not work with affine transforms 
without having the right projection of the earh body
to the a plain sheet. Do you have a idea what they mean 
with Oblique Horizon projection

it seems to be a photo where the satellite is turned 
over the horizont normal. I think it could determined 
if you have the trace coordinates of the satellite.

To program it it's to high for me and I have to grabb 
deep into the proj library. I think you should write
Gerlad Everden. He is the creator of the library 

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.
----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From gerald.evenden at verizon.net  Wed Oct  8 11:31:01 2003
From: gerald.evenden at verizon.net (Gerald I. Evenden)
Date: Wed, 8 Oct 2003 14:31:01 -0400
Subject: [OSRS-PROJ] Projection Information Weather Satellite
In-Reply-To: <64C86710F037A342AB8284B061E42E49074F3C95@fsmuhj10.langley.af.mil>
References: <64C86710F037A342AB8284B061E42E49074F3C95@fsmuhj10.langley.af.mil>
Message-ID: <200310081431.01168.gerald.evenden@verizon.net>

There is proj=tpers (Tilted perspective).  In addition to option h= there are
tilt=<angle> and azi=<angle>

It is only for a spherical earth---which probably ought to be OK for scales
involved.

On Wednesday 08 October 2003 09:58 am, Ray Bryan E 2Lt 1 OSS/OSW wrote:
> Alex,
>
> Thanks for the information.  According the NOAA, its is a GOES projection.
> (Geostationary Satellite).  The satellite is in geosync orbit over -75
> Longitude and 0 degrees latitude.  They have a fortran program they use to
> map to this projection.  I think I will need to do some more research on
> this.
>
> Thanks again,
> Bryan
>
>
> -----Original Message-----
> From: Alexander Weidauer [mailto:alex.weidauer at huckfinn.de]
> Sent: Wednesday, October 08, 2003 10:15 AM
> To: osrs-proj at remotesensing.org
> Subject: RE: [OSRS-PROJ] Projection Information Weather Satellite
>
> Brayn,
>
> I think that will not work with affine transforms
> without having the right projection of the earh body
> to the a plain sheet. Do you have a idea what they mean
> with Oblique Horizon projection
>
> it seems to be a photo where the satellite is turned
> over the horizont normal. I think it could determined
> if you have the trace coordinates of the satellite.
>
> To program it it's to high for me and I have to grabb
> deep into the proj library. I think you should write
> Gerlad Everden. He is the creator of the library
>
> ----------------------------------------
> PROJ.4 Discussion List
> See http://www.remotesensing.org/proj for subscription, unsubscription
> and other information.
> ----------------------------------------
> PROJ.4 Discussion List
> See http://www.remotesensing.org/proj for subscription, unsubscription
> and other information.

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From Bryan.Ray at langley.af.mil  Wed Oct  8 12:47:41 2003
From: Bryan.Ray at langley.af.mil (Ray Bryan E 2Lt 1 OSS/OSW)
Date: Wed, 8 Oct 2003 15:47:41 -0400 
Subject: [OSRS-PROJ] Projection Information Weather Satellite
Message-ID: <64C86710F037A342AB8284B061E42E490759D31F@fsmuhj10.langley.af.mil>

Thanks Gerald,

Sounds like I need to do some reading on these proj4 options.

Bryan


-----Original Message-----
From: Gerald I. Evenden [mailto:gerald.evenden at verizon.net] 
Sent: Wednesday, October 08, 2003 2:31 PM
To: osrs-proj at remotesensing.org; gerald.evenden at verizon.net
Subject: Re: [OSRS-PROJ] Projection Information Weather Satellite

There is proj=tpers (Tilted perspective).  In addition to option h= there
are
tilt=<angle> and azi=<angle>

It is only for a spherical earth---which probably ought to be OK for scales
involved.

On Wednesday 08 October 2003 09:58 am, Ray Bryan E 2Lt 1 OSS/OSW wrote:
> Alex,
>
> Thanks for the information.  According the NOAA, its is a GOES projection.
> (Geostationary Satellite).  The satellite is in geosync orbit over -75
> Longitude and 0 degrees latitude.  They have a fortran program they use to
> map to this projection.  I think I will need to do some more research on
> this.
>
> Thanks again,
> Bryan
>
>
> -----Original Message-----
> From: Alexander Weidauer [mailto:alex.weidauer at huckfinn.de]
> Sent: Wednesday, October 08, 2003 10:15 AM
> To: osrs-proj at remotesensing.org
> Subject: RE: [OSRS-PROJ] Projection Information Weather Satellite
>
> Brayn,
>
> I think that will not work with affine transforms
> without having the right projection of the earh body
> to the a plain sheet. Do you have a idea what they mean
> with Oblique Horizon projection
>
> it seems to be a photo where the satellite is turned
> over the horizont normal. I think it could determined
> if you have the trace coordinates of the satellite.
>
> To program it it's to high for me and I have to grabb
> deep into the proj library. I think you should write
> Gerlad Everden. He is the creator of the library
>
> ----------------------------------------
> PROJ.4 Discussion List
> See http://www.remotesensing.org/proj for subscription, unsubscription
> and other information.
> ----------------------------------------
> PROJ.4 Discussion List
> See http://www.remotesensing.org/proj for subscription, unsubscription
> and other information.

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.
----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From jan at intevation.de  Fri Oct 10 09:28:12 2003
From: jan at intevation.de (Jan-Oliver Wagner)
Date: Fri, 10 Oct 2003 18:28:12 +0200
Subject: [OSRS-PROJ] EPSG: invalid projections?
Message-ID: <20031010162812.GA11335@intevation.de>

Hi,

I've implemented a converter for the epsg file as delivered with
proj to a Thuban .proj file.

When loaded into Thuban there is an automatic test for each
projection and 4 of the 2480
seem to be incorrect. These are the error messages:

Error in projection "CH1903+ / LV95": lat_0 = 0 or 90 or alpha = 90
Error in projection "Bern 1898 (Bern) / LV03C": lat_0 = 0 or 90 or alpha = 90
Error in projection "CH1903 / LV03": lat_0 = 0 or 90 or alpha = 90
Error in projection "HD72 / EOV": lat_0 = 0 or 90 or alpha = 90

I've used proj 4.4.7.

Best

	Jan

-- 
Jan-Oliver Wagner               http://intevation.de/~jan/

Intevation GmbH	              	     http://intevation.de/
FreeGIS	                               http://freegis.org/
----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From gerald.evenden at verizon.net  Mon Oct 13 14:51:17 2003
From: gerald.evenden at verizon.net (Gerald I. Evenden)
Date: Mon, 13 Oct 2003 17:51:17 -0400
Subject: [OSRS-PROJ] Transverse Mercator revisited
Message-ID: <200310131751.17915.gerald.evenden@verizon.net>

Maybe a month or so ago there was a claim about ESRI developing a Transverse
Mercator projection from an "obscure" NOAA publication.  Part of the claim was
that the projection was good to 90 degrees from the CM.  I more or less said
"bovine excrement" and off list got into a discussion with someone who
supported the claim.

Subsequently I managed to get a reference to the NOAA article and locate
the author who was kind enough to send me a copy.  After messing around with
the article I wrote the following critque and, as you will note, have not got
a projection that will extend to 90 degrees longitude---nor 90 NS for that
matter.

The reason I post it here is that if anyone has a copy of ESRI's software and
could puch in a few bench mark conversions I would be most grateful.
Does ESRI's software go to 90 degree longitude??

A copy of this critique has also been sent to Jeff Dozier.  Sorry, but some
comments relate to material of the article and are not meaningful without
having a copy.

-----------------------------------------------------------------------------------------

A programmers review of "Improved Algorithm for
Calculation of UTM and Geodetic Coordinates" by
J. Dozier.

FIRST TRY.

First attempt to encode the C code was by typing and
simultaneous conversion of 70's C to C99 level and
thus using the current C language complex arithmetic,
subroutines as well as prototyping capabilities.
This allowed removal of the "8. complex" section
as well as several complex transcendental functions.
Similarly, ".im" and ".re" arithmetic was change to
straight forward complex arithmetic notation and
operations.

Original code sections were placed in individual
files and each contains an '#include "dozier.h"' that
gives full prototyping for all procedures as well as
some constant definitions.

Basic projection entry was changed to the 'gkfor'
procedure modified so that the input arguments are
only eccentricity, geodetic latitude and longitude
and with x and y output.  Note that x-y in the current
version are reversed when compared to most western
notation.  The ellipse major axis, a, was omitted
(as per usage in the PROJ.4 system) and assumed to
be 1.  Conversion of geographic latitude to isometic
latitude was made inside 'gkfor.'

In addition, the failure tests and calls to "abend"
were changed to a long-jump return to the main entry
into the projection so as to allow a graceful return
with error code rather than aborting the program.
'gkfor' now has a zero functional value if the projection
was a success or non-zero value for failure along with
the returned x-y values set to HUGE_VAL.

An error in coding is believed to have occur in the original
article code in file tmw.c, procedure tmfd, pg. 16.
Original code reads:

ms = snw;
ms.re *= m;
ms.im *= m;

where m was assigned k_tran*k_tran a few lines earlier.
k_tran should be eccentricity at that point, thus m now
becomes eccentricity squared.  In the statement following
the above the operation (1-ms)*(1+ms) is made which is
effectively 1-ms^2 or, in this case (1-(e^4*snw^2)).
I believe k_tran should have been in the aforementioned
operations rather than m.  The interesting thing about
this error is that it was involved with the computation
of the derivitive in the Newton-Raphson iteration.
My experience is that an error in determining this
deriviative may only slightly impair the covergence
of the algorithm as long as it is "nearly" correct,
but accuracy of the result is not affected.

Currently, the software fails when longitude exceeds
about 82 degrees as the jseries function fails to
converge.  This is apparent from looking at the
defining equations which involve sin(z) where z
is complex.  Unlike real sine functions whose
results stay within +-1, complex sine values may
exceed 1 and thus the increasing size of the
multiple complex sine may negate the decreasing
size of the series coefficient.  My question is:
is the value of the sn w function finite as the
imaginary part of the argument approaches pi/2?
The jseries function is modified to have an iteration
check and abort functioning if excessive iterations
have been made.

It should be noted that when eccentricity is set to
zero (spherical earth) the software performs flawlessly
except for failure to compute near lat,lon=90,0 and 0,90.

Note that in both the spherical equations and the
elliptical series equations a latitude of 90
degrees is computable.  but in this system the latitude
is converted to and from isometric latitude which is
indeterminate at 90 degrees.  Note that this causes
the procedure geodat to immediately fail because it
sets a range to the Brent algorithm of 0 to 90
degrees which causes function 'zerobr' to fail almost
immediately.  At the moment, I have been concentrating
on the forward projection and have not made patches
to the inverse problem---in this case, limiting the
polar range to something less than pi/2.

Comparisons with lproj's tmerc show agreement to
within about 1e-10 over most of the +-3.5 lon
and latitude (<90) range. Because the certified
accuracy of tmerc is unknown this is not the
greatest test, but along the central meridian
(lon=0) the northing is known to about 1e-14
and checkable against extended precision numerical
integration values BUT this version of the Dozier
software only gets 1e-10 along the central meridian.
Roughly 1mm on the ground.

TRY AGAIN:

For the second attempt, the article was scanned and
OCR was used to make a transcription of the text to
computer readable text.  OCR is certainly not fool
proof and additional careful editing of the text was
required as well as exhaustive cross checking of the
new code with the source.  In this operation care
was made to ensure that the computer readable text
matched as closely as possible to the original article.

Again, each section was put into an individual file
and it was necessary to add a header inclusion to
"lcomplex.h" that contains:

typedef struct {
    double re, im;
} complex;

Attempts were made to remain as close to 70's K&R
C as possible.

Some other code additions were required. The function
"cdiv" was not declare in gk.c and tmwi.c and "csub"
was not declared in tmw.c.  Compilation error occurred
in two cases when not corrected and segmentation fault
occurred in the other.

The first, "recoded" version works better at the moment
so I suspended work on the scanned code.

CONCLUSIONS

I am having considerable problem in assembling a
functional program from the material in this article.
I have been able to verify some components of the
code by use of the GNU Scientific Library and the
Numerical Recipes library but many parts do not have
available counterparts---at least none that I can
locate.

A minor comment is that the parts of the paper
related to UTM are irrelevant.  In reality, UTM is
"defined" by the series solution to the transverse
mercator projection.  Even if the series solution is
not precise, it still is the UTM "solution."
This method cannot replace the current UTM solution
nor other established cadastral coordinate systems
but it is of academic interest in that it could give a
better idea of the accuracy of the series solutions.

Some people have expressed an in interest in using
this method when the longitude range extends well
beyond the 3.5 degree limits of current transverse
mercator series solutions.  But as extent expands
the scale shrinks and resolutions needs are lessened.

A side note here: part of my personal interest was
the result of a discussion where someone claimed that
the transverse meridian projection  produced finite
results with longitude values 90 degrees from the
central meridian.  The Dozier paper also makes this
claim on page 1: "The method can be used for all
longitudes up to and including 90 deg from the central
meridian."  This claim was counter intuitive to me and
thus made me look into this assertion.  So far, indications
that I observe are that as I approach 90 degrees
longitude the value of the easting starts to rapidly
increase much in the same manner as in the case where
polar latitudes create ever larger northings as one
approaches the Pole in normal mercator projection.

Lastly, this paper speaks volumes for including
numeric examples when publishing articles related to
practical solutions and where there is no machine
readable source code.  Even when machine readable
code is available, test results should be available
to verify the installation.
----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From cjmce at lsu.edu  Mon Oct 13 16:36:28 2003
From: cjmce at lsu.edu (Clifford J Mugnier)
Date: Mon, 13 Oct 2003 18:36:28 -0500
Subject: [OSRS-PROJ] Transverse Mercator revisited
Message-ID: <OF3DF1A882.FE320A45-ON86256DBE.0081AE11-86256DBE.0081AE99@lsu.edu>





Gerald,

I was the one making the claim based on what I remembered from Dozier's
paper and the fact that the Geodesist at ESRI said (this past summer) that
Dozier's algorithm had been coded.  The lady to contact is Ms. Melita
Kennedy at ESRI: MKennedy at ESRI.com

Sorry if I ruffled any feathers ...

Cliff Mugnier
LOUISIANA STATE UNIVERSITY




Maybe a month or so ago there was a claim about ESRI developing a
Transverse
Mercator projection from an "obscure" NOAA publication.  Part of the claim
was
that the projection was good to 90 degrees from the CM.  I more or less
said
"bovine excrement" and off list got into a discussion with someone who
supported the claim.

Subsequently I managed to get a reference to the NOAA article and locate
the author who was kind enough to send me a copy.  After messing around
with
the article I wrote the following critque and, as you will note, have not
got
a projection that will extend to 90 degrees longitude---nor 90 NS for that
matter.

The reason I post it here is that if anyone has a copy of ESRI's software
and
could puch in a few bench mark conversions I would be most grateful.
Does ESRI's software go to 90 degree longitude??

A copy of this critique has also been sent to Jeff Dozier.  Sorry, but some
comments relate to material of the article and are not meaningful without
having a copy.

-----------------------------------------------------------------------------------------

A programmers review of "Improved Algorithm for
Calculation of UTM and Geodetic Coordinates" by
J. Dozier.

FIRST TRY.

First attempt to encode the C code was by typing and
simultaneous conversion of 70's C to C99 level and
thus using the current C language complex arithmetic,
subroutines as well as prototyping capabilities.
This allowed removal of the "8. complex" section
as well as several complex transcendental functions.
Similarly, ".im" and ".re" arithmetic was change to
straight forward complex arithmetic notation and
operations.

Original code sections were placed in individual
files and each contains an '#include "dozier.h"' that
gives full prototyping for all procedures as well as
some constant definitions.

Basic projection entry was changed to the 'gkfor'
procedure modified so that the input arguments are
only eccentricity, geodetic latitude and longitude
and with x and y output.  Note that x-y in the current
version are reversed when compared to most western
notation.  The ellipse major axis, a, was omitted
(as per usage in the PROJ.4 system) and assumed to
be 1.  Conversion of geographic latitude to isometic
latitude was made inside 'gkfor.'

In addition, the failure tests and calls to "abend"
were changed to a long-jump return to the main entry
into the projection so as to allow a graceful return
with error code rather than aborting the program.
'gkfor' now has a zero functional value if the projection
was a success or non-zero value for failure along with
the returned x-y values set to HUGE_VAL.

An error in coding is believed to have occur in the original
article code in file tmw.c, procedure tmfd, pg. 16.
Original code reads:

ms = snw;
ms.re *= m;
ms.im *= m;

where m was assigned k_tran*k_tran a few lines earlier.
k_tran should be eccentricity at that point, thus m now
becomes eccentricity squared.  In the statement following
the above the operation (1-ms)*(1+ms) is made which is
effectively 1-ms^2 or, in this case (1-(e^4*snw^2)).
I believe k_tran should have been in the aforementioned
operations rather than m.  The interesting thing about
this error is that it was involved with the computation
of the derivitive in the Newton-Raphson iteration.
My experience is that an error in determining this
deriviative may only slightly impair the covergence
of the algorithm as long as it is "nearly" correct,
but accuracy of the result is not affected.

Currently, the software fails when longitude exceeds
about 82 degrees as the jseries function fails to
converge.  This is apparent from looking at the
defining equations which involve sin(z) where z
is complex.  Unlike real sine functions whose
results stay within +-1, complex sine values may
exceed 1 and thus the increasing size of the
multiple complex sine may negate the decreasing
size of the series coefficient.  My question is:
is the value of the sn w function finite as the
imaginary part of the argument approaches pi/2?
The jseries function is modified to have an iteration
check and abort functioning if excessive iterations
have been made.

It should be noted that when eccentricity is set to
zero (spherical earth) the software performs flawlessly
except for failure to compute near lat,lon=90,0 and 0,90.

Note that in both the spherical equations and the
elliptical series equations a latitude of 90
degrees is computable.  but in this system the latitude
is converted to and from isometric latitude which is
indeterminate at 90 degrees.  Note that this causes
the procedure geodat to immediately fail because it
sets a range to the Brent algorithm of 0 to 90
degrees which causes function 'zerobr' to fail almost
immediately.  At the moment, I have been concentrating
on the forward projection and have not made patches
to the inverse problem---in this case, limiting the
polar range to something less than pi/2.

Comparisons with lproj's tmerc show agreement to
within about 1e-10 over most of the +-3.5 lon
and latitude (<90) range. Because the certified
accuracy of tmerc is unknown this is not the
greatest test, but along the central meridian
(lon=0) the northing is known to about 1e-14
and checkable against extended precision numerical
integration values BUT this version of the Dozier
software only gets 1e-10 along the central meridian.
Roughly 1mm on the ground.

TRY AGAIN:

For the second attempt, the article was scanned and
OCR was used to make a transcription of the text to
computer readable text.  OCR is certainly not fool
proof and additional careful editing of the text was
required as well as exhaustive cross checking of the
new code with the source.  In this operation care
was made to ensure that the computer readable text
matched as closely as possible to the original article.

Again, each section was put into an individual file
and it was necessary to add a header inclusion to
"lcomplex.h" that contains:

typedef struct {
double re, im;
} complex;

Attempts were made to remain as close to 70's K&R
C as possible.

Some other code additions were required. The function
"cdiv" was not declare in gk.c and tmwi.c and "csub"
was not declared in tmw.c.  Compilation error occurred
in two cases when not corrected and segmentation fault
occurred in the other.

The first, "recoded" version works better at the moment
so I suspended work on the scanned code.

CONCLUSIONS

I am having considerable problem in assembling a
functional program from the material in this article.
I have been able to verify some components of the
code by use of the GNU Scientific Library and the
Numerical Recipes library but many parts do not have
available counterparts---at least none that I can
locate.

A minor comment is that the parts of the paper
related to UTM are irrelevant.  In reality, UTM is
"defined" by the series solution to the transverse
mercator projection.  Even if the series solution is
not precise, it still is the UTM "solution."
This method cannot replace the current UTM solution
nor other established cadastral coordinate systems
but it is of academic interest in that it could give a
better idea of the accuracy of the series solutions.

Some people have expressed an in interest in using
this method when the longitude range extends well
beyond the 3.5 degree limits of current transverse
mercator series solutions.  But as extent expands
the scale shrinks and resolutions needs are lessened.

A side note here: part of my personal interest was
the result of a discussion where someone claimed that
the transverse meridian projection  produced finite
results with longitude values 90 degrees from the
central meridian.  The Dozier paper also makes this
claim on page 1: "The method can be used for all
longitudes up to and including 90 deg from the central
meridian."  This claim was counter intuitive to me and
thus made me look into this assertion.  So far, indications
that I observe are that as I approach 90 degrees
longitude the value of the easting starts to rapidly
increase much in the same manner as in the case where
polar latitudes create ever larger northings as one
approaches the Pole in normal mercator projection.

Lastly, this paper speaks volumes for including
numeric examples when publishing articles related to
practical solutions and where there is no machine
readable source code.  Even when machine readable
code is available, test results should be available
to verify the installation.
----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From gerald.evenden at verizon.net  Mon Oct 13 17:13:12 2003
From: gerald.evenden at verizon.net (Gerald I. Evenden)
Date: Mon, 13 Oct 2003 20:13:12 -0400
Subject: [OSRS-PROJ] Transverse Mercator revisited
In-Reply-To: <OF3DF1A882.FE320A45-ON86256DBE.0081AE11-86256DBE.0081AE99@lsu.edu>
References: <OF3DF1A882.FE320A45-ON86256DBE.0081AE11-86256DBE.0081AE99@lsu.edu>
Message-ID: <200310132013.12041.gerald.evenden@verizon.net>

No, no, it wasn't you that I had the disagreement with.

Thanks for the reference.  I think I will give Ms. Kennedy an email.  I would
at least like to know if she could verify the claims of the Dozier paper and
others.  I'll let y'all know what results (if any).

On Monday 13 October 2003 07:36 pm, Clifford J Mugnier wrote:
> Gerald,
>
> I was the one making the claim based on what I remembered from Dozier's
> paper and the fact that the Geodesist at ESRI said (this past summer) that
> Dozier's algorithm had been coded.  The lady to contact is Ms. Melita
> Kennedy at ESRI: MKennedy at ESRI.com
>
> Sorry if I ruffled any feathers ...
>
> Cliff Mugnier
> LOUISIANA STATE UNIVERSITY
>
	<snip>
----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From hamish_nospam at yahoo.com  Mon Oct 13 20:55:21 2003
From: hamish_nospam at yahoo.com (Hamish)
Date: Tue, 14 Oct 2003 16:55:21 +1300
Subject: [OSRS-PROJ] Fw: [GRASSLIST:1481] Re: Bug in s.proj?
Message-ID: <20031014165521.3ed36a53.hamish_nospam@yahoo.com>

[fwd from the GRASS list, maybe someone here has an idea?  -Hamish]



Date: Mon, 13 Oct 2003 16:02:36 +0100
From: "David Orme" <d.orme at imperial.ac.uk>
To: GRASSLIST at baylor.edu
Subject: [GRASSLIST:1481] Re: Bug in s.proj?


Hi,

OK - I've followed Hamish's suggestion and used cs2cs from PROJ.4 (I'll 
get to Grass 5.3 soon) to check the location of a test point (0 m E, 
7332956.368 m N) from a Behrmann projection back into geographic 
coordinates:

[doibook:/usr/local/bin] dorme% ./cs2cs +proj=cea +lat_ts=30 
+datum=WGS84 +to +proj=latlong +datum=WGS84
0 7332956.368
0dE     86d18'12.382"N 0.000

This gives me the same geographic coordinate as I got from my original 
use of s.proj in Grass 5.0.2. To test ArcMAP again, I created a 
shapefile with a Behrmann projection containing a single point at the 
test location and used the project wizard in ArcToolbox to change to a 
Geographic projection (wgs84.prj). The resulting point has the 
following geographic coordinates:

0dE 87d 7' 58.42" N

The output of g.projinfo for my Behrmann location is below. I'm using 
Mac OS X (version 10.2.8) and the following version of cs2cs:

[doibook:/usr/local/bin] dorme% ./cs2cs
Rel. 4.4.7, 31 March 2003
usage: cs2cs [ -eEfIlrstvwW [args] ] [ +opts[=arg] ]
                    [+to [+opts[=arg] [ files ]

David.

-----------------------------------------------------------
PROJ_INFO file:
name:    Equal Area Cylindrical
datum:   wgs84
dx:      0.000000
dy:      0.000000
dz:      0.000000
proj:    cea
ellps:   wgs84
a:       6378137.0000000000
es:      0.0066943800
f:       298.2572235630
lat_0:   0.0000000000
lat_ts:  30.0000000000
lon_0:   0.0000000000
-----------------------------------------------------------
PROJ_UNITS file:
unit:    meter
units:   meters
meters:  1.000000
-----------------------------------------------------------


>> I e-mailed yesterday about a mismatch between Arcmap and Grass 5.0.2
>> transformations of sites from a global cylindrical equal area location
>> to a geographic. I've been playing around some more and it looks to me
>> as if either:
>>
>> 1) s.proj has a bug in it,
>> 2) arcmap has a bug in the transformation of sites or,
>> 3) I've missed something elementary.
>>
>> I created a point shapefile in arcmap of the centre points of the grid
>> cells for the CEA location and read this into grass using s.in.shape.
>> I've checked that the values in the sites file are what I was
>> expecting. I used s.proj to project these sites into a geographic
>> (wgs84) location. I also used arcmap to project the original behrmann
>> points shapefile into wgs84 and then imported this into my grass wgs84
>> location using s.in.shape. The two sets of sites are not in the same
>> place - in extreme latitudes the discrepancy is about half a degree. I
>> won't attach the files to preserve bandwidth but if anyone wants them,
>> let me know.
>>
>> Any suggestions?



-----------------------------------------------------------------------

From: "John Gillette" <JGillette at rfmd.com>
Subject: [GRASSLIST:1484] Re: Bug in s.proj?
Date: Mon, 13 Oct 2003 17:56:31 -0400
To: "David Orme" <d.orme at imperial.ac.uk>, <GRASSLIST at baylor.edu>
Sender: owner-GRASSLIST at baylor.edu

For a second opinion, I down loaded GEOTRANS 2.2.3 for
Windows.

WGS84, CEA, 0,7332956.368 to WGS84, Geodetic gives
0d 0' 0.0004"E 87d 7' 58.1173"N

This is .544 Meters from ArcMAP answer.

m.proj in Grass 5.0.0 gives same answer as cs2cs.

John

-----------------------------------------------------------------------
----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From Strebe at aol.com  Mon Oct 13 22:45:42 2003
From: Strebe at aol.com (Strebe at aol.com)
Date: Tue, 14 Oct 2003 01:45:42 EDT
Subject: [OSRS-PROJ] Re: Transverse Mercator revisited
Message-ID: <140.1a931527.2cbce786@aol.com>


I don't know anything about ESRI's implementation. Wallis claims Dozier's 
implementation is inefficient and the derivation not well motivated. I haven't 
looked at Dozier. I had never checked my own implementation against UTM because 
I don't much care about large-scale mapping, but your note induced me to. I 
find that my calculations of the complete ellipsoidal transverse Mercator agree 
with Snyder's UTM formulation [Snyder: Map Projections - A Working Manual] to 
sub-millimeter accuracy from +/-90.0 degrees latitude and +/- 3.5 degrees 
longitude from central meridian, at half degree intervals. Of course, it extends 
to 90 degrees away from the central meridian, and numerical checks demonstrate 
that it is conformal to within one part per billion throughout the spheroid.

Regards,
daan Strebe


In a message dated 10/13/03 14:58:12, gerald.evenden at verizon.net writes:

> Maybe a month or so ago there was a claim about ESRI developing a 
> Transverse
> Mercator projection from an "obscure" NOAA publication.  Part of the claim 
> was
> that the projection was good to 90 degrees from the CM.  I more or less said
> "bovine excrement" and off list got into a discussion with someone who
> supported the claim.
> 
> Subsequently I managed to get a reference to the NOAA article and locate
> the author who was kind enough to send me a copy.  After messing around with
> the article I wrote the following critque and, as you will note, have not 
> got
> a projection that will extend to 90 degrees longitude---nor 90 NS for that
> matter.
> 
> The reason I post it here is that if anyone has a copy of ESRI's software 
> and
> could puch in a few bench mark conversions I would be most grateful.
> Does ESRI's software go to 90 degree longitude??
> 
> A copy of this critique has also been sent to Jeff Dozier.  Sorry, but some
> comments relate to material of the article and are not meaningful without
> having a copy.
> 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20031014/ee90f963/attachment.html>

From paul at toolscenter.org  Mon Oct 13 23:34:38 2003
From: paul at toolscenter.org (Paul Selormey)
Date: Tue, 14 Oct 2003 15:34:38 +0900
Subject: [OSRS-PROJ] Transverse Mercator revisited
References: <OF3DF1A882.FE320A45-ON86256DBE.0081AE11-86256DBE.0081AE99@lsu.edu> <200310132013.12041.gerald.evenden@verizon.net>
Message-ID: <006401c3921d$3fe3dab0$700201c0@MAPQUEST.local>

Hello Gerald,
You know who you had the disagreement with, why not simply
direct your mails to him and have this sort out?

Best regards,
Paul.

----- Original Message ----- 
From: "Gerald I. Evenden" <gerald.evenden at verizon.net>
To: <osrs-proj at remotesensing.org>
Sent: Tuesday, October 14, 2003 9:13 AM
Subject: Re: [OSRS-PROJ] Transverse Mercator revisited


> No, no, it wasn't you that I had the disagreement with.
>
> Thanks for the reference.  I think I will give Ms. Kennedy an email.  I
would
> at least like to know if she could verify the claims of the Dozier paper
and
> others.  I'll let y'all know what results (if any).
>
> On Monday 13 October 2003 07:36 pm, Clifford J Mugnier wrote:
> > Gerald,
> >
> > I was the one making the claim based on what I remembered from Dozier's
> > paper and the fact that the Geodesist at ESRI said (this past summer)
that
> > Dozier's algorithm had been coded.  The lady to contact is Ms. Melita
> > Kennedy at ESRI: MKennedy at ESRI.com
> >
> > Sorry if I ruffled any feathers ...
> >
> > Cliff Mugnier
> > LOUISIANA STATE UNIVERSITY
> >
> <snip>
> ----------------------------------------
> PROJ.4 Discussion List
> See http://www.remotesensing.org/proj for subscription, unsubscription
> and other information.

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From gerald.evenden at verizon.net  Tue Oct 14 11:32:50 2003
From: gerald.evenden at verizon.net (Gerald I. Evenden)
Date: Tue, 14 Oct 2003 14:32:50 -0400
Subject: [OSRS-PROJ] Transverse Mercator revisited
In-Reply-To: <006401c3921d$3fe3dab0$700201c0@MAPQUEST.local>
References: <OF3DF1A882.FE320A45-ON86256DBE.0081AE11-86256DBE.0081AE99@lsu.edu> <200310132013.12041.gerald.evenden@verizon.net> <006401c3921d$3fe3dab0$700201c0@MAPQUEST.local>
Message-ID: <200310141432.50569.gerald.evenden@verizon.net>

Because I was chided by other members of this email list who wanted to know
what was going on with this discussion.

Obviously, not all matters are of interest to all subscribers. 

On Tuesday 14 October 2003 02:34 am, Paul Selormey wrote:
> Hello Gerald,
> You know who you had the disagreement with, why not simply
> direct your mails to him and have this sort out?
>
> Best regards,
> Paul.

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From cjmce at lsu.edu  Tue Oct 14 11:35:33 2003
From: cjmce at lsu.edu (Clifford J Mugnier)
Date: Tue, 14 Oct 2003 13:35:33 -0500
Subject: [OSRS-PROJ] Transverse Mercator revisited
Message-ID: <OFEA392DCF.C9238EE8-ON86256DBF.006621AF-86256DBF.0066220E@lsu.edu>





Gerald is correct.  The back-and-forth is of great interest to many list
members even though they choose not to "pipe in."  That has been requested
of us in the recent past ...

Cliff Mugnier
LOUISIANA STATE UNIVERSITY

--------------------------------

Because I was chided by other members of this email list who wanted to know
what was going on with this discussion.

Obviously, not all matters are of interest to all subscribers.

On Tuesday 14 October 2003 02:34 am, Paul Selormey wrote:
> Hello Gerald,
> You know who you had the disagreement with, why not simply
> direct your mails to him and have this sort out?
>
> Best regards,
> Paul.

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From willy.hersman at conocophillips.com  Tue Oct 14 11:51:00 2003
From: willy.hersman at conocophillips.com (Hersman, William)
Date: Tue, 14 Oct 2003 10:51:00 -0800
Subject: [OSRS-PROJ] Transverse Mercator revisited
Message-ID: <FB8E6EC6316A4A4EA003114121588ACC1C767C@ancexmb1.conoco.net>

Agree.  I for one am paying attention, as this subject is of concern at
my workplace...

From: Clifford J Mugnier [mailto:cjmce at lsu.edu]
Sent: Tuesday, October 14, 2003 10:36 AM
To: osrs-proj at remotesensing.org
Subject: Re: [OSRS-PROJ] Transverse Mercator revisited






Gerald is correct.  The back-and-forth is of great interest to many list
members even though they choose not to "pipe in."  That has been
requested
of us in the recent past ...

Cliff Mugnier
LOUISIANA STATE UNIVERSITY
----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From paul at toolscenter.org  Tue Oct 14 16:32:38 2003
From: paul at toolscenter.org (Paul Selormey)
Date: Wed, 15 Oct 2003 08:32:38 +0900
Subject: [OSRS-PROJ] Transverse Mercator revisited
References: <OFEA392DCF.C9238EE8-ON86256DBF.006621AF-86256DBF.0066220E@lsu.edu>
Message-ID: <010e01c392ab$7a5e2900$700201c0@MAPQUEST.local>

It might be of interest to the group, but it seems to be "who is who"
issue currently. I hope all involved see the issue as important to most
and try to find a solution to a problem, which might mean tapping others
knowlegde where one lacks.

Best regards,
Paul.

----- Original Message ----- 
From: "Clifford J Mugnier" <cjmce at lsu.edu>
To: <osrs-proj at remotesensing.org>
Sent: Wednesday, October 15, 2003 3:35 AM
Subject: Re: [OSRS-PROJ] Transverse Mercator revisited


>
>
>
>
> Gerald is correct.  The back-and-forth is of great interest to many list
> members even though they choose not to "pipe in."  That has been requested
> of us in the recent past ...
>
> Cliff Mugnier
> LOUISIANA STATE UNIVERSITY
>
> --------------------------------
>
> Because I was chided by other members of this email list who wanted to
know
> what was going on with this discussion.
>
> Obviously, not all matters are of interest to all subscribers.
>
> On Tuesday 14 October 2003 02:34 am, Paul Selormey wrote:
> > Hello Gerald,
> > You know who you had the disagreement with, why not simply
> > direct your mails to him and have this sort out?
> >
> > Best regards,
> > Paul.
>
> ----------------------------------------
> PROJ.4 Discussion List
> See http://www.remotesensing.org/proj for subscription, unsubscription
> and other information.
>
> ----------------------------------------
> PROJ.4 Discussion List
> See http://www.remotesensing.org/proj for subscription, unsubscription
> and other information.

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From gerald.evenden at verizon.net  Tue Oct 14 18:10:09 2003
From: gerald.evenden at verizon.net (Gerald I. Evenden)
Date: Tue, 14 Oct 2003 21:10:09 -0400
Subject: [OSRS-PROJ] Transverse Mercator revisited
In-Reply-To: <010e01c392ab$7a5e2900$700201c0@MAPQUEST.local>
References: <OFEA392DCF.C9238EE8-ON86256DBF.006621AF-86256DBF.0066220E@lsu.edu> <010e01c392ab$7a5e2900$700201c0@MAPQUEST.local>
Message-ID: <200310142110.09842.gerald.evenden@verizon.net>

[gie at localhost dozier]$ cat biblio.txt
Tomorrow I will truck down to my modest local library and
visit the reference desk hoping I can get a copy of references
[2] through [4] below.  This process normally take 30+ days
IF successful.  I'm from Missouri and I want some solid
proof and not allegations.

According to Dozier, the problem is quite simple as I have
summarized at the end of this email.

The following is a biblography that appears to be related to
the problem of the "global" transverse mercator projection:

[1] Dozier, Jeff, 1980, "Improved Algorithm for Calculation
of UTM and Geodetic Coordinates": NOAA Technical Report NESS 81,
19 p.

[2] Lee, L.P., 1976, "Conformal projections based on
elliptical functions":---this shows up under two publishers:
B.V. Gutsell (Canada, I believe) and Canadian Cartographer
Monograph 16, Toronto: University of Toronto.

[3] Lee, L.P., 1962, "The transverse mercator projection
of the entire spheroid": Empire Survey Review, 16, 208-217.

[4] Snyder, J.P., 1979, "Calculating Map Projections for the
Ellipsoid": The American Cartographer, Vol. 6, No. 1.

Strebe makes reference to a "Wallis" however I cannot locate
any bib reference to this name except for a reference to
a Helen Wallis and a Davis Wallis award for cartographic
excellence. (?)

Incidently, in email communications with Dozier, he claimed
Snyder coded the process of his paper into a pocket
calculator (probably a TI that Snyder loved to work on).

In Dozier's paper, reference [2] was claimed to be the source
of the base equations for the transverse mercator.  The
general expression transverse mercator projection of a
ellipsoid:

psi + i lambda = arctanh(sn w) - e arctanh(e sn w)  (1)

psi = isometic latitude
lambda = longitude (from CM)

e = eccentricity

w = u + i v

sn = one of the Jacobian functions.

The Gauss-Kruger class is defined as:

x + iy = (1-e^2)int_0^w dn^-2t dt

or
    = E(w|e^2) - e^2 (sn w cn w)/dn w     (2)

where E is the elliptic integral of the second kind and
cn and dn are additional Jacobian functions.  i is
square root of -1.  Note x is northing and y easting.

Dozier's statement of the problem is: if you can find w
from equation 1 you can compute x&y from equation 2.
For equation 1 he uses Newton-Raphson and the rest is
simple, eh?
----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From Strebe at aol.com  Tue Oct 14 21:10:38 2003
From: Strebe at aol.com (Strebe at aol.com)
Date: Wed, 15 Oct 2003 00:10:38 EDT
Subject: [OSRS-PROJ] On the Ellipsoidal Transverse Mercator
Message-ID: <c9.38b986b0.2cbe22be@aol.com>


Since Mr. Evenden has not successfully implemented Dozier's ellipsoidal 
transverse Mercator, and since no one has come forward with any information about 
Dozier's method or its reliability, I have decided to explain Wallis's method. 
This method yields the ellipsoidal transverse Mercator to arbitrary accuracy, 
covering the entire ellipsoid. For any eccentricity greater than zero, this 
map is finite. The greater the eccentricity, the smaller the area required by 
the map.

The map is bilaterally symmetrical. Each quadrant has the shape of a 
tombstone. The base of each tombstone consists of half of the 0th and half of the 
180th meridians. Two tombstones join base-to-base, and the combination of two then 
join the other two side-by-side. The outer boundary consists of much of the 
equator. Just how much depends on the eccentricity. The equator is also the 
joint between the two sets of bêche-bêche tombstones.

I describe the method below. The method is due primarily to Dr. David E. 
Wallis of Pasadena, California, USA. His innovation is to use the ellipsoidal 
polar stereographic as the primary projection of the ellipsoid to the plane. He 
treats the result as a complex space and applies a function to "straighten out" 
the primary meridian such that it retains constant scale. That is the 
definition of the transverse Mercator. My contribution is the simple iterative 
technique to determine "z", as set forth below.

Regards,
daan Strebe

Geocart author
http://www.mapthematics.com


Method:

1) Project the ellipsoid to the ellipsoidal polar stereographic projection. 
Use whatever formulation you like, but keep the scale factor at the center to 
be 1.0. The result will be an x and y.

2) Construct a complex number z, using x as the real portion and y as the 
imaginary.

3) Solve for psi:

z = tan (psi/2) * ((1 - e cos (psi))/(1 + e sin (psi)))^(e/2)

where e is the eccentricity, ^ is "raise to the power of" operator.

Solving for psi is the most difficult part of this method. For e < 0.32, 
simply select 0.0 as your "seed" value for psi, and solve using Newton-Raphson. I 
have no recommendations for larger e.

4) Pretend that psi is a meaningful geodetic latitude, even though it is 
complex. Using the standard formulation but applied to complex arguments, compute 
the parametric colatitude of psi. Call it psi'.

5) Using psi' as the amplitude, solve the complex elliptic integral of the 
2nd kind. (Abramowitz & Stegun, p. 593 17.4.12)

Done. x is the real portion of the result; y is the complex.


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20031015/73c10ef9/attachment.html>

From omry at telmap.com  Wed Oct 15 03:28:29 2003
From: omry at telmap.com (Omry Yadan)
Date: Wed, 15 Oct 2003 12:28:29 +0200
Subject: [OSRS-PROJ] Java implementation of proj
Message-ID: <143CFA2E3C9B5D459E78DA18E3F15F89DAD3F0@plague.telmap.com>

Is a java implementation of proj available?
----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From warmerdam at pobox.com  Wed Oct 15 06:13:51 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed, 15 Oct 2003 09:13:51 -0400
Subject: [OSRS-PROJ] Java implementation of proj
In-Reply-To: <143CFA2E3C9B5D459E78DA18E3F15F89DAD3F0@plague.telmap.com>
References: <143CFA2E3C9B5D459E78DA18E3F15F89DAD3F0@plague.telmap.com>
Message-ID: <3F8D480F.2030605@pobox.com>

Omry Yadan wrote:
> Is a java implementation of proj available?
> ----------------------------------------

Omry,

At one time there was some effort on a proj4j package within the GeoTools
project (pure Java).  I think that code was rolled into the general
projections package in GeoTools which I believe has evolved quite a bit over
the last couple of years. I would encourage you to take a look at it.

It likely has quite a few less projections than PROJ but it has good OpenGIS
integration and has the common projections.

   http://geotools.org/

Best regards,

---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From gerald.evenden at verizon.net  Wed Oct 15 08:26:58 2003
From: gerald.evenden at verizon.net (Gerald I. Evenden)
Date: Wed, 15 Oct 2003 11:26:58 -0400
Subject: [OSRS-PROJ] On the Ellipsoidal Transverse Mercator
In-Reply-To: <c9.38b986b0.2cbe22be@aol.com>
References: <c9.38b986b0.2cbe22be@aol.com>
Message-ID: <200310151126.58123.gerald.evenden@verizon.net>

The description below contains exotic concepts and lacks sufficent
detail for review.  Without detailed, published description it remains
an unfounded claim.
 
On Wednesday 15 October 2003 12:10 am, Strebe at aol.com wrote:
> Since Mr. Evenden has not successfully implemented Dozier's ellipsoidal

Not entirely true.  Dozier's method agrees with standard TM Taylor series
developments such as Snyder as I commented before.  Where it fails is
extension to +/-90 in both axis and not machine precise near the
central meridian (where precise values are  easily obtained).

> transverse Mercator, and since no one has come forward with any information
> about Dozier's method or its reliability, I have decided to explain
> Wallis's method. This method yields the ellipsoidal transverse Mercator to
> arbitrary accuracy, covering the entire ellipsoid. For any eccentricity
> greater than zero, this map is finite. The greater the eccentricity, the
> smaller the area required by the map.

A question here, are we talking about the Gauss-Kruger model or some
other construct?  Dozier, Lee are dealing with the Gauss-Kruger model.

> The map is bilaterally symmetrical. Each quadrant has the shape of a
> tombstone. The base of each tombstone consists of half of the 0th and half
> of the 180th meridians. Two tombstones join base-to-base, and the
> combination of two then join the other two side-by-side. The outer boundary
> consists of much of the equator. Just how much depends on the eccentricity.
> The equator is also the joint between the two sets of bêche-bêche
> tombstones.

Interesting: "bêche-bêche."  Can't find the phrase in my plebean college
dictionary nor on a web search.  I seen too many different shaped tombstones
to understand the above descriptions.  Apparently the map is segmented.

> I describe the method below. The method is due primarily to Dr. David E.
> Wallis of Pasadena, California, USA. His innovation is to use the
> ellipsoidal polar stereographic as the primary projection of the ellipsoid
> to the plane. He treats the result as a complex space and applies a
> function to "straighten out" the primary meridian such that it retains
> constant scale. That is the definition of the transverse Mercator. My
> contribution is the simple iterative technique to determine "z", as set
> forth below.
	<snip>
Oops!  I think we have let the cat out of the bag.  A google seach on
Dr. David E. Wallis yielded a web site for Glendale CA:
	http://www.wallisphd.com/
which points to:
	http://www.wallisphd.com/mercator.htm

I really suggest anyone interested in this problem to check this site
out.  Dr. Wallis claims that the publication of his transverse mercator
is pending.  Unfortunately no email address (interesting).

Note: Wallis only refers to mapping the N -or- S hemispheres
whereas general concept of TM has no difficulty in the N-S
direction but rather in the E-W direction.

BTW: is there a plotted example of this version of the transverse
mercator available on the web somewhere?


	
----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From Strebe at aol.com  Wed Oct 15 12:00:18 2003
From: Strebe at aol.com (Strebe at aol.com)
Date: Wed, 15 Oct 2003 15:00:18 EDT
Subject: [OSRS-PROJ] Re: On the Ellipsoidal Transverse Mercator
Message-ID: <f8.31b9776d.2cbef342@aol.com>


Gerald Evenden <gerald.evenden at verizon.net> writes:

> A question here, are we talking about the Gauss-Kruger model or some
> other construct?  Dozier, Lee are dealing with the Gauss-Kruger model.

There is no other construct. If the projection maps the ellipsoid conformally 
such that the central meridian everywhere is unity, and the map is not 
interrupted along the central meridian, then the map is the ellipsoidal transverse 
Mercator = Gauss Kruger. All methods yield the same results if they are pursued 
with unbounded accuracy. That is true of any conformal projection: if you 
supply a boundary condition, then you have specified the entire conformal map.

> The description below contains exotic concepts and lacks sufficent
> detail for review.  Without detailed, published description it remains
> an unfounded claim.

No, Mr. Evenden, the description is complete and mundane. Anyone who 
understands both the transverse Mercator and complex analysis would recognize it as a 
legitimate path to the ellipsoidal transverse Mercator. Your insecure 
insistence upon a published description is your loss, not mine; I and probably many 
other people reading this list are perfectly capable of generating correct maps 
with it. I have wheedled Wallis to publish. It's none of my concern if he does 
not and it is not my place to publish his method. I'm afraid you'll have to 
waffle through Dozier's account, since the best I can supply is references to 
Snyder, Dozier, and Lee, Dr. Wallis's name and location, source code, 
distortion analyses, comparisons with UTM coordinates, and images.

> Dr. Wallis claims that the publication of his transverse mercator
> is pending.

It will be awhile, he has told me, since it seems what he is writing is a 
book that goes far beyond just a method for generating the ellipsoidal transverse 
Mercator. It would not satisfy you anyway, since I do not expect it will be 
peer-reviewed.

> Apparently the map is segmented.
> 
It is not segmented. Two tombstones meet foot-to-foot, and two sets of such 
conjoined tombstones meet side-by-side. The tombstone shape is the classical 
simple rectangle with one end rounded as a semicircle.

> Note: Wallis only refers to mapping the N -or- S hemispheres
> whereas general concept of TM has no difficulty in the N-S
> direction but rather in the E-W direction.

Bizarre interpretation. Wallis clearly states that the entire north or south 
hemisphere is mapped. He's not talking about "direction"; he's talking about 
the extent of the map. The spherical transverse Mercator cannot map the entire 
north or south hemisphere.

> BTW: is there a plotted example of this version of the transverse
> mercator available on the web somewhere?

No, but if someone were to supply a place to deposit it, I would be happy to 
supply some. I can't imagine why you would be interested in pictures of 
unfounded claims, though. And there is no such thing as "this version"; all 
transverse Mercators are the same.

All who might be interested and don't find themselves consumed by 
pathological skepticism, or who understand the method and therefore have no need for 
skepticism, feel free to contact me with questions.

Regards,

daan Strebe
Geocart author
<A HREF="http://www.mapthematics.com">http://www.mapthematics.com</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20031015/4bc5def2/attachment.html>

From cjmce at lsu.edu  Wed Oct 15 12:30:16 2003
From: cjmce at lsu.edu (Clifford J Mugnier)
Date: Wed, 15 Oct 2003 14:30:16 -0500
Subject: [OSRS-PROJ] On the Ellipsoidal Transverse Mercator
Message-ID: <OFF3EC0B19.882B8A70-ON86256DC0.006B23AD-86256DC0.006B2455@lsu.edu>





Gerald,

The French term, "bêche-bêche" is a philatelic term* meaning
"tail-to-tail."  Such profound philatelic knowledge comes from me being
(once upon a time) an officer of the International Society of
Carto-Philatelitists.  John P. Snyder was among the contributors to the
journal, "The Carto-Philatelist" before his death.

I have to admit that this is the first time I've seen the term used in
something vaguely related to practical applications of map projections ...

Cliff Mugnier
LOUISIANA STATE UNIVERSITY

* "Fundamentals of Philately," L.N. Williams, American Philatelic Society,
State College PA., 1990, ISBN 0-933580-13-4, 880 pages.
--------------------------------------------
The description below contains exotic concepts and lacks sufficent
detail for review.  Without detailed, published description it remains
an unfounded claim.

On Wednesday 15 October 2003 12:10 am, Strebe at aol.com wrote:
> Since Mr. Evenden has not successfully implemented Dozier's ellipsoidal

Not entirely true.  Dozier's method agrees with standard TM Taylor series
developments such as Snyder as I commented before.  Where it fails is
extension to +/-90 in both axis and not machine precise near the
central meridian (where precise values are  easily obtained).

> transverse Mercator, and since no one has come forward with any
information
> about Dozier's method or its reliability, I have decided to explain
> Wallis's method. This method yields the ellipsoidal transverse Mercator
to
> arbitrary accuracy, covering the entire ellipsoid. For any eccentricity
> greater than zero, this map is finite. The greater the eccentricity, the
> smaller the area required by the map.

A question here, are we talking about the Gauss-Kruger model or some
other construct?  Dozier, Lee are dealing with the Gauss-Kruger model.

> The map is bilaterally symmetrical. Each quadrant has the shape of a
> tombstone. The base of each tombstone consists of half of the 0th and
half
> of the 180th meridians. Two tombstones join base-to-base, and the
> combination of two then join the other two side-by-side. The outer
boundary
> consists of much of the equator. Just how much depends on the
eccentricity.
> The equator is also the joint between the two sets of bêche-bêche
> tombstones.

Interesting: "bêche-bêche."  Can't find the phrase in my plebean college
dictionary nor on a web search.  I seen too many different shaped
tombstones
to understand the above descriptions.  Apparently the map is segmented.

> I describe the method below. The method is due primarily to Dr. David E.
> Wallis of Pasadena, California, USA. His innovation is to use the
> ellipsoidal polar stereographic as the primary projection of the
ellipsoid
> to the plane. He treats the result as a complex space and applies a
> function to "straighten out" the primary meridian such that it retains
> constant scale. That is the definition of the transverse Mercator. My
> contribution is the simple iterative technique to determine "z", as set
> forth below.
<snip>
Oops!  I think we have let the cat out of the bag.  A google seach on
Dr. David E. Wallis yielded a web site for Glendale CA:
http://www.wallisphd.com/
which points to:
http://www.wallisphd.com/mercator.htm

I really suggest anyone interested in this problem to check this site
out.  Dr. Wallis claims that the publication of his transverse mercator
is pending.  Unfortunately no email address (interesting).

Note: Wallis only refers to mapping the N -or- S hemispheres
whereas general concept of TM has no difficulty in the N-S
direction but rather in the E-W direction.

BTW: is there a plotted example of this version of the transverse
mercator available on the web somewhere?



----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From karl at kls2.com  Wed Oct 15 15:05:03 2003
From: karl at kls2.com (Karl Swartz)
Date: Wed, 15 Oct 2003 15:05:03 -0700
Subject: [OSRS-PROJ] On the Ellipsoidal Transverse Mercator
In-Reply-To: <200310151126.58123.gerald.evenden@verizon.net>
References: <c9.38b986b0.2cbe22be@aol.com> <200310151126.58123.gerald.evenden@verizon.net>
Message-ID: <20031015220503.GE7410@orion.kls2.com>

> Dr. David E. Wallis yielded a web site for Glendale CA:
> 	http://www.wallisphd.com/
...
> Unfortunately no email address (interesting).

Many people do not publish e-mail addresses on web sites -- harvesting
such addresses is a primary source for spammers.  However, since this
is clearly Wallis' own domain, it is easy to obtain a contact via a
whois query:

   $ whois wallisphd.com

   ...
   Registrant:
   Glenoaks Aerosystems (WALLISPHD-DOM)
      1412 W. Glenoaks Blvd. Suite G
      Glendale, CA 91201
      US

      Domain Name: WALLISPHD.COM

      Administrative Contact:
         Wallis, Dr  (DDW40)               wallis7 at IBM.NET
         Glenoaks Aerosystems
         1412 W GLENOAKS BLVD STE G
         GLENDALE, CA 91201-1996
         US
         (818) 242-2490 fax: 999 999 9999

 -- Karl
----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From gerald.evenden at verizon.net  Wed Oct 15 18:40:58 2003
From: gerald.evenden at verizon.net (Gerald I. Evenden)
Date: Wed, 15 Oct 2003 21:40:58 -0400
Subject: [OSRS-PROJ] Re: On the Ellipsoidal Transverse Mercator
In-Reply-To: <f8.31b9776d.2cbef342@aol.com>
References: <f8.31b9776d.2cbef342@aol.com>
Message-ID: <200310152140.58267.gerald.evenden@verizon.net>

Please accept my most humble appologies for being such a plebean amid
the great minds of cartography.  It must greatly pain you that I dare mingle
amongst this august group and insult them with such impertinent and
ignorant questions.

My true appologies go to other readers of this group and my failure to
keep this "discussion" between Strebe and myself private.  There is obviously
a great deal of "tension" between us.  I was trying to learn something and
obtain pertinent information and I have obviously failed.

Sorry.  Please, let's drop the subject.
 
On Wednesday 15 October 2003 03:00 pm, Strebe at aol.com wrote:
> Gerald Evenden <gerald.evenden at verizon.net> writes:
> > A question here, are we talking about the Gauss-Kruger model or some
> > other construct?  Dozier, Lee are dealing with the Gauss-Kruger model.
>
> There is no other construct. If the projection maps the ellipsoid
> conformally such that the central meridian everywhere is unity, and the map
> is not interrupted along the central meridian, then the map is the
> ellipsoidal transverse Mercator = Gauss Kruger. All methods yield the same
> results if they are pursued with unbounded accuracy. That is true of any
> conformal projection: if you supply a boundary condition, then you have
> specified the entire conformal map.
>
> > The description below contains exotic concepts and lacks sufficent
> > detail for review.  Without detailed, published description it remains
> > an unfounded claim.
>
> No, Mr. Evenden, the description is complete and mundane. Anyone who
> understands both the transverse Mercator and complex analysis would
> recognize it as a legitimate path to the ellipsoidal transverse Mercator.
> Your insecure insistence upon a published description is your loss, not
> mine; I and probably many other people reading this list are perfectly
> capable of generating correct maps with it. I have wheedled Wallis to
> publish. It's none of my concern if he does not and it is not my place to
> publish his method. I'm afraid you'll have to waffle through Dozier's
> account, since the best I can supply is references to Snyder, Dozier, and
> Lee, Dr. Wallis's name and location, source code, distortion analyses,
> comparisons with UTM coordinates, and images.
>
> > Dr. Wallis claims that the publication of his transverse mercator
> > is pending.
>
> It will be awhile, he has told me, since it seems what he is writing is a
> book that goes far beyond just a method for generating the ellipsoidal
> transverse Mercator. It would not satisfy you anyway, since I do not expect
> it will be peer-reviewed.
>
> > Apparently the map is segmented.
>
> It is not segmented. Two tombstones meet foot-to-foot, and two sets of such
> conjoined tombstones meet side-by-side. The tombstone shape is the
> classical simple rectangle with one end rounded as a semicircle.
>
> > Note: Wallis only refers to mapping the N -or- S hemispheres
> > whereas general concept of TM has no difficulty in the N-S
> > direction but rather in the E-W direction.
>
> Bizarre interpretation. Wallis clearly states that the entire north or
> south hemisphere is mapped. He's not talking about "direction"; he's
> talking about the extent of the map. The spherical transverse Mercator
> cannot map the entire north or south hemisphere.
>
> > BTW: is there a plotted example of this version of the transverse
> > mercator available on the web somewhere?
>
> No, but if someone were to supply a place to deposit it, I would be happy
> to supply some. I can't imagine why you would be interested in pictures of
> unfounded claims, though. And there is no such thing as "this version"; all
> transverse Mercators are the same.
>
> All who might be interested and don't find themselves consumed by
> pathological skepticism, or who understand the method and therefore have no
> need for skepticism, feel free to contact me with questions.
>
> Regards,
>
> daan Strebe
> Geocart author
> <A HREF="http://www.mapthematics.com">http://www.mapthematics.com</A>

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From Strebe at aol.com  Wed Oct 15 21:23:34 2003
From: Strebe at aol.com (Strebe at aol.com)
Date: Thu, 16 Oct 2003 00:23:34 EDT
Subject: [OSRS-PROJ] Image of ellipsoidal transverse Mercator posted
Message-ID: <43.23828c2b.2cbf7746@aol.com>


Please see

http://www.mapthematics.com/Projection%20Images/Cylindrical/Transverse%20Merca
tor.GIF

This is the ellipsoidal transverse Mercator mapping the entire ellipsoid onto 
the plane. The ellipsoid is WGS 84. Smaller eccentricities stretch the map 
more horizontally and increase the longitude of the cusp; greater eccentricities 
compress the map horizontally and decrease the longitude of the cusp. The 
region along the central meridian from the north to south pole corresponds to the 
Universal Transverse Mercator.

Regards,

daan Strebe
Geocart author
http://www.mapthematics.com/

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20031016/a87b15c4/attachment.html>

From Strebe at aol.com  Thu Oct 16 22:44:16 2003
From: Strebe at aol.com (Strebe at aol.com)
Date: Fri, 17 Oct 2003 01:44:16 EDT
Subject: [OSRS-PROJ] Re: On the Ellipsoidal Transverse Mercator
Message-ID: <1d7.125a58c7.2cc0dbb0@aol.com>

Dear Mr. Engsager:

It is unfortunate we were unable to see you in Durban at the ICA conference.

Thank you for the note below, which I read with great interest. I had not 
heard of this method before. I find that the graticules for the first two images 
generally match my own images of the complete ellipsoidal transverse Mercator. 
However, I also find that the spacing of the parallels in the images you 
supply does not match perfectly well all along the meridians: if they match at 
mid-latitudes, then they are too close to the pole at upper   and lower 
latitudes. If the problem were due to pixels that are not quite square on your monitor 
or mine, then I would expect the problem to occur along only one axis. 
Instead, it occurs in every direction. I tried various values for the ellipse's 
eccentricity but was unable to compensate for the discrepancy. Hence I must 
conclude that there is some other source of error; possibly in the implementation of 
the transformation or in the formulation.

We should compare calculated coordinates. Please contact me directly if you 
are able to spend a little time on this.

Regards,
daan Strebe


In a message dated 10/16/03 3:17:59 AM, ke at kms.dk writes:


> Dear Colleagues
> 
> I have got a notise from one of my colleagues at National Survey and 
> Cadastre,
> Denmark, that some discussions on Ellipsoidal Transverse Mercator is going 
> on.
> 
> REF.:  "Some Conformal Mapping and Transformations for Geodesy and 
> Cartography",
>   by Knud Poder and Kartsen Engsager, Geodetic Division, KMS, Denmark 1998.
> 
> The basics of the problem has been solved by R. König und K.H: Weise in 
> 1951.
> 
> The transformation of Geotetic Coordinates (ellipsoidal) may be transformed 
> to Transversal
> coordinates in three steps ::
>    
>     1)   Geodetic coord. (phi, lambda)  are transformed to a Gaussian Sphere 
> using a fourth
>                       degree Clenshaw summation giving Gaussian Coord. (PHI, 
> LAMBDA).
> 
>    2)  Gaussian coord. (PHI, LAMBDA) are transformed to Complex Gaussian 
> coord (Y, X).
>                      (The formulas are in principle the same as used in 
> Mecator Mapping).
> 
>    3)  Complex Gaussian coord (Y,X)  are transformed to Transversal coord 
> (N, E) using
>                     a fourth degree Comples Clenshaw summation, - 
> concatenated by a scaling.
> 
> The opposit direction transforms from Transversal coord. (N,E) to Geodetic 
> coord (phi, lambda).
> 
> This transformation is done with an accuracy better than 3e-5 m for E < 4000 
> km !!!!
> This transformation passes the Noth/Southpole without any difficulties. In 
> our GIS system the
> earth is shown more times rolling around the central meridian of the 
> Transversal Mercator !!!
> 
> I hope taht you are able to take these informations into consideration when 
> making guidelines
> for using the Transverse Mercator mapping.
> 
> 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20031017/385e7360/attachment.html>

From Strebe at aol.com  Fri Oct 17 22:11:06 2003
From: Strebe at aol.com (Strebe at aol.com)
Date: Sat, 18 Oct 2003 01:11:06 EDT
Subject: [OSRS-PROJ] Re: On the Ellipsoidal Transverse Mercator
Message-ID: <69.3cbb507a.2cc2256a@aol.com>


Posted to the group for those interested:

Karsten Engsager privately supplied to me a table of coordinates generated by 
his implementation of the Poder-Engsager algorithm for the ellipsoidal 
transverse Mercator. His algorithm achieves high accuracy through a range far beyond 
the usual series expansions for the UTM. (See his mail to the group posted 15 
October 2003.) I am very pleased to find that my implementation of Wallis's 
algorithm and Karsten implementation of Poder-Engsager agree to within a 
millimeter accuracy across the entire range of values for which Engsager claims his 
implementation is accurate. Every point that deviates between our computations 
is marked in Engsager's table as an inaccuracy in his algorithm. Hence the 
visual discrepancy that I reported earlier can be due only to display anomalies 
rather then computational inaccuracies.

This is an excellent affirmation of Engsager's algorithm, of the algorithm he 
used to check his algorithm, of Wallis's algorithm, and of my implementation 
of Wallis's algorithm.

The only fly in all this ointment is that Engsager marks several values from 
his computations as being inaccurate, yet my calculations agree with his to 
millimeter accuracy. Possible explanations:

1) His standard for accuracy exceeds millimeter accuracy, despite that his 
table is prepared only to millimeter accuracy;
2) His algorithm for measuring error is not entirely accurate;
3) Both algorithms fail in exactly the same way, despite working completely 
differently.

(3) is vanishingly unlikely. I cannot comment on (1) or (2).

For Mr. Engsager's benefit, the spherical coordinates of the projected 
coordinates which we compute to be identical but which he marks as inaccurate are:
(latitude, longitude)

50.0   90.0
70.0   40.0
60.0   30.0
50.0   30.0
50.0   20.0
50.0   10.0

as well as the negative counterparts. Engsager's table shows some deviant 
values as "inaccurate" and others as "serious". I don't know what the dividing 
line between them is. Most of the values in his table marked "inaccurate" 
deviated from my calculations by mere millimeters. One value in particular, though, 
deviated by 20cm on one axis and 8cm on the other, yet it was still only 
marked "inaccurate" rather than "serious". That coordinate is

20.0   80.0

as well as the negative counterparts. I'm not sure of the significance of 
this.

As a consequence of this short study I can definitely recommend 
Poder-Engsager's algorithm within its recommended range on earth-like ellipsoids.

Regards,
daan Strebe


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20031018/cc211048/attachment.html>

From omry at telmap.com  Mon Oct 20 02:09:54 2003
From: omry at telmap.com (Omry Yadan)
Date: Mon, 20 Oct 2003 11:09:54 +0200
Subject: [OSRS-PROJ] UTM vs TMERC
Message-ID: <143CFA2E3C9B5D459E78DA18E3F15F89DAD461@plague.telmap.com>

What is the connection between URM and TMERC?
What is the difference?
----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From warmerdam at pobox.com  Mon Oct 20 06:17:28 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon, 20 Oct 2003 09:17:28 -0400
Subject: [OSRS-PROJ] UTM vs TMERC
In-Reply-To: <143CFA2E3C9B5D459E78DA18E3F15F89DAD461@plague.telmap.com>
References: <143CFA2E3C9B5D459E78DA18E3F15F89DAD461@plague.telmap.com>
Message-ID: <3F93E068.9080104@pobox.com>

Omry Yadan wrote:
> What is the connection between URM and TMERC?
> What is the difference?
> ----------------------------------------

Omry,

Transverse Mercator (TMERC) is a projection method with several parameters
- ellipsoid, false easting, false northing, central meridian, latitude of
origin and scale factor.  UTM is a "zoned" coordinate system built on
transverse mercator.  Basically by indicating a zone number (1-60) you
can lookup the central meridian in a table (or by formula).  The scale
factor is always fixed at 0.9996.  The false easting is always 500000 meters
and the false northing is either 0m (northern hemisphere) or 10000000m
(southern hemisphere).

In short, UTM is a specific set of coordinate systems built on the more
general transverse mercator projection.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From gerald.evenden at verizon.net  Mon Oct 20 06:26:13 2003
From: gerald.evenden at verizon.net (Gerald I. Evenden)
Date: Mon, 20 Oct 2003 09:26:13 -0400
Subject: [OSRS-PROJ] UTM vs TMERC
In-Reply-To: <143CFA2E3C9B5D459E78DA18E3F15F89DAD461@plague.telmap.com>
References: <143CFA2E3C9B5D459E78DA18E3F15F89DAD461@plague.telmap.com>
Message-ID: <200310200926.13254.gerald.evenden@verizon.net>

UTM is a coordinate system that defines how the Transverse Mercator (tmerc)
is used.  UTM divides the globe into N-S strips 6° wide  extending from 84°S
to 84°N.  Boundaries between each zone are on longitudes evenly divisible
by 6.  The polar regions are covered by the UPS system which uses the
polar stereographic projection.

There are some exceptions to longitude boundaries in the Scandinavia
region.

On Monday 20 October 2003 05:09 am, Omry Yadan wrote:
> What is the connection between URM and TMERC?
> What is the difference?
> ----------------------------------------
> PROJ.4 Discussion List
> See http://www.remotesensing.org/proj for subscription, unsubscription
> and other information.

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From hamish_nospam at yahoo.com  Mon Oct 20 21:18:20 2003
From: hamish_nospam at yahoo.com (Hamish)
Date: Tue, 21 Oct 2003 17:18:20 +1300
Subject: [OSRS-PROJ] UTM vs TMERC
In-Reply-To: <200310200926.13254.gerald.evenden@verizon.net>
References: <143CFA2E3C9B5D459E78DA18E3F15F89DAD461@plague.telmap.com>
	<200310200926.13254.gerald.evenden@verizon.net>
Message-ID: <20031021171820.58c53705.hamish_nospam@yahoo.com>

> UTM is a coordinate system that defines how the Transverse Mercator (tmerc)
> is used.  UTM divides the globe into N-S strips 6° wide  extending from 84°S
> to 84°N.  Boundaries between each zone are on longitudes evenly divisible
> by 6.  The polar regions are covered by the UPS system which uses the
> polar stereographic projection.
> 
> There are some exceptions to longitude boundaries in the Scandinavia
> region.

Not to be too pedantic, but should that not be "extending from 80°S to 84°N" ?
http://www.dmap.co.uk/utmworld.htm
http://www.maptools.com/UsingUTM/UTMdetails.html

8° lat strips, C to X northwards, omitting I and O, beginning at 80° South
X spans 12° of latitude.


% example matlab/octave code snippet
Strips = [ 'C' 'D' 'E' 'F' 'G' 'H' 'J' 'K' 'L' 'M' ...
                   'N' 'P' 'Q' 'R' 'S' 'T' 'U' 'V' 'W' 'X'];

Zone = ceil((Lon+180)/6)
Strip = Strips(ceil((Lat+80)/8))




?
Hamish
----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From omry at telmap.com  Tue Oct 21 01:20:36 2003
From: omry at telmap.com (Omry Yadan)
Date: Tue, 21 Oct 2003 10:20:36 +0200
Subject: [OSRS-PROJ] UTM vs TMERC
Message-ID: <143CFA2E3C9B5D459E78DA18E3F15F89DAD4AF@plague.telmap.com>

So generally speaking, if I have a working implementation of TMERC, its just
a matter of parameters to make it include UTM?

-----Original Message-----
From: Frank Warmerdam [mailto:warmerdam at pobox.com] 
Sent: Monday, October 20, 2003 3:17 PM
To: osrs-proj at remotesensing.org
Subject: Re: [OSRS-PROJ] UTM vs TMERC

Omry Yadan wrote:
> What is the connection between URM and TMERC?
> What is the difference?
> ----------------------------------------

Omry,

Transverse Mercator (TMERC) is a projection method with several parameters
- ellipsoid, false easting, false northing, central meridian, latitude of
origin and scale factor.  UTM is a "zoned" coordinate system built on
transverse mercator.  Basically by indicating a zone number (1-60) you
can lookup the central meridian in a table (or by formula).  The scale
factor is always fixed at 0.9996.  The false easting is always 500000 meters
and the false northing is either 0m (northern hemisphere) or 10000000m
(southern hemisphere).

In short, UTM is a specific set of coordinate systems built on the more
general transverse mercator projection.

Best regards,

-- 
---------------------------------------+------------------------------------
--
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.
----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From warmerdam at pobox.com  Tue Oct 21 05:48:12 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue, 21 Oct 2003 08:48:12 -0400
Subject: [OSRS-PROJ] UTM vs TMERC
In-Reply-To: <143CFA2E3C9B5D459E78DA18E3F15F89DAD4AF@plague.telmap.com>
References: <143CFA2E3C9B5D459E78DA18E3F15F89DAD4AF@plague.telmap.com>
Message-ID: <3F952B0C.7010900@pobox.com>

Omry Yadan wrote:
> So generally speaking, if I have a working implementation of TMERC, its just
> a matter of parameters to make it include UTM?

Omry,

Right.  You can do any UTM projection conversion with appropriate choice of
Transverse Mercator parameters.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From cjmce at lsu.edu  Tue Oct 21 09:51:52 2003
From: cjmce at lsu.edu (Clifford J Mugnier)
Date: Tue, 21 Oct 2003 11:51:52 -0500
Subject: [OSRS-PROJ] UTM vs TMERC
Message-ID: <OFF477EA98.6C21A98D-ON86256DC6.005CA385-86256DC6.005CA3FB@lsu.edu>





Generally speaking that is correct IF you are only interested in staying
within the +/- 3 degrees of the central meridian.  Zone extensions can be
problemmatic, especially for surveying/geodetic transformation accuracies.
When one starts "chasing millimeters," there are more mathematical details
that need to be accounted for.  For GIS applications withing the 6-degree
belt, they are usually inconsequential.

Cliff Mugnier
LOUISIANA STATE UNIVERSITY
--------------------------------
Omry Yadan wrote:
> So generally speaking, if I have a working implementation of TMERC, its
just
> a matter of parameters to make it include UTM?

Omry,

Right.  You can do any UTM projection conversion with appropriate choice of
Transverse Mercator parameters.

Best regards,

--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From omry at telmap.com  Wed Oct 22 06:15:43 2003
From: omry at telmap.com (Omry Yadan)
Date: Wed, 22 Oct 2003 15:15:43 +0200
Subject: [OSRS-PROJ] Distance between two projected points of the same grid.
Message-ID: <143CFA2E3C9B5D459E78DA18E3F15F89DAD51F@plague.telmap.com>

How do I calculate the distance between two points in the same projection
grid?
Basically what I am asking is if all projection types are Cartesian, and if
not, if Proj provides an API to calculate he the distance between two
points.
----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From gerald.evenden at verizon.net  Wed Oct 22 06:55:11 2003
From: gerald.evenden at verizon.net (Gerald I. Evenden)
Date: Wed, 22 Oct 2003 09:55:11 -0400
Subject: [OSRS-PROJ] Distance between two projected points of the same grid.
In-Reply-To: <143CFA2E3C9B5D459E78DA18E3F15F89DAD51F@plague.telmap.com>
References: <143CFA2E3C9B5D459E78DA18E3F15F89DAD51F@plague.telmap.com>
Message-ID: <200310220955.11389.gerald.evenden@verizon.net>

Distance calculation from grid coordinates is not recommended unless over
short distance and when scale factor is included.

Geodesic (great circle) distances require special programs.  There is a
geodesic program 'geod' in the older PROJ.4 releases but I recomment
using Vincenty's algorithm;

http://www.ngs.noaa.gov/PC_PROD/Inv_Fwd/

This site has MS procedures, FORTRAN source code and Vincenty's
paper published in Survey Review.

Again, check the above web site; it has everything one could want.

On Wednesday 22 October 2003 09:15 am, Omry Yadan wrote:
> How do I calculate the distance between two points in the same projection
> grid?
> Basically what I am asking is if all projection types are Cartesian, and if
> not, if Proj provides an API to calculate he the distance between two
> points.
> ----------------------------------------
> PROJ.4 Discussion List
> See http://www.remotesensing.org/proj for subscription, unsubscription
> and other information.

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From cj8n at virginia.edu  Wed Oct 22 08:55:37 2003
From: cj8n at virginia.edu (Chris Jessee)
Date: Wed, 22 Oct 2003 11:55:37 -0400
Subject: [OSRS-PROJ] projection formula?
Message-ID: <2DD31BCE-04A8-11D8-8CFA-000A95902986@virginia.edu>

Hi,

I'm involved in a project that aims to offer an online tool with basic 
GIS functionality as follows:

User mouse movement gives realtime lat lon readout.
A measure tool provides distance and angle measure between two points.
Point coverage can be loaded from external DB and plotted to a graphic 
base map.

The tool will be built in Macromedia Flash. Implementing these features 
on a geographic coordinate system is relatively easy as this demo shows.
http://jefferson.village.virginia.edu/salem/maps/
click the map on the left.
Flash player plug-in required.
We ruled out many off the shelf products due to poor visual quality.

The trouble begins when we try to use a base map in a 
Lambert_Conformal_Conic projection. The specifics of the projection are 
at the end of this email. To implement the functionality noted above I 
have 2 choices: re-project the map into a Geographic Coordinate system 
or dynamically calculate the difference between rectilinear screen 
space and the conic projection. On the first option I'm also 
considering a Platte Carre or Equidistant Cylindrical projection as 
this should be easier to plot lat lon. Any thoughts on what a 
appropriate Geographic Coordinate system might be to minimize visual 
difference with Lambert_Conformal_Conic? On the second option, can 
anyone point to a resource for formulas to convert 
Lambert_Conformal_Conic to Platte Carre or GCS_North_American_1983? 
I'll need the formula's since it all has to be implemented inside Flash 
to get the user realtime feedback.


Coordinate system specifics

NAD_1983_Massachusetts_Mainland
Lambert_Conformal_Conic
False_Easting: 200000.000000
False_Northing: 750000.000000
Central_Meridian: -71.500000
Standard_Parallel_1: 41.716667
Standard_Parallel_2: 42.683333
Latitude_Of_Origin: 41.000000

GCS_North_American_1983
Datum: D_North_American_1983
Prime Meridian: 0
Datum: D_North_American_1983
spheriod: grs 1980
semimajor axis 6378137
semiminor axis 6356752.3141403561
angular unit: degree
radians per unit: 0.017453292519943295
prime meridian: Greenwich


Thank you,

Chris Jessee
jessee at virginia.edu

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From gerald.evenden at verizon.net  Wed Oct 22 09:44:42 2003
From: gerald.evenden at verizon.net (Gerald I. Evenden)
Date: Wed, 22 Oct 2003 12:44:42 -0400
Subject: [OSRS-PROJ] projection formula?
In-Reply-To: <2DD31BCE-04A8-11D8-8CFA-000A95902986@virginia.edu>
References: <2DD31BCE-04A8-11D8-8CFA-000A95902986@virginia.edu>
Message-ID: <200310221244.42556.gerald.evenden@verizon.net>

Purchase:

Map Projections---A Working Manual, U.S. Geological Survey
Professional Paper 1395, by John P. Snyder.  Printed in 1987
but still should be available fron the USGS.

Details for all the state plane coordinate systems as well
as complete  formulary.

On Wednesday 22 October 2003 11:55 am, Chris Jessee wrote:
> Hi,
>
> I'm involved in a project that aims to offer an online tool with basic
> GIS functionality as follows:
	<snip>
> ..... On the second option, can
> anyone point to a resource for formulas to convert
> Lambert_Conformal_Conic to Platte Carre or GCS_North_American_1983?
> I'll need the formula's since it all has to be implemented inside Flash
> to get the user realtime feedback.

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From Strebe at aol.com  Wed Oct 22 10:59:04 2003
From: Strebe at aol.com (Strebe at aol.com)
Date: Wed, 22 Oct 2003 13:59:04 EDT
Subject: [OSRS-PROJ] Re: projection formula?
Message-ID: <172.211526b7.2cc81f68@aol.com>


Chris Jessee <jessee at virginia.edu> writes:

>User mouse movement gives realtime lat lon readout.
>A measure tool provides distance and angle measure between two points.

I'm curious what you want the "angle" for. If you intend to measure direction 
with it then you will fail. There is no projection on which you can measure 
correct directions between any two points. If it is direction you want, then 
you need to calculate the azimuth from the first point to the second. Gerald 
Evenden mentioned Snyder's "Map Projections - A Working Manual". That reference 
includes azimuth calculation formulae.

>The trouble begins when we try to use a base map in a 
>Lambert_Conformal_Conic projection. The specifics of the projection are 
>at the end of this email. To implement the functionality noted above I 
>have 2 choices: re-project the map into a Geographic Coordinate system 
>or dynamically calculate the difference between rectilinear screen 
>space and the conic projection. On the first option I'm also 

What you really want is the inverse projection. Inverse projections compute 
latitude and longitude given the cartesian coordinates x and y. The same Snyder 
reference provides inverse formulae for the Lambert conformal.

Since Snyder's volume may be hard to find in a hurry, you may also look at:

<A HREF="http://mathworld.wolfram.com/LambertConformalConicProjection.html">http://mathworld.wolfram.com/LambertConformalConicProjection.html</A>
http://www.codeguru.com/algorithms/GeoCalc.html

This all seems very elaborate for your project! It looks very good, though.

Regards,

daan Strebe
Geocart author
<A HREF="http://www.mapthematics.com">http://www.mapthematics.com</A>



Original message:

> Hi,
> 
> I'm involved in a project that aims to offer an online tool with basic 
> GIS functionality as follows:
> 
> User mouse movement gives realtime lat lon readout.
> A measure tool provides distance and angle measure between two points.
> Point coverage can be loaded from external DB and plotted to a graphic 
> base map.
> 
> The tool will be built in Macromedia Flash. Implementing these features 
> on a geographic coordinate system is relatively easy as this demo shows.
> http://jefferson.village.virginia.edu/salem/maps/
> click the map on the left.
> Flash player plug-in required.
> We ruled out many off the shelf products due to poor visual quality.
> 
> The trouble begins when we try to use a base map in a 
> Lambert_Conformal_Conic projection. The specifics of the projection are 
> at the end of this email. To implement the functionality noted above I 
> have 2 choices: re-project the map into a Geographic Coordinate system 
> or dynamically calculate the difference between rectilinear screen 
> space and the conic projection. On the first option I'm also 
> considering a Platte Carre or Equidistant Cylindrical projection as 
> this should be easier to plot lat lon. Any thoughts on what a 
> appropriate Geographic Coordinate system might be to minimize visual 
> difference with Lambert_Conformal_Conic? On the second option, can 
> anyone point to a resource for formulas to convert 
> Lambert_Conformal_Conic to Platte Carre or GCS_North_American_1983? 
> I'll need the formula's since it all has to be implemented inside Flash 
> to get the user realtime feedback.
> 
> 
> Coordinate system specifics
> 
> NAD_1983_Massachusetts_Mainland
> Lambert_Conformal_Conic
> False_Easting: 200000.000000
> False_Northing: 750000.000000
> Central_Meridian: -71.500000
> Standard_Parallel_1: 41.716667
> Standard_Parallel_2: 42.683333
> Latitude_Of_Origin: 41.000000
> 
> GCS_North_American_1983
> Datum: D_North_American_1983
> Prime Meridian: 0
> Datum: D_North_American_1983
> spheriod: grs 1980
> semimajor axis 6378137
> semiminor axis 6356752.3141403561
> angular unit: degree
> radians per unit: 0.017453292519943295
> prime meridian: Greenwich
> 
> 
> Thank you,
> 
> Chris Jessee
> jessee at virginia.edu
> 
> ----------------------------------------
> PROJ.4 Discussion List
> See http://www.remotesensing.org/proj for subscription, unsubscription
> and other information.
> 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20031022/14f56e8d/attachment.html>

From cj8n at virginia.edu  Wed Oct 22 11:55:11 2003
From: cj8n at virginia.edu (Chris Jessee)
Date: Wed, 22 Oct 2003 14:55:11 -0400
Subject: [OSRS-PROJ] Re: projection formula?
In-Reply-To: <172.211526b7.2cc81f68@aol.com>
Message-ID: <434531D6-04C1-11D8-8CFA-000A95902986@virginia.edu>


On Wednesday, October 22, 2003, at 01:59  PM, Strebe at aol.com wrote:

>
> Chris Jessee <jessee at virginia.edu> writes:
>
> >User mouse movement gives realtime lat lon readout.
> >A measure tool provides distance and angle measure between two points.
>
> I'm curious what you want the "angle" for. If you intend to measure 
> direction with it then you will fail. There is no projection on which 
> you can measure correct directions between any two points. If it is 
> direction you want, then you need to calculate the azimuth from the 
> first point to the second. Gerald Evenden mentioned Snyder's "Map 
> Projections - A Working Manual". That reference includes azimuth 
> calculation formulae.

You are correct, we need the azimuth.

>
> >The trouble begins when we try to use a base map in a
> >Lambert_Conformal_Conic projection. The specifics of the projection 
> are
> >at the end of this email. To implement the functionality noted above I
> >have 2 choices: re-project the map into a Geographic Coordinate system
> >or dynamically calculate the difference between rectilinear screen
> >space and the conic projection. On the first option I'm also
>
> What you really want is the inverse projection. Inverse projections 
> compute latitude and longitude given the cartesian coordinates x and 
> y. The same Snyder reference provides inverse formulae for the Lambert 
> conformal.

Yes, correct again.

>
> Since Snyder's volume may be hard to find in a hurry, you may also 
> look at:
>
> http://mathworld.wolfram.com/LambertConformalConicProjection.html
> http://www.codeguru.com/algorithms/GeoCalc.html

Thank you, these links are very helpful. Fortunately I work in the 
university library and Snyder's volume was available just down the hall!

> This all seems very elaborate for your project! It looks very good, 
> though.

Yes, perhaps too elaborate. I'm experimenting with different 
projections in hopes of finding one that offers limited visual 
difference from Lambert conformal Conic but allows point plotting in 
cartesian coordinates without much compute overhead.

Thank you,

Chris Jessee
jessee at virginia.edu




>
> Regards,
>
> daan Strebe
> Geocart author
> http://www.mapthematics.com
>
>
>
> Original message:
>
> Hi,
>
> I'm involved in a project that aims to offer an online tool with basic
> GIS functionality as follows:
>
> User mouse movement gives realtime lat lon readout.
> A measure tool provides distance and angle measure between two points.
> Point coverage can be loaded from external DB and plotted to a graphic
> base map.
>
> The tool will be built in Macromedia Flash. Implementing these features
> on a geographic coordinate system is relatively easy as this demo 
> shows.
> http://jefferson.village.virginia.edu/salem/maps/
> click the map on the left.
> Flash player plug-in required.
> We ruled out many off the shelf products due to poor visual quality.
>
> The trouble begins when we try to use a base map in a
> Lambert_Conformal_Conic projection. The specifics of the projection are
> at the end of this email. To implement the functionality noted above I
> have 2 choices: re-project the map into a Geographic Coordinate system
> or dynamically calculate the difference between rectilinear screen
> space and the conic projection. On the first option I'm also
> considering a Platte Carre or Equidistant Cylindrical projection as
> this should be easier to plot lat lon. Any thoughts on what a
> appropriate Geographic Coordinate system might be to minimize visual
> difference with Lambert_Conformal_Conic? On the second option, can
> anyone point to a resource for formulas to convert
> Lambert_Conformal_Conic to Platte Carre or GCS_North_American_1983?
> I'll need the formula's since it all has to be implemented inside Flash
> to get the user realtime feedback.
>
>
> Coordinate system specifics
>
> NAD_1983_Massachusetts_Mainland
> Lambert_Conformal_Conic
> False_Easting: 200000.000000
> False_Northing: 750000.000000
> Central_Meridian: -71.500000
> Standard_Parallel_1: 41.716667
> Standard_Parallel_2: 42.683333
> Latitude_Of_Origin: 41.000000
>
> GCS_North_American_1983
> Datum: D_North_American_1983
> Prime Meridian: 0
> Datum: D_North_American_1983
> spheriod: grs 1980
> semimajor axis 6378137
> semiminor axis 6356752.3141403561
> angular unit: degree
> radians per unit: 0.017453292519943295
> prime meridian: Greenwich
>
>
> Thank you,
>
> Chris Jessee
> jessee at virginia.edu
>
> ----------------------------------------
> PROJ.4 Discussion List
> See http://www.remotesensing.org/proj for subscription, unsubscription
> and other information.
>
>
>
>

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From Strebe at aol.com  Wed Oct 22 13:20:16 2003
From: Strebe at aol.com (Strebe at aol.com)
Date: Wed, 22 Oct 2003 16:20:16 EDT
Subject: [OSRS-PROJ] Re: projection formula?
Message-ID: <1a8.1b27f0c3.2cc84080@aol.com>


Chris Jessee <jessee at virginia.edu> writes:

> Yes, perhaps too elaborate. I'm experimenting with different 
> projections in hopes of finding one that offers limited visual 
> difference from Lambert conformal Conic but allows point plotting in 
> cartesian coordinates without much compute overhead.

If you really are limiting your subject area to New England, then I suggest 
forgetting about ellipsoids and even the Lambert conformal conic. You can get 
low distortion for such a limited area from a simple equirectangular projection 
with the standard parallel set to the central parallel of your map:

x = R * (longitude - central meridian) * cos (standard parallel)
y = R * (latitude - standard parallel)

The parallels will not be curved like the Lambert conformal conic, but the 
amount of curvature across a region that small is quite minimal anyway. 
Obviously the inverse projection is just as simple. This projection is not accurate 
enough for geodetic work but it should be imminently suitable for your project.

Regards,

daan Strebe
Geocart author
http://www.mapthematics.com

Original:
_____
On Wednesday, October 22, 2003, at 01:59  PM, Strebe at aol.com wrote:

>
> Chris Jessee <jessee at virginia.edu> writes:
>
> >User mouse movement gives realtime lat lon readout.
> >A measure tool provides distance and angle measure between two points.
>
> I'm curious what you want the "angle" for. If you intend to measure 
> direction with it then you will fail. There is no projection on which 
> you can measure correct directions between any two points. If it is 
> direction you want, then you need to calculate the azimuth from the 
> first point to the second. Gerald Evenden mentioned Snyder's "Map 
> Projections - A Working Manual". That reference includes azimuth 
> calculation formulae.

You are correct, we need the azimuth.

>
> >The trouble begins when we try to use a base map in a
> >Lambert_Conformal_Conic projection. The specifics of the projection 
> are
> >at the end of this email. To implement the functionality noted above I
> >have 2 choices: re-project the map into a Geographic Coordinate system
> >or dynamically calculate the difference between rectilinear screen
> >space and the conic projection. On the first option I'm also
>
> What you really want is the inverse projection. Inverse projections 
> compute latitude and longitude given the cartesian coordinates x and 
> y. The same Snyder reference provides inverse formulae for the Lambert 
> conformal.

Yes, correct again.

>
> Since Snyder's volume may be hard to find in a hurry, you may also 
> look at:
>
> http://mathworld.wolfram.com/LambertConformalConicProjection.html
> http://www.codeguru.com/algorithms/GeoCalc.html

Thank you, these links are very helpful. Fortunately I work in the 
university library and Snyder's volume was available just down the hall!

> This all seems very elaborate for your project! It looks very good, 
> though.

Yes, perhaps too elaborate. I'm experimenting with different 
projections in hopes of finding one that offers limited visual 
difference from Lambert conformal Conic but allows point plotting in 
cartesian coordinates without much compute overhead.

Thank you,

Chris Jessee
jessee at virginia.edu


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20031022/4377503d/attachment.html>

From ed at topozone.com  Wed Oct 22 15:59:04 2003
From: ed at topozone.com (Ed McNierney)
Date: Wed, 22 Oct 2003 18:59:04 -0400
Subject: [OSRS-PROJ] Re: projection formula?
Message-ID: <13858AA1A74F30419F319ACB66A9D1222EA14E@mercator.topozone.com>

Chris -
 
This is a good idea, especially if you're in central/western Mass - the
length of a degree of longitude differs by less than 0.5% or so from the
central parallel, since the state's less than three-quarters of a degree
north-south (except for the eastern portion).
 
            - Ed
 
 
Ed McNierney
President and Chief Mapmaker
TopoZone.com
ed at topozone.com
 
-----Original Message-----
From: Strebe at aol.com [mailto:Strebe at aol.com] 
Sent: Wednesday, October 22, 2003 4:20 PM
To: osrs-proj at remotesensing.org; cj8n at virginia.edu
Subject: [OSRS-PROJ] Re: projection formula?
 

Chris Jessee <jessee at virginia.edu> writes:



Yes, perhaps too elaborate. I'm experimenting with different 
projections in hopes of finding one that offers limited visual 
difference from Lambert conformal Conic but allows point plotting in 
cartesian coordinates without much compute overhead.


If you really are limiting your subject area to New England, then I
suggest forgetting about ellipsoids and even the Lambert conformal
conic. You can get low distortion for such a limited area from a simple
equirectangular projection with the standard parallel set to the central
parallel of your map:

x = R * (longitude - central meridian) * cos (standard parallel)
y = R * (latitude - standard parallel)

The parallels will not be curved like the Lambert conformal conic, but
the amount of curvature across a region that small is quite minimal
anyway. Obviously the inverse projection is just as simple. This
projection is not accurate enough for geodetic work but it should be
imminently suitable for your project.

Regards,

daan Strebe
Geocart author
http://www.mapthematics.com

Original:
_____
On Wednesday, October 22, 2003, at 01:59  PM, Strebe at aol.com wrote:

>
> Chris Jessee <jessee at virginia.edu> writes:
>
> >User mouse movement gives realtime lat lon readout.
> >A measure tool provides distance and angle measure between two
points.
>
> I'm curious what you want the "angle" for. If you intend to measure 
> direction with it then you will fail. There is no projection on which 
> you can measure correct directions between any two points. If it is 
> direction you want, then you need to calculate the azimuth from the 
> first point to the second. Gerald Evenden mentioned Snyder's "Map 
> Projections - A Working Manual". That reference includes azimuth 
> calculation formulae.

You are correct, we need the azimuth.

>
> >The trouble begins when we try to use a base map in a
> >Lambert_Conformal_Conic projection. The specifics of the projection 
> are
> >at the end of this email. To implement the functionality noted above
I
> >have 2 choices: re-project the map into a Geographic Coordinate
system
> >or dynamically calculate the difference between rectilinear screen
> >space and the conic projection. On the first option I'm also
>
> What you really want is the inverse projection. Inverse projections 
> compute latitude and longitude given the cartesian coordinates x and 
> y. The same Snyder reference provides inverse formulae for the Lambert

> conformal.

Yes, correct again.

>
> Since Snyder's volume may be hard to find in a hurry, you may also 
> look at:
>
> http://mathworld.wolfram.com/LambertConformalConicProjection.html
> http://www.codeguru.com/algorithms/GeoCalc.html

Thank you, these links are very helpful. Fortunately I work in the 
university library and Snyder's volume was available just down the hall!

> This all seems very elaborate for your project! It looks very good, 
> though.

Yes, perhaps too elaborate. I'm experimenting with different 
projections in hopes of finding one that offers limited visual 
difference from Lambert conformal Conic but allows point plotting in 
cartesian coordinates without much compute overhead.

Thank you,

Chris Jessee
jessee at virginia.edu


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20031022/1f7c10ad/attachment.html>

From torben.bach at geo.au.dk  Thu Oct 23 04:27:21 2003
From: torben.bach at geo.au.dk (Torben Bach)
Date: Thu, 23 Oct 2003 13:27:21 +0200
Subject: [OSRS-PROJ] ED50 Denmark
Message-ID: <000101c39958$9fdae340$1b96000a@hgg.geo.au.dk>

Hi

Completely new to the subject I have been roaming the internet trying to
find a "golden" command line to proj4 for converting lat-lon coordinates
to DANISH ED50 UTM zone 32N. Apparently the internal ED50 is not the
same as the Danish (or german or french...) ED50 - im am confused - does
anybody know the "golden" command line I so badly long for ? 

Another question - how accurate is the ouput from Proj4 ? I have
compared results converting to EUREF89 with output from programs from
the national Ministry of the Environment (KMS at www.kms.dk) handling
this stuf and MapInfo, and they gave the same results within a meter or
so. But using ED50 and Proj4 gave coordinates lying hundreds of meters
from MapInfo and "official" KMS results (this was how I discoverd I
needed the "golden" command line).

Thanks in advance !!

Best regards,

-Torben Bach


P.S. By mistake I also posted this question to the GRASS Statistical
Mailing List (which ofcourse didn't lead to any answer) - I have been
made aware of the mistake, and I appologize. So heres the question in -
hopefully - the right place :-)

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From jan at intevation.de  Fri Oct 24 01:30:59 2003
From: jan at intevation.de (Jan-Oliver Wagner)
Date: Fri, 24 Oct 2003 10:30:59 +0200
Subject: [OSRS-PROJ] Changes in EPSG codes?
Message-ID: <20031024083059.GA3749@intevation.de>

Hi,

I am troubled with the EPSG codes as in different versions of proj:

In Version 4.4.5 there is a code 31493 which is not there anymore
in Version 4.4.7 (where a new code is used for the same projection:
31467).

First of all I wonder, whether this is a fix in proj or a change in
EPSG?

The trouble I have is that a UMN MapServer WMS application running with
proj 4.4.5 can not be accessed from a WMS Client that uses proj 4.4.7.

Is this a common problem? Is there a common solution?

Any comment is appreciated.

Best

	Jan
-- 
Jan-Oliver Wagner               http://intevation.de/~jan/

Intevation GmbH	              	     http://intevation.de/
FreeGIS	                               http://freegis.org/
----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From jan at intevation.de  Fri Oct 24 01:50:49 2003
From: jan at intevation.de (Jan-Oliver Wagner)
Date: Fri, 24 Oct 2003 10:50:49 +0200
Subject: [OSRS-PROJ] EPSG: invalid projections?
In-Reply-To: <20031010162812.GA11335@intevation.de>
References: <20031010162812.GA11335@intevation.de>
Message-ID: <20031024085049.GB3749@intevation.de>

Hi,

got no feedback on this issue. The epsg file in CVS is still the same
as in proj 4.4.7.
For Thuban I will remove them.

On Fri, Oct 10, 2003 at 06:28:12PM +0200, Jan-Oliver Wagner wrote:
> I've implemented a converter for the epsg file as delivered with
> proj to a Thuban .proj file.
> 
> When loaded into Thuban there is an automatic test for each
> projection and 4 of the 2480
> seem to be incorrect. These are the error messages:
> 
> Error in projection "CH1903+ / LV95": lat_0 = 0 or 90 or alpha = 90
> Error in projection "Bern 1898 (Bern) / LV03C": lat_0 = 0 or 90 or alpha = 90
> Error in projection "CH1903 / LV03": lat_0 = 0 or 90 or alpha = 90
> Error in projection "HD72 / EOV": lat_0 = 0 or 90 or alpha = 90
> 
> I've used proj 4.4.7.

Best

	Jan
-- 
Jan-Oliver Wagner               http://intevation.de/~jan/

Intevation GmbH	              	     http://intevation.de/
FreeGIS	                               http://freegis.org/
----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From torben.bach at geo.au.dk  Fri Oct 24 01:55:48 2003
From: torben.bach at geo.au.dk (Torben Bach)
Date: Fri, 24 Oct 2003 10:55:48 +0200
Subject: SV: [OSRS-PROJ] ED50 Denmark
In-Reply-To: <Pine.LNX.4.58.0310240853100.10346@agrippa.ukshells.co.uk>
Message-ID: <000001c39a0c$9eca29c0$1b96000a@hgg.geo.au.dk>

Hi Paul

THANKS !!! I was using proj4 directly, not the cs2cs program. The
ellipsoid used is actually WGS84, but entering this into your golden
command line fixes my problem. If your currious heres what I get from my
comparison:


In-put coordinate:  10.138618  56.342032

Outputs:

MapInfo  : 570466.57247057 6244935.6590597    (According to MapInfo they
have an error)
KMS Trans: 570464.297      6244936.971        (Official Danish program
Thingy :-) )
cs2cs    : 570464.18       6244937.01	    (Pauls Golden Line)

PERFECT !

Thanks a lot !!

Best regards,

-Torben

The commandline used:
cs2cs +proj=latlong +ellps=WGS84 +towgs84=0,0,0 +to +proj=utm +zone=32
+ellps=intl +towgs84=-81.1,-89.4,-115.8,0.485,0.024,0.413,-0.54





-----Oprindelig meddelelse-----
Fra: Paul Kelly [mailto:paul-grass at stjohnspoint.co.uk] 
Sendt: 24 October 2003 09:59
Til: Torben Bach
Emne: Re: [OSRS-PROJ] ED50 Denmark


On Thu, 23 Oct 2003, Torben Bach wrote:

> Hi
>
> Completely new to the subject I have been roaming the internet trying 
> to find a "golden" command line to proj4 for converting lat-lon 
> coordinates to DANISH ED50 UTM zone 32N. Apparently the internal ED50 
> is not the same as the Danish (or german or french...) ED50 - im am 
> confused - does anybody know the "golden" command line I so badly long

> for ?

You don't say which ellipsoid your latitude/longitude co-ordinates refer
to. Seeing you mention EUREF89 in the next paragraph I will assume it is
the GRS80... according to
http://crs.ifag.de/country_select.php?country=DK
then your command line with datum transformation parameters would be
something a bit like

cs2cs +proj=latlong +ellps=GRS80 +towgs84=0,0,0 +to +proj=utm +zone=32 \
+ellps=intl +towgs84=-81.1,-89.4,-115.8,0.485,0.024,0.413,-0.54

(Actually these parameters are in GRASS if you go to set up a Denmark
location.)

Does this work?

>
> Another question - how accurate is the ouput from Proj4 ? I have 
> compared results converting to EUREF89 with output from programs from 
> the national Ministry of the Environment (KMS at www.kms.dk) handling 
> this stuf and MapInfo, and they gave the same results within a meter 
> or so. But using ED50 and Proj4 gave coordinates lying hundreds of 
> meters from MapInfo and "official" KMS results (this was how I 
> discoverd I needed the "golden" command line).

As hinted above you don't say which ellipsoid your lat-long co-ordinates
are on but presumably it is not ED50 and therefore you need datum
transformation parameters.

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From warmerdam at pobox.com  Fri Oct 24 06:26:39 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri, 24 Oct 2003 09:26:39 -0400
Subject: [OSRS-PROJ] Changes in EPSG codes?
In-Reply-To: <20031024083059.GA3749@intevation.de>
References: <20031024083059.GA3749@intevation.de>
Message-ID: <3F99288F.3080205@pobox.com>

Jan-Oliver Wagner wrote:
> Hi,
> 
> I am troubled with the EPSG codes as in different versions of proj:
> 
> In Version 4.4.5 there is a code 31493 which is not there anymore
> in Version 4.4.7 (where a new code is used for the same projection:
> 31467).
> 
> First of all I wonder, whether this is a fix in proj or a change in
> EPSG?
> 
> The trouble I have is that a UMN MapServer WMS application running with
> proj 4.4.5 can not be accessed from a WMS Client that uses proj 4.4.7.
> 
> Is this a common problem? Is there a common solution?

Jan-Oliver,

This reflects a change in the EPSG database.  In theory I think it would
be possible to try and do something to merge in deleted codes from old
databases to retain better backward compatibility but I haven't tried to
do that.

I know this sort of thing can be quite annoying, and I don't know why
EPSG actually removes superceeded coordinate systems.  I had previously
thought this was not their policy.

The "changes" table in the EPSG db has a corresponding record that
reads:

2000.101,2000-03-07 00:00:00,2000-03-07 00:00:00,Jean-Patrick Girbig; IHS Energy,Amend Germany 
CS,HorizCS,31491-95,Changes name from DHDN / Germany zone x to DHDN / Gauss zone x.,Replaced Germany projCS 31491-95 
with 31461-65 respectively.  Deleted proj 18101-05.

What I would kind of like to have is a n "epsg_plus" table with all current
EPSG definitions, plus ones deleted from older versions, plus ESRI custom
codes.  This could then be used by folks wanting to maintain a maximimally
fleshed out set of definitions for MapServer and similar applications.
However, building such a thing is not a trivial effort.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From warmerdam at pobox.com  Fri Oct 24 06:28:01 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri, 24 Oct 2003 09:28:01 -0400
Subject: [OSRS-PROJ] EPSG: invalid projections?
In-Reply-To: <20031024085049.GB3749@intevation.de>
References: <20031010162812.GA11335@intevation.de> <20031024085049.GB3749@intevation.de>
Message-ID: <3F9928E1.4060501@pobox.com>

Jan-Oliver Wagner wrote:
> Hi,
> 
> got no feedback on this issue. The epsg file in CVS is still the same
> as in proj 4.4.7.
> For Thuban I will remove them.
> 
> On Fri, Oct 10, 2003 at 06:28:12PM +0200, Jan-Oliver Wagner wrote:
> 
>>I've implemented a converter for the epsg file as delivered with
>>proj to a Thuban .proj file.
>>
>>When loaded into Thuban there is an automatic test for each
>>projection and 4 of the 2480
>>seem to be incorrect. These are the error messages:
>>
>>Error in projection "CH1903+ / LV95": lat_0 = 0 or 90 or alpha = 90
>>Error in projection "Bern 1898 (Bern) / LV03C": lat_0 = 0 or 90 or alpha = 90
>>Error in projection "CH1903 / LV03": lat_0 = 0 or 90 or alpha = 90
>>Error in projection "HD72 / EOV": lat_0 = 0 or 90 or alpha = 90
>>
>>I've used proj 4.4.7.

Jan-Oliver,

I suggest you file this in bugzilla as a bug.  I would guess I am
incorrectly translating these coordinate systems but it will take some
investigation to see what is going wrong, and what should be done.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From jan at intevation.de  Fri Oct 24 07:08:59 2003
From: jan at intevation.de (Jan-Oliver Wagner)
Date: Fri, 24 Oct 2003 16:08:59 +0200
Subject: [OSRS-PROJ] Changes in EPSG codes?
In-Reply-To: <3F99288F.3080205@pobox.com>
References: <20031024083059.GA3749@intevation.de> <3F99288F.3080205@pobox.com>
Message-ID: <20031024140859.GE4189@intevation.de>

On Fri, Oct 24, 2003 at 09:26:39AM -0400, Frank Warmerdam wrote:
> What I would kind of like to have is a n "epsg_plus" table with all current
> EPSG definitions, plus ones deleted from older versions, plus ESRI custom
> codes.  This could then be used by folks wanting to maintain a maximimally
> fleshed out set of definitions for MapServer and similar applications.
> However, building such a thing is not a trivial effort.

I propose to keep the deprecated ones in a separate file. It is easy
to merge if wished.

Attached is a startfile "nad/epsg-deprecated" together with a
corresponding patch for README. This would at least
explain the situation for others. Maybe eventually someone finds
the time to complete the file systematically.

Best

	Jan
-- 
Jan-Oliver Wagner               http://intevation.de/~jan/

Intevation GmbH	              	     http://intevation.de/
FreeGIS	                               http://freegis.org/
-------------- next part --------------
Index: README
===================================================================
RCS file: /cvsroot/osrs/proj/nad/README,v
retrieving revision 1.3
diff -u -3 -p -u -r1.3 README
--- README	5 Apr 2001 19:24:18 -0000	1.3
+++ README	24 Oct 2003 14:04:55 -0000
@@ -11,6 +11,14 @@ proj_def.dat --- basic default file used
 
 epsg    --- Translation of EPSG GCS/PCS codes into PROJ.4 via init= mechanism.
 
+epsg-deprecated --- EPSG definitions that have been deprecated. They are
+                    not part of 'epsg' anymore, but may have been delivered
+					with earlier versions of 'epsg'.
+					Thus, they might occur e.g. in WMS (Web Mapping Services)
+					running with old EPSG definitions.
+					This file is not complete at all - it contains just
+					definitions that were individually reported.
+
 nad27   --- North American Datum 1927 for "init=" definition of
 			State Plane Coordinate Systems (SPCS).
 
-------------- next part --------------
# DHDN / Germany zone 3
<31493> +proj=tmerc +lat_0=0.000000000 +lon_0=9.000000000 +k=1.000000 +x_0=3500000.000 +y_0=0.000 +ellps=bessel +units=m  no_defs <>

From warmerdam at pobox.com  Fri Oct 24 07:53:25 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri, 24 Oct 2003 10:53:25 -0400
Subject: [OSRS-PROJ] Changes in EPSG codes?
In-Reply-To: <20031024140859.GE4189@intevation.de>
References: <20031024083059.GA3749@intevation.de> <3F99288F.3080205@pobox.com> <20031024140859.GE4189@intevation.de>
Message-ID: <3F993CE5.3070602@pobox.com>

Jan-Oliver Wagner wrote:
> On Fri, Oct 24, 2003 at 09:26:39AM -0400, Frank Warmerdam wrote:
> 
>>What I would kind of like to have is a n "epsg_plus" table with all current
>>EPSG definitions, plus ones deleted from older versions, plus ESRI custom
>>codes.  This could then be used by folks wanting to maintain a maximimally
>>fleshed out set of definitions for MapServer and similar applications.
>>However, building such a thing is not a trivial effort.
> 
> 
> I propose to keep the deprecated ones in a separate file. It is easy
> to merge if wished.
> 
> Attached is a startfile "nad/epsg-deprecated" together with a
> corresponding patch for README. This would at least
> explain the situation for others. Maybe eventually someone finds
> the time to complete the file systematically.

Jan-Oliver,

Change applied.

It would be nice to auto-generate the deprecated file, but that is pretty
hard to do because of the varying structure of the database over the years.
But I will add any requested submissions to the file in question.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From jan at intevation.de  Fri Oct 24 08:22:07 2003
From: jan at intevation.de (Jan-Oliver Wagner)
Date: Fri, 24 Oct 2003 17:22:07 +0200
Subject: [OSRS-PROJ] EPSG: invalid projections?
In-Reply-To: <3F9928E1.4060501@pobox.com>
References: <20031010162812.GA11335@intevation.de> <20031024085049.GB3749@intevation.de> <3F9928E1.4060501@pobox.com>
Message-ID: <20031024152207.GA4422@intevation.de>

On Fri, Oct 24, 2003 at 09:28:01AM -0400, Frank Warmerdam wrote:
> I suggest you file this in bugzilla as a bug.  I would guess I am
> incorrectly translating these coordinate systems but it will take some
> investigation to see what is going wrong, and what should be done.

I tried to, but am not sure wether the report made it finally into
the bug tracker. I experienced a time-out during this process a couple
of times.

Best

	Jan
-- 
Jan-Oliver Wagner               http://intevation.de/~jan/

Intevation GmbH	              	     http://intevation.de/
FreeGIS	                               http://freegis.org/
----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From warmerdam at pobox.com  Fri Oct 24 09:24:31 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri, 24 Oct 2003 12:24:31 -0400
Subject: [OSRS-PROJ] EPSG: invalid projections?
In-Reply-To: <20031024152207.GA4422@intevation.de>
References: <20031010162812.GA11335@intevation.de> <20031024085049.GB3749@intevation.de> <3F9928E1.4060501@pobox.com> <20031024152207.GA4422@intevation.de>
Message-ID: <3F99523F.2080104@pobox.com>

Jan-Oliver Wagner wrote:
> On Fri, Oct 24, 2003 at 09:28:01AM -0400, Frank Warmerdam wrote:
> 
>>I suggest you file this in bugzilla as a bug.  I would guess I am
>>incorrectly translating these coordinate systems but it will take some
>>investigation to see what is going wrong, and what should be done.
> 
> 
> I tried to, but am not sure wether the report made it finally into
> the bug tracker. I experienced a time-out during this process a couple
> of times.

Jan,

It does not seem to have gotten in there.  Perhaps you can try again later
and things will be more stable.

Best regards,

---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


