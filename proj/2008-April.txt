From doganay44 at gmail.com  Tue Apr  1 09:46:49 2008
From: doganay44 at gmail.com (=?UTF-8?Q?Do=C4=9Fan_--?=)
Date: Tue, 1 Apr 2008 19:46:49 +0300
Subject: [Proj] get lat\lon from mouse position on image
Message-ID: <f36c53520804010946w4868d516j890f2271e90bbe9e@mail.gmail.com>

Hi, I have *.jpg of a map and want to get lat\lon of mouse position on
*.jpg.
I know the *.jpg file size (ex. 1024x768) and *.jpg lat\lon top_left
corner(ex. N2030,320,E01015,400)
and bottom_right corner(ex.N1030,220,E01814,300 )
I do this as below code.
How to do this with proj4 lib or another more efficient way.
(if ı use another *.jpg of map projections different from mercator below
code wil be fail.(?)  )


QString Map::Y2Lat(int Y_size_of_image)//Y_size of jpg ( 768 )
{
//distVincenty(lat1,long1,lat2,long2) returns distance in NM.
//here give long same because , want to know *.jpg y size in real.
double YRealDist = distVincenty("2030,320","N","01015,400","E",
"1030,220","N","01015,400","E");

double YPerPixel=YRealDist/Y_size_of_image;// real distance per pixel of
image

double convfaktor=YPerPixel*currentMousePosY;//real distance from top to
current mouse pos.

//gives destination lat  from top_left  convfaktor miles with course 180
QString newLatLon =
destinationVincenty("2030,320","N","01015,400","E",180.,convfaktor);
QString Latitude =toDMS(newLatLon.toDouble(),"NS");

qDebug()<<"Current mouse position Lat = "<< Latitude ;
return Latitude;
}

QString Map::X2Long(int X_size_of_image)//X_size of jpg ( 1024 )
{
double top_left_lon = dm2dd("01015,400","E");//long in degree

double bottom_right_lon = dm2dd("01814,300","E");//long in degree

double XRealDist=(bottom_right_lon-top_left_lon)*60.;//using mercator map 1
degree 60 miles

double XPerPixel=XRealDist/X_size_of_image;

double convfaktor=XPerPixel*currentPosX;//top left to mouse pos distance in
X

double newLong=top_left_lon + convfaktor/60.;

QString Long=toDMS(newLong,"EW");

qDebug()<<"Current mouse position Long = "<< Long ;
return Long;

}
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080401/c7eb9d97/attachment.html>

From oliver.eichler at dspsolutions.de  Tue Apr  1 23:07:53 2008
From: oliver.eichler at dspsolutions.de (Oliver Eichler)
Date: Wed, 02 Apr 2008 08:07:53 +0200
Subject: [Proj] get lat\lon from mouse position on image
In-Reply-To: <f36c53520804010946w4868d516j890f2271e90bbe9e@mail.gmail.com>
References: <f36c53520804010946w4868d516j890f2271e90bbe9e@mail.gmail.com>
Message-ID: <47F322B9.2080205@dspsolutions.de>

Hi Doğan

I do the same in QLandkarte GT but I convert the image to a referenced 
GeoTiff first. By that I can simply read all necessary information from 
the file instead of calculating it over and over again. That will make 
the render function more generic. I use GDAL to do so. gdalwarp will 
skew your image to any projection you want. Most likely you want the 
image's original projection to avoid heavy distortions. As QLandkarte GT 
is open source you are welcome to extract any information you need from 
it's source code. The classes CCreateMapGeoTiff and CMapQMAP will be of 
interest for you.

HTH

Oliver
> Hi, I have *.jpg of a map and want to get lat\lon of mouse position on 
> *.jpg.
> I know the *.jpg file size (ex. 1024x768) and *.jpg lat\lon top_left 
> corner(ex. N2030,320,E01015,400)
> and bottom_right corner(ex.N1030,220,E01814,300 )
> I do this as below code.
> How to do this with proj4 lib or another more efficient way.
> (if ı use another *.jpg of map projections different from mercator 
> below code wil be fail.(?)  )
>
>
> QString Map::Y2Lat(int Y_size_of_image)//Y_size of jpg ( 768 )
> {
>
> //distVincenty(lat1,long1,lat2,long2) returns distance in NM. 
> //here give long same because , want to know *.jpg y size in real.
> double YRealDist = distVincenty("2030,320","N","01015,400","E", 
> "1030,220","N","01015,400","E");
>
> double YPerPixel=YRealDist/Y_size_of_image;// real distance per pixel 
> of image
>
> double convfaktor=YPerPixel*currentMousePosY;//real distance from top 
> to current mouse pos.
>
> //gives destination lat  from top_left  convfaktor miles with course 180
> QString newLatLon = 
> destinationVincenty("2030,320","N","01015,400","E",180.,convfaktor);
> QString Latitude =toDMS(newLatLon.toDouble(),"NS");
>
> qDebug()<<"Current mouse position Lat = "<< Latitude ;
> return Latitude;
> }
>
> QString Map::X2Long(int X_size_of_image)//X_size of jpg ( 1024 )
> {
> double top_left_lon = dm2dd("01015,400","E");//long in degree
>
> double bottom_right_lon = dm2dd("01814,300","E");//long in degree
>
> double XRealDist=(bottom_right_lon-top_left_lon)*60.;//using mercator 
> map 1 degree 60 miles
>
> double XPerPixel=XRealDist/X_size_of_image;
>
> double convfaktor=XPerPixel*currentPosX;//top left to mouse pos 
> distance in X
>
> double newLong=top_left_lon + convfaktor/60.;
>
> QString Long=toDMS(newLong,"EW");
>
> qDebug()<<"Current mouse position Long = "<< Long ;
> return Long;
>
> }
>
> ------------------------------------------------------------------------
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj


-- 
------------------------------------------------------------------------
Ingenieure Kellermann, Voigt, Hoepfl, Eichler und Weidner, Partnerschaft

Email: oliver.eichler at dspsolutions.de         http://www.dspsolutions.de
Phone: +49(0) 941 / 830 551                   Embedded Signal Processing
Fax:   +49(0) 941 / 830 5579                  DIN EN ISO 9001:2000

Sitz der Partnerschaft ist Regensburg         Schwandorfer Str. 3a
Registergericht Regensburg: PR14              93059 Regensburg, Germany
------------------------------------------------------------------------




From jrepetto at free.fr  Wed Apr  2 03:48:01 2008
From: jrepetto at free.fr (Jean-Claude Repetto)
Date: Wed, 02 Apr 2008 12:48:01 +0200
Subject: [Proj] epsg parameters
Message-ID: <47F36461.3060500@free.fr>

Hello,

Am I wrong, or the epsg parameters file shipped with PROJ V4.6 is not 
up-to-date ?
I have noticed that several +towgs84 parameters are missing. They are in 
the official EPSG database, but not in the /usr/share/proj/epsg file.

Exemple : WGS72
The /usr/share/proj/epsg file contains :
<4322> +proj=longlat +ellps=WGS72 +no_defs  <>

It should be :
<4322> +proj=longlat +ellps=WGS72 +towgs84=0,0,4.5,0,0,0.554,0.219 
+no_defs  <>
(look at <http://proj.maptools.org/gen_parms.html#towgs84>)

I have discovered this problem when using some projections used by 
french islands (Martinique, Guadeloupe).

# Guadeloupe 1948
<4622> +proj=longlat +ellps=intl +no_defs  <>
# Martinique 1938
<4625> +proj=longlat +ellps=intl +no_defs  <>


I think that they should be :

# Guadeloupe 1948
<4622> +proj=longlat +ellps=intl 
+towgs84=-472.29,-5.63,-304.12,0.4362,-0.8374,0.2563,1.8984 +no_defs  <>
# Martinique 1938
<4625> +proj=longlat +ellps=intl 
+towgs84=126.93,547.94,130.41,-2.7867,5.1612,-0.8584,13.8227 +no_defs  <>

But I am sure there are several other parameters missing.
Does anybody know if the proj.4 epsg file has been created manually, or 
has been automatically converted from the EPSG database ?


Jean-Claude




From warmerdam at pobox.com  Wed Apr  2 06:02:01 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed, 02 Apr 2008 09:02:01 -0400
Subject: [Proj] epsg parameters
In-Reply-To: <47F36461.3060500@free.fr>
References: <47F36461.3060500@free.fr>
Message-ID: <47F383C9.40800@pobox.com>

Jean-Claude Repetto wrote:
> Hello,
> 
> Am I wrong, or the epsg parameters file shipped with PROJ V4.6 is not 
> up-to-date ?
> I have noticed that several +towgs84 parameters are missing. They are in 
> the official EPSG database, but not in the /usr/share/proj/epsg file.
> 
> Exemple : WGS72
> The /usr/share/proj/epsg file contains :
> <4322> +proj=longlat +ellps=WGS72 +no_defs  <>
> 
> It should be :
> <4322> +proj=longlat +ellps=WGS72 +towgs84=0,0,4.5,0,0,0.554,0.219 
> +no_defs  <>
> (look at <http://proj.maptools.org/gen_parms.html#towgs84>)
> 
> I have discovered this problem when using some projections used by 
> french islands (Martinique, Guadeloupe).
> 
> # Guadeloupe 1948
> <4622> +proj=longlat +ellps=intl +no_defs  <>
> # Martinique 1938
> <4625> +proj=longlat +ellps=intl +no_defs  <>
> 
> 
> I think that they should be :
> 
> # Guadeloupe 1948
> <4622> +proj=longlat +ellps=intl 
> +towgs84=-472.29,-5.63,-304.12,0.4362,-0.8374,0.2563,1.8984 +no_defs  <>
> # Martinique 1938
> <4625> +proj=longlat +ellps=intl 
> +towgs84=126.93,547.94,130.41,-2.7867,5.1612,-0.8584,13.8227 +no_defs  <>
> 
> But I am sure there are several other parameters missing.
> Does anybody know if the proj.4 epsg file has been created manually, or 
> has been automatically converted from the EPSG database ?

Jean-Claude,

The problem is that if EPSG offers more than one transformation to
WGS84 for a datum, the automated translation gives up and offers none
of them preferring for the user to make the decision themselves.

I suspect, given sufficient investigation, you would find that EPSG
offers more than one transformation for the problem datums.

I'm not saying this is a good decision in the automated translation.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org



From jrepetto at free.fr  Wed Apr  2 07:47:22 2008
From: jrepetto at free.fr (Jean-Claude Repetto)
Date: Wed, 02 Apr 2008 16:47:22 +0200
Subject: [Proj] epsg parameters
In-Reply-To: <47F383C9.40800@pobox.com>
References: <47F36461.3060500@free.fr> <47F383C9.40800@pobox.com>
Message-ID: <47F39C7A.7050800@free.fr>

Frank Warmerdam wrote :
> 
> The problem is that if EPSG offers more than one transformation to
> WGS84 for a datum, the automated translation gives up and offers none
> of them preferring for the user to make the decision themselves.
> 
> I suspect, given sufficient investigation, you would find that EPSG
> offers more than one transformation for the problem datums.
> 
> I'm not saying this is a good decision in the automated translation.
> 


Frank,

Thanks for the explanation.
However, I think it would be better not to include the incomplete 
definitions in the epsg file, than including wrong definitions. I have 
been using them for several days before understanding they were wrong.

And the wrong definitions have been used by other softwares (GDAL, QGIS, 
...). Even the spatialreference.org web site has them. And there are no 
warnings for the users ...

In the EPSG database, I have noticed that for some datums, there are 
several methods. For the datums I have looked at, the choice was between 
the 7-parameters model or the simplified 3-parameters model. The 
translation tool should be able to choose the best precision model.

BTW, has the translation tool been released ?

Fortunately, I have seen that in PROJ.4 CVS, the french IGN has updated 
all the definitions for french territories (in the file IGNF).
Will the new PROJ.4 version be released soon ?

Best regards,
Jean-Claude


From paul-grass at stjohnspoint.co.uk  Wed Apr  2 09:24:09 2008
From: paul-grass at stjohnspoint.co.uk (Paul Kelly)
Date: Wed, 2 Apr 2008 17:24:09 +0100 (BST)
Subject: [Proj] epsg parameters
In-Reply-To: <47F383C9.40800@pobox.com>
References: <47F36461.3060500@free.fr> <47F383C9.40800@pobox.com>
Message-ID: <Pine.LNX.4.62.0804021604050.19171@vortex.ukshells.co.uk>

On Wed, 2 Apr 2008, Frank Warmerdam wrote:

> The problem is that if EPSG offers more than one transformation to
> WGS84 for a datum, the automated translation gives up and offers none
> of them preferring for the user to make the decision themselves.
>
> I suspect, given sufficient investigation, you would find that EPSG
> offers more than one transformation for the problem datums.
>
> I'm not saying this is a good decision in the automated translation.

I tend to think it's the best you can do given the situation. We have had 
a similar/related issue in GRASS, and the current kludgy solution is to 
store our own database of datum transformation parameters along with extra 
information on where geographically the transformation is valid and the 
accuracy of it. When importing a co-ordinate system with ambiguous datum 
information the user is then presented with this choice and forced to make 
it.

I think it's in general a bad idea to include datum transformation 
information without any user interaction, because many users have the 
misconception that there is somehow a "correct" set of parameters which 
will always give them accurate results. When of course, as we've seen 
discussed on this list many times, accurate datum transformation is very 
much a localised thing: a transformation that gives accurate results in 
one region of a country may give very inaccurate results in another 
region, and a transformation that covers the whole country is in general 
not very accurate anywhere.

One minor complication that I don't think I have ever seen given much 
discussion (and the main reason I'm sending this mail) is that some 
classical datums have recently been redefined by the relevant national 
mapping agencies in terms of their relationship to WGS84 (see Note 1) In 
this situation then (in my understanding) there is one and only one 
"correct" set of datum transformation parameters, and it *would* be valid 
to include this without any user interaction (I'm not necessarily talking 
about generation of the PROJ epsg file, just in general).
I was wondering though did anybody know if there was any standard way of 
specifying (for example in the WKT format, or in the EPSG database) that a 
set of datum transformation parameters is "exact" in this way?

Paul

Note 1: E.g. OSGB36 in the UK 
http://www.ordnancesurvey.co.uk/oswebsite/gps/information/coordinatesystemsinfo/guidecontents/guide5.html
Although this uses a grid-based datum shift rather than a set of 
parameters, the prinicple of the datum having an exact relationship with 
WGS84 is still the same.


From cjmce at lsu.edu  Wed Apr  2 09:29:47 2008
From: cjmce at lsu.edu (Clifford J Mugnier)
Date: Wed, 2 Apr 2008 11:29:47 -0500
Subject: [Proj] epsg parameters
References: <47F36461.3060500@free.fr> <47F383C9.40800@pobox.com>
	<Pine.LNX.4.62.0804021604050.19171@vortex.ukshells.co.uk>
Message-ID: <B597ADFC46B67741B18EA6AA13613FF77687D2@email002.lsu.edu>

Folks,
 
Things change.  That includes Datums.  Even National publications of "official" datum transformation parameters change from time-to-time.  WGS84, ITRFxx, etc., are various realizations of the shifting continents.  We often find 7-parameter transformations being published without any indication of which "sense" of rotations is supported.  The only way to have a good guess is when a test point is provided by a National government.  Nevertheless, as datums evolve, so do the transformations.  How do you keep up?
 
Check, and re-check every time you need such a transformation.  Usually, but not always, a national govt. will publish a notice that things have changed.
 
If this were simpler, what would consulting Cartographers and Geodesists do for a living?
 
Cliff Mugnier
LOUISIANA STATE UNIVERSITY

________________________________

From: proj-bounces at lists.maptools.org on behalf of Paul Kelly
Sent: Wed 02-Apr-08 11:24
To: PROJ.4 and general Projections Discussions
Subject: Re: [Proj] epsg parameters



On Wed, 2 Apr 2008, Frank Warmerdam wrote:

> The problem is that if EPSG offers more than one transformation to
> WGS84 for a datum, the automated translation gives up and offers none
> of them preferring for the user to make the decision themselves.
>
> I suspect, given sufficient investigation, you would find that EPSG
> offers more than one transformation for the problem datums.
>
> I'm not saying this is a good decision in the automated translation.

I tend to think it's the best you can do given the situation. We have had
a similar/related issue in GRASS, and the current kludgy solution is to
store our own database of datum transformation parameters along with extra
information on where geographically the transformation is valid and the
accuracy of it. When importing a co-ordinate system with ambiguous datum
information the user is then presented with this choice and forced to make
it.

I think it's in general a bad idea to include datum transformation
information without any user interaction, because many users have the
misconception that there is somehow a "correct" set of parameters which
will always give them accurate results. When of course, as we've seen
discussed on this list many times, accurate datum transformation is very
much a localised thing: a transformation that gives accurate results in
one region of a country may give very inaccurate results in another
region, and a transformation that covers the whole country is in general
not very accurate anywhere.

One minor complication that I don't think I have ever seen given much
discussion (and the main reason I'm sending this mail) is that some
classical datums have recently been redefined by the relevant national
mapping agencies in terms of their relationship to WGS84 (see Note 1) In
this situation then (in my understanding) there is one and only one
"correct" set of datum transformation parameters, and it *would* be valid
to include this without any user interaction (I'm not necessarily talking
about generation of the PROJ epsg file, just in general).
I was wondering though did anybody know if there was any standard way of
specifying (for example in the WKT format, or in the EPSG database) that a
set of datum transformation parameters is "exact" in this way?

Paul

Note 1: E.g. OSGB36 in the UK
http://www.ordnancesurvey.co.uk/oswebsite/gps/information/coordinatesystemsinfo/guidecontents/guide5.html
Although this uses a grid-based datum shift rather than a set of
parameters, the prinicple of the datum having an exact relationship with
WGS84 is still the same.
_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080402/5b906aa5/attachment.html>

From glynn at gclements.plus.com  Wed Apr  2 13:15:45 2008
From: glynn at gclements.plus.com (Glynn Clements)
Date: Wed, 2 Apr 2008 21:15:45 +0100
Subject: [Proj] epsg parameters
In-Reply-To: <Pine.LNX.4.62.0804021604050.19171@vortex.ukshells.co.uk>
References: <47F36461.3060500@free.fr> <47F383C9.40800@pobox.com>
	<Pine.LNX.4.62.0804021604050.19171@vortex.ukshells.co.uk>
Message-ID: <18419.59761.327004.982435@cerise.gclements.plus.com>


Paul Kelly wrote:

> I think it's in general a bad idea to include datum transformation 
> information without any user interaction, because many users have the 
> misconception that there is somehow a "correct" set of parameters which 
> will always give them accurate results. When of course, as we've seen 
> discussed on this list many times, accurate datum transformation is very 
> much a localised thing: a transformation that gives accurate results in 
> one region of a country may give very inaccurate results in another 
> region, and a transformation that covers the whole country is in general 
> not very accurate anywhere.

There's also the issue that being "accurate" may be less important
than being consistent with whatever data you're using.

-- 
Glynn Clements <glynn at gclements.plus.com>


From jrepetto at free.fr  Thu Apr  3 03:27:43 2008
From: jrepetto at free.fr (Jean-Claude Repetto)
Date: Thu, 03 Apr 2008 12:27:43 +0200
Subject: [Proj] Proj.4 bugzilla ?
Message-ID: <47F4B11F.7010905@free.fr>

The links on the proj.4 main page do not work :

<http://bugzilla.remotesensing.org/enter_bug.cgi?product=PROJ.4>
Not Found
The requested URL /enter_bug.cgi was not found on this server

<http://bugzilla.remotesensing.org/buglist.cgi?product=PROJ.4>
Not Found
The requested URL /buglist.cgi was not found on this server.


From doganay44 at gmail.com  Thu Apr  3 09:14:03 2008
From: doganay44 at gmail.com (=?UTF-8?Q?Do=C4=9Fan_--?=)
Date: Thu, 3 Apr 2008 19:14:03 +0300
Subject: [Proj] get lat\lon from mouse position on image
In-Reply-To: <47F322B9.2080205@dspsolutions.de>
References: <f36c53520804010946w4868d516j890f2271e90bbe9e@mail.gmail.com>
	<47F322B9.2080205@dspsolutions.de>
Message-ID: <f36c53520804030914j7c04afeco2bb7c8063219596a@mail.gmail.com>

thanks , i will get code from QLandkarte :) i will learn a lot from your
prog.

2008/4/2, Oliver Eichler <oliver.eichler at dspsolutions.de>:
>
> Hi Doğan
>
> I do the same in QLandkarte GT but I convert the image to a referenced
> GeoTiff first. By that I can simply read all necessary information from the
> file instead of calculating it over and over again. That will make the
> render function more generic. I use GDAL to do so. gdalwarp will skew your
> image to any projection you want. Most likely you want the image's original
> projection to avoid heavy distortions. As QLandkarte GT is open source you
> are welcome to extract any information you need from it's source code. The
> classes CCreateMapGeoTiff and CMapQMAP will be of interest for you.
>
> HTH
>
> Oliver
>
> > Hi, I have *.jpg of a map and want to get lat\lon of mouse position on
> > *.jpg.
> > I know the *.jpg file size (ex. 1024x768) and *.jpg lat\lon top_left
> > corner(ex. N2030,320,E01015,400)
> > and bottom_right corner(ex.N1030,220,E01814,300 )
> > I do this as below code.
> > How to do this with proj4 lib or another more efficient way.
> > (if ı use another *.jpg of map projections different from mercator below
> > code wil be fail.(?)  )
> >
> >
> > QString Map::Y2Lat(int Y_size_of_image)//Y_size of jpg ( 768 )
> > {
> >
> > //distVincenty(lat1,long1,lat2,long2) returns distance in NM. //here
> > give long same because , want to know *.jpg y size in real.
> > double YRealDist = distVincenty("2030,320","N","01015,400","E",
> > "1030,220","N","01015,400","E");
> >
> > double YPerPixel=YRealDist/Y_size_of_image;// real distance per pixel of
> > image
> >
> > double convfaktor=YPerPixel*currentMousePosY;//real distance from top to
> > current mouse pos.
> >
> > //gives destination lat  from top_left  convfaktor miles with course 180
> > QString newLatLon =
> > destinationVincenty("2030,320","N","01015,400","E",180.,convfaktor);
> > QString Latitude =toDMS(newLatLon.toDouble(),"NS");
> >
> > qDebug()<<"Current mouse position Lat = "<< Latitude ;
> > return Latitude;
> > }
> >
> > QString Map::X2Long(int X_size_of_image)//X_size of jpg ( 1024 )
> > {
> > double top_left_lon = dm2dd("01015,400","E");//long in degree
> >
> > double bottom_right_lon = dm2dd("01814,300","E");//long in degree
> >
> > double XRealDist=(bottom_right_lon-top_left_lon)*60.;//using mercator
> > map 1 degree 60 miles
> >
> > double XPerPixel=XRealDist/X_size_of_image;
> >
> > double convfaktor=XPerPixel*currentPosX;//top left to mouse pos distance
> > in X
> >
> > double newLong=top_left_lon + convfaktor/60.;
> >
> > QString Long=toDMS(newLong,"EW");
> >
> > qDebug()<<"Current mouse position Long = "<< Long ;
> > return Long;
> >
> > }
> >
> > ------------------------------------------------------------------------
> >
> > _______________________________________________
> > Proj mailing list
> > Proj at lists.maptools.org
> > http://lists.maptools.org/mailman/listinfo/proj
> >
>
>
> --
> ------------------------------------------------------------------------
> Ingenieure Kellermann, Voigt, Hoepfl, Eichler und Weidner, Partnerschaft
>
> Email: oliver.eichler at dspsolutions.de         http://www.dspsolutions.de
> Phone: +49(0) 941 / 830 551                   Embedded Signal Processing
> Fax:   +49(0) 941 / 830 5579                  DIN EN ISO 9001:2000
>
> Sitz der Partnerschaft ist Regensburg         Schwandorfer Str. 3a
> Registergericht Regensburg: PR14              93059 Regensburg, Germany
> ------------------------------------------------------------------------
>
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080403/39fb22bc/attachment.html>

From chatandcraft at gmail.com  Fri Apr  4 05:16:44 2008
From: chatandcraft at gmail.com (eric cire)
Date: Fri, 4 Apr 2008 12:16:44 +0000
Subject: [Proj] proj4 debian package unavailable
Message-ID: <508312b20804040516g317d1f34p16eb10cfc6e96ee7@mail.gmail.com>

Hi,
I have been unable to locate the proj4 debian  package yet i have already
installed it  on a different machine (unfortunately i no longer have access
to it..)  using apt-get ..
All the links available on the net (after googling proj4 + debian), lead to
a 404 page ..
Does anyone have an idea of where to find, or just the parameters to use for
apt-get ie. the source (for sources.list) and the package name (to use in
apt-get install <package-name>).

Thanks in advance.
Eric.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080404/edb3a078/attachment.html>

From psg at debian.org  Fri Apr  4 05:46:55 2008
From: psg at debian.org (Peter S Galbraith)
Date: Fri, 04 Apr 2008 08:46:55 -0400
Subject: [Proj] proj4 debian package unavailable 
In-Reply-To: Message from "eric cire" <chatandcraft@gmail.com> of "Fri,
	04 Apr 2008 12:16:44 -0000."
	<508312b20804040516g317d1f34p16eb10cfc6e96ee7@mail.gmail.com> 
References: <508312b20804040516g317d1f34p16eb10cfc6e96ee7@mail.gmail.com> 
Message-ID: <21038.1207313215@mixing.lau.dfo-mpo.ca>

eric cire <chatandcraft at gmail.com> wrote:

> Hi,
> I have been unable to locate the proj4 debian  package yet i have already 
> installed it  on a different machine (unfortunately i no longer have access to
> it..)  using apt-get ..
> All the links available on the net (after googling proj4 + debian), lead to a
> 404 page ..
> Does anyone have an idea of where to find, or just the parameters to use for
> apt-get ie. the source (for sources.list) and the package name (to use in
> apt-get install <package-name>).
> Thanks in advance.
> Eric.

It's simply called proj.  See:

 http://packages.debian.org/proj

$ aptitude install proj

-- 
Peter S. Galbraith, Debian Developer          <psg at debian.org>
                                 http://people.debian.org/~psg
GPG key 1024/D2A913A1 - 97CE 866F F579 96EE  6E68 8170 35FF 799E


From chatandcraft at gmail.com  Fri Apr  4 06:04:28 2008
From: chatandcraft at gmail.com (eric cire)
Date: Fri, 4 Apr 2008 13:04:28 +0000
Subject: [Proj] Re: proj4 debian package unavailable
In-Reply-To: <508312b20804040516g317d1f34p16eb10cfc6e96ee7@mail.gmail.com>
References: <508312b20804040516g317d1f34p16eb10cfc6e96ee7@mail.gmail.com>
Message-ID: <508312b20804040604v35af211ehdb7202f6458a85fd@mail.gmail.com>

Thanks alot Peter..

On Fri, Apr 4, 2008 at 12:16 PM, eric cire <chatandcraft at gmail.com> wrote:

> Hi,
> I have been unable to locate the proj4 debian  package yet i have already
> installed it  on a different machine (unfortunately i no longer have access
> to it..)  using apt-get ..
> All the links available on the net (after googling proj4 + debian), lead
> to a 404 page ..
> Does anyone have an idea of where to find, or just the parameters to use
> for apt-get ie. the source (for sources.list) and the package name (to use
> in apt-get install <package-name>).
>
> Thanks in advance.
> Eric.
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080404/a4e01b66/attachment.html>

From craig.destigter at koordinates.com  Tue Apr 15 17:19:13 2008
From: craig.destigter at koordinates.com (Craig de Stigter)
Date: Wed, 16 Apr 2008 12:19:13 +1200
Subject: [Proj] patch: fallback to 7/3 param transform when gridshift
	transform fails
Message-ID: <e260aad40804151719o34e3b4aex9258f07ae95e3ef7@mail.gmail.com>

Hi list

We came across some out-of-grid geometries when transforming from EPSG:27200
(New Zealand Map Grid). The results returned included INFs and NANs, which
was hardly useful.

As a solution I wrote a patch for the pj_datum_transform function in Proj.
The patch first tries to convert coordinates using the gridshift approach if
available, but on failure will fall back to using the appropriate 3- or
7-parameter transform.

The Bugzilla page linked from http://www.remotesensing.org/proj/ is not
working, so I've attached the patch to this message for your perusal.
Comments are welcome.

Regards
Craig de Stigter

-- 
Koordinates Ltd (formerly One Track Mind).
PO Box 1604, Shortland St, Auckland, New Zealand
Phone +64-9-966 0433 Fax +64-9-969 0045
Web http://www.koordinates.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080416/bb265d59/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: datum_gridshift_fallback.diff
Type: text/x-diff
Size: 3243 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080416/bb265d59/attachment.diff>

From mfinn at usgs.gov  Tue Apr 15 20:02:11 2008
From: mfinn at usgs.gov (Michael P Finn)
Date: Tue, 15 Apr 2008 22:02:11 -0500
Subject: [Proj] Michael P Finn of the USGS/ National Geospatial Technical
 Operations Center is out of the office.
Message-ID: <OF38A465A2.139F128E-ON8625742D.0010AE36-8625742D.0010AE37@usgs.gov>


I will be out of the office starting  04/11/2008 and will not return until
04/21/2008.

I will be unable to check e-mail regularly while I am out. If I can't
respond to your message while I am out, then I will when I return. If you
have anything that cannot wait, please contact my colleague, Dr. E. Lynn
Usery, at usery at usgs.gov.     Mike



From hamish_b at yahoo.com  Wed Apr 16 02:21:27 2008
From: hamish_b at yahoo.com (Hamish)
Date: Wed, 16 Apr 2008 02:21:27 -0700 (PDT)
Subject: [Proj] patch: fallback to 7/3 param transform when gridshift
	transform fails
In-Reply-To: <e260aad40804151719o34e3b4aex9258f07ae95e3ef7@mail.gmail.com>
Message-ID: <851333.15691.qm@web45802.mail.sp1.yahoo.com>

Craig de Stigter wrote:
> We came across some out-of-grid geometries when transforming from
> EPSG:27200 (New Zealand Map Grid). The results returned included
> INFs and NANs, which was hardly useful.
> 
> As a solution I wrote a patch for the pj_datum_transform function in
> Proj. The patch first tries to convert coordinates using the gridshift
> approach if available, but on failure will fall back to using the
> appropriate 3- or 7-parameter transform.


Yes, the distortion grid hugs the coast quite closely in places.
(regardless of file size issues, it's based on trig stations, so that's
hardly surprising)

I've experienced this in GRASS when plotting a lat/lon grid over a NZMG
location with the 'd.grid -g' or 'ps.map geogrid' modules. I had to
switch to the 7 term transform to get it to work. But then at a scale
where you're going far offshore switching away from the grid probably
doesn't make any difference. (for me it was just ~10-20km west of
Fiordland when it failed)

NZMG distortion gets very bad (totally wonky) far away from the main
coasts, if your data is from like the Kermadec, Chatham, or Auckland
Islands I think you probably should try hard to use something else.
(somewhen I made a screenshot of that)


One worry I have with the patch is that it makes the data of uneven
quality across the dataset. (but again NZMG/NZGD1949 is pretty much ????
at sea anyway, so maybe who cares?)



regards,
Hamish

Dept Marine Science
University of Otago




      ____________________________________________________________________________________
Be a better friend, newshound, and 
know-it-all with Yahoo! Mobile.  Try it now.  http://mobile.yahoo.com/;_ylt=Ahu06i62sR8HDtDypao8Wcj9tAcJ



From jrepetto at free.fr  Wed Apr 16 03:43:08 2008
From: jrepetto at free.fr (Jean-Claude Repetto)
Date: Wed, 16 Apr 2008 12:43:08 +0200
Subject: [Proj] Proj.4 bugzilla ?
In-Reply-To: <47F4B11F.7010905@free.fr>
References: <47F4B11F.7010905@free.fr>
Message-ID: <4805D83C.2090607@free.fr>

Jean-Claude Repetto wrote :
> The links on the proj.4 main page do not work :
> 
> <http://bugzilla.remotesensing.org/enter_bug.cgi?product=PROJ.4>
> Not Found
> The requested URL /enter_bug.cgi was not found on this server
> 
> <http://bugzilla.remotesensing.org/buglist.cgi?product=PROJ.4>
> Not Found
> The requested URL /buglist.cgi was not found on this server.


Still dead ! Or may be the address has changed ?


From neteler at osgeo.org  Wed Apr 16 05:58:53 2008
From: neteler at osgeo.org (Markus Neteler)
Date: Wed, 16 Apr 2008 14:58:53 +0200
Subject: [Proj] Proj.4 bugzilla ?
In-Reply-To: <4805D83C.2090607@free.fr>
References: <47F4B11F.7010905@free.fr> <4805D83C.2090607@free.fr>
Message-ID: <86782b610804160558s30878e3bk292b8bfc026674d5@mail.gmail.com>

On Wed, Apr 16, 2008 at 12:43 PM, Jean-Claude Repetto <jrepetto at free.fr> wrote:
> Jean-Claude Repetto wrote :
>
> > The links on the proj.4 main page do not work :
> >
> > <http://bugzilla.remotesensing.org/enter_bug.cgi?product=PROJ.4>
> > Not Found
> > The requested URL /enter_bug.cgi was not found on this server
> >
> > <http://bugzilla.remotesensing.org/buglist.cgi?product=PROJ.4>
> > Not Found
> > The requested URL /buglist.cgi was not found on this server.
> >
>
>
>  Still dead ! Or may be the address has changed ?

The machine was moved to telascience.org infrastructure (San
Diego):

nslookup bugzilla.remotesensing.org
 Name:   bugzilla.remotesensing.org
 Address: 198.202.74.219

nslookup 198.202.74.219
 219.74.202.198.in-addr.arpa     name = marsctl1.sdsc.edu.

Apparently bugzilla isn't installed yet (possibly they want to
migrate to trac).

I suggest to open a ticket for this here:
http://trac.osgeo.org/osgeo/

Markus


From warmerdam at pobox.com  Wed Apr 16 06:33:02 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed, 16 Apr 2008 09:33:02 -0400
Subject: [Proj] Proj.4 bugzilla ?
In-Reply-To: <4805D83C.2090607@free.fr>
References: <47F4B11F.7010905@free.fr> <4805D83C.2090607@free.fr>
Message-ID: <4806000E.20408@pobox.com>

Jean-Claude Repetto wrote:
> Jean-Claude Repetto wrote :
>> The links on the proj.4 main page do not work :
>>
>> <http://bugzilla.remotesensing.org/enter_bug.cgi?product=PROJ.4>
>> Not Found
>> The requested URL /enter_bug.cgi was not found on this server
>>
>> <http://bugzilla.remotesensing.org/buglist.cgi?product=PROJ.4>
>> Not Found
>> The requested URL /buglist.cgi was not found on this server.
> 
> 
> Still dead ! Or may be the address has changed ?

Jean-Claude,

Unfortunately the disk on which the bugzilla lived was corrupted, and
there does not appear to be any backups/etc.  I am anticipating setting
up a new bug tracker at OSGeo but I am very sad to have lost the past bug
history.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org



From hamish_b at yahoo.com  Wed Apr 16 14:36:33 2008
From: hamish_b at yahoo.com (Hamish)
Date: Wed, 16 Apr 2008 14:36:33 -0700 (PDT)
Subject: [Proj] Proj.4 bugzilla ?
In-Reply-To: <4806000E.20408@pobox.com>
Message-ID: <488647.90547.qm@web45816.mail.sp1.yahoo.com>

> Jean-Claude Repetto wrote:
> >> The links on the proj.4 main page do not work :
> >> <http://bugzilla.remotesensing.org/buglist.cgi?product=PROJ.4>
> >> Not Found
> >> The requested URL /buglist.cgi was not found on this server.

Frank wrote:
> Unfortunately the disk on which the bugzilla lived was corrupted, and
> there does not appear to be any backups/etc.  I am anticipating setting
> up a new bug tracker at OSGeo but I am very sad to have lost the past
> bug history.

Unfortunately the Wayback Machine's last copy of the site is way back on
5 March 2005, but there are 63 bugs listed there you can at least grab
the titles of.

http://web.archive.org/web/*/http://bugzilla.remotesensing.org/buglist.cgi?product=PROJ.4


better than nothing,
Hamish



      ____________________________________________________________________________________
Be a better friend, newshound, and 
know-it-all with Yahoo! Mobile.  Try it now.  http://mobile.yahoo.com/;_ylt=Ahu06i62sR8HDtDypao8Wcj9tAcJ



From tutey at o2.pl  Wed Apr 23 11:35:19 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Wed, 23 Apr 2008 20:35:19 +0200
Subject: [Proj] Re: [Qgis-developer] Re: srs.db epsg's added, shrinking?
In-Reply-To: <4807AD5B.1080409@o2.pl>
References: <47F69506.3010207@o2.pl>
	<47FF8049.3050201@duif.net>	<4800B7D9.6030307@duif.net>	<200804131343.01414.marco.hugentobler@karto.baug.ethz.ch>	<d368056f0804140538k1298c472m57ddcc08c7a8a6ce@mail.gmail.com>	<48079C6E.1060508@o2.pl>
	<4807A225.1000404@pobox.com> <4807AD5B.1080409@o2.pl>
Message-ID: <480F8167.7080908@o2.pl>

Maciej Sieczka pisze:
> Before going on - I'm getting puzzled. Based on EPSG:2180:
> 
> PostGIS 1.3.3 (just released few days ago), their spatial_ref_sys table:
> column 'proj4text column' : k = 0.999300
> column 'srtext' : k = 0.9993
> 
> GDAL 1.5.0 + svn:
> files pcs.csv, projop_wparm.csv, ecw_cs.wkt: k = 0.9993
> 
> PROJ 4.6.0, epsg file:
> k = 0.9993000000000001
> 
> Shouldn't the number of zeros in '+k' be identical in all those software 
> in all places for them to interact smoothly? And why does the PROJ have 
> a bogus value? In 4.5.0 it was 0.999300.
> 
> I was going to trimm the spurios zeros from scale factor definitions in 
> QGIS srs.db (so that we get rid of the incompatibility as described in 
> this therad before [1]), but I'm now wondering whether fixing QGIS-GDAL 
> interaction this way would eg. brake QGIS-PostGIS or something else 
> instead?

Hi

Sorry if I'm a pain, but as nobody replies I don't know what to think 
about the issue and how to proceed with srs.db update. Could someone 
(this probly means Frank who has best insight into SRS stuff of his 
software and software he contributes to) please take a closer look and 
tell me if there are problems to expect due to differences in 'k' 
parameter formatting in PROJ, GDAL, PostGIS and QGIS

Can I just trimm of the spurious zeros in all k parameters in srs.db or 
would that bring side effects in interaction of the mentioned software 
(propably add MapServer to the list, as QGIS can create MapServer map 
files)?

Moreover I'm affraid PROJ.4 4.6.0 uses wrong (AFAICT) values for many 
coordinate systems. Compare the PROJ.4's epsg file in version 4.5.0 and 
4.6.0, and see how parameters differ (in terms of real numbers, not only 
number of extra zeros) in many SRS definitions, eg. EPSG 26794-26798, 
2180, 2255-2262, 2057, 2000-2007 and more. Looks like some rounding 
errors (?). Eg.:

4.5.0:
<4009> +proj=longlat +a=6378450.047548896 +b=6356826.621488444 +no_defs <>

4.6.0:
<4009> +proj=longlat +a=6378450.047548897 +b=6356826.621488445 +no_defs  <>

4.5.0:
<2965> +proj=tmerc +lat_0=37.5 +lon_0=-85.66666666666667 +k=0.999967 
+x_0=99999.99989839978 +y_0=249999.9998983998 +ellps=GRS80 +datum=NAD83 
+to_meter=0.3048006096012192 +no_defs  <>

4.6.0:
<2965> +proj=tmerc +lat_0=37.5 +lon_0=-85.66666666666667 +k=0.999966667 
+x_0=99999.99989839978 +y_0=249999.9998983998 +ellps=GRS80 +datum=NAD83 
+to_meter=0.3048006096012192 +no_defs  <>

4.5.0:
<2180> +proj=tmerc +lat_0=0 +lon_0=19 +k=0.999300 +x_0=500000 
+y_0=-5300000 +ellps=GRS80 +units=m +no_defs  <>

4.6.0:
<2180> +proj=tmerc +lat_0=0 +lon_0=19 +k=0.9993000000000001 +x_0=500000 
+y_0=-5300000 +ellps=GRS80 +units=m +no_defs  <>

Maciek


From warmerdam at pobox.com  Wed Apr 23 11:50:24 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed, 23 Apr 2008 14:50:24 -0400
Subject: [Proj] Re: [Qgis-developer] Re: srs.db epsg's added, shrinking?
In-Reply-To: <480F8167.7080908@o2.pl>
References: <47F69506.3010207@o2.pl> <47FF8049.3050201@duif.net>
	<4800B7D9.6030307@duif.net>
	<200804131343.01414.marco.hugentobler@karto.baug.ethz.ch>
	<d368056f0804140538k1298c472m57ddcc08c7a8a6ce@mail.gmail.com>
	<48079C6E.1060508@o2.pl> <4807A225.1000404@pobox.com>
	<4807AD5B.1080409@o2.pl> <480F8167.7080908@o2.pl>
Message-ID: <480F84F0.2030108@pobox.com>

Maciej Sieczka wrote:
> Hi
> 
> Sorry if I'm a pain, but as nobody replies I don't know what to think 
> about the issue and how to proceed with srs.db update. Could someone 
> (this probly means Frank who has best insight into SRS stuff of his 
> software and software he contributes to) please take a closer look and 
> tell me if there are problems to expect due to differences in 'k' 
> parameter formatting in PROJ, GDAL, PostGIS and QGIS
> 
> Can I just trimm of the spurious zeros in all k parameters in srs.db or 
> would that bring side effects in interaction of the mentioned software 
> (propably add MapServer to the list, as QGIS can create MapServer map 
> files)?
> 
> Moreover I'm affraid PROJ.4 4.6.0 uses wrong (AFAICT) values for many 
> coordinate systems. Compare the PROJ.4's epsg file in version 4.5.0 and 
> 4.6.0, and see how parameters differ (in terms of real numbers, not only 
> number of extra zeros) in many SRS definitions, eg. EPSG 26794-26798, 
> 2180, 2255-2262, 2057, 2000-2007 and more. Looks like some rounding 
> errors (?). Eg.:
> 
> 4.5.0:
> <4009> +proj=longlat +a=6378450.047548896 +b=6356826.621488444 +no_defs <>
> 
> 4.6.0:
> <4009> +proj=longlat +a=6378450.047548897 +b=6356826.621488445 +no_defs  <>

Maciej,

I believe these problems are due to a change in GDAL/OGR to use CPLAtof()
which gives slightly different results than atof() in some cases.

   http://trac.osgeo.org/gdal/ticket/2036

Perhaps you could work with Andrey on this problem and then I could
regenerate things.

BTW, we use a custom CPLAtof() so that coordinate systems with non "C"
locale numbers can be parsed, and so that "C" locale numbers can be
parsed in non "C" locales.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org



From tutey at o2.pl  Thu Apr 24 00:48:36 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Thu, 24 Apr 2008 09:48:36 +0200
Subject: [Proj] SRS stuff broken in GDAL and PROJ
In-Reply-To: <480F84F0.2030108@pobox.com>
References: <47F69506.3010207@o2.pl> <47FF8049.3050201@duif.net>
	<4800B7D9.6030307@duif.net>
	<200804131343.01414.marco.hugentobler@karto.baug.ethz.ch>
	<d368056f0804140538k1298c472m57ddcc08c7a8a6ce@mail.gmail.com>
	<48079C6E.1060508@o2.pl> <4807A225.1000404@pobox.com>
	<4807AD5B.1080409@o2.pl> <480F8167.7080908@o2.pl>
	<480F84F0.2030108@pobox.com>
Message-ID: <48103B54.3020101@o2.pl>

Frank Warmerdam pisze:
> Maciej Sieczka wrote:

>> I'm affraid PROJ.4 4.6.0 uses wrong (AFAICT) values for many 
>> coordinate systems. Compare the PROJ.4's epsg file in version 4.5.0 
>> and 4.6.0, and see how parameters differ (in terms of real numbers, 
>> not only number of extra zeros) in many SRS definitions, eg. EPSG 
>> 26794-26798, 2180, 2255-2262, 2057, 2000-2007 and more. Looks like 
>> some rounding errors (?). Eg.:
>>
>> 4.5.0:
>> <4009> +proj=longlat +a=6378450.047548896 +b=6356826.621488444 
>> +no_defs <>
>>
>> 4.6.0:
>> <4009> +proj=longlat +a=6378450.047548897 +b=6356826.621488445 
>> +no_defs  <>

> I believe these problems are due to a change in GDAL/OGR to use CPLAtof()
> which gives slightly different results than atof() in some cases.
> 
>   http://trac.osgeo.org/gdal/ticket/2036

Ouch. So SRS stuff is pretty much broken in GDAL and PROJ. I subscribed 
to the ticket and I'd be happy to help with testing.

> Perhaps you could work with Andrey on this problem and then I could
> regenerate things.

Please do. Can you say what is the latest safe GDAL version? As for PROJ 
- is it necessary to revert to 4.5.0 or is copying the epsg file from 
4.5.0 to 4.6.0 installation enough?

> BTW, we use a custom CPLAtof() so that coordinate systems with non "C"
> locale numbers can be parsed, and so that "C" locale numbers can be
> parsed in non "C" locales.

If that's not too much offtopic, can you explain why GDAL/OGR supports 
non-C locale numbers in SRS stuff? I never saw an SRS definition with 
comma instead of dot as a decimal separator (though I've been living in 
a non-C country). Are they common?

Maciek


From mwimer at usgs.gov  Thu Apr 24 09:02:34 2008
From: mwimer at usgs.gov (Mark Wimer)
Date: Thu, 24 Apr 2008 12:02:34 -0400
Subject: [Proj] cs2cs additional fields beyond coords passed thru
Message-ID: <OFC54277F2.3D45210D-ON85257435.005672C3-85257435.00582430@usgs.gov>

Hi all, 

I am new to using cs2cs, and the documentation says that info to the right 
of the coordinates get sent to output. It specifies this is true for ASCII 
files. 

I was able to pass a unique ID through after some trial and error, 
although it turns an integer into a decimal numeric type (adds ".00"). But 
if I pass anything with text or any more than one field, it does not get 
through: it is ignored. 

Is this expected behavior?

Input data  file looks like this, with long, lat, and site ID:

(mdtext.txt is the file)
-120.34553 78.01231 2121123 a
-120.44543 78.02231 2121124 b
-120.48698 78.03321 2121125 c
-120.88343 78.09982 2121126 d

Command is this:
cs2cs +proj=longlat +ellps=GRS80 +datum=NAD83 +to
 +proj=utm +zone=18 +datum=NAD83  mdtext.txt >mdout.txt

output file mdout.txt looks like this, regardless of what I put after my 
long/lat:

-452007.16      9050449.38 2121123.00
-452875.00      9052899.16 2121124.00
-452697.75      9054457.33 2121125.00
-453914.52      9066316.58 2121126.00



Thanks,
Mark
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080424/10705dfe/attachment.html>

From warmerdam at pobox.com  Thu Apr 24 09:41:21 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu, 24 Apr 2008 12:41:21 -0400
Subject: [Proj] cs2cs additional fields beyond coords passed thru
In-Reply-To: <OFC54277F2.3D45210D-ON85257435.005672C3-85257435.00582430@usgs.gov>
References: <OFC54277F2.3D45210D-ON85257435.005672C3-85257435.00582430@usgs.gov>
Message-ID: <4810B831.5050107@pobox.com>

Mark Wimer wrote:
> 
> Hi all,
> 
> I am new to using cs2cs, and the documentation says that info to the 
> right of the coordinates get sent to output. It specifies this is true 
> for ASCII files.
> 
> I was able to pass a unique ID through after some trial and error, 
> although it turns an integer into a decimal numeric type (adds ".00"). 
>  But if I pass anything with text or any more than one field, it does 
> not get through: it is ignored.
> 
> Is this expected behavior?
> 
> Input data  file looks like this, with long, lat, and site ID:
> 
> (mdtext.txt is the file)
> -120.34553 78.01231 2121123 a
> -120.44543 78.02231 2121124 b
> -120.48698 78.03321 2121125 c
> -120.88343 78.09982 2121126 d
> 
> Command is this:
> cs2cs +proj=longlat +ellps=GRS80 +datum=NAD83 +to
>  +proj=utm +zone=18 +datum=NAD83  mdtext.txt >mdout.txt
> 
> output file mdout.txt looks like this, regardless of what I put after my 
> long/lat:
> 
> -452007.16        9050449.38 2121123.00
> -452875.00        9052899.16 2121124.00
> -452697.75        9054457.33 2121125.00
> -453914.52        9066316.58 2121126.00

Mark,

I suspect the comment about passing through extra text was carried into
the cs2cs docs from the proj command docs but that it isn't true.  The
third value is being treated as "Z" which is why it is processed and
reformatted.

I would suggest you file a doc ticket on this issue, but since we don't have
a bug database currently, I'll just go ahead and try to fix the docs.

If you are just doing the above transformation, you should be able to get
the passthrough you want with the proj command.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org



From warmerdam at pobox.com  Thu Apr 24 09:51:49 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu, 24 Apr 2008 12:51:49 -0400
Subject: [Proj] cs2cs additional fields beyond coords passed thru
In-Reply-To: <OFC54277F2.3D45210D-ON85257435.005672C3-85257435.00582430@usgs.gov>
References: <OFC54277F2.3D45210D-ON85257435.005672C3-85257435.00582430@usgs.gov>
Message-ID: <4810BAA5.8020907@pobox.com>

Mark Wimer wrote:
> 
> Hi all,
> 
> I am new to using cs2cs, and the documentation says that info to the 
> right of the coordinates get sent to output. It specifies this is true 
> for ASCII files.

Mark,

It turns out it was pretty easy to fix cs2cs to support passthrough
(with caveats about the Z value).  I have attached the updated cs2cs
code in case you would like to use it.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

-------------- next part --------------
A non-text attachment was scrubbed...
Name: cs2cs.c
Type: text/x-csrc
Size: 15413 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080424/a6fb1a85/attachment.c>

From mwimer at usgs.gov  Thu Apr 24 10:36:14 2008
From: mwimer at usgs.gov (Mark Wimer)
Date: Thu, 24 Apr 2008 13:36:14 -0400
Subject: [Proj] cs2cs additional fields beyond coords passed thru
In-Reply-To: <4810BAA5.8020907@pobox.com>
Message-ID: <OF2E63806D.40106F5A-ON85257435.005FFAA0-85257435.0060B791@usgs.gov>

Thanks Frank for the response and assistance ! Hope it's helpful to others 
as well. 

thanks again,
Mark



Mark Wimer wrote:
> 
> Hi all,
> 
> I am new to using cs2cs, and the documentation says that info to the 
> right of the coordinates get sent to output. It specifies this is true 
> for ASCII files.

Mark,

It turns out it was pretty easy to fix cs2cs to support passthrough
(with caveats about the Z value).  I have attached the updated cs2cs
code in case you would like to use it.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, 
warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

/******************************************************************************

 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080424/8ed0a77f/attachment.html>

From warmerdam at pobox.com  Thu Apr 24 11:59:50 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu, 24 Apr 2008 14:59:50 -0400
Subject: [Proj] Re: SRS stuff broken in GDAL and PROJ
In-Reply-To: <48103B54.3020101@o2.pl>
References: <47F69506.3010207@o2.pl> <47FF8049.3050201@duif.net>
	<4800B7D9.6030307@duif.net>
	<200804131343.01414.marco.hugentobler@karto.baug.ethz.ch>
	<d368056f0804140538k1298c472m57ddcc08c7a8a6ce@mail.gmail.com>
	<48079C6E.1060508@o2.pl> <4807A225.1000404@pobox.com>
	<4807AD5B.1080409@o2.pl> <480F8167.7080908@o2.pl>
	<480F84F0.2030108@pobox.com> <48103B54.3020101@o2.pl>
Message-ID: <4810D8A6.8070705@pobox.com>

Maciej Sieczka wrote:
>> I believe these problems are due to a change in GDAL/OGR to use CPLAtof()
>> which gives slightly different results than atof() in some cases.
>>
>>   http://trac.osgeo.org/gdal/ticket/2036
> 
> Ouch. So SRS stuff is pretty much broken in GDAL and PROJ. I subscribed 
> to the ticket and I'd be happy to help with testing.

Maciej,

I disagree with the assessment that things are broken.  They are just
a little bent. Numerically the differences are insignificant.  The
issue is with comparing string representations of coordinate systems.

>> Perhaps you could work with Andrey on this problem and then I could
>> regenerate things.
> 
> Please do. Can you say what is the latest safe GDAL version? As for PROJ 
> - is it necessary to revert to 4.5.0 or is copying the epsg file from 
> 4.5.0 to 4.6.0 installation enough?

Generally using the older epsg file is sufficient.

>> BTW, we use a custom CPLAtof() so that coordinate systems with non "C"
>> locale numbers can be parsed, and so that "C" locale numbers can be
>> parsed in non "C" locales.
> 
> If that's not too much offtopic, can you explain why GDAL/OGR supports 
> non-C locale numbers in SRS stuff? I never saw an SRS definition with 
> comma instead of dot as a decimal separator (though I've been living in 
> a non-C country). Are they common?

They are not common, but they do occur and I was asked to make them work.

Best Regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org



From schneider.matthias at tu-ilmenau.de  Fri Apr 25 02:35:24 2008
From: schneider.matthias at tu-ilmenau.de (Matthias Schneider)
Date: Fri, 25 Apr 2008 11:35:24 +0200
Subject: [Proj] problems with windows include
Message-ID: <4811A5DC.3080000@tu-ilmenau.de>

Hi all,

I used the the proj.4 some time ago. Now I want to use it in a VC++ 
project were I need windows includes like "windows.h" and there is the 
problem. If I do that, ther are some errors:

* redeclaration of "PVALUE"
* different use of "LPWSTR"

Is there a possibility to use both - windows includes and proj.4 at the 
same time? Without the windows includes, there are no errors - but I 
need it :(

Best regards,
Matthias


From warmerdam at pobox.com  Fri Apr 25 06:17:15 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri, 25 Apr 2008 09:17:15 -0400
Subject: [Proj] problems with windows include
In-Reply-To: <4811A5DC.3080000@tu-ilmenau.de>
References: <4811A5DC.3080000@tu-ilmenau.de>
Message-ID: <4811D9DB.2040707@pobox.com>

Matthias Schneider wrote:
> Hi all,
> 
> I used the the proj.4 some time ago. Now I want to use it in a VC++ 
> project were I need windows includes like "windows.h" and there is the 
> problem. If I do that, ther are some errors:
> 
> * redeclaration of "PVALUE"
> * different use of "LPWSTR"
> 
> Is there a possibility to use both - windows includes and proj.4 at the 
> same time? Without the windows includes, there are no errors - but I 
> need it :(

Matthias,

The proj_api.h include file should not conflict with windows.h, though it is
known that projects.h can.  So, just include proj_api.h, which is intended
to be the public interface to PROJ.4.

If you really need projects.h for some internal thing ... well good luck.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org



From mateusz at loskot.net  Fri Apr 25 07:16:26 2008
From: mateusz at loskot.net (Mateusz Loskot)
Date: Fri, 25 Apr 2008 16:16:26 +0200
Subject: [Proj] problems with windows include
In-Reply-To: <4811D9DB.2040707@pobox.com>
References: <4811A5DC.3080000@tu-ilmenau.de> <4811D9DB.2040707@pobox.com>
Message-ID: <4811E7BA.4090405@loskot.net>

Frank Warmerdam wrote:
> Matthias Schneider wrote:
>> Hi all,
>> 
>> I used the the proj.4 some time ago. Now I want to use it in a VC++
>>  project were I need windows includes like "windows.h" and there is
>> the problem. If I do that, ther are some errors:
>> 
>> * redeclaration of "PVALUE" * different use of "LPWSTR"
>> 
>> Is there a possibility to use both - windows includes and proj.4 at
>>  the same time? Without the windows includes, there are no errors -
>> but I need it :(
> 
> Matthias,
> 
> The proj_api.h include file should not conflict with windows.h,
> though it is known that projects.h can.  So, just include proj_api.h,
> which is intended to be the public interface to PROJ.4.

Frank,

AFAIR, there has been some fixes applied to projects.h with Windows CE 
port. Anyway, I can include projects.h and compile programs with Visual 
C++ 8.0 without any problems. I've just checked this test:

#include <projects.h>
int main()
{
    aacos(1);
    return 0;
}

Greetings
-- 
Mateusz Loskot
http://mateusz.loskot.net


From schneider.matthias at tu-ilmenau.de  Fri Apr 25 07:35:12 2008
From: schneider.matthias at tu-ilmenau.de (Matthias Schneider)
Date: Fri, 25 Apr 2008 16:35:12 +0200
Subject: [Proj] problems with windows include
In-Reply-To: <4811E7BA.4090405@loskot.net>
References: <4811A5DC.3080000@tu-ilmenau.de> <4811D9DB.2040707@pobox.com>
	<4811E7BA.4090405@loskot.net>
Message-ID: <4811EC20.1090806@tu-ilmenau.de>

Hi,

that works, correct. As I said, try to include the "windows.h" also.

Best regards,
Matthias


Mateusz Loskot schrieb:
> Frank Warmerdam wrote:
>> Matthias Schneider wrote:
>>> Hi all,
>>>
>>> I used the the proj.4 some time ago. Now I want to use it in a VC++
>>>  project were I need windows includes like "windows.h" and there is
>>> the problem. If I do that, ther are some errors:
>>>
>>> * redeclaration of "PVALUE" * different use of "LPWSTR"
>>>
>>> Is there a possibility to use both - windows includes and proj.4 at
>>>  the same time? Without the windows includes, there are no errors -
>>> but I need it :(
>>
>> Matthias,
>>
>> The proj_api.h include file should not conflict with windows.h,
>> though it is known that projects.h can.  So, just include proj_api.h,
>> which is intended to be the public interface to PROJ.4.
>
> Frank,
>
> AFAIR, there has been some fixes applied to projects.h with Windows CE 
> port. Anyway, I can include projects.h and compile programs with 
> Visual C++ 8.0 without any problems. I've just checked this test:
>
> #include <projects.h>
> int main()
> {
>    aacos(1);
>    return 0;
> }
>
> Greetings



From mateusz at loskot.net  Fri Apr 25 07:50:30 2008
From: mateusz at loskot.net (Mateusz Loskot)
Date: Fri, 25 Apr 2008 16:50:30 +0200
Subject: [Proj] problems with windows include
In-Reply-To: <4811EC20.1090806@tu-ilmenau.de>
References: <4811A5DC.3080000@tu-ilmenau.de>
	<4811D9DB.2040707@pobox.com>	<4811E7BA.4090405@loskot.net>
	<4811EC20.1090806@tu-ilmenau.de>
Message-ID: <4811EFB6.1000705@loskot.net>

Matthias Schneider wrote:
> that works, correct. As I said, try to include the "windows.h" also.

Right, I've forgot to include it.
Yes, I confirm it doesn't work.
The only solution I can suggest is to keep windows.h away of PROJ.4 
headers :-)

I never include Windows stuff in the dumb stdafx.h and then include 
stdafx.h in each .cpp file, etc. It helps to control exactly what header 
is included where.

Greetings
-- 
Mateusz Loskot
http://mateusz.loskot.net


From schneider.matthias at tu-ilmenau.de  Fri Apr 25 08:15:56 2008
From: schneider.matthias at tu-ilmenau.de (Matthias Schneider)
Date: Fri, 25 Apr 2008 17:15:56 +0200
Subject: [Proj] problems with windows include
In-Reply-To: <4811EFB6.1000705@loskot.net>
References: <4811A5DC.3080000@tu-ilmenau.de>	<4811D9DB.2040707@pobox.com>	<4811E7BA.4090405@loskot.net>	<4811EC20.1090806@tu-ilmenau.de>
	<4811EFB6.1000705@loskot.net>
Message-ID: <4811F5AC.9070504@tu-ilmenau.de>

Now I work with a kind "buffer class" where I include the projects.h 
only in the cpp file. For my project I use the buffer class include - I 
hope this work ;)

So there should be a clear delimitation between proj.4 and the windows part.

Best regards,
Matthias


Mateusz Loskot schrieb:
> Matthias Schneider wrote:
>> that works, correct. As I said, try to include the "windows.h" also.
>
> Right, I've forgot to include it.
> Yes, I confirm it doesn't work.
> The only solution I can suggest is to keep windows.h away of PROJ.4 
> headers :-)
>
> I never include Windows stuff in the dumb stdafx.h and then include 
> stdafx.h in each .cpp file, etc. It helps to control exactly what 
> header is included where.
>
> Greetings



From mfinn at usgs.gov  Tue Apr 29 09:25:21 2008
From: mfinn at usgs.gov (Michael P Finn)
Date: Tue, 29 Apr 2008 11:25:21 -0500
Subject: [Proj] Fw: Vector Steward Announcement (NGTOC Rolla/Denver)
Message-ID: <OF29C4615E.CD2FCF0C-ON8625743A.005A2631-8625743A.005A377E@usgs.gov>

FYI. May be of interest to some.











5/12/2008
Cartographer, GS-1370-11/12, (CR-JF-DEU)
Why Is It Great To Work For The USGS? Embark on an exciting future! From 
the peaks of the highest mountains to the depths of the deepest seas, the 
U.S. Geological Survey has career opportunities th ...[more]



Vacancy Ann.#: 
CR-2008-0543
Who May Apply: 
Public
Pay Plan: 
GS-1370-11/12
Appointment Term: 
Permanent
Job Status: 
Full-Time
Opening Date: 
4/29/2008
Salary: 
>From 54,494.00 to 90,803.00 USD per year


Interior, US Geological Survey
US-CO-Denver
54,494.00+ 
5/12/2008
Cartographer, GS-1370-11/12, (CR-JF-DEU)
Why Is It Great To Work For The USGS? Embark on an exciting future! From 
the peaks of the highest mountains to the depths of the deepest seas, the 
U.S. Geological Survey has career opportunities th ...[more]



Vacancy Ann.#: 
CR-2008-0543
Who May Apply: 
Public
Pay Plan: 
GS-1370-11/12
Appointment Term: 
Permanent
Job Status: 
Full-Time
Opening Date: 
4/29/2008
Salary: 
>From 54,494.00 to 90,803.00 USD per year


Interior, US Geological Survey
US-MO-Rolla
54,494.00+ 
5/12/2008
Cartographer, GS-1370-11/12, (CR-JF-MP)
Why Is It Great To Work For The USGS? Embark on an exciting future! From 
the peaks of the highest mountains to the depths of the deepest seas, the 
U.S. Geological Survey has career opportunities th ...[more]



Vacancy Ann.#: 
CR-2008-0544
Who May Apply: 
Status Candidates
Pay Plan: 
GS-1370-11/12
Appointment Term: 
Permanent
Job Status: 
Full-Time
Opening Date: 
4/29/2008
Salary: 
>From 54,494.00 to 90,803.00 USD per year


Interior, US Geological Survey
US-CO-Denver
54,494.00+ 
5/12/2008
Cartographer, GS-1370-11/12, (CR-JF-MP)
Why Is It Great To Work For The USGS? Embark on an exciting future! From 
the peaks of the highest mountains to the depths of the deepest seas, the 
U.S. Geological Survey has career opportunities th ...[more]



Vacancy Ann.#: 
CR-2008-0544
Who May Apply: 
Status Candidates
Pay Plan: 
GS-1370-11/12
Appointment Term: 
Permanent
Job Status: 
Full-Time
Opening Date: 
4/29/2008
Salary: 
>From 54,494.00 to 90,803.00 USD per year


Interior, US Geological Survey
US-MO-Rolla
54,494.00+










Paul J Kimsey/GIO/USGS/DOI 
04/29/2008 08:36 AM

To
Kari J Craun/GIO/USGS/DOI at USGS, Ronald Lofton/RGIO/USGS/DOI at USGS, Eric W 
Constance/GIO/USGS/DOI at USGS, Laurie A Davis/GIO/USGS/DOI at USGS, Michael J 
Speak/GIO/USGS/DOI at USGS, Carl W Nelson/GIO/USGS/DOI at USGS, Charles P 
Matthys/GIO/USGS/DOI at USGS, Christine M Lund/GIO/USGS/DOI at USGS, David R 
Hughes/GIO/USGS/DOI at USGS, Brian Bradley/GIO/USGS/DOI at USGS, Timothy A 
Brown/GIO/USGS/DOI at USGS
cc

Subject
Vector Steward Announcement





Kari,

The announcement for the vector data stewards opened today and will close 
on May 12th

OARS - CR-2008-0544
USA Jobs - CR-2008-0543

Paul J. Kimsey
NHD Section Chief,
NHD, Data Stewardship Program
USGS, NGTOC 
Denver Colorado
pjkimsey at usgs.gov
(303)202-4560
fax (303)202-4504
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080429/e620e57a/attachment.html>

From clovis.grinand at ird.fr  Tue Apr 29 09:27:48 2008
From: clovis.grinand at ird.fr (Clovis)
Date: Tue, 29 Apr 2008 19:27:48 +0300
Subject: [Proj] projection of Madagascar
Message-ID: <48174C84.2080202@ird.fr>

Dear list,

I have been quickly through the archive but didn't find any topic on this.
I have a projection issue concerning Madagascar.

Historically there is one dedicated projection called "Laborde", using 
International 1925 ellipsoïd with others parameters.
 From what i know it has been approximate with an oblique mercator 
projection and another called hotine oblique mercator.

Then, I use ArcGIS usually for my application and want slowly to move 
towards R and QGIS, espacially to transform point coordinates in R 
(spTransform). The big problem is that none of three have the same 
projection definition and do display large offset when projecting GPS in 
WGS84 to "Laborde".

 From the projection definition, you will see below that there is some 
agreement (lat of origine, scale factor, false easting, false northing, 
azymuth) but some are completly different : longitude of origine and 
prime meridian etc.

As I consider ArcGIS definition and transformation to be the right one 
(works well!), my question are:
- Is the EPSG parameters up to date?
- How can i tune the parameters to obtain the same coordinates that with 
arcGIS.
- Why lonc and not lon_0 ? (lon_0 does not give anything good)

I hope I m not missing something obvious.

Clovis

# EPSG 29700 Via R
print(CRSargs(CRS("+init=epsg:29700")))
[1] " +init=epsg:29700 +proj=omerc +lat_0=-18.9 +lonc=44.10000000000001 
+alpha=18.9 +k=0.9995000000000001 +x_0=400000 +y_0=800000 +ellps=intl 
+towgs84=-189,-242,-91,0,0,0,0 +pm=paris +units=m +no_defs"

# EPSG 29700 Via GQIS
+proj=omerc +lat_0=-18.9 +lonc=41.76277083000001 +alpha=18.9 
+k=0.9995000000000001 +x_0=400000 +y_0=800000 +ellps=intl 
+towgs84=-189,-242,-91,0,0,0,0 +pm=paris +units=m +no_defs

# Laborde projection in ArcGIS
laborde
Projection: Hotine_Oblique_Mercator_Azimuth_Center
False_Easting: 400000,000000
False_Northing: 800000,000000
Scale_Factor: 0,999500
Azimuth: 18,900000
Longitude_Of_Center: 46,437229
Latitude_Of_Center: -18,900000

GCS_Tananarive_1925
Name: GCS_Tananarive_1925
Remarks:
Angular Unit: Degree (0,017453292519943299)
Prime Meridian: Greenwich (0,000000000000000000)
Datum: D_Tananarive_1925
  Spheroid: International_1924
    Semimajor Axis: 6378388,000000000000000000
    Semiminor Axis: 6356911,946127946500000000
    Inverse Flattening: 297,000000000000000000


From ovv at hetnet.nl  Tue Apr 29 10:01:59 2008
From: ovv at hetnet.nl (OvV_HN)
Date: Tue, 29 Apr 2008 19:01:59 +0200
Subject: [Proj] projection of Madagascar
In-Reply-To: <48174C84.2080202@ird.fr>
References: <48174C84.2080202@ird.fr>
Message-ID: <48175487.1040202@hetnet.nl>

Clovis wrote:

> I have been quickly through the archive but didn't find any topic on this.
> I have a projection issue concerning Madagascar.


There are no good nor usable alternatives for the Laborde projection.
Using the Oblique Mercator you'll get decimeters of error within the 
Madagascar territory.
One example from my software:

Laborde Madagascar:
lat = -16d 11m 23.280s; lon = 44d 27m 27.260s;
lat0 = -18.9; lon0 = 46d 26m 14.025s;
x0 = 4e5; y0 = 8e5; k0 = 0.9995; Az = 18.9;
international 1924 ellipsoid
-> x, y = 188333.848, 1098841.091

Oblique Mercator approximation with the following parameters:
lat0 = -18.9; lon0 = 46d 26m 14.025s; lonc = lon0;
x0 = 4e5; y0 = 8e5; k0 = 0.9995; alfac = 18.9; gamma = alfac;
international 1924 ellipsoid
-> x, y = 188333.847, 1098841.111

(angles in degrees wrt Greenwich, lengths in meters)

These differences may seem small, but wait until you get farther away 
from the central line.

See also section 1.3.6.1 "Laborde projection for Madagascar", EPSG 
Guidance Note 7-2, version April 2008.
There you can also find omerc examples with an error of several decimeters.











From cjmce at lsu.edu  Tue Apr 29 14:06:16 2008
From: cjmce at lsu.edu (Clifford J Mugnier)
Date: Tue, 29 Apr 2008 16:06:16 -0500
Subject: [Proj] projection of Madagascar
References: <48174C84.2080202@ird.fr> <48175487.1040202@hetnet.nl>
Message-ID: <B597ADFC46B67741B18EA6AA13613FF7768824@email002.lsu.edu>

The problem with various software packages being unable to match the Laborde Oblique Mercator projection is not new.  I mentioned the problem in my "Grids and Datums" column of Photogrammetric Engineering and Remote Sensing back in February of 2000.  The Laborde projection is a triple projection on the Gaussian Sphere, and the Hotine Rectified Skew Orthomorphic projection is a triple projection on the aposphere.  They are quite different.  I spent many hours researching that projection back in the early 1980s, and I had to translate a lot from the original French, some of it in Laborde's original handwriting.  It certainly is a tough nut to crack, and apparently too formidable for many programmers that don't read scientific French.  
 
Some kluges have been worked up by ESRI in the past, but I thought Melita Kennedy told me that they (at ESRI) had indeed programmed Laborde's equations for one of their recent versions of Arc/View or Arc/Map.  (However, I could be mistaken.)
 
Cliff Mugnier
LOUISIANA STATE UNIVERSITY
 
For more info on the Grids and Datums of Madagascar, see:     http://www.asprs.org/resources/GRIDS/

________________________________

From: proj-bounces at lists.maptools.org on behalf of OvV_HN
Sent: Tue 29-Apr-08 12:01
To: PROJ.4 and general Projections Discussions
Subject: Re: [Proj] projection of Madagascar



Clovis wrote:

> I have been quickly through the archive but didn't find any topic on this.
> I have a projection issue concerning Madagascar.


There are no good nor usable alternatives for the Laborde projection.
Using the Oblique Mercator you'll get decimeters of error within the
Madagascar territory.
One example from my software:

Laborde Madagascar:
lat = -16d 11m 23.280s; lon = 44d 27m 27.260s;
lat0 = -18.9; lon0 = 46d 26m 14.025s;
x0 = 4e5; y0 = 8e5; k0 = 0.9995; Az = 18.9;
international 1924 ellipsoid
-> x, y = 188333.848, 1098841.091

Oblique Mercator approximation with the following parameters:
lat0 = -18.9; lon0 = 46d 26m 14.025s; lonc = lon0;
x0 = 4e5; y0 = 8e5; k0 = 0.9995; alfac = 18.9; gamma = alfac;
international 1924 ellipsoid
-> x, y = 188333.847, 1098841.111

(angles in degrees wrt Greenwich, lengths in meters)

These differences may seem small, but wait until you get farther away
from the central line.

See also section 1.3.6.1 "Laborde projection for Madagascar", EPSG
Guidance Note 7-2, version April 2008.
There you can also find omerc examples with an error of several decimeters.









_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080429/cad3cf25/attachment.html>

From ndzinn at comcast.net  Tue Apr 29 14:40:49 2008
From: ndzinn at comcast.net (Noel Zinn)
Date: Tue, 29 Apr 2008 16:40:49 -0500
Subject: [Proj] projection of Madagascar
In-Reply-To: <B597ADFC46B67741B18EA6AA13613FF7768824@email002.lsu.edu>
References: <48174C84.2080202@ird.fr> <48175487.1040202@hetnet.nl>
	<B597ADFC46B67741B18EA6AA13613FF7768824@email002.lsu.edu>
Message-ID: <000601c8aa41$b1096c00$6401a8c0@PowerSpec>

Cliff,

 

In February 2007 the EPSG added a correct (IMO) version of the Laborde in
guidance Note 7-2 (coordinate operation method 9813, ProjCRS 29701) based
(in part) on IGN sources.  I think this is what is referred to below.  This
version does use complex math that codes up nicely in Matlab but may be a
problem in other programming languages.  (The text is in English!)  It
agrees well (in results, not algorithm) with Brad Drew's DMA FORTRAN code
(circa 1982), but differs from the OM/HOM "kludge(s)" (ProjCRS 29702) in the
amount you cite (and also documented in GN7-2).  It's what we ought to be
using today.

 

Noel Zinn

Houston

 

  _____  

From: proj-bounces at lists.maptools.org
[mailto:proj-bounces at lists.maptools.org] On Behalf Of Clifford J Mugnier
Sent: Tuesday, April 29, 2008 4:06 PM
To: ovv at hetnet.nl; PROJ.4 and general Projections Discussions
Cc: Proj at lists.maptools.org
Subject: RE: [Proj] projection of Madagascar

 

The problem with various software packages being unable to match the Laborde
Oblique Mercator projection is not new.  I mentioned the problem in my
"Grids and Datums" column of Photogrammetric Engineering and Remote Sensing
back in February of 2000.  The Laborde projection is a triple projection on
the Gaussian Sphere, and the Hotine Rectified Skew Orthomorphic projection
is a triple projection on the aposphere.  They are quite different.  I spent
many hours researching that projection back in the early 1980s, and I had to
translate a lot from the original French, some of it in Laborde's original
handwriting.  It certainly is a tough nut to crack, and apparently too
formidable for many programmers that don't read scientific French.  

 

Some kluges have been worked up by ESRI in the past, but I thought Melita
Kennedy told me that they (at ESRI) had indeed programmed Laborde's
equations for one of their recent versions of Arc/View or Arc/Map.
(However, I could be mistaken.)

 

Cliff Mugnier

LOUISIANA STATE UNIVERSITY

 

For more info on the Grids and Datums of Madagascar, see:
http://www.asprs.org/resources/GRIDS/

  _____  

From: proj-bounces at lists.maptools.org on behalf of OvV_HN
Sent: Tue 29-Apr-08 12:01
To: PROJ.4 and general Projections Discussions
Subject: Re: [Proj] projection of Madagascar

Clovis wrote:

> I have been quickly through the archive but didn't find any topic on this.
> I have a projection issue concerning Madagascar.


There are no good nor usable alternatives for the Laborde projection.
Using the Oblique Mercator you'll get decimeters of error within the
Madagascar territory.
One example from my software:

Laborde Madagascar:
lat = -16d 11m 23.280s; lon = 44d 27m 27.260s;
lat0 = -18.9; lon0 = 46d 26m 14.025s;
x0 = 4e5; y0 = 8e5; k0 = 0.9995; Az = 18.9;
international 1924 ellipsoid
-> x, y = 188333.848, 1098841.091

Oblique Mercator approximation with the following parameters:
lat0 = -18.9; lon0 = 46d 26m 14.025s; lonc = lon0;
x0 = 4e5; y0 = 8e5; k0 = 0.9995; alfac = 18.9; gamma = alfac;
international 1924 ellipsoid
-> x, y = 188333.847, 1098841.111

(angles in degrees wrt Greenwich, lengths in meters)

These differences may seem small, but wait until you get farther away
from the central line.

See also section 1.3.6.1 "Laborde projection for Madagascar", EPSG
Guidance Note 7-2, version April 2008.
There you can also find omerc examples with an error of several decimeters.









_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080429/bd696cbc/attachment.html>

From geraldi.evenden at gmail.com  Tue Apr 29 16:56:52 2008
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Tue, 29 Apr 2008 19:56:52 -0400
Subject: [Proj] projection of Madagascar
In-Reply-To: <000601c8aa41$b1096c00$6401a8c0@PowerSpec>
References: <48174C84.2080202@ird.fr>
	<B597ADFC46B67741B18EA6AA13613FF7768824@email002.lsu.edu>
	<000601c8aa41$b1096c00$6401a8c0@PowerSpec>
Message-ID: <200804291956.52366.geraldi.evenden@gmail.com>


Just to add to the confusion, libproj has always contained the +proj=labrd 
projection based upon a development by John Snyder.  An example script would 
be:

PROJ="+proj=labrd +ellps=intl +azi=18d54 +lat_0=18d54S +lon_0=46d26'13.95E 
+k_0=0.9995 +x_0=400000 +y_0=800000"
lproj $PROJ <<EOF
44d27'27.26 -16d11'23.28
EOF
lproj $PROJ <<EOF -o |lproj -Ii $PROJ
44d27'27.26 -16d11'23.28
EOF

that will yield upon execution:

188336.08       1098841.11
44d27'27.26"E   16d11'23.28"S

The Hotine oblique Mercator (omerc) is defnely not applicable.

Are there any known values known to be acceptable by Madagascar 
surveyors/government?
-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939)  British psychologist


From mkennedy2 at earthlink.net  Tue Apr 29 17:49:13 2008
From: mkennedy2 at earthlink.net (Melita Kennedy)
Date: Tue, 29 Apr 2008 17:49:13 -0700 (GMT-07:00)
Subject: [Proj] Re: projection of Madagascar
Message-ID: <25711426.1209516553943.JavaMail.root@elwamui-norfolk.atl.sa.earthlink.net>

Dear Clovis,

That ArcGIS definition is an approximation; it's not the true Laborde 
implementation and is not guaranteed to give correct answers. 

We do plan to try to implement Laborde in the future, but it just 
hasn't made it to the top of the list yet. 

Melita Kennedy 
ESRI Product Specialist

>Date: Tue, 29 Apr 2008 19:27:48 +0300
>From: Clovis <clovis.grinand at ird.fr>
>Subject: [Proj] projection of Madagascar
>To: proj at lists.maptools.org
>
>Dear list,
>
>I have been quickly through the archive but didn't find any topic on this.
>I have a projection issue concerning Madagascar.
>
>Historically there is one dedicated projection called "Laborde", using 
>International 1925 ellipsoïd with others parameters.
> From what i know it has been approximate with an oblique mercator 
>projection and another called hotine oblique mercator.
>
>Then, I use ArcGIS usually for my application and want slowly to move 
>towards R and QGIS, espacially to transform point coordinates in R 
>(spTransform). The big problem is that none of three have the same 
>projection definition and do display large offset when projecting GPS in 
>WGS84 to "Laborde".
>
> From the projection definition, you will see below that there is some 
>agreement (lat of origine, scale factor, false easting, false northing, 
>azymuth) but some are completly different : longitude of origine and 
>prime meridian etc.
>
>As I consider ArcGIS definition and transformation to be the right one 
>(works well!), my question are:
>- Is the EPSG parameters up to date?
>- How can i tune the parameters to obtain the same coordinates that with 
>arcGIS.
>- Why lonc and not lon_0 ? (lon_0 does not give anything good)
>
>I hope I m not missing something obvious.
>
>Clovis
>
># EPSG 29700 Via R
>print(CRSargs(CRS("+init=epsg:29700")))
>[1] " +init=epsg:29700 +proj=omerc +lat_0=-18.9 +lonc=44.10000000000001 
>+alpha=18.9 +k=0.9995000000000001 +x_0=400000 +y_0=800000 +ellps=intl 
>+towgs84=-189,-242,-91,0,0,0,0 +pm=paris +units=m +no_defs"
>
># EPSG 29700 Via GQIS
>+proj=omerc +lat_0=-18.9 +lonc=41.76277083000001 +alpha=18.9 
>+k=0.9995000000000001 +x_0=400000 +y_0=800000 +ellps=intl 
>+towgs84=-189,-242,-91,0,0,0,0 +pm=paris +units=m +no_defs
>
># Laborde projection in ArcGIS
>laborde
>Projection: Hotine_Oblique_Mercator_Azimuth_Center
>False_Easting: 400000,000000
>False_Northing: 800000,000000
>Scale_Factor: 0,999500
>Azimuth: 18,900000
>Longitude_Of_Center: 46,437229
>Latitude_Of_Center: -18,900000
>
>GCS_Tananarive_1925
>Name: GCS_Tananarive_1925
>Remarks:
>Angular Unit: Degree (0,017453292519943299)
>Prime Meridian: Greenwich (0,000000000000000000)
>Datum: D_Tananarive_1925
>  Spheroid: International_1924
>    Semimajor Axis: 6378388,000000000000000000
>    Semiminor Axis: 6356911,946127946500000000
>    Inverse Flattening: 297,000000000000000000





From clovis.grinand at ird.fr  Wed Apr 30 01:33:09 2008
From: clovis.grinand at ird.fr (Clovis)
Date: Wed, 30 Apr 2008 11:33:09 +0300
Subject: [Proj] Re: projection of Madagascar
In-Reply-To: <25711426.1209516553943.JavaMail.root@elwamui-norfolk.atl.sa.earthlink.net>
References: <25711426.1209516553943.JavaMail.root@elwamui-norfolk.atl.sa.earthlink.net>
Message-ID: <48182EC5.7080000@ird.fr>

Tanks for the details and for the quick answers,

Indeed laborde projection is not implemented by default in the esri 
projection library.
I retrieved this laborde projection approximation from friend working in 
a GIS company for long times. I guess is the the one that is used by 
most governement institution and companies in the country.
This approximation does produce satisfactory results (good match with 
various source of dataset). But i can't say if there decimeter offset as 
I'm not working at that scale.
Hope to see the laborde be implemented in Esri product and all other 
software.

 From the various comments, should i conclude that there is still no 
accurate laborde projection definition and transformation?
Does the 29701 or 29702 should be used as the most correct laborde 
approximation? What is the best one: 29701 or 29702?

Clovis Grinand



Melita Kennedy a écrit :
> Dear Clovis,
>
> That ArcGIS definition is an approximation; it's not the true Laborde 
> implementation and is not guaranteed to give correct answers. 
>
> We do plan to try to implement Laborde in the future, but it just 
> hasn't made it to the top of the list yet. 
>
> Melita Kennedy 
> ESRI Product Specialist
>
>   
>> Date: Tue, 29 Apr 2008 19:27:48 +0300
>> From: Clovis <clovis.grinand at ird.fr>
>> Subject: [Proj] projection of Madagascar
>> To: proj at lists.maptools.org
>>
>> Dear list,
>>
>> I have been quickly through the archive but didn't find any topic on this.
>> I have a projection issue concerning Madagascar.
>>
>> Historically there is one dedicated projection called "Laborde", using 
>> International 1925 ellipsoïd with others parameters.
>> From what i know it has been approximate with an oblique mercator 
>> projection and another called hotine oblique mercator.
>>
>> Then, I use ArcGIS usually for my application and want slowly to move 
>> towards R and QGIS, espacially to transform point coordinates in R 
>> (spTransform). The big problem is that none of three have the same 
>> projection definition and do display large offset when projecting GPS in 
>> WGS84 to "Laborde".
>>
>> From the projection definition, you will see below that there is some 
>> agreement (lat of origine, scale factor, false easting, false northing, 
>> azymuth) but some are completly different : longitude of origine and 
>> prime meridian etc.
>>
>> As I consider ArcGIS definition and transformation to be the right one 
>> (works well!), my question are:
>> - Is the EPSG parameters up to date?
>> - How can i tune the parameters to obtain the same coordinates that with 
>> arcGIS.
>> - Why lonc and not lon_0 ? (lon_0 does not give anything good)
>>
>> I hope I m not missing something obvious.
>>
>> Clovis
>>
>> # EPSG 29700 Via R
>> print(CRSargs(CRS("+init=epsg:29700")))
>> [1] " +init=epsg:29700 +proj=omerc +lat_0=-18.9 +lonc=44.10000000000001 
>> +alpha=18.9 +k=0.9995000000000001 +x_0=400000 +y_0=800000 +ellps=intl 
>> +towgs84=-189,-242,-91,0,0,0,0 +pm=paris +units=m +no_defs"
>>
>> # EPSG 29700 Via GQIS
>> +proj=omerc +lat_0=-18.9 +lonc=41.76277083000001 +alpha=18.9 
>> +k=0.9995000000000001 +x_0=400000 +y_0=800000 +ellps=intl 
>> +towgs84=-189,-242,-91,0,0,0,0 +pm=paris +units=m +no_defs
>>
>> # Laborde projection in ArcGIS
>> laborde
>> Projection: Hotine_Oblique_Mercator_Azimuth_Center
>> False_Easting: 400000,000000
>> False_Northing: 800000,000000
>> Scale_Factor: 0,999500
>> Azimuth: 18,900000
>> Longitude_Of_Center: 46,437229
>> Latitude_Of_Center: -18,900000
>>
>> GCS_Tananarive_1925
>> Name: GCS_Tananarive_1925
>> Remarks:
>> Angular Unit: Degree (0,017453292519943299)
>> Prime Meridian: Greenwich (0,000000000000000000)
>> Datum: D_Tananarive_1925
>>  Spheroid: International_1924
>>    Semimajor Axis: 6378388,000000000000000000
>>    Semiminor Axis: 6356911,946127946500000000
>>    Inverse Flattening: 297,000000000000000000
>>     
>
>
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
>
>   



From ovv at hetnet.nl  Wed Apr 30 02:49:28 2008
From: ovv at hetnet.nl (OvV_HN)
Date: Wed, 30 Apr 2008 11:49:28 +0200
Subject: [Proj] projection of Madagascar
In-Reply-To: <200804291956.52366.geraldi.evenden@gmail.com>
References: <48174C84.2080202@ird.fr>	<B597ADFC46B67741B18EA6AA13613FF7768824@email002.lsu.edu>	<000601c8aa41$b1096c00$6401a8c0@PowerSpec>
	<200804291956.52366.geraldi.evenden@gmail.com>
Message-ID: <481840A8.1050704@hetnet.nl>

Gerald I. Evenden wrote:
> Just to add to the confusion, libproj has always contained the +proj=labrd 
> projection based upon a development by John Snyder.  An example script would 
> be:
> 
> PROJ="+proj=labrd +ellps=intl +azi=18d54 +lat_0=18d54S +lon_0=46d26'13.95E 
> +k_0=0.9995 +x_0=400000 +y_0=800000"
....
> Are there any known values known to be acceptable by Madagascar 
> surveyors/government?

The longitude of origin of 46d 26'13.95E puzzles me.
This value is given in the Madagascar Grids & Datums article by mr.
Mugnier, but he gives a value of 21G with respect to Paris, which would
be the same as 46d 26m 13.95s East of Greenwich (see column 2 on page 
144 of said article).
Hmmm... that would be a new chapter in cartography!

Anyhow, the EPSG GN 7-2 value of 46d 26m 14.025s wrt Greenwich is 
equivalent with exactly 49 grad wrt Paris. Wouldn't that be a more 
logical value?

Oscar van Vlijmen





From ndzinn at comcast.net  Wed Apr 30 03:32:37 2008
From: ndzinn at comcast.net (Noel Zinn)
Date: Wed, 30 Apr 2008 05:32:37 -0500
Subject: [Proj] Re: projection of Madagascar - EPSG
In-Reply-To: <48182EC5.7080000@ird.fr>
References: <25711426.1209516553943.JavaMail.root@elwamui-norfolk.atl.sa.earthlink.net>
	<48182EC5.7080000@ird.fr>
Message-ID: <000001c8aaad$82c17600$6401a8c0@PowerSpec>

Formerly the EPSG carried only 29700 which was the Oblique Mercator
approximation to the Laborde, which (it so happened) exactly duplicated the
results from the ESRI algorithm (about which I know no details).  29700 is
now gone since February 2007 (deprecated or superseded, I'm not sure of the
exact EPSG terminology).  In its place are 29701 (which is - in my opinion -
is the "true" Laborde based on IGN, a handwritten Laborde manuscript and
other French sources) and 29702 (which is the former 29700.  This has been
of some interest to me since my company works in Madagascar.  

Noel Zinn

-----Original Message-----
From: proj-bounces at lists.maptools.org
[mailto:proj-bounces at lists.maptools.org] On Behalf Of Clovis
Sent: Wednesday, April 30, 2008 3:33 AM
To: Melita Kennedy; PROJ.4 and general Projections Discussions
Subject: Re: [Proj] Re: projection of Madagascar

Tanks for the details and for the quick answers,

Indeed laborde projection is not implemented by default in the esri 
projection library.
I retrieved this laborde projection approximation from friend working in 
a GIS company for long times. I guess is the the one that is used by 
most governement institution and companies in the country.
This approximation does produce satisfactory results (good match with 
various source of dataset). But i can't say if there decimeter offset as 
I'm not working at that scale.
Hope to see the laborde be implemented in Esri product and all other 
software.

 From the various comments, should i conclude that there is still no 
accurate laborde projection definition and transformation?
Does the 29701 or 29702 should be used as the most correct laborde 
approximation? What is the best one: 29701 or 29702?

Clovis Grinand



Melita Kennedy a écrit :
> Dear Clovis,
>
> That ArcGIS definition is an approximation; it's not the true Laborde 
> implementation and is not guaranteed to give correct answers. 
>
> We do plan to try to implement Laborde in the future, but it just 
> hasn't made it to the top of the list yet. 
>
> Melita Kennedy 
> ESRI Product Specialist
>
>   
>> Date: Tue, 29 Apr 2008 19:27:48 +0300
>> From: Clovis <clovis.grinand at ird.fr>
>> Subject: [Proj] projection of Madagascar
>> To: proj at lists.maptools.org
>>
>> Dear list,
>>
>> I have been quickly through the archive but didn't find any topic on
this.
>> I have a projection issue concerning Madagascar.
>>
>> Historically there is one dedicated projection called "Laborde", using 
>> International 1925 ellipsoïd with others parameters.
>> From what i know it has been approximate with an oblique mercator 
>> projection and another called hotine oblique mercator.
>>
>> Then, I use ArcGIS usually for my application and want slowly to move 
>> towards R and QGIS, espacially to transform point coordinates in R 
>> (spTransform). The big problem is that none of three have the same 
>> projection definition and do display large offset when projecting GPS in 
>> WGS84 to "Laborde".
>>
>> From the projection definition, you will see below that there is some 
>> agreement (lat of origine, scale factor, false easting, false northing, 
>> azymuth) but some are completly different : longitude of origine and 
>> prime meridian etc.
>>
>> As I consider ArcGIS definition and transformation to be the right one 
>> (works well!), my question are:
>> - Is the EPSG parameters up to date?
>> - How can i tune the parameters to obtain the same coordinates that with 
>> arcGIS.
>> - Why lonc and not lon_0 ? (lon_0 does not give anything good)
>>
>> I hope I m not missing something obvious.
>>
>> Clovis
>>
>> # EPSG 29700 Via R
>> print(CRSargs(CRS("+init=epsg:29700")))
>> [1] " +init=epsg:29700 +proj=omerc +lat_0=-18.9 +lonc=44.10000000000001 
>> +alpha=18.9 +k=0.9995000000000001 +x_0=400000 +y_0=800000 +ellps=intl 
>> +towgs84=-189,-242,-91,0,0,0,0 +pm=paris +units=m +no_defs"
>>
>> # EPSG 29700 Via GQIS
>> +proj=omerc +lat_0=-18.9 +lonc=41.76277083000001 +alpha=18.9 
>> +k=0.9995000000000001 +x_0=400000 +y_0=800000 +ellps=intl 
>> +towgs84=-189,-242,-91,0,0,0,0 +pm=paris +units=m +no_defs
>>
>> # Laborde projection in ArcGIS
>> laborde
>> Projection: Hotine_Oblique_Mercator_Azimuth_Center
>> False_Easting: 400000,000000
>> False_Northing: 800000,000000
>> Scale_Factor: 0,999500
>> Azimuth: 18,900000
>> Longitude_Of_Center: 46,437229
>> Latitude_Of_Center: -18,900000
>>
>> GCS_Tananarive_1925
>> Name: GCS_Tananarive_1925
>> Remarks:
>> Angular Unit: Degree (0,017453292519943299)
>> Prime Meridian: Greenwich (0,000000000000000000)
>> Datum: D_Tananarive_1925
>>  Spheroid: International_1924
>>    Semimajor Axis: 6378388,000000000000000000
>>    Semiminor Axis: 6356911,946127946500000000
>>    Inverse Flattening: 297,000000000000000000
>>     
>
>
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
>
>   

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj




From ndzinn at comcast.net  Wed Apr 30 04:03:05 2008
From: ndzinn at comcast.net (Noel Zinn)
Date: Wed, 30 Apr 2008 06:03:05 -0500
Subject: [Proj] projection of Madagascar - longitude
In-Reply-To: <481840A8.1050704@hetnet.nl>
References: <48174C84.2080202@ird.fr>	<B597ADFC46B67741B18EA6AA13613FF7768824@email002.lsu.edu>	<000601c8aa41$b1096c00$6401a8c0@PowerSpec><200804291956.52366.geraldi.evenden@gmail.com>
	<481840A8.1050704@hetnet.nl>
Message-ID: <000101c8aab1$c4758ab0$6401a8c0@PowerSpec>

Laborde gave the Laborde grid with respect to the center of the projection
near the Tananarive observatory with respect to Paris, not Greenwich.  For
those of us working with respect to Greenwich, we need to know the longitude
of Paris with respect to Greenwich.  Mr Mugnier offers the British RGS
(Royal Geo??? Society) opinion 2d 20m 13.95s East also adopted by the Army
Mapping Service and its successor, the Defense Mapping Agency (now
superseded).  EPSG offer the French IGN opinion of 2d 20m 14.025.  Who best
knows the longitude of Paris with respect to Greenwich, the French or the
British?  The EPSG choose diplomatically. 

With respect to authoritative Malagasy geodetic control, I don't know.  I've
seen derived oil-company coordinates that are old, but nothing except
numerical examples in the old manuscripts that are authoritative.  And those
are so near the central line that the 29702 approximation works just fine.
That's not true offshore in general, however.  

Noel Zinn

-----Original Message-----
From: proj-bounces at lists.maptools.org
[mailto:proj-bounces at lists.maptools.org] On Behalf Of OvV_HN
Sent: Wednesday, April 30, 2008 4:49 AM
To: PROJ.4 and general Projections Discussions
Subject: Re: [Proj] projection of Madagascar

Gerald I. Evenden wrote:
> Just to add to the confusion, libproj has always contained the +proj=labrd

> projection based upon a development by John Snyder.  An example script
would 
> be:
> 
> PROJ="+proj=labrd +ellps=intl +azi=18d54 +lat_0=18d54S +lon_0=46d26'13.95E

> +k_0=0.9995 +x_0=400000 +y_0=800000"
....
> Are there any known values known to be acceptable by Madagascar 
> surveyors/government?

The longitude of origin of 46d 26'13.95E puzzles me.
This value is given in the Madagascar Grids & Datums article by mr.
Mugnier, but he gives a value of 21G with respect to Paris, which would
be the same as 46d 26m 13.95s East of Greenwich (see column 2 on page 
144 of said article).
Hmmm... that would be a new chapter in cartography!

Anyhow, the EPSG GN 7-2 value of 46d 26m 14.025s wrt Greenwich is 
equivalent with exactly 49 grad wrt Paris. Wouldn't that be a more 
logical value?

Oscar van Vlijmen



_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj



From jrepetto at free.fr  Wed Apr 30 04:44:18 2008
From: jrepetto at free.fr (Jean-Claude Repetto)
Date: Wed, 30 Apr 2008 13:44:18 +0200
Subject: [Proj] projection of Madagascar
In-Reply-To: <48175487.1040202@hetnet.nl>
References: <48174C84.2080202@ird.fr> <48175487.1040202@hetnet.nl>
Message-ID: <48185B92.90607@free.fr>

OvV_HN wrote :
> Clovis wrote:
> 
>> I have been quickly through the archive but didn't find any topic on 
>> this.
>> I have a projection issue concerning Madagascar.
> 
> 
> There are no good nor usable alternatives for the Laborde projection.
> Using the Oblique Mercator you'll get decimeters of error within the 
> Madagascar territory.

I am not sure if it is related to your problem, but the IGN has recently 
added support for the Gauss-Laborde projection (Reunion) into the PROJ.4 
CVS.


From ovv at hetnet.nl  Wed Apr 30 06:10:41 2008
From: ovv at hetnet.nl (OvV_HN)
Date: Wed, 30 Apr 2008 15:10:41 +0200
Subject: [Proj] projection of Madagascar
In-Reply-To: <48185B92.90607@free.fr>
References: <48174C84.2080202@ird.fr> <48175487.1040202@hetnet.nl>
	<48185B92.90607@free.fr>
Message-ID: <48186FD1.8040404@hetnet.nl>

Jean-Claude Repetto wrote:
> I am not sure if it is related to your problem, but the IGN has recently 
> added support for the Gauss-Laborde projection (Reunion) into the PROJ.4 
> CVS.

Wasn't it like this:
Réunion has an IGN Laborde "sphère de courbure" projection, mentioned in 
"notes techniques NT/G 73".
The Madagascar Laborde projection is an oblique form, so, another 
projection alltogether.

Oscar van Vlijmen




