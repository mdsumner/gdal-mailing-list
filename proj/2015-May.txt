From yutaxsato at gmail.com  Sat May 16 21:44:23 2015
From: yutaxsato at gmail.com (Yuta Sato)
Date: Sun, 17 May 2015 13:44:23 +0900
Subject: [Proj] Pixel Shifts When Warping
Message-ID: <CAPqnkJTAqeYroew0Us5SH_Xq9EBNEis3LAwQJ5jJJEq2R-7xVw@mail.gmail.com>

Dear GDAL and Proj Developers and Users:

I am really frustrated when the MODIS HDF file converted into GeoTiff with
GCS projection never match with the same MODIS file  converted from MODIS
Reprojection tool.

The file I am working is here:

http://e4ftl01.cr.usgs.gov/MOTA/MCD43A4.005/2015.01.01/MCD43A4.A2015001.h26v05.005.2015027224017.hdf

I used the following parameters for gdalwarp:

-t_srs wgs84 -tr 0.004166666666667 0.004166666666667


I used the following parameters for MRT:

OUTPUT_PIXEL_SIZE = 0.004166666666667
DATUM = WGS84
OUTPUT_PROJECTION_TYPE = GEO

The image produced from MRT has:
size = 6025*2400
point-based
ulx, uly = 92.3799071,  40.0000000

The image produced from gdalwarp has:
size = 6027*2400
area based
ulx, uly = 92.3760431,  40.0000000

Do you have any idea on which is more precise: gdalwarp or MRT? Or there is
any way in gdalwarp to get the same image as MRT gives?

Any idea and experience is highly appreciated. Thank you very much in the
advance!

Sincerely yours,
yuta sato
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20150517/988d5074/attachment.html>

From neteler at osgeo.org  Sun May 17 03:54:44 2015
From: neteler at osgeo.org (Markus Neteler)
Date: Sun, 17 May 2015 12:54:44 +0200
Subject: [Proj] Pixel Shifts When Warping
In-Reply-To: <CAPqnkJTAqeYroew0Us5SH_Xq9EBNEis3LAwQJ5jJJEq2R-7xVw@mail.gmail.com>
References: <CAPqnkJTAqeYroew0Us5SH_Xq9EBNEis3LAwQJ5jJJEq2R-7xVw@mail.gmail.com>
Message-ID: <CALFmHht5rnEy0+dJwsvniC1q3=wDpUfKqQcHC69Edf7u+s0uXg@mail.gmail.com>

On Sun, May 17, 2015 at 6:44 AM, Yuta Sato <yutaxsato at gmail.com> wrote:
> Dear GDAL and Proj Developers and Users:
>
> I am really frustrated when the MODIS HDF file converted into GeoTiff with
> GCS projection never match with the same MODIS file  converted from MODIS
> Reprojection tool.

We had this issue in the past, too, for our "EuroLST" project
(gap-filling of all LST maps for Europe, see
http://gis.cri.fmach.it/eurolst/).
Solved since then, see below.

...
> Do you have any idea on which is more precise: gdalwarp or MRT? Or there is
> any way in gdalwarp to get the same image as MRT gives?

You may take a look at
http://pymodis.fem-environment.eu/

pyModis >= 1.0 comes with fast GDAL support (way faster than MRT).

The details of the gdalwarp usage you find in the source code here:
https://github.com/lucadelu/pyModis/blob/master/pymodis/convertmodis_gdal.py


Hope this helps,
Markus

--
http://courses.neteler.org
http://gis.cri.fmach.it/neteler/
http://grass.osgeo.org/


From martin.desruisseaux at geomatys.com  Sun May 17 11:07:00 2015
From: martin.desruisseaux at geomatys.com (Martin Desruisseaux)
Date: Sun, 17 May 2015 20:07:00 +0200
Subject: [Proj] Pixel Shifts When Warping
In-Reply-To: <CAPqnkJTAqeYroew0Us5SH_Xq9EBNEis3LAwQJ5jJJEq2R-7xVw@mail.gmail.com>
References: <CAPqnkJTAqeYroew0Us5SH_Xq9EBNEis3LAwQJ5jJJEq2R-7xVw@mail.gmail.com>
Message-ID: <5558D8C4.6090509@geomatys.com>

Hello

Le 17/05/15 06:44, Yuta Sato a écrit :
> Do you have any idea on which is more precise: gdalwarp or MRT? Or
> there is any way in gdalwarp to get the same image as MRT gives?

I do not know for this case. But generally speaking I think that the
question of projection library accuracy is not yet solved. The
/Geospatial Integrity of Geoscience Software/ (GIGS) test suite is one
attempt to answer that kind of question, but it is not yet widely
implemented as far as I know. We have a partial implementation in GeoAPI
[2] and we tried those tests on Proj.4 through JNI bindings. I found a
large difference between Proj.4 and GIGS for "Lambert Conformal
(Belgium)" projection, but I'm not sure that I didn't made any mistake
with Proj.4 parameters.

More recently I found an other difference between Proj.4 and Circés (the
official software from French mapping agency for coordinate
transformations in France) for the transformation from "Nouvelle
Triangulation Française" (EPSG:4275) to WGS 84 (EPSG:4326). I got datum
shift in opposite directions, but again I'm not sure that I did no mistake.

I feel that for answering your question with more confidence, we would
need to push forward the GIGS test effort or something equivalent. This
is a little bit different than the tests provided by the projects
themselves, which sometime tend to be anti-regression tests rather than
test for correctness.

    Martin


[1] http://www.iogp.org/geomatics#2521115-gigs
[2] http://www.geoapi.org/geoapi-conformance/index.html

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20150517/da51d3a7/attachment.html>

From sisyphus1 at optusnet.com.au  Tue May 19 01:46:13 2015
From: sisyphus1 at optusnet.com.au (sisyphus1 at optusnet.com.au)
Date: Tue, 19 May 2015 18:46:13 +1000
Subject: [Proj] [MS Windows] PVALUE causes problems with mingw64 compilers
Message-ID: <AC66E4E7BE8248E48252EC9C99B25E58@OwnerPC311012>

Hi,

The problem arises when the mingw64 header winreg.h gets included.
We then get errors like:

C:/tmp64ng/c/include/projects.h:161:47: error: conflicting types for 
'PVALUE'
  typedef union { double  f; int  i; char *s; } PVALUE;
....
C:/tmp64ng/c/x86_64-w64-mingw32/include/winreg.h:75:3: note: previous 
declaration of 'PVALUE' was here
    __MINGW_TYPEDEF_AW(PVALUE)
    ^

The fairly simple (though tedious) workaround is, prior to building proj, 
change each of the few occurrences of "PVALUE" in the proj source to a 
symbol that doesn't clash.
(I've been using "_P_VALUE", but perhaps something like "PROJVALUE" is a 
better choice .... I'm happy with *any* symbol that's not going to clash.)

Could the proj developers please rename "PVALUE" to something that doesn't 
clash ?
I really would like to not have to alter the proj source in future proj 
releases.

I did raise this matter a few years ago but, as nothing was ever done, I 
thought that maybe I should instead submit a bug report along with a patch.
However, AFAICT, to submit a bug report I need to go to 
http://www.osgeo.org/osgeo_userid/ and create a user id so that I can first 
log in.

Unfortunately the link to "this simple form" ( 
https://www.osgeo.org/cgi-bin/ldap_create_user.py ) results in a "page can't 
be displayed error" for me.
There's a suggestion there that this could be a problem with my browser 
settings, though I don't usually have any trouble with secure connections.

Is there any other way I can create a user id ?

Cheers,
Rob 



From howard at hobu.co  Tue May 19 10:03:01 2015
From: howard at hobu.co (Howard Butler)
Date: Tue, 19 May 2015 12:03:01 -0500
Subject: [Proj] [MS Windows] PVALUE causes problems with mingw64
	compilers
In-Reply-To: <AC66E4E7BE8248E48252EC9C99B25E58@OwnerPC311012>
References: <AC66E4E7BE8248E48252EC9C99B25E58@OwnerPC311012>
Message-ID: <6818E42E-F19B-433E-B578-A0258D42A6DF@hobu.co>


> On May 19, 2015, at 3:46 AM, sisyphus1 at optusnet.com.au wrote:
> 
> Hi,
> 
> The problem arises when the mingw64 header winreg.h gets included.
> We then get errors like:
> 
> C:/tmp64ng/c/include/projects.h:161:47: error: conflicting types for 
> 'PVALUE'
>  typedef union { double  f; int  i; char *s; } PVALUE;
> ....
> C:/tmp64ng/c/x86_64-w64-mingw32/include/winreg.h:75:3: note: previous 
> declaration of 'PVALUE' was here
>    __MINGW_TYPEDEF_AW(PVALUE)
>    ^
> 
> The fairly simple (though tedious) workaround is, prior to building proj, 
> change each of the few occurrences of "PVALUE" in the proj source to a 
> symbol that doesn't clash.
> (I've been using "_P_VALUE", but perhaps something like "PROJVALUE" is a 
> better choice .... I'm happy with *any* symbol that's not going to clash.)
> 
> Could the proj developers please rename "PVALUE" to something that doesn't 
> clash ?
> I really would like to not have to alter the proj source in future proj 
> releases.
> 
> I did raise this matter a few years ago but, as nothing was ever done, I 
> thought that maybe I should instead submit a bug report along with a patch.
> However, AFAICT, to submit a bug report I need to go to 
> http://www.osgeo.org/osgeo_userid/ and create a user id so that I can first 
> log in.
> 
> Unfortunately the link to "this simple form" ( 
> https://www.osgeo.org/cgi-bin/ldap_create_user.py ) results in a "page can't 
> be displayed error" for me.
> There's a suggestion there that this could be a problem with my browser 
> settings, though I don't usually have any trouble with secure connections.
> 
> Is there any other way I can create a user id ?

The https://www.osgeo.org/cgi-bin/ldap_create_user.py page is up for me at  this time.

I have created a ticket with this issue at http://trac.osgeo.org/proj/ticket/273 but I do not know if it is practical to change this union name from PVALUE to something else in what is essentially a public header. Does anyone else have an opinion?

Howard

From even.rouault at spatialys.com  Tue May 19 11:03:48 2015
From: even.rouault at spatialys.com (Even Rouault)
Date: Tue, 19 May 2015 20:03:48 +0200
Subject: [Proj] [MS Windows] PVALUE causes problems with mingw64
	compilers
In-Reply-To: <6818E42E-F19B-433E-B578-A0258D42A6DF@hobu.co>
References: <AC66E4E7BE8248E48252EC9C99B25E58@OwnerPC311012>
	<6818E42E-F19B-433E-B578-A0258D42A6DF@hobu.co>
Message-ID: <201505192003.48415.even.rouault@spatialys.com>

Le mardi 19 mai 2015 19:03:01, Howard Butler a écrit :
> > On May 19, 2015, at 3:46 AM, sisyphus1 at optusnet.com.au wrote:
> > 
> > Hi,
> > 
> > The problem arises when the mingw64 header winreg.h gets included.
> > We then get errors like:
> > 
> > C:/tmp64ng/c/include/projects.h:161:47: error: conflicting types for
> > 'PVALUE'
> > 
> >  typedef union { double  f; int  i; char *s; } PVALUE;
> > 
> > ....
> > C:/tmp64ng/c/x86_64-w64-mingw32/include/winreg.h:75:3: note: previous
> > declaration of 'PVALUE' was here
> > 
> >    __MINGW_TYPEDEF_AW(PVALUE)
> >    ^
> > 
> > The fairly simple (though tedious) workaround is, prior to building proj,
> > change each of the few occurrences of "PVALUE" in the proj source to a
> > symbol that doesn't clash.
> > (I've been using "_P_VALUE", but perhaps something like "PROJVALUE" is a
> > better choice .... I'm happy with *any* symbol that's not going to
> > clash.)
> > 
> > Could the proj developers please rename "PVALUE" to something that
> > doesn't clash ?
> > I really would like to not have to alter the proj source in future proj
> > releases.
> > 
> > I did raise this matter a few years ago but, as nothing was ever done, I
> > thought that maybe I should instead submit a bug report along with a
> > patch. However, AFAICT, to submit a bug report I need to go to
> > http://www.osgeo.org/osgeo_userid/ and create a user id so that I can
> > first log in.
> > 
> > Unfortunately the link to "this simple form" (
> > https://www.osgeo.org/cgi-bin/ldap_create_user.py ) results in a "page
> > can't be displayed error" for me.
> > There's a suggestion there that this could be a problem with my browser
> > settings, though I don't usually have any trouble with secure
> > connections.
> > 
> > Is there any other way I can create a user id ?
> 
> The https://www.osgeo.org/cgi-bin/ldap_create_user.py page is up for me at 
> this time.
> 
> I have created a ticket with this issue at
> http://trac.osgeo.org/proj/ticket/273 but I do not know if it is practical
> to change this union name from PVALUE to something else in what is
> essentially a public header. Does anyone else have an opinion?

A workaround for user code would possibly be to #define 
_PROVIDER_STRUCTS_DEFINED before including winreg.h or anything that includes 
it, since the PVALUE stuff seems to be conditionnaly defined by that (I did not 
try)

Otherwise projects.h has always had a semi-public/semi-private status, so that 
might be OK to change that. PVALUE is only used as the return type of 
pj_param(projCtx ctx, paralist *, const char *);

> 
> Howard
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com


From Roger.Bivand at nhh.no  Tue May 19 23:56:37 2015
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Wed, 20 May 2015 08:56:37 +0200
Subject: [Proj] ticket #274: proj_def.dat left out of 4.9.1 tarball
Message-ID: <alpine.LFD.2.11.1505200844480.19473@reclus.nhh.no>

Hi,

http://trac.osgeo.org/proj/ticket/274

describes a puzzle we have seen with different behaviour wrt. errno -13. 
The resolution is to reinstate proj_def.dat in /nad (and installed 
PROJ_LIB). The Debian binary 4.9.1-1 was put on our testing servers a day 
or so ago, causing considerable upsets in user R code omitting +ellps=.

The omission is visible in proj-data:

https://packages.debian.org/stretch/all/proj-data/filelist

compared to:

https://packages.debian.org/jessie/amd64/proj-data/filelist

Is a 4.9.2 release likely? This is quite a serious problem in that the 
behaviour of PROJ.4 has changed at the user level from 4.8.0 to 4.9.1, 
unless the system admin only overwrote PROJ_LIB without deleting it and 
re-creating.

Roger

-- 
Roger Bivand
Department of Economics, Norwegian School of Economics,
Helleveien 30, N-5045 Bergen, Norway.
voice: +47 55 95 93 55; fax +47 55 95 91 00
e-mail: Roger.Bivand at nhh.no



From howard at hobu.co  Wed May 20 14:11:48 2015
From: howard at hobu.co (Howard Butler)
Date: Wed, 20 May 2015 16:11:48 -0500
Subject: [Proj] ticket #274: proj_def.dat left out of 4.9.1 tarball
In-Reply-To: <alpine.LFD.2.11.1505200844480.19473@reclus.nhh.no>
References: <alpine.LFD.2.11.1505200844480.19473@reclus.nhh.no>
Message-ID: <7902E241-5ADF-4E79-B467-9ACC1C1540B9@hobu.co>

I have applied a patch to trunk to fix this, and I think we should issue a new 4.9.2 release as a result.

Howard

> On May 20, 2015, at 1:56 AM, Roger Bivand <Roger.Bivand at nhh.no> wrote:
> 
> Hi,
> 
> http://trac.osgeo.org/proj/ticket/274
> 
> describes a puzzle we have seen with different behaviour wrt. errno -13. 
> The resolution is to reinstate proj_def.dat in /nad (and installed 
> PROJ_LIB). The Debian binary 4.9.1-1 was put on our testing servers a day 
> or so ago, causing considerable upsets in user R code omitting +ellps=.
> 
> The omission is visible in proj-data:
> 
> https://packages.debian.org/stretch/all/proj-data/filelist
> 
> compared to:
> 
> https://packages.debian.org/jessie/amd64/proj-data/filelist
> 
> Is a 4.9.2 release likely? This is quite a serious problem in that the 
> behaviour of PROJ.4 has changed at the user level from 4.8.0 to 4.9.1, 
> unless the system admin only overwrote PROJ_LIB without deleting it and 
> re-creating.
> 
> Roger
> 
> -- 
> Roger Bivand
> Department of Economics, Norwegian School of Economics,
> Helleveien 30, N-5045 Bergen, Norway.
> voice: +47 55 95 93 55; fax +47 55 95 91 00
> e-mail: Roger.Bivand at nhh.no
> 
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj



From charles.karney at sri.com  Wed May 20 14:46:22 2015
From: charles.karney at sri.com (Charles Karney)
Date: Wed, 20 May 2015 17:46:22 -0400
Subject: [Proj] Fixes to minor problems with geodesic routines
In-Reply-To: <7902E241-5ADF-4E79-B467-9ACC1C1540B9@hobu.co>
References: <alpine.LFD.2.11.1505200844480.19473@reclus.nhh.no>
	<7902E241-5ADF-4E79-B467-9ACC1C1540B9@hobu.co>
Message-ID: <555D00AE.6020301@sri.com>

I've committed an update to the geodesic library...  Log message it

Update to version 1.43 of the geodesic routines.  This fixes two
relatively obscure problems.  (1) The business of returning an unrolled
longitude with the solution to the direct problem was broken for
west-going geodesics.  (2) For flattening > 1/100, a slightly inaccurate
result was returned for a12 in the direct calculation.


From sisyphus1 at optusnet.com.au  Thu May 21 03:04:48 2015
From: sisyphus1 at optusnet.com.au (sisyphus1 at optusnet.com.au)
Date: Thu, 21 May 2015 20:04:48 +1000
Subject: [Proj] [MS Windows] PVALUE causes problems with mingw64compilers
In-Reply-To: <201505192003.48415.even.rouault@spatialys.com>
References: <AC66E4E7BE8248E48252EC9C99B25E58@OwnerPC311012><6818E42E-F19B-433E-B578-A0258D42A6DF@hobu.co>
	<201505192003.48415.even.rouault@spatialys.com>
Message-ID: <7DE5C820DA02417EB2579F799850653D@OwnerPC311012>

-----Original Message----- 
From: Even Rouault
Sent: Wednesday, May 20, 2015 4:03 AM
To: proj at lists.maptools.org
Subject: Re: [Proj] [MS Windows] PVALUE causes problems with
mingw64compilers

> Le mardi 19 mai 2015 19:03:01, Howard Butler a écrit :
>>> On May 19, 2015, at 3:46 AM, sisyphus1 at optusnet.com.au wrote:

>>> Is there any other way I can create a user id ?
>>
>> The https://www.osgeo.org/cgi-bin/ldap_create_user.py page is up for me
>> at
>> this time.

Still not working with IE, but works fine on Ubuntu using Firefox.

>> I have created a ticket with this issue at
>> http://trac.osgeo.org/proj/ticket/273 but I do not know if it is
>> practical
>> to change this union name from PVALUE to something else in what is
>> essentially a public header.

Damn ... I should've raised this during that recent brief period when 
projects.h
was classified as private ;-))

> A workaround for user code would possibly be to
> #define _PROVIDER_STRUCTS_DEFINED
> before including winreg.h or anything that includes it, since the PVALUE
> stuff seems to be conditionnaly defined by that (I did not try)

This problem comes up when building the PDL::GIS::Proj (perl) module.
On Windows, it's inevitable that the building of this perl extension will
include windows.h - and hence winreg.h

I've just tried the suggestion of defining _PROVIDER_STRUCTS_DEFINED, but 
that causes other winreg.h errors:

winreg.h:181:59: error: unknown type name 'PVALENTA'
winreg.h:182:59: error: unknown type name 'PVALENTW'

Those symbols are also defined in winreg.h if _PROVIDER_STRUCTS_DEFINED is 
not already defined.

> Otherwise projects.h has always had a semi-public/semi-private status, so
> that might be OK to change that. PVALUE is only used as the return type of
> pj_param(projCtx ctx, paralist *, const char *);

Is it worth going to the trouble of changing the PVALUE symbol to (say) 
PROJVALUE for mingw compilers only - but letting the PVALUE symbol stand 
with non-mingw compilers:

#ifdef __MINGW32__  */ All mingw compilers */
/* code uses PROJVALUE symbol */
#else
/* code uses PVALUE symbol */
#endif

That would significantly lessen the chances of upsetting those who have been 
using PVALUE in their own code.

I think I could provide patches for that, if it's an acceptable option.
However, I'm not sure it's such a good idea to start splitting up code like 
that.

Cheers,
Rob 



From howard at hobu.co  Thu May 21 05:43:24 2015
From: howard at hobu.co (Howard Butler)
Date: Thu, 21 May 2015 07:43:24 -0500
Subject: [Proj] [MS Windows] PVALUE causes problems with mingw64compilers
In-Reply-To: <7DE5C820DA02417EB2579F799850653D@OwnerPC311012>
References: <AC66E4E7BE8248E48252EC9C99B25E58@OwnerPC311012>
	<6818E42E-F19B-433E-B578-A0258D42A6DF@hobu.co>
	<201505192003.48415.even.rouault@spatialys.com>
	<7DE5C820DA02417EB2579F799850653D@OwnerPC311012>
Message-ID: <BCA6DBEB-4633-4655-AFC3-A03DE98DC355@hobu.co>


> On May 21, 2015, at 5:04 AM, sisyphus1 at optusnet.com.au wrote:
> 
> 
> Is it worth going to the trouble of changing the PVALUE symbol to (say) 
> PROJVALUE for mingw compilers only - but letting the PVALUE symbol stand 
> with non-mingw compilers:

I don’t think so. I think it should just be changed. The folks using projects.h have known it was a bit sketchy to be using (we tried to take it away once already). The next windows person using proj.4 with an interesting include scenario will run into again if we monkey patch the mingw case only.

Let’s just rename it, unless someone has a strong objection.

Howard



From howard at hobu.co  Fri May 22 06:47:40 2015
From: howard at hobu.co (Howard Butler)
Date: Fri, 22 May 2015 08:47:40 -0500
Subject: [Proj] Github migration complete
Message-ID: <AE9D0651-6891-40F3-8A1A-D2016F9D95BA@hobu.co>

All,

Thanks to Thomas Bonfort, the proj.4 migration to github is complete. I would like to invite you to take a look at 

https://github.com/OSGeo/proj.4

and if there are no major issues identified in the next few days, we will declare it complete and decommission the Trac instance at OSGeo.

Howard

From mfinn at usgs.gov  Fri May 22 08:43:24 2015
From: mfinn at usgs.gov (Finn, Michael)
Date: Fri, 22 May 2015 09:43:24 -0600
Subject: [Proj] FYI -- Maps for Nepal
Message-ID: <CAJEEHrnUd=6fo0m+uo0ig-oyj6pir-R2BGHZra4U0gxCXFMCVA@mail.gmail.com>

https://www.indiegogo.com/projects/maps-for-nepal#/story
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20150522/73db9e05/attachment.html>

From mfinn at usgs.gov  Fri May 22 08:45:23 2015
From: mfinn at usgs.gov (mfinn)
Date: Fri, 22 May 2015 17:45:23 +0200
Subject: [Proj] [rda-geospatial-ig] FYI -- Maps for Nepal
Message-ID: <CAJEEHrnUd=6fo0m+uo0ig-oyj6pir-R2BGHZra4U0gxCXFMCVA@mail.gmail.com>

https://www.indiegogo.com/projects/maps-for-nepal#/story


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20150522/73db9e05/attachment-0001.html>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20150522/73db9e05/attachment-0002.html>

From Tom.Kralidis at ec.gc.ca  Fri May 22 09:18:50 2015
From: Tom.Kralidis at ec.gc.ca (Kralidis,Tom [Ontario])
Date: Fri, 22 May 2015 12:18:50 -0400
Subject: [Proj] Github migration complete
In-Reply-To: <AE9D0651-6891-40F3-8A1A-D2016F9D95BA@hobu.co>
References: <AE9D0651-6891-40F3-8A1A-D2016F9D95BA@hobu.co>
Message-ID: <D4979196AC320B45BE4A5DD7EE80C3E402875E9F@sdow04exmail2.ontario.int.ec.gc.ca>

Thanks Thomas/Howard!

Some questions:

- will the trac instance be available after decommissioning?
- any interest in turning https://trac.osgeo.org/proj/ into GitHub pages
(thereby available at http://osgeo.github.io/proj.4/ ?  I offer to
implement this and setup/deploy


> -----Original Message-----
> From: proj-bounces at lists.maptools.org [mailto:proj-
> bounces at lists.maptools.org] On Behalf Of Howard Butler
> Sent: 2015-05-22 09:48
> To: PROJ.4 and general Projections Discussions
> Subject: [Proj] Github migration complete
> 
> All,
> 
> Thanks to Thomas Bonfort, the proj.4 migration to github is complete.
I
> would like to invite you to take a look at
> 
> https://github.com/OSGeo/proj.4
> 
> and if there are no major issues identified in the next few days, we
will
> declare it complete and decommission the Trac instance at OSGeo.
> 
> Howard
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj


From howard at hobu.co  Fri May 22 10:23:57 2015
From: howard at hobu.co (Howard Butler)
Date: Fri, 22 May 2015 12:23:57 -0500
Subject: [Proj] Github migration complete
In-Reply-To: <D4979196AC320B45BE4A5DD7EE80C3E402875E9F@sdow04exmail2.ontario.int.ec.gc.ca>
References: <AE9D0651-6891-40F3-8A1A-D2016F9D95BA@hobu.co>
	<D4979196AC320B45BE4A5DD7EE80C3E402875E9F@sdow04exmail2.ontario.int.ec.gc.ca>
Message-ID: <D6DEE8B4-8A59-4B30-8407-A0EB73D0AF12@hobu.co>


> On May 22, 2015, at 11:18 AM, Kralidis,Tom [Ontario] <Tom.Kralidis at ec.gc.ca> wrote:
> 
> Thanks Thomas/Howard!
> 
> Some questions:
> 
> - will the trac instance be available after decommissioning?
> - any interest in turning https://trac.osgeo.org/proj/ into GitHub pages
> (thereby available at http://osgeo.github.io/proj.4/ ?  I offer to
> implement this and setup/deploy

I definitely have interest in that. I guess the plan was to only decomission the ticket creation capabiltiy, and leave the rest standing for as long as reasonable, with pointers to the github system for code/tickets going forward. Maybe this strategy is too confusing.

I was planning to leave the wiki pages alone, but we’d happily take some contribution on that front if you’re interested in porting it over and bring it up to date.

Thanks!

Howard



From quantum.analyst at gmail.com  Sat May 23 01:22:40 2015
From: quantum.analyst at gmail.com (Elliott Sales de Andrade)
Date: Sat, 23 May 2015 08:22:40 +0000 (UTC)
Subject: [Proj] Github migration complete
References: <AE9D0651-6891-40F3-8A1A-D2016F9D95BA@hobu.co>
Message-ID: <loom.20150523T102213-61@post.gmane.org>

Hi Howard,

Howard Butler <howard <at> hobu.co> writes:
>
> All,
>
> Thanks to Thomas Bonfort, the proj.4 migration to github is complete. I
would like to invite you to take a
> look at
>
> https://github.com/OSGeo/proj.4
>

There are a few minor things to clean up that I think would be good to
do before calling this complete. They would modify the commit hashes and
require all forks to be recreated, so it is best to do them early.

 * Flatten the directory structure. In git, you get the entire history,
   so moving the docs to the directory on the side doesn't really change
   anything. You can fix this with some `git filter-branch` calls.

 * Most tags are made on an extra commit with no changes. The tags can
   be moved back one commit to the one on master. Then the tags become
   ancestors of most commits for better logging and such.
   * 4.9.0 (twice)
   * 4.8.0 (twice)
   * 4.7.0 (twice)
   * proj_4_5_0
   * proj_4_4_9
   * proj_4_4_7
   * proj_4_4_6
   * proj_4_4_5
   * NOTE: These empty commits will be automatically removed by calling
     git filter-branch.

 * Some tags contain an extra commit, but I think they can be removed:
   * proj_4_6_1 - This commit adds some files that were removed
                  (renamed) about 10 commits earlier. I _think_ the
                  commit should not exist.
   * proj_4_6_0 - This commit also adds some files that were removed
                  about 8 commits earlier. Again, I _think_ the commit
                  should not exist.
   * proj_4_4_8 - This commit duplicates some changes on another commit
                  that is on master. I think this tag can simply be
                  _moved_ to the commit on master since the two trees
                  are equivalent.

 * There are a couple of puzzling tags
   * proj_4_4_4 or 4.4.4 do not exist
   * proj_4_4_3 - This tag contains one extra commit that occurs 3 years
                  after its parent and even after proj_4_4_7. It even
                  includes changes that are some mix of 4.4.8. I don't
                  think this commit should exist either, as it seems to
                  be some kind of Frankenstein commit.

 * You need to create a .gitignore file. This can be done with
   git svn show-ignore > .gitignore
   Unfortunately, I have never been able to figure out an easy way to
   apply this retroactively.

 * Are you intending to keep the Subversion repository around and in
   sync? If not, you can remove the "git-svn-id" from the commit message
   that would just be clutter in an independent git repository.

To confirm my suspicions about the tags, I would go looking at the
tarballs, but the trac instance does not seem to be working for me at
the moment.

To show you how this would look (except for the .gitignore and
git-svn-id suggestions, as those should be done when converting from
svn), I have uploaded a cleaned repo [1] and, for reference, the
commands I used to produce it [2].

> and if there are no major issues identified in the next few days, we will
declare it complete and
> decommission the Trac instance at OSGeo.
>
> Howard

[1] https://github.com/QuLogic/proj4-clean
[2] https://gist.github.com/QuLogic/ed9d5f5c4a8b0dbc794f



From howard at hobu.co  Sun May 24 07:43:36 2015
From: howard at hobu.co (Howard Butler)
Date: Sun, 24 May 2015 09:43:36 -0500
Subject: [Proj] Github migration complete
In-Reply-To: <loom.20150523T102213-61@post.gmane.org>
References: <AE9D0651-6891-40F3-8A1A-D2016F9D95BA@hobu.co>
	<loom.20150523T102213-61@post.gmane.org>
Message-ID: <4B4A6343-ADA9-4AEA-91FB-7153035DEC61@hobu.co>


> On May 23, 2015, at 3:22 AM, Elliott Sales de Andrade <quantum.analyst at gmail.com> wrote:
> 
> To show you how this would look (except for the .gitignore and
> git-svn-id suggestions, as those should be done when converting from
> svn), I have uploaded a cleaned repo [1] and, for reference, the
> commands I used to produce it [2].

Fantastic. Unless I hear otherwise, we will use this repo as our starting point. My concerns are to make sure tags/branches are preserved, and Trac ticket->revision and github ticket->sha linkages are preserved as part of the migration.

Howard

From Tom.Kralidis at ec.gc.ca  Mon May 25 03:39:30 2015
From: Tom.Kralidis at ec.gc.ca (Kralidis,Tom [Ontario])
Date: Mon, 25 May 2015 06:39:30 -0400
Subject: [Proj] Github migration complete
In-Reply-To: <4B4A6343-ADA9-4AEA-91FB-7153035DEC61@hobu.co>
References: <AE9D0651-6891-40F3-8A1A-D2016F9D95BA@hobu.co><loom.20150523T102213-61@post.gmane.org>
	<4B4A6343-ADA9-4AEA-91FB-7153035DEC61@hobu.co>
Message-ID: <D4979196AC320B45BE4A5DD7EE80C3E402875FB2@sdow04exmail2.ontario.int.ec.gc.ca>

> -----Original Message-----
> From: proj-bounces at lists.maptools.org [mailto:proj-
> bounces at lists.maptools.org] On Behalf Of Howard Butler
> Sent: 2015-05-24 10:44
> To: PROJ.4 and general Projections Discussions
> Subject: Re: [Proj] Github migration complete
> 
> 
> > On May 23, 2015, at 3:22 AM, Elliott Sales de Andrade
> <quantum.analyst at gmail.com> wrote:
> >
> > To show you how this would look (except for the .gitignore and
> > git-svn-id suggestions, as those should be done when converting from
> > svn), I have uploaded a cleaned repo [1] and, for reference, the
> > commands I used to produce it [2].
> 
> Fantastic. Unless I hear otherwise, we will use this repo as our
starting point.
> My concerns are to make sure tags/branches are preserved, and Trac
ticket-
> >revision and github ticket->sha linkages are preserved as part of the
> migration.
> 
+1



From sisyphus1 at optusnet.com.au  Mon May 25 16:59:30 2015
From: sisyphus1 at optusnet.com.au (sisyphus1 at optusnet.com.au)
Date: Tue, 26 May 2015 09:59:30 +1000
Subject: [Proj] [MS Windows] PVALUE causes problems with mingw64compilers
In-Reply-To: <BCA6DBEB-4633-4655-AFC3-A03DE98DC355@hobu.co>
References: <AC66E4E7BE8248E48252EC9C99B25E58@OwnerPC311012><6818E42E-F19B-433E-B578-A0258D42A6DF@hobu.co><201505192003.48415.even.rouault@spatialys.com><7DE5C820DA02417EB2579F799850653D@OwnerPC311012>
	<BCA6DBEB-4633-4655-AFC3-A03DE98DC355@hobu.co>
Message-ID: <0C66567A717243D6AD2A00E3E175E0F4@OwnerPC311012>

-----Original Message----- 
From: Howard Butler
Sent: Thursday, May 21, 2015 10:43 PM
To: PROJ.4 and general Projections Discussions
Subject: Re: [Proj] [MS Windows] PVALUE causes problems with 
mingw64compilers


>> On May 21, 2015, at 5:04 AM, sisyphus1 at optusnet.com.au wrote:
>>
>>
>> Is it worth going to the trouble of changing the PVALUE symbol to (say)
>> PROJVALUE for mingw compilers only - but letting the PVALUE symbol stand
>> with non-mingw compilers:
>
> I don’t think so. I think it should just be changed. The folks using 
> projects.h have known it was a bit sketchy to be using (we tried to take 
> it away once already). The next windows person using proj.4 with an 
> interesting include scenario will run into again if we monkey patch the 
> mingw case only.
>
> Let’s just rename it, unless someone has a strong objection.

Renaming it is *definitely* my preferred option.

However, following on from an idea presented by David Mertens on the 
pdl-devel mailing list, I do have a slight refinement to the above idea of 
allowing 2 symbols.

Change:

typedef union { double  f; int  i; char *s; } PVALUE;

to something like:

typedef union { double  f; int  i; char *s; } PROJVALUE;

and then insert:

/* The following is for backwards compatibility. */
/* PVALUE is deprecated - use PROJVALUE       */
#ifndef _WINREG_ /* _WINREG_ is defined by winreg.h */
#define PVALUE PROJVALUE
#endif

And then, in the proj source, replace all other instances of PVALUE with 
PROJVALUE.
Also document PVALUE as being deprecated and will be removed in a future 
release.

The only problem is that it still enables someone to write source code that 
uses PVALUE - and that source code therefore does not run on Windows if 
winreg.h is included.
But, if PVALUE is documented as being deprecated, we presumably open the 
door to being able to remove it at a future date (without being accused of 
doing something we shouldn't do).
In the meantime it's unlikely that anyone will be inconvenienced.

Cheers,
Rob



From quantum.analyst at gmail.com  Mon May 25 23:40:25 2015
From: quantum.analyst at gmail.com (Elliott Sales de Andrade)
Date: Tue, 26 May 2015 02:40:25 -0400
Subject: [Proj] Github migration complete
In-Reply-To: <4B4A6343-ADA9-4AEA-91FB-7153035DEC61@hobu.co>
References: <AE9D0651-6891-40F3-8A1A-D2016F9D95BA@hobu.co>
	<loom.20150523T102213-61@post.gmane.org>
	<4B4A6343-ADA9-4AEA-91FB-7153035DEC61@hobu.co>
Message-ID: <CAJP_izdawnkcV7fxiHKDLBeVKc=_EST4X_foKmHdVZjMY4Whfw@mail.gmail.com>

On 24 May 2015 at 10:43, Howard Butler <howard at hobu.co> wrote:
>
>> On May 23, 2015, at 3:22 AM, Elliott Sales de Andrade <quantum.analyst at gmail.com> wrote:
>>
>> To show you how this would look (except for the .gitignore and
>> git-svn-id suggestions, as those should be done when converting from
>> svn), I have uploaded a cleaned repo [1] and, for reference, the
>> commands I used to produce it [2].
>
> Fantastic. Unless I hear otherwise, we will use this repo as our starting point.

Feel free to do so. Make sure to clone the latest copy, as I removed
the docs/README.TXT that is now irrelevant.
Just keep in mind that I did not remove the git-svn-id information. I
just realized that this can be done without re-converting, but that
depends on whether you wish to keep that information available.

> My concerns are to make sure tags/branches are preserved,

Now that trac is available again, I checked the tarballs, and the tags
with extra-but-nonempty commits do appear to match with the tarballs
when the extra commit is removed (except for some harmless $Id$
changes). So the cleaned repository appears to be correct.

> and Trac ticket->revision and

I do not see any of these.

> github ticket->sha linkages are preserved as part of the migration.

These links will need to be updated. Re-writing all the commits
invalidates all existing hashes.

>
> Howard

-- 
Elliott


From thomas.bonfort at gmail.com  Tue May 26 04:48:25 2015
From: thomas.bonfort at gmail.com (thomas bonfort)
Date: Tue, 26 May 2015 13:48:25 +0200
Subject: [Proj] Github migration complete
In-Reply-To: <CAJP_izdawnkcV7fxiHKDLBeVKc=_EST4X_foKmHdVZjMY4Whfw@mail.gmail.com>
References: <AE9D0651-6891-40F3-8A1A-D2016F9D95BA@hobu.co>
	<loom.20150523T102213-61@post.gmane.org>
	<4B4A6343-ADA9-4AEA-91FB-7153035DEC61@hobu.co>
	<CAJP_izdawnkcV7fxiHKDLBeVKc=_EST4X_foKmHdVZjMY4Whfw@mail.gmail.com>
Message-ID: <CAOM3y2jYytdKNzEGYG3Nzh_mhrckiJzHJaU86iGTn7NxnYe9zg@mail.gmail.com>

> These links will need to be updated. Re-writing all the commits
> invalidates all existing hashes.

This would have to be done manually, or a specific script would have
to be written to update all github issue comments in order to modify
the SHAs. This is not a trivial task.

Thomas

>
>>
>> Howard
>
> --
> Elliott
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj


From quantum.analyst at gmail.com  Tue May 26 15:03:21 2015
From: quantum.analyst at gmail.com (Elliott Sales de Andrade)
Date: Tue, 26 May 2015 18:03:21 -0400
Subject: [Proj] Github migration complete
In-Reply-To: <CAOM3y2jYytdKNzEGYG3Nzh_mhrckiJzHJaU86iGTn7NxnYe9zg@mail.gmail.com>
References: <AE9D0651-6891-40F3-8A1A-D2016F9D95BA@hobu.co>
	<loom.20150523T102213-61@post.gmane.org>
	<4B4A6343-ADA9-4AEA-91FB-7153035DEC61@hobu.co>
	<CAJP_izdawnkcV7fxiHKDLBeVKc=_EST4X_foKmHdVZjMY4Whfw@mail.gmail.com>
	<CAOM3y2jYytdKNzEGYG3Nzh_mhrckiJzHJaU86iGTn7NxnYe9zg@mail.gmail.com>
Message-ID: <CAJP_izfw78q-TEBRAAyin6j5Gd_wfimuzmxsYQ9hAhZRhnR10g@mail.gmail.com>

On 26 May 2015 at 07:48, thomas bonfort <thomas.bonfort at gmail.com> wrote:
>> These links will need to be updated. Re-writing all the commits
>> invalidates all existing hashes.
>
> This would have to be done manually, or a specific script would have
> to be written to update all github issue comments in order to modify
> the SHAs. This is not a trivial task.
>

I've created a script to do so on the original gist [1]. You need the
`newrefs` file (which lists the tickets, comments, old & new hashes)
and `update_ticket_refs.py`. You would also have to `pip install
github3.py`. Then create a personal access token [2] for proj4-bot,
export it as the environment variable GH_TOKEN, and run
update_ticket_refs.py.

> Thomas
>

[1] https://gist.github.com/QuLogic/ed9d5f5c4a8b0dbc794f
[2] https://help.github.com/articles/creating-an-access-token-for-command-line-use/

-- 
Elliott


From tomkralidis at gmail.com  Tue May 26 19:08:28 2015
From: tomkralidis at gmail.com (Tom Kralidis)
Date: Tue, 26 May 2015 22:08:28 -0400
Subject: [Proj] Github migration complete
Message-ID: <CAFWXLWXak8JyrUbpZtSw37yK1FcBdtf7bmmZt-JoUoZBOvz3ug@mail.gmail.com>

>>
>> Thanks Thomas/Howard!
>>
>> Some questions:
>>
>> - will the trac instance be available after decommissioning?
>> - any interest in turning https://trac.osgeo.org/proj/ into GitHub pages
>> (thereby available at http://osgeo.github.io/proj.4/ ?  I offer to
>> implement this and setup/deploy
>
>I definitely have interest in that. I guess the plan was to only decomission the ticket creation capabiltiy, and leave the rest standing for as long as reasonable, with pointers to the >github system for code/tickets going forward. Maybe this strategy is too confusing.
>
>I was planning to leave the wiki pages alone, but we’d happily take some contribution on that front if you’re interested in porting it over and bring it up to date.
>

Update: it was difficult to figure out what parts of
https://trac.osgeo.org/proj/ were website-ish as opposed to wiki
pages, so I initially transferred the trac wiki pages [1] to GitHub
wiki [2] verbatim.  If there is further interest in making an actual
website presence for proj.4, I'm happy to move this along.

..Tom

[1] http://trac.osgeo.org/proj/wiki/TitleIndex
[2] https://github.com/OSGeo/proj.4/wiki


From jmckenna at gatewaygeomatics.com  Wed May 27 04:02:55 2015
From: jmckenna at gatewaygeomatics.com (Jeff McKenna)
Date: Wed, 27 May 2015 08:02:55 -0300
Subject: [Proj] Github migration complete
In-Reply-To: <CAFWXLWXak8JyrUbpZtSw37yK1FcBdtf7bmmZt-JoUoZBOvz3ug@mail.gmail.com>
References: <CAFWXLWXak8JyrUbpZtSw37yK1FcBdtf7bmmZt-JoUoZBOvz3ug@mail.gmail.com>
Message-ID: <5565A45F.9040209@gatewaygeomatics.com>

On 2015-05-26 11:08 PM, Tom Kralidis wrote:
> Update: it was difficult to figure out what parts of
> https://trac.osgeo.org/proj/ were website-ish as opposed to wiki
> pages, so I initially transferred the trac wiki pages [1] to GitHub
> wiki [2] verbatim.  If there is further interest in making an actual
> website presence for proj.4, I'm happy to move this along.
>
Should we also make the old trac wiki read-only?  I don't know how it's 
done, but this was done for the MapServer trac instance (see message at 
top of https://trac.osgeo.org/mapserver/).


-jeff





From tomkralidis at gmail.com  Wed May 27 09:22:52 2015
From: tomkralidis at gmail.com (Tom Kralidis)
Date: Wed, 27 May 2015 12:22:52 -0400
Subject: [Proj] Github migration complete
In-Reply-To: <5565A45F.9040209@gatewaygeomatics.com>
References: <CAFWXLWXak8JyrUbpZtSw37yK1FcBdtf7bmmZt-JoUoZBOvz3ug@mail.gmail.com>
	<5565A45F.9040209@gatewaygeomatics.com>
Message-ID: <CAFWXLWXFaYmY=c5ocG-XveJAN2-CYcjLn_-Gcm+5vusjQnznWA@mail.gmail.com>

I've submitted a ticket to SAC [1] and have provided an update notice
on the (soon to be read-only) trac [2].

[1] https://trac.osgeo.org/osgeo/ticket/1494
[2] https://trac.osgeo.org/proj



On Wed, May 27, 2015 at 7:02 AM, Jeff McKenna
<jmckenna at gatewaygeomatics.com> wrote:
> On 2015-05-26 11:08 PM, Tom Kralidis wrote:
>> Update: it was difficult to figure out what parts of
>> https://trac.osgeo.org/proj/ were website-ish as opposed to wiki
>> pages, so I initially transferred the trac wiki pages [1] to GitHub
>> wiki [2] verbatim.  If there is further interest in making an actual
>> website presence for proj.4, I'm happy to move this along.
>>
> Should we also make the old trac wiki read-only?  I don't know how it's
> done, but this was done for the MapServer trac instance (see message at
> top of https://trac.osgeo.org/mapserver/).
>
>
> -jeff
>
>
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj


From quantum.analyst at gmail.com  Wed May 27 23:57:02 2015
From: quantum.analyst at gmail.com (Elliott Sales de Andrade)
Date: Thu, 28 May 2015 02:57:02 -0400
Subject: [Proj] Github migration complete
In-Reply-To: <4B4A6343-ADA9-4AEA-91FB-7153035DEC61@hobu.co>
References: <AE9D0651-6891-40F3-8A1A-D2016F9D95BA@hobu.co>
	<loom.20150523T102213-61@post.gmane.org>
	<4B4A6343-ADA9-4AEA-91FB-7153035DEC61@hobu.co>
Message-ID: <CAJP_izc685onD9zXObBZbBJ1nzh7dPRwn_GMa3++XE7JaB=6yQ@mail.gmail.com>

Hi Howard,

On 24 May 2015 at 10:43, Howard Butler <howard at hobu.co> wrote:
>
>> On May 23, 2015, at 3:22 AM, Elliott Sales de Andrade <quantum.analyst at gmail.com> wrote:
>>
>> To show you how this would look (except for the .gitignore and
>> git-svn-id suggestions, as those should be done when converting from
>> svn), I have uploaded a cleaned repo [1] and, for reference, the
>> commands I used to produce it [2].
>
> Fantastic. Unless I hear otherwise, we will use this repo as our starting point. My concerns are to make sure tags/branches are preserved, and Trac ticket->revision and github ticket->sha linkages are preserved as part of the migration.
>

I see that an update was made yesterday where the existing repository
was merged with the proj4-clean version. However, that means that the
repository is twice as large as it needs to be, since you still have
all of the original commits *and* all of the re-written ones. It would
be better to replace it outright:

$ git clone git at github.com:QuLogic/proj4-clean.git
$ cd proj4-clean
$ git remote add osgeo git at github.com:OSGeo/proj.4.git
$ git push -f osgeo --all
$ git push -f osgeo --tags

> Howard

-- 
Elliott


From howard at hobu.co  Thu May 28 08:04:53 2015
From: howard at hobu.co (Howard Butler)
Date: Thu, 28 May 2015 10:04:53 -0500
Subject: [Proj] Github migration complete
In-Reply-To: <CAJP_izc685onD9zXObBZbBJ1nzh7dPRwn_GMa3++XE7JaB=6yQ@mail.gmail.com>
References: <AE9D0651-6891-40F3-8A1A-D2016F9D95BA@hobu.co>
	<loom.20150523T102213-61@post.gmane.org>
	<4B4A6343-ADA9-4AEA-91FB-7153035DEC61@hobu.co>
	<CAJP_izc685onD9zXObBZbBJ1nzh7dPRwn_GMa3++XE7JaB=6yQ@mail.gmail.com>
Message-ID: <C009F004-32A7-4C5D-AD64-61DB68EB0D54@hobu.co>


> On May 28, 2015, at 1:57 AM, Elliott Sales de Andrade <quantum.analyst at gmail.com> wrote:
> 
> It would
> be better to replace it outright:
> 
> $ git clone git at github.com:QuLogic/proj4-clean.git
> $ cd proj4-clean
> $ git remote add osgeo git at github.com:OSGeo/proj.4.git
> $ git push -f osgeo --all
> $ git push -f osgeo --tags

Done. 

Thanks for your efforts. 

Also, thanks to Tom Kralidis for migrating the wiki. I propose we freeze the existing Trac instance so the old links will continue to work

Unless someone sees any significant and blocking issue in either the git repository or the issues in the next day or so, I’m calling the migration complete.

Howard

From tomkralidis at gmail.com  Thu May 28 08:43:46 2015
From: tomkralidis at gmail.com (Tom Kralidis)
Date: Thu, 28 May 2015 11:43:46 -0400
Subject: [Proj] Github migration complete
In-Reply-To: <C009F004-32A7-4C5D-AD64-61DB68EB0D54@hobu.co>
References: <AE9D0651-6891-40F3-8A1A-D2016F9D95BA@hobu.co>
	<loom.20150523T102213-61@post.gmane.org>
	<4B4A6343-ADA9-4AEA-91FB-7153035DEC61@hobu.co>
	<CAJP_izc685onD9zXObBZbBJ1nzh7dPRwn_GMa3++XE7JaB=6yQ@mail.gmail.com>
	<C009F004-32A7-4C5D-AD64-61DB68EB0D54@hobu.co>
Message-ID: <CAFWXLWWW8pDJVwv+gQOU1a3Xi3dZ7xZAGDGkRxPXvepP-gcbPw@mail.gmail.com>

On Thu, May 28, 2015 at 11:04 AM, Howard Butler <howard at hobu.co> wrote:
>
>> On May 28, 2015, at 1:57 AM, Elliott Sales de Andrade <quantum.analyst at gmail.com> wrote:
>>
>> It would
>> be better to replace it outright:
>>
>> $ git clone git at github.com:QuLogic/proj4-clean.git
>> $ cd proj4-clean
>> $ git remote add osgeo git at github.com:OSGeo/proj.4.git
>> $ git push -f osgeo --all
>> $ git push -f osgeo --tags
>
> Done.
>
> Thanks for your efforts.
>
> Also, thanks to Tom Kralidis for migrating the wiki. I propose we freeze the existing Trac instance so the old links will continue to work
>

Agree.  I've issued a ticket to SAC [1] and updated the wiki [2].

[1] http://trac.osgeo.org/osgeo/ticket/1494
[2] http://trac.osgeo.org/proj/

> Unless someone sees any significant and blocking issue in either the git repository or the issues in the next day or so, I’m calling the migration complete.
>


From tomkralidis at gmail.com  Thu May 28 09:37:41 2015
From: tomkralidis at gmail.com (Tom Kralidis)
Date: Thu, 28 May 2015 12:37:41 -0400
Subject: [Proj] Overhaul of docs/website/wiki and call for help
Message-ID: <CAFWXLWWkoy_aD5-H-41pzxQgKruWpuLovaGW0=fFerTLaZwhqw@mail.gmail.com>

All: given the wiki transition to GitHub, I think it's a good time to
dust off what's there and make things more clear.  Way forward:

1. Website

Core presence (links to docs, wiki, download, issue tracker, FAQ, etc.
This would be implemented in Markdown and leveraging GitHub pages,
which would make the web presence available at
http://osgeo.github.io/proj.4/.  If there is interest, we could
register proj4.org (maybe OSGeo could cover?), or proj4.osgeo.org.

This would either be managed a) in a gh-pages branch within
https://github.com/OSGeo/proj.4/ or b) a dedicated repo like
https://github.com/OSGeo/proj.4-www with gh-pages as the default
branch.  Note that this will also automagically update the website as
changes are made.  Pros/cons/suggestions/other options appreciated
here.

2. Documentation:

This would live in the codebase in docs/ and be made available on
https://readthedocs.org/, which would automatically generate and make
available the docs across multiple versions.  Content will be managed
by Sphinx/reStructuredText.

Table of contents:
- Introduction
- Installation
- Usage
- Testing
- Support
- Development
- License

Currently in the codebase I see:

https://github.com/OSGeo/proj.4/tree/master/html: some of these are
man pages.  How do these compare/relate to
https://github.com/OSGeo/proj.4/tree/master/man/man1 ?

https://github.com/OSGeo/proj.4/tree/master/docs/.  Looks like these
are static PDFs.  Not sure what their state is.

3. Wiki: transient/other info which does not fit into 1 or 2


Any comments, suggestions, issues would be appreciated.  Most of all,
help would be valuable with content creation/migration to rST.

Hope this helps make things easier for long term maintenance of the
"geo library everyone doesn't know they use" [1].

..Tom

[1] https://twitter.com/howardbutler/status/569577495688663040


From quantum.analyst at gmail.com  Thu May 28 12:12:44 2015
From: quantum.analyst at gmail.com (Elliott Sales de Andrade)
Date: Thu, 28 May 2015 15:12:44 -0400
Subject: [Proj] Github migration complete
In-Reply-To: <C009F004-32A7-4C5D-AD64-61DB68EB0D54@hobu.co>
References: <AE9D0651-6891-40F3-8A1A-D2016F9D95BA@hobu.co>
	<loom.20150523T102213-61@post.gmane.org>
	<4B4A6343-ADA9-4AEA-91FB-7153035DEC61@hobu.co>
	<CAJP_izc685onD9zXObBZbBJ1nzh7dPRwn_GMa3++XE7JaB=6yQ@mail.gmail.com>
	<C009F004-32A7-4C5D-AD64-61DB68EB0D54@hobu.co>
Message-ID: <CAJP_izcwGH7=HXakUHRda+mg1pDe6O0vm+zZEcg3sO4HAvfP5w@mail.gmail.com>

Hi Howard,

On 28 May 2015 at 11:04, Howard Butler <howard at hobu.co> wrote:
>
>> On May 28, 2015, at 1:57 AM, Elliott Sales de Andrade <quantum.analyst at gmail.com> wrote:
>>
>> It would
>> be better to replace it outright:
>>

Sorry, forgot one *very* important line to get the branches in sync:

$ git clone git at github.com:QuLogic/proj4-clean.git
$ cd proj4-clean

# Copy branches locally
$ for br in 4.7 4.8 4.9; do git branch $br origin/$br; done

$ git remote add osgeo git at github.com:OSGeo/proj.4.git
$ git push -f osgeo --all
$ git push -f osgeo --tags

>
> Done.
>
> Thanks for your efforts.
>
> Also, thanks to Tom Kralidis for migrating the wiki. I propose we freeze the existing Trac instance so the old links will continue to work
>
> Unless someone sees any significant and blocking issue in either the git repository or the issues in the next day or so, I’m calling the migration complete.
>
> Howard

-- 
Elliott


From warmerdam at pobox.com  Thu May 28 17:56:33 2015
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu, 28 May 2015 17:56:33 -0700
Subject: [Proj] Overhaul of docs/website/wiki and call for help
In-Reply-To: <CAFWXLWWkoy_aD5-H-41pzxQgKruWpuLovaGW0=fFerTLaZwhqw@mail.gmail.com>
References: <CAFWXLWWkoy_aD5-H-41pzxQgKruWpuLovaGW0=fFerTLaZwhqw@mail.gmail.com>
Message-ID: <CA+YzLBfwAmoZJGt3M4pm7zg0Oy=3Xk7uRK31xnP-UHbM04jY9g@mail.gmail.com>

On Thu, May 28, 2015 at 9:37 AM, Tom Kralidis <tomkralidis at gmail.com> wrote:
> All: given the wiki transition to GitHub, I think it's a good time to
> dust off what's there and make things more clear.  Way forward:
>
> 1. Website
>
> Core presence (links to docs, wiki, download, issue tracker, FAQ, etc.
> This would be implemented in Markdown and leveraging GitHub pages,
> which would make the web presence available at
> http://osgeo.github.io/proj.4/.  If there is interest, we could
> register proj4.org (maybe OSGeo could cover?), or proj4.osgeo.org.

Tom,

I'd prefer we keep our presence at http://proj.osgeo.org/

> This would either be managed a) in a gh-pages branch within
> https://github.com/OSGeo/proj.4/ or b) a dedicated repo like
> https://github.com/OSGeo/proj.4-www with gh-pages as the default
> branch.  Note that this will also automagically update the website as
> changes are made.  Pros/cons/suggestions/other options appreciated
> here.
>
> 2. Documentation:
>
> This would live in the codebase in docs/ and be made available on
> https://readthedocs.org/, which would automatically generate and make
> available the docs across multiple versions.  Content will be managed
> by Sphinx/reStructuredText.
>
> Table of contents:
> - Introduction
> - Installation
> - Usage
> - Testing
> - Support
> - Development
> - License
>
> Currently in the codebase I see:
>
> https://github.com/OSGeo/proj.4/tree/master/html: some of these are
> man pages.  How do these compare/relate to
> https://github.com/OSGeo/proj.4/tree/master/man/man1 ?
>
> https://github.com/OSGeo/proj.4/tree/master/docs/.  Looks like these
> are static PDFs.  Not sure what their state is.

They are quite outdated, but we don't have the ability to recreate
them and much of the material in them does not exist elsewhere.  I'd
like to continue to point to them though it would be ideal one day to
capture more of this information in dynamically maintainable docs.

>
> 3. Wiki: transient/other info which does not fit into 1 or 2
>
>
> Any comments, suggestions, issues would be appreciated.  Most of all,
> help would be valuable with content creation/migration to rST.
>
> Hope this helps make things easier for long term maintenance of the
> "geo library everyone doesn't know they use" [1].
>
> ..Tom
>
> [1] https://twitter.com/howardbutler/status/569577495688663040
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj


Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Software Developer


From tomkralidis at gmail.com  Fri May 29 07:50:25 2015
From: tomkralidis at gmail.com (Tom Kralidis)
Date: Fri, 29 May 2015 10:50:25 -0400
Subject: [Proj] Overhaul of docs/website/wiki and call for help
In-Reply-To: <CA+YzLBfwAmoZJGt3M4pm7zg0Oy=3Xk7uRK31xnP-UHbM04jY9g@mail.gmail.com>
References: <CAFWXLWWkoy_aD5-H-41pzxQgKruWpuLovaGW0=fFerTLaZwhqw@mail.gmail.com>
	<CA+YzLBfwAmoZJGt3M4pm7zg0Oy=3Xk7uRK31xnP-UHbM04jY9g@mail.gmail.com>
Message-ID: <778A226B-502E-4E58-BAFF-3C2204FA539D@gmail.com>



> On May 28, 2015, at 20:56, Frank Warmerdam <warmerdam at pobox.com> wrote:
> 
>> On Thu, May 28, 2015 at 9:37 AM, Tom Kralidis <tomkralidis at gmail.com> wrote:
>> All: given the wiki transition to GitHub, I think it's a good time to
>> dust off what's there and make things more clear.  Way forward:
>> 
>> 1. Website
>> 
>> Core presence (links to docs, wiki, download, issue tracker, FAQ, etc.
>> This would be implemented in Markdown and leveraging GitHub pages,
>> which would make the web presence available at
>> http://osgeo.github.io/proj.4/.  If there is interest, we could
>> register proj4.org (maybe OSGeo could cover?), or proj4.osgeo.org.
> 
> Tom,
> 
> I'd prefer we keep our presence at http://proj.osgeo.org/

Ok. We can have this point at the new website when the time comes.

> 
>> This would either be managed a) in a gh-pages branch within
>> https://github.com/OSGeo/proj.4/ or b) a dedicated repo like
>> https://github.com/OSGeo/proj.4-www with gh-pages as the default
>> branch.  Note that this will also automagically update the website as
>> changes are made.  Pros/cons/suggestions/other options appreciated
>> here.
>> 
>> 2. Documentation:
>> 
>> This would live in the codebase in docs/ and be made available on
>> https://readthedocs.org/, which would automatically generate and make
>> available the docs across multiple versions.  Content will be managed
>> by Sphinx/reStructuredText.
>> 
>> Table of contents:
>> - Introduction
>> - Installation
>> - Usage
>> - Testing
>> - Support
>> - Development
>> - License
>> 
>> Currently in the codebase I see:
>> 
>> https://github.com/OSGeo/proj.4/tree/master/html: some of these are
>> man pages.  How do these compare/relate to
>> https://github.com/OSGeo/proj.4/tree/master/man/man1 ?
>> 
>> https://github.com/OSGeo/proj.4/tree/master/docs/.  Looks like these
>> are static PDFs.  Not sure what their state is.
> 
> They are quite outdated, but we don't have the ability to recreate
> them and much of the material in them does not exist elsewhere.  I'd
> like to continue to point to them though it would be ideal one day to
> capture more of this information in dynamically maintainable docs.
> 

We can include them as static links as a first pass. 

>> 
>> 3. Wiki: transient/other info which does not fit into 1 or 2
>> 
>> 
>> Any comments, suggestions, issues would be appreciated.  Most of all,
>> help would be valuable with content creation/migration to rST.
>> 
>> Hope this helps make things easier for long term maintenance of the
>> "geo library everyone doesn't know they use" [1].
>> 
>> ..Tom
>> 
>> [1] https://twitter.com/howardbutler/status/569577495688663040
>> _______________________________________________
>> Proj mailing list
>> Proj at lists.maptools.org
>> http://lists.maptools.org/mailman/listinfo/proj
> 
> 
> Best regards,
> -- 
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Software Developer
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj


From howard at hobu.co  Fri May 29 08:16:45 2015
From: howard at hobu.co (Howard Butler)
Date: Fri, 29 May 2015 10:16:45 -0500
Subject: [Proj] Github migration complete
In-Reply-To: <CAJP_izcwGH7=HXakUHRda+mg1pDe6O0vm+zZEcg3sO4HAvfP5w@mail.gmail.com>
References: <AE9D0651-6891-40F3-8A1A-D2016F9D95BA@hobu.co>
	<loom.20150523T102213-61@post.gmane.org>
	<4B4A6343-ADA9-4AEA-91FB-7153035DEC61@hobu.co>
	<CAJP_izc685onD9zXObBZbBJ1nzh7dPRwn_GMa3++XE7JaB=6yQ@mail.gmail.com>
	<C009F004-32A7-4C5D-AD64-61DB68EB0D54@hobu.co>
	<CAJP_izcwGH7=HXakUHRda+mg1pDe6O0vm+zZEcg3sO4HAvfP5w@mail.gmail.com>
Message-ID: <451FF0E3-461F-44BE-9E4E-D8394EE17037@hobu.co>

Ok,

Thanks to Elliott, Tom, and Thomas, the PROJ.4 migration to github at http://github.com/OSGeo/proj.4 is now complete.

https://trac.osgeo.org/proj/ has been set to static, and now points to github. 

The current PROJ.4 SVN is actually inside of MetaCRS. Should we just delete the ./proj tree from it and replace it with a README pointing to github?

Howard

