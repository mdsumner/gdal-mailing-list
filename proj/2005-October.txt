From mateusz at loskot.net  Tue Oct  4 19:48:44 2005
From: mateusz at loskot.net (=?UTF-8?B?TWF0ZXVzeiDFgW9za290?=)
Date: Wed, 05 Oct 2005 04:48:44 +0200
Subject: [Proj] Python bindings to PROJ
Message-ID: <43433F0C.6090501@loskot.net>

Hi,

I'm looking for Python bindings to PROJ.
The only module I found is pyproj 1.5
http://www.cdc.noaa.gov/people/jeffrey.s.whitaker/python/pyproj.html

I'd like to ask if this is the only known Python module for PROJ and is 
this the latest version?

Best regards
-- 
Mateusz Łoskot
http://mateusz.loskot.net


From jan at intevation.de  Tue Oct  4 22:23:03 2005
From: jan at intevation.de (Jan-Oliver Wagner)
Date: Wed, 5 Oct 2005 07:23:03 +0200
Subject: [Proj] Python bindings to PROJ
In-Reply-To: <43433F0C.6090501@loskot.net>
References: <43433F0C.6090501@loskot.net>
Message-ID: <20051005052303.GA18746@intevation.de>

On Wed, Oct 05, 2005 at 04:48:44AM +0200, Mateusz ??oskot wrote:
> I'm looking for Python bindings to PROJ.
> The only module I found is pyproj 1.5
> http://www.cdc.noaa.gov/people/jeffrey.s.whitaker/python/pyproj.html
> 
> I'd like to ask if this is the only known Python module for PROJ and is 
> this the latest version?

Thuban (thuban.intevation.org), written in Python, uses PROJ.
Not sure whether the bindings have been integrated into PROJ.

Best

	Jan
-- 
Jan-Oliver Wagner               http://intevation.de/~jan/
Intevation GmbH                      http://intevation.de/
Kolab Konsortium               http://kolab-konsortium.de/
FreeGIS                                http://freegis.org/


From warmerdam at pobox.com  Wed Oct  5 06:11:52 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed, 5 Oct 2005 09:11:52 -0400
Subject: [Proj] Python bindings to PROJ
In-Reply-To: <43433F0C.6090501@loskot.net>
References: <43433F0C.6090501@loskot.net>
Message-ID: <931f8ea90510050611o5c9cdd7fu403fa19c024250db@mail.gmail.com>

On 10/4/05, Mateusz Łoskot <mateusz at loskot.net> wrote:
> Hi,
>
> I'm looking for Python bindings to PROJ.
> The only module I found is pyproj 1.5
> http://www.cdc.noaa.gov/people/jeffrey.s.whitaker/python/pyproj.html
>
> I'd like to ask if this is the only known Python module for PROJ and is
> this the latest version?

Mateusz,

I am not too familiar with this or the Thuban bindings for PROJ.4.
But there are also very indirect bindings for PROJ.4 through OGR
and the OGRSpatialReference.  This has the additional benefit
of including handling of coordinate systems in a variety of formats,
notably OGC WKT.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From mateusz at loskot.net  Wed Oct  5 08:22:31 2005
From: mateusz at loskot.net (=?UTF-8?B?TWF0ZXVzeiDFgW9za290?=)
Date: Wed, 05 Oct 2005 17:22:31 +0200
Subject: [Proj] Python bindings to PROJ
In-Reply-To: <20051005052303.GA18746@intevation.de>
References: <43433F0C.6090501@loskot.net>
	<20051005052303.GA18746@intevation.de>
Message-ID: <4343EFB7.30801@loskot.net>

Jan-Oliver Wagner napisał(a):
> On Wed, Oct 05, 2005 at 04:48:44AM +0200, Mateusz ??oskot wrote:
> 
>>I'm looking for Python bindings to PROJ.
>>The only module I found is pyproj 1.5
>>http://www.cdc.noaa.gov/people/jeffrey.s.whitaker/python/pyproj.html
>>
>>I'd like to ask if this is the only known Python module for PROJ and is 
>>this the latest version?
> 
> 
> Thuban (thuban.intevation.org), written in Python, uses PROJ.
> Not sure whether the bindings have been integrated into PROJ.
> 

Hm, may be it could be useful for someone to extract
Py bindings for PROJ from Thuban.
I've never made such thing, but I could take a look.

Cheers

-- 
Mateusz Łoskot
http://mateusz.loskot.net


From mateusz at loskot.net  Wed Oct  5 08:24:23 2005
From: mateusz at loskot.net (=?UTF-8?B?TWF0ZXVzeiDFgW9za290?=)
Date: Wed, 05 Oct 2005 17:24:23 +0200
Subject: [Proj] Python bindings to PROJ
In-Reply-To: <931f8ea90510050611o5c9cdd7fu403fa19c024250db@mail.gmail.com>
References: <43433F0C.6090501@loskot.net>
	<931f8ea90510050611o5c9cdd7fu403fa19c024250db@mail.gmail.com>
Message-ID: <4343F027.4080704@loskot.net>

Frank Warmerdam napisał(a):
> On 10/4/05, Mateusz Łoskot <mateusz at loskot.net> wrote:
>
>>I'm looking for Python bindings to PROJ.
>>The only module I found is pyproj 1.5
>>http://www.cdc.noaa.gov/people/jeffrey.s.whitaker/python/pyproj.html
>>
>>I'd like to ask if this is the only known Python module for PROJ and is
>>this the latest version?
> 
> 
> Mateusz,
> 
> I am not too familiar with this or the Thuban bindings for PROJ.4.
> But there are also very indirect bindings for PROJ.4 through OGR
> and the OGRSpatialReference.  This has the additional benefit
> of including handling of coordinate systems in a variety of formats,
> notably OGC WKT.
> 

Hehe, do you believe me, I've forgot about PROJ in OGR :-)
Thanks Frank for reminding! Certainly, that seems to be better solution 
than extracting PROJ binds from Thuban.

Cheers

-- 
Mateusz Łoskot
http://mateusz.loskot.net


From bh at intevation.de  Wed Oct  5 08:58:40 2005
From: bh at intevation.de (Bernhard Herzog)
Date: Wed, 05 Oct 2005 17:58:40 +0200
Subject: [Proj] Python bindings to PROJ
In-Reply-To: <4343EFB7.30801@loskot.net> ( =?utf-8?b?TWF0ZXVzeiDFgW9za290Jw==?=
	=?utf-8?b?cyBtZXNzYWdlIG9m?= "Wed, 05 Oct 2005 17:22:31 +0200")
References: <43433F0C.6090501@loskot.net>
	<20051005052303.GA18746@intevation.de> <4343EFB7.30801@loskot.net>
Message-ID: <s9zek70j6q7.fsf@thetis.intevation.de>

Mateusz Łoskot <mateusz at loskot.net> writes:

> Hm, may be it could be useful for someone to extract
> Py bindings for PROJ from Thuban.

FWIW, the proj bindings in Thuban were originally done by people at
meridian-enviro.com.  The files give the author as Douglas K. Rand and I
got them by mail from Jeff Einhorn.  The original version doesn't seem
to be available for download anywhere (at least I couldn't find it just
now with google).

The bindings from Thuban have been made available by Howard Butler:
http://hobu.biz/software/pyprojection/

   Bernhard

-- 
Intevation GmbH                                 http://intevation.de/
Skencil                                           http://skencil.org/
Thuban                                  http://thuban.intevation.org/



From tim.loesch at dnr.state.mn.us  Wed Oct  5 09:08:53 2005
From: tim.loesch at dnr.state.mn.us (Tim Loesch)
Date: Wed, 05 Oct 2005 11:08:53 -0500
Subject: [Proj] 
	Re: Proj Digest, Vol 17, Issue 1 (NOTICE - Out of the office)
Message-ID: <s343b461.091@co5.dnr.state.mn.us>

I'm out of the office on 10/4 and 10/5 attending the GIS/LIS Conference.





From hamish_nospam at yahoo.com  Sun Oct  9 19:44:08 2005
From: hamish_nospam at yahoo.com (Hamish)
Date: Mon, 10 Oct 2005 15:44:08 +1300
Subject: [Proj] Fw: GRASSLIST:8537 Re: EPSG: Basic question...
Message-ID: <20051010154408.0506be96.hamish_nospam@yahoo.com>

Perhaps better directed to the PROJ4 mailing list?
--Hamish

Begin forwarded message:

Date: Fri, 7 Oct 2005 08:46:04 -0500
From: Rhys Stewart <rhys.stewart at gmail.com>
To: Christian Ferreira <christian.grass at gmail.com>
Cc: grasslist at baylor.edu
Subject: [GRASSLIST:8537] Re: EPSG: Basic question...


Hi all,

two questions on the epsg files. First, who do I notify if an included
projection is incorrect (in my case JAD 69 is missing a few paramaters
so if I use the projection supplied stuff falls about 300m of) and how
can I get a projection added to the list?

Rhys


From mfinn at usgs.gov  Sun Oct  9 20:03:57 2005
From: mfinn at usgs.gov (Michael P Finn)
Date: Sun, 9 Oct 2005 22:03:57 -0500
Subject: [Proj] Michael P Finn of the USGS/ National Geospatial Technical
 Operations Center is out of the office.
Message-ID: <OFEAD923E1.CFD96FCF-ON86257096.0010D78F-86257096.0010D790@usgs.gov>

I will be out of the office starting  10/08/2005 and will not return until
10/12/2005.

I will be unable to check e-mail regularly while I am out. If I can't
respond to your message while I am out, then I will when I return. If you
have anything that cannot wait, please contact my colleague, Mr. Michael
Williams, at mswilliams at usgs.gov. Thanks.     Mike



From W.Sistermans at nioo.knaw.nl  Mon Oct 10 01:54:44 2005
From: W.Sistermans at nioo.knaw.nl (Sistermans, Wil)
Date: Mon, 10 Oct 2005 10:54:44 +0200
Subject: [Proj] (no subject)
Message-ID: <65F6E1EC64DCA6489800C09A2007FC6EAF1140@cememail1.nioo.int>

Hi

 

I'm new in the proj4 stuff, but it looks great and it just may be what
I'm looking for.

 

My problem: I'm an occasional Delphi programmer and now have to write
some routines for some coordinate conversions, mainly datum conversions.
In the future but Dutch national grid, UTM and Lambert should be
possible too.

 

Maybe someone has done this already, and willing to help me. Think this
is the quickest way to get started with Proj4.

Wil Sistermans, Analist bodemdieren / Database beheerder
E-mail: w.sistermans at nioo.knaw.nl
<mailto:w.sistermans at nioo.knaw.nl?subject=In reactie op uw schrijven> 
Tel : +31 (0)113 577 357   (...354) 

  


Nederlands Instituut voor Ecologie
Centrum voor Estuariene en Mariene Ecologie (NIOO-CEME) 

Postadres : Postbus 140                  Bezoek adres : Korringaweg 7
                    4400 AC Yerseke
4401 NT Yerseke
                    The Netherlands
Nederland 

Tel.:  +31 (0)113 577300 
Fax.: +31 (0)113 573616 
Web: www.nioo.knaw.nl <http://www.nioo.knaw.nl/>  

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20051010/de6ed9d3/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Nioologo 2002 klein.gif
Type: image/gif
Size: 2808 bytes
Desc: Nioologo 2002 klein.gif
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20051010/de6ed9d3/attachment.gif>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: CEME Briefpapier.JPG
Type: image/jpeg
Size: 10467 bytes
Desc: CEME Briefpapier.JPG
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20051010/de6ed9d3/attachment.jpe>

From W.Sistermans at nioo.knaw.nl  Mon Oct 10 02:21:24 2005
From: W.Sistermans at nioo.knaw.nl (Sistermans, Wil)
Date: Mon, 10 Oct 2005 11:21:24 +0200
Subject: [Proj] Newbie (deplhi) question
Message-ID: <65F6E1EC64DCA6489800C09A2007FC6EAF1141@cememail1.nioo.int>

Hi
 
I'm new in the proj4 stuff, but it looks great and it just may be what
I'm looking for.

My problem: I'm an occasional Delphi programmer and now have to write
some routines for some coordinate conversions, mainly datum conversions,
but UTM and Lambert should be possible too.

Maybe someone has done this already, and willing to help me. Think this
is the quickest way to get started with Proj4.

Wil Sistermans, Analist bodemdieren / Database beheerder
E-mail: w.sistermans at nioo.knaw.nl
Tel : +31 (0)113 577 357   (...354) 
 

Nederlands Instituut voor Ecologie
Centrum voor Estuariene en Mariene Ecologie (NIOO-CEME) 
Postadres : Postbus 140                  Bezoek adres : Korringaweg 7
                    4400 AC Yerseke
4401 NT Yerseke
                    The Netherlands
Nederland
Tel.:  +31 (0)113 577300 
Fax.: +31 (0)113 573616 
Web: www.nioo.knaw.nl



From warmerdam at pobox.com  Tue Oct 11 10:50:08 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue, 11 Oct 2005 13:50:08 -0400
Subject: [Proj] (no subject)
In-Reply-To: <65F6E1EC64DCA6489800C09A2007FC6EAF1140@cememail1.nioo.int>
References: <65F6E1EC64DCA6489800C09A2007FC6EAF1140@cememail1.nioo.int>
Message-ID: <931f8ea90510111050h4d79185alb11780d447ba103e@mail.gmail.com>

> I'm new in the proj4  stuff, but it looks great and it just may be what I'm looking  for.
>
> My problem: I'm an  occasional Delphi programmer and now  have to write some routines for some coordinate conversions, mainly datum  conversions. In the future but Dutch national grid, UTM and Lambert should be  possible too.
>
> Maybe someone has done  this already, and willing to help me. Think this is the quickest way to get  started with Proj4.

Wil,

I am not aware of anyone using PROJ.4 from Delphi but my
understanding is that you just need to declare the entry points
"__stdcall" when compiling the code, and then DllImport them
with appropriate definitions in Delphi.  There aren't very many
important "entry points" (functions) in PROJ.4.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From tibben at OCF.Berkeley.EDU  Mon Oct 17 12:35:38 2005
From: tibben at OCF.Berkeley.EDU (tibben at OCF.Berkeley.EDU)
Date: Mon, 17 Oct 2005 12:35:38 -0700 (PDT)
Subject: [Proj] Mercator Problem
Message-ID: <12749.200.106.94.51.1129577738.squirrel@200.106.94.51>

Perhaps this is not the place for this questions and I should be posting
this observation to a different list . . . in any case input would be
appreciated. Sorry in advance if this observation is out of place.

Recently I reminded myself that measuring distance on maps is a difficult
matter, and I have observed some errors regarding the distance measuring
tools in mapServer (in particular with the use of the Mercator
projection).

After a little research, the problem regarding measuring distances when
using the standard Mercator projection would be a variable issue based on
lattitude. This is fairly obvious if we think about the way the Mercator
projection works, and perhaps my best solution is to choose a better
projection for my area of interest (California - perhaps a version of UTM
would give me better measurments - in fact I am reasonably certain it
would).

But the big questions for me is - since there are errors within the
distance measuring tools, do the same errors exist in the scalebar tools??

After measuring a few scalebars and comparing them to paper maps of
California it would seem that the answer is yes. All of the scalebars
drawn through mapServer are short (using the Standard Mercator between
lattitudes 33 and 38).

Even though the answer is that there is an error using distances with the
Standard Mercator with my system, I am, to say the least, unclear as to
where this problem lies . . . PROJ4 problem?? . . . a compile problem??  .
. . a GDAL problem?? some other issue???

I am sure that I can fudge a workaround for this, but at the same time . .
. any guidance for an eleant solution would be greatly appreciated . . .

for reference the following were my build steps:

for Proj4
[root at maps proj-4.4.9]# ./configure
[root at maps proj-4.4.9]# make
[root at maps proj-4.4.9]# make install

[root at maps proj-4.4.9]# cp ~/epsg /usr/local/share/proj/epsg

for GDAL
[root at maps gdal-1.2.6]# make clean
[root at maps gdal-1.2.6]# ./configure  --with-ogr --without-python
--with-xerces
[root at maps gdal-1.2.6]# make
[root at maps gdal-1.2.6]# make install
[root at maps gdal-1.2.6]# /sbin/ldconfig

for mapserver
[root at tuna mapserver4.4.2]# rm -f config.cache
[root at tuna mapserver4.4.2]# ./configure --without-tiff --with-threads
--with-proj --with-gdal=/usr/local/bin/gdal-config --with-ogr
--with-php=../php-5.0.4 --with-gd=/usr/local  --with-freetype=/usr/bin 
--with-pdf --with-wmsclient --with-wfs --with-wfsclient
[root at tuna mapserver4.4.2]# make clean
[root at tuna mapserver4.4.2]# make
[root at tuna mapserver4.4.2]# cp mapserv /var/www/cgi-bin/mapserv_40
[root at tuna mapserver4.4.2]# cp mapscript/php3/php_mapscript.so
/usr/local/php/extensions/php_mapscript_40.so

I am using mapServer with PHP mapscript on a Fedora/apache system and all
my data is MapInfo (through OGR) - other than this problem, mapServer with
PROJ4 has performed much better than commercial software that I have used
in the past.

thanks
tim

Tim Norris

ps This has also been posted to the mapServer listserv.


From cjmce at lsu.edu  Mon Oct 17 12:51:35 2005
From: cjmce at lsu.edu (Clifford J Mugnier)
Date: Mon, 17 Oct 2005 14:51:35 -0500
Subject: [Proj] Mercator Problem
Message-ID: <OFA23DF568.F22596E2-ON8625709D.006D175B-8625709D.006D17CC@lsu.edu>





The Normal Aspect of the Mercator projection has only one practical
application, and that is for computing a Loxodrome or Rhumb Line with the
associated geometric manipulations/intersections of that line with the
graticule, etc.  Computing distances is a folly on the Normal Aspect
Mercator.  With two endpoints, just compute the inverse of the cartesian
coordinates back into latitude and longitude and then compute the correct
distance with a geodesic inverse.

I do not know how to perform that with PROJ4 commands.

Clifford J. Mugnier
Chief of Geodesy and
Associate Director,
CENTER FOR GEOINFORMATICS
Department of Civil Engineering
LOUISIANA STATE UNIVERSITY
Baton Rouge, LA 70803
Voice and Facsimile: (225) 578-8536 [Academic]
Voice and Facsimile: (225) 578-4474 [Research]
================================
http://www.ASPRS.org/resources/GRIDS
http://www.cee.lsu.edu/facultyStaff/mugnier/index.html
================================




Perhaps this is not the place for this questions and I should be posting
this observation to a different list . . . in any case input would be
appreciated. Sorry in advance if this observation is out of place.

Recently I reminded myself that measuring distance on maps is a difficult
matter, and I have observed some errors regarding the distance measuring
tools in mapServer (in particular with the use of the Mercator
projection).

After a little research, the problem regarding measuring distances when
using the standard Mercator projection would be a variable issue based on
lattitude. This is fairly obvious if we think about the way the Mercator
projection works, and perhaps my best solution is to choose a better
projection for my area of interest (California - perhaps a version of UTM
would give me better measurments - in fact I am reasonably certain it
would).

But the big questions for me is - since there are errors within the
distance measuring tools, do the same errors exist in the scalebar tools??

After measuring a few scalebars and comparing them to paper maps of
California it would seem that the answer is yes. All of the scalebars
drawn through mapServer are short (using the Standard Mercator between
lattitudes 33 and 38).

Even though the answer is that there is an error using distances with the
Standard Mercator with my system, I am, to say the least, unclear as to
where this problem lies . . . PROJ4 problem?? . . . a compile problem??  .
. . a GDAL problem?? some other issue???

I am sure that I can fudge a workaround for this, but at the same time . .
. any guidance for an eleant solution would be greatly appreciated . . .

for reference the following were my build steps:

for Proj4
[root at maps proj-4.4.9]# ./configure
[root at maps proj-4.4.9]# make
[root at maps proj-4.4.9]# make install

[root at maps proj-4.4.9]# cp ~/epsg /usr/local/share/proj/epsg

for GDAL
[root at maps gdal-1.2.6]# make clean
[root at maps gdal-1.2.6]# ./configure  --with-ogr --without-python
--with-xerces
[root at maps gdal-1.2.6]# make
[root at maps gdal-1.2.6]# make install
[root at maps gdal-1.2.6]# /sbin/ldconfig

for mapserver
[root at tuna mapserver4.4.2]# rm -f config.cache
[root at tuna mapserver4.4.2]# ./configure --without-tiff --with-threads
--with-proj --with-gdal=/usr/local/bin/gdal-config --with-ogr
--with-php=../php-5.0.4 --with-gd=/usr/local  --with-freetype=/usr/bin
--with-pdf --with-wmsclient --with-wfs --with-wfsclient
[root at tuna mapserver4.4.2]# make clean
[root at tuna mapserver4.4.2]# make
[root at tuna mapserver4.4.2]# cp mapserv /var/www/cgi-bin/mapserv_40
[root at tuna mapserver4.4.2]# cp mapscript/php3/php_mapscript.so
/usr/local/php/extensions/php_mapscript_40.so

I am using mapServer with PHP mapscript on a Fedora/apache system and all
my data is MapInfo (through OGR) - other than this problem, mapServer with
PROJ4 has performed much better than commercial software that I have used
in the past.

thanks
tim

Tim Norris

ps This has also been posted to the mapServer listserv.
_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj



From pramsey at refractions.net  Mon Oct 17 12:51:56 2005
From: pramsey at refractions.net (Paul Ramsey)
Date: Mon, 17 Oct 2005 12:51:56 -0700
Subject: [Proj] Mercator Problem
In-Reply-To: <12749.200.106.94.51.1129577738.squirrel@200.106.94.51>
References: <12749.200.106.94.51.1129577738.squirrel@200.106.94.51>
Message-ID: <30F0DF7B-C587-42DA-8FF0-650EC0C59CBD@refractions.net>

Tim,

For a Mercator map of all of California, there is no *right* scale  
bar.  The scale at the top will be different from the scale at the  
bottom.  This is true of any Mercator map, just actually visible on  
maps of larger areas.  So the scale bar Mapserver is generating is  
probably right for *one* part of the map (perhaps the top or bottom?)  
and the scale bar from your paper map is right for *one* part of the  
map (the middle, maybe? or maybe for right where it is?).

For interactive things, like desktop user interfaces, it is possible  
to quietly cheat.  The measuring tool in uDig, for example, projects  
back into geographic coordinates, and does length calculations on the  
spheroid, rather than naively returning the length in the projected  
plane.  In this way it is possible to measure distances in meters  
while looking at a map in geographics, or get correct distances from  
a map in mercator.

Paul

On 17-Oct-05, at 12:35 PM, tibben at ocf.berkeley.edu wrote:

> Perhaps this is not the place for this questions and I should be  
> posting
> this observation to a different list . . . in any case input would be
> appreciated. Sorry in advance if this observation is out of place.
>
> Recently I reminded myself that measuring distance on maps is a  
> difficult
> matter, and I have observed some errors regarding the distance  
> measuring
> tools in mapServer (in particular with the use of the Mercator
> projection).
>
> After a little research, the problem regarding measuring distances  
> when
> using the standard Mercator projection would be a variable issue  
> based on
> lattitude. This is fairly obvious if we think about the way the  
> Mercator
> projection works, and perhaps my best solution is to choose a better
> projection for my area of interest (California - perhaps a version  
> of UTM
> would give me better measurments - in fact I am reasonably certain it
> would).
>
> But the big questions for me is - since there are errors within the
> distance measuring tools, do the same errors exist in the scalebar  
> tools??
>
> After measuring a few scalebars and comparing them to paper maps of
> California it would seem that the answer is yes. All of the scalebars
> drawn through mapServer are short (using the Standard Mercator between
> lattitudes 33 and 38).
>
> Even though the answer is that there is an error using distances  
> with the
> Standard Mercator with my system, I am, to say the least, unclear  
> as to
> where this problem lies . . . PROJ4 problem?? . . . a compile  
> problem??  .
> . . a GDAL problem?? some other issue???
>
> I am sure that I can fudge a workaround for this, but at the same  
> time . .
> . any guidance for an eleant solution would be greatly  
> appreciated . . .
>
> for reference the following were my build steps:
>
> for Proj4
> [root at maps proj-4.4.9]# ./configure
> [root at maps proj-4.4.9]# make
> [root at maps proj-4.4.9]# make install
>
> [root at maps proj-4.4.9]# cp ~/epsg /usr/local/share/proj/epsg
>
> for GDAL
> [root at maps gdal-1.2.6]# make clean
> [root at maps gdal-1.2.6]# ./configure  --with-ogr --without-python
> --with-xerces
> [root at maps gdal-1.2.6]# make
> [root at maps gdal-1.2.6]# make install
> [root at maps gdal-1.2.6]# /sbin/ldconfig
>
> for mapserver
> [root at tuna mapserver4.4.2]# rm -f config.cache
> [root at tuna mapserver4.4.2]# ./configure --without-tiff --with-threads
> --with-proj --with-gdal=/usr/local/bin/gdal-config --with-ogr
> --with-php=../php-5.0.4 --with-gd=/usr/local  --with-freetype=/usr/bin
> --with-pdf --with-wmsclient --with-wfs --with-wfsclient
> [root at tuna mapserver4.4.2]# make clean
> [root at tuna mapserver4.4.2]# make
> [root at tuna mapserver4.4.2]# cp mapserv /var/www/cgi-bin/mapserv_40
> [root at tuna mapserver4.4.2]# cp mapscript/php3/php_mapscript.so
> /usr/local/php/extensions/php_mapscript_40.so
>
> I am using mapServer with PHP mapscript on a Fedora/apache system  
> and all
> my data is MapInfo (through OGR) - other than this problem,  
> mapServer with
> PROJ4 has performed much better than commercial software that I  
> have used
> in the past.
>
> thanks
> tim
>
> Tim Norris
>
> ps This has also been posted to the mapServer listserv.
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
>



From craig at millerfam.net  Mon Oct 17 12:59:10 2005
From: craig at millerfam.net (Craig Miller)
Date: Mon, 17 Oct 2005 12:59:10 -0700
Subject: [Proj] Mercator Problem
In-Reply-To: <12749.200.106.94.51.1129577738.squirrel@200.106.94.51>
Message-ID: <ALEXANDRIAPGxgelXDe00000246@ALEXANDRIA.spatialminds.local>

To get correct distances, you will need to calculated great-circle distance.

--Craig


-----Original Message-----
From: tibben at ocf.berkeley.edu [mailto:tibben at ocf.berkeley.edu] 
Sent: Monday, October 17, 2005 12:36 PM
To: proj at lists.maptools.org
Subject: [Proj] Mercator Problem

Perhaps this is not the place for this questions and I should be posting
this observation to a different list . . . in any case input would be
appreciated. Sorry in advance if this observation is out of place.

Recently I reminded myself that measuring distance on maps is a difficult
matter, and I have observed some errors regarding the distance measuring
tools in mapServer (in particular with the use of the Mercator
projection).

After a little research, the problem regarding measuring distances when
using the standard Mercator projection would be a variable issue based on
lattitude. This is fairly obvious if we think about the way the Mercator
projection works, and perhaps my best solution is to choose a better
projection for my area of interest (California - perhaps a version of UTM
would give me better measurments - in fact I am reasonably certain it
would).

But the big questions for me is - since there are errors within the
distance measuring tools, do the same errors exist in the scalebar tools??

After measuring a few scalebars and comparing them to paper maps of
California it would seem that the answer is yes. All of the scalebars
drawn through mapServer are short (using the Standard Mercator between
lattitudes 33 and 38).

Even though the answer is that there is an error using distances with the
Standard Mercator with my system, I am, to say the least, unclear as to
where this problem lies . . . PROJ4 problem?? . . . a compile problem??  .
. . a GDAL problem?? some other issue???

I am sure that I can fudge a workaround for this, but at the same time . .
. any guidance for an eleant solution would be greatly appreciated . . .

for reference the following were my build steps:

for Proj4
[root at maps proj-4.4.9]# ./configure
[root at maps proj-4.4.9]# make
[root at maps proj-4.4.9]# make install

[root at maps proj-4.4.9]# cp ~/epsg /usr/local/share/proj/epsg

for GDAL
[root at maps gdal-1.2.6]# make clean
[root at maps gdal-1.2.6]# ./configure  --with-ogr --without-python
--with-xerces
[root at maps gdal-1.2.6]# make
[root at maps gdal-1.2.6]# make install
[root at maps gdal-1.2.6]# /sbin/ldconfig

for mapserver
[root at tuna mapserver4.4.2]# rm -f config.cache
[root at tuna mapserver4.4.2]# ./configure --without-tiff --with-threads
--with-proj --with-gdal=/usr/local/bin/gdal-config --with-ogr
--with-php=../php-5.0.4 --with-gd=/usr/local  --with-freetype=/usr/bin 
--with-pdf --with-wmsclient --with-wfs --with-wfsclient
[root at tuna mapserver4.4.2]# make clean
[root at tuna mapserver4.4.2]# make
[root at tuna mapserver4.4.2]# cp mapserv /var/www/cgi-bin/mapserv_40
[root at tuna mapserver4.4.2]# cp mapscript/php3/php_mapscript.so
/usr/local/php/extensions/php_mapscript_40.so

I am using mapServer with PHP mapscript on a Fedora/apache system and all
my data is MapInfo (through OGR) - other than this problem, mapServer with
PROJ4 has performed much better than commercial software that I have used
in the past.

thanks
tim

Tim Norris

ps This has also been posted to the mapServer listserv.
_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj






From ron at russfam.freeserve.co.uk  Mon Oct 17 13:50:29 2005
From: ron at russfam.freeserve.co.uk (Ron Russell)
Date: Mon, 17 Oct 2005 21:50:29 +0100
Subject: [Proj] Mercator Problem
In-Reply-To: <OFA23DF568.F22596E2-ON8625709D.006D175B-8625709D.006D17CC@lsu.edu>
Message-ID: <20051017205034.30566240008C@mwinf3201.me.freeserve.com>

What about using the Lat and Long of the endpoints to define the central
line of an Oblique Mercator, with a scale factor of 1.0 on the central line?
Then the distance can be calculated by Pythagoras, and other useful
operations can easily be calculated - mid point, distance of a third point
from the line and even the calculation of a buffer zone, all of which seem
horrendous when working on the ellipsoid. (OK, the mid point is not too
bad). 

Ron Russell
Tel : 01823 270308 email : ron at russfam.freeserve.co.uk 
-----Original Message-----
From: proj-bounces at lists.maptools.org
[mailto:proj-bounces at lists.maptools.org] On Behalf Of Clifford J Mugnier
Sent: 17 October 2005 20:52
To: PROJ.4 and general Projections Discussions
Subject: Re: [Proj] Mercator Problem





The Normal Aspect of the Mercator projection has only one practical
application, and that is for computing a Loxodrome or Rhumb Line with the
associated geometric manipulations/intersections of that line with the
graticule, etc.  Computing distances is a folly on the Normal Aspect
Mercator.  With two endpoints, just compute the inverse of the cartesian
coordinates back into latitude and longitude and then compute the correct
distance with a geodesic inverse.

I do not know how to perform that with PROJ4 commands.

Clifford J. Mugnier
Chief of Geodesy and
Associate Director,
CENTER FOR GEOINFORMATICS
Department of Civil Engineering
LOUISIANA STATE UNIVERSITY
Baton Rouge, LA 70803
Voice and Facsimile: (225) 578-8536 [Academic]
Voice and Facsimile: (225) 578-4474 [Research]
================================
http://www.ASPRS.org/resources/GRIDS
http://www.cee.lsu.edu/facultyStaff/mugnier/index.html
================================




Perhaps this is not the place for this questions and I should be posting
this observation to a different list . . . in any case input would be
appreciated. Sorry in advance if this observation is out of place.

Recently I reminded myself that measuring distance on maps is a difficult
matter, and I have observed some errors regarding the distance measuring
tools in mapServer (in particular with the use of the Mercator
projection).

After a little research, the problem regarding measuring distances when
using the standard Mercator projection would be a variable issue based on
lattitude. This is fairly obvious if we think about the way the Mercator
projection works, and perhaps my best solution is to choose a better
projection for my area of interest (California - perhaps a version of UTM
would give me better measurments - in fact I am reasonably certain it
would).

But the big questions for me is - since there are errors within the
distance measuring tools, do the same errors exist in the scalebar tools??

After measuring a few scalebars and comparing them to paper maps of
California it would seem that the answer is yes. All of the scalebars
drawn through mapServer are short (using the Standard Mercator between
lattitudes 33 and 38).

Even though the answer is that there is an error using distances with the
Standard Mercator with my system, I am, to say the least, unclear as to
where this problem lies . . . PROJ4 problem?? . . . a compile problem??  .
. . a GDAL problem?? some other issue???

I am sure that I can fudge a workaround for this, but at the same time . .
. any guidance for an eleant solution would be greatly appreciated . . .

for reference the following were my build steps:

for Proj4
[root at maps proj-4.4.9]# ./configure
[root at maps proj-4.4.9]# make
[root at maps proj-4.4.9]# make install

[root at maps proj-4.4.9]# cp ~/epsg /usr/local/share/proj/epsg

for GDAL
[root at maps gdal-1.2.6]# make clean
[root at maps gdal-1.2.6]# ./configure  --with-ogr --without-python
--with-xerces
[root at maps gdal-1.2.6]# make
[root at maps gdal-1.2.6]# make install
[root at maps gdal-1.2.6]# /sbin/ldconfig

for mapserver
[root at tuna mapserver4.4.2]# rm -f config.cache
[root at tuna mapserver4.4.2]# ./configure --without-tiff --with-threads
--with-proj --with-gdal=/usr/local/bin/gdal-config --with-ogr
--with-php=../php-5.0.4 --with-gd=/usr/local  --with-freetype=/usr/bin
--with-pdf --with-wmsclient --with-wfs --with-wfsclient
[root at tuna mapserver4.4.2]# make clean
[root at tuna mapserver4.4.2]# make
[root at tuna mapserver4.4.2]# cp mapserv /var/www/cgi-bin/mapserv_40
[root at tuna mapserver4.4.2]# cp mapscript/php3/php_mapscript.so
/usr/local/php/extensions/php_mapscript_40.so

I am using mapServer with PHP mapscript on a Fedora/apache system and all
my data is MapInfo (through OGR) - other than this problem, mapServer with
PROJ4 has performed much better than commercial software that I have used
in the past.

thanks
tim

Tim Norris

ps This has also been posted to the mapServer listserv.
_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj






From cjmce at lsu.edu  Mon Oct 17 14:36:57 2005
From: cjmce at lsu.edu (Clifford J Mugnier)
Date: Mon, 17 Oct 2005 16:36:57 -0500
Subject: [Proj] Mercator Problem
Message-ID: <OF1E2F4CFA.48DC433F-ON8625709D.0076BCE2-8625709D.0076BD7C@lsu.edu>





Ron,

You're proposing a piecewise-integration along a grid line.  With that,
you'd also have to include the correction for scale factor at a point, as
integrated by so many points of choice along the projected line.  Scale
factor along the Central Line of an Oblique Mercator is not going to
obviate that need.

It's far simpler to just call the subroutine in PROJ4 for an ellipsoidal
geodesic between the two end points.  (Once called the "Principal Problem
of Geodesy" in the 19th Century).

Assuming you know how to program the subroutine calls, it's easier done
than said.

Clifford J. Mugnier
Chief of Geodesy and
Associate Director,
CENTER FOR GEOINFORMATICS
Department of Civil Engineering
LOUISIANA STATE UNIVERSITY
Baton Rouge, LA 70803
Voice and Facsimile: (225) 578-8536 [Academic]
Voice and Facsimile: (225) 578-4474 [Research]
================================
http://www.ASPRS.org/resources/GRIDS
http://www.cee.lsu.edu/facultyStaff/mugnier/index.html
================================



What about using the Lat and Long of the endpoints to define the central
line of an Oblique Mercator, with a scale factor of 1.0 on the central
line?
Then the distance can be calculated by Pythagoras, and other useful
operations can easily be calculated - mid point, distance of a third point
from the line and even the calculation of a buffer zone, all of which seem
horrendous when working on the ellipsoid. (OK, the mid point is not too
bad).

Ron Russell
Tel : 01823 270308 email : ron at russfam.freeserve.co.uk
-----Original Message-----
From: proj-bounces at lists.maptools.org
[mailto:proj-bounces at lists.maptools.org] On Behalf Of Clifford J Mugnier
Sent: 17 October 2005 20:52
To: PROJ.4 and general Projections Discussions
Subject: Re: [Proj] Mercator Problem





The Normal Aspect of the Mercator projection has only one practical
application, and that is for computing a Loxodrome or Rhumb Line with the
associated geometric manipulations/intersections of that line with the
graticule, etc.  Computing distances is a folly on the Normal Aspect
Mercator.  With two endpoints, just compute the inverse of the cartesian
coordinates back into latitude and longitude and then compute the correct
distance with a geodesic inverse.

I do not know how to perform that with PROJ4 commands.

Clifford J. Mugnier
Chief of Geodesy and
Associate Director,
CENTER FOR GEOINFORMATICS
Department of Civil Engineering
LOUISIANA STATE UNIVERSITY
Baton Rouge, LA 70803
Voice and Facsimile: (225) 578-8536 [Academic]
Voice and Facsimile: (225) 578-4474 [Research]
================================
http://www.ASPRS.org/resources/GRIDS
http://www.cee.lsu.edu/facultyStaff/mugnier/index.html
================================




Perhaps this is not the place for this questions and I should be posting
this observation to a different list . . . in any case input would be
appreciated. Sorry in advance if this observation is out of place.

Recently I reminded myself that measuring distance on maps is a difficult
matter, and I have observed some errors regarding the distance measuring
tools in mapServer (in particular with the use of the Mercator
projection).

After a little research, the problem regarding measuring distances when
using the standard Mercator projection would be a variable issue based on
lattitude. This is fairly obvious if we think about the way the Mercator
projection works, and perhaps my best solution is to choose a better
projection for my area of interest (California - perhaps a version of UTM
would give me better measurments - in fact I am reasonably certain it
would).

But the big questions for me is - since there are errors within the
distance measuring tools, do the same errors exist in the scalebar tools??

After measuring a few scalebars and comparing them to paper maps of
California it would seem that the answer is yes. All of the scalebars
drawn through mapServer are short (using the Standard Mercator between
lattitudes 33 and 38).

Even though the answer is that there is an error using distances with the
Standard Mercator with my system, I am, to say the least, unclear as to
where this problem lies . . . PROJ4 problem?? . . . a compile problem??  .
. . a GDAL problem?? some other issue???

I am sure that I can fudge a workaround for this, but at the same time . .
. any guidance for an eleant solution would be greatly appreciated . . .

for reference the following were my build steps:

for Proj4
[root at maps proj-4.4.9]# ./configure
[root at maps proj-4.4.9]# make
[root at maps proj-4.4.9]# make install

[root at maps proj-4.4.9]# cp ~/epsg /usr/local/share/proj/epsg

for GDAL
[root at maps gdal-1.2.6]# make clean
[root at maps gdal-1.2.6]# ./configure  --with-ogr --without-python
--with-xerces
[root at maps gdal-1.2.6]# make
[root at maps gdal-1.2.6]# make install
[root at maps gdal-1.2.6]# /sbin/ldconfig

for mapserver
[root at tuna mapserver4.4.2]# rm -f config.cache
[root at tuna mapserver4.4.2]# ./configure --without-tiff --with-threads
--with-proj --with-gdal=/usr/local/bin/gdal-config --with-ogr
--with-php=../php-5.0.4 --with-gd=/usr/local  --with-freetype=/usr/bin
--with-pdf --with-wmsclient --with-wfs --with-wfsclient
[root at tuna mapserver4.4.2]# make clean
[root at tuna mapserver4.4.2]# make
[root at tuna mapserver4.4.2]# cp mapserv /var/www/cgi-bin/mapserv_40
[root at tuna mapserver4.4.2]# cp mapscript/php3/php_mapscript.so
/usr/local/php/extensions/php_mapscript_40.so

I am using mapServer with PHP mapscript on a Fedora/apache system and all
my data is MapInfo (through OGR) - other than this problem, mapServer with
PROJ4 has performed much better than commercial software that I have used
in the past.

thanks
tim

Tim Norris

ps This has also been posted to the mapServer listserv.
_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj




_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj



From Strebe at aol.com  Mon Oct 17 14:55:33 2005
From: Strebe at aol.com (Strebe at aol.com)
Date: Mon, 17 Oct 2005 17:55:33 EDT
Subject: [Proj] Re: Mercator Problem
Message-ID: <12a.6818cc1b.308577d5@aol.com>


Ron's proposal is perfectly sound on a spherical earth. Since the oblique 
Mercator central line runs through the two points of interest, and since the 
scale is constant and correct along that great circle, there's no need for 
integration or scale factor corrections. Obviously it's more problematic on the 
ellipsoid, given that none of the usual oblique formulations carry constant scale 
along the transformed equator (and if I recall correctly, it's not possible 
whilst retaining conformality), but even so, Hotine is close enough to constant 
scale that it might suffice, depending on the accuracy needs and assuming the 
two points are reasonably short of antipodal.

If other calculations that Ron mentions aren't needed then clearly Cliff's 
suggestion is the way to go. Why go out on a... erm... tangent?

Regards,
daan Strebe


In a message dated 10/17/2005 2:42:58 PM 太平洋夏時間, cjmce at lsu.edu writes:

> Ron,
> 
> You're proposing a piecewise-integration along a grid line.  With that,
> you'd also have to include the correction for scale factor at a point, as
> integrated by so many points of choice along the projected line.  Scale
> factor along the Central Line of an Oblique Mercator is not going to
> obviate that need.
> 
> It's far simpler to just call the subroutine in PROJ4 for an ellipsoidal
> geodesic between the two end points.  (Once called the "Principal Problem
> of Geodesy" in the 19th Century).
> 
> Assuming you know how to program the subroutine calls, it's easier done
> than said.
> 
> Clifford J. Mugnier
> Chief of Geodesy and
> Associate Director,
> CENTER FOR GEOINFORMATICS
> Department of Civil Engineering
> LOUISIANA STATE UNIVERSITY
> Baton Rouge, LA 70803
> Voice and Facsimile: (225) 578-8536 [Academic]
> Voice and Facsimile: (225) 578-4474 [Research]
> ================================
> http://www.ASPRS.org/resources/GRIDS
> http://www.cee.lsu.edu/facultyStaff/mugnier/index.html
> ================================
> 
> 
> 
> What about using the Lat and Long of the endpoints to define the central
> line of an Oblique Mercator, with a scale factor of 1.0 on the central
> line?
> Then the distance can be calculated by Pythagoras, and other useful
> operations can easily be calculated - mid point, distance of a third point
> from the line and even the calculation of a buffer zone, all of which seem
> horrendous when working on the ellipsoid. (OK, the mid point is not too
> bad).
> 
> Ron Russell
> Tel : 01823 270308 email : ron at russfam.freeserve.co.uk
> -----Original Message-----
> From: proj-bounces at lists.maptools.org
> [mailto:proj-bounces at lists.maptools.org] On Behalf Of Clifford J Mugnier
> Sent: 17 October 2005 20:52
> To: PROJ.4 and general Projections Discussions
> Subject: Re: [Proj] Mercator Problem
> 
> 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20051017/283aac3d/attachment.html>

From uleopold at science.uva.nl  Tue Oct 18 07:38:11 2005
From: uleopold at science.uva.nl (Ulrich Leopold)
Date: Tue, 18 Oct 2005 16:38:11 +0200 (CEST)
Subject: [Proj] convert from LatLong to transverse mercator LUREF
Message-ID: <48813.158.64.4.14.1129646291.squirrel@158.64.4.14>

Dear list,

I am new to the proj conversion tools and would appreciate very much if
someone could help me to solve my problem. I would like to convert geodetic
coordinates to a transverse mercator projection for Luxembourg.

I have the following coordinates:

Latitude: 49d3417".60287N
Longitude: 5d5550".69323E

And want to convert them into:

X (North) 70910.00
Y (East)  62935.00

I tried the following getting wrong results:

uleopold at azores:~> cs2cs -v +proj=latlong +to +proj=tmerc +units=m +ellps=intl
# ---- From Coordinate System ----
#Lat/long (Geodetic)
#
# +proj=latlong +ellps=WGS84
# ---- To Coordinate System ----
#Transverse Mercator
#       Cyl, Sph&Ell
# +proj=tmerc +units=m +ellps=intl
49d34'17".60287N 5d55'50".69323E
6370282.03      102889.65 -245.99


Could anybody tell me how to use cs2cs with all its options to receive the
worked out example above? Below is the information for the projection.

Cheers, Ulrich

This is the additional information for the projection:

1. National Datum Ellipsoid Parameters:

Semi-Major Axis  a (m) : 6378388 m
Semi-Minor Axis  b (m) : 6356911.946 m
Flattening 1/f : 1/297
Eccentricity e2 : 0.006768170197
Ellipsoid : HAYFORD INTERNATIONAL 1924
Fundamental point (Laplace-point): Habay-la-Neuve (Belgium)


2. Details of the Luxemburg Projection System:

Name : Projection Gauss Luxembourg
Generic Projection Type : Transverse Mercator

Projection Parameters :

Longitude of Central Meridian : 6° 10 East of Greenwich
Central Meridian Scale Factor :  1
Longitude of Origin : 6° 10 East of Greenwich
Latitude of Origin : 49° 50 North of Equator

False Origin:
Position of False Easting :       80 000 m
Position of false Northing :	 100 000 m


From warmerdam at pobox.com  Tue Oct 18 08:56:05 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue, 18 Oct 2005 11:56:05 -0400
Subject: [Proj] convert from LatLong to transverse mercator LUREF
In-Reply-To: <48813.158.64.4.14.1129646291.squirrel@158.64.4.14>
References: <48813.158.64.4.14.1129646291.squirrel@158.64.4.14>
Message-ID: <931f8ea90510180856o1bbce699u84c28a2bf847828a@mail.gmail.com>

On 10/18/05, Ulrich Leopold <uleopold at science.uva.nl> wrote:
> Dear list,
>
> I am new to the proj conversion tools and would appreciate very much if
> someone could help me to solve my problem. I would like to convert geodetic
> coordinates to a transverse mercator projection for Luxembourg.
>
> I have the following coordinates:
>
> Latitude: 49d34'17".60287N
> Longitude: 5d55'50".69323E
>
> And want to convert them into:
>
> X (North) 70910.00
> Y (East)  62935.00

Ulrich,

cs2cs +proj=latlong +ellps=intl +to +proj=tmerc +x_0=80000 +y_0=100000
+lon_0=6d10 +lat_0=49d50 +ellps=intl +k=1
5d55'50.69 49d34'17.60
62934.93        70909.91 0.00

Seems like pretty good agreement.

> This is the additional information for the projection:
>
> 1. National Datum Ellipsoid Parameters:
>
> Semi-Major Axis  a (m) : 6378388 m
> Semi-Minor Axis  b (m) : 6356911.946 m
> Flattening 1/f : 1/297
> Eccentricity e2 : 0.006768170197
> Ellipsoid : HAYFORD INTERNATIONAL 1924
> Fundamental point (Laplace-point): Habay-la-Neuve (Belgium)
>
>
> 2. Details of the Luxemburg Projection System:
>
> Name : Projection Gauss Luxembourg
> Generic Projection Type : Transverse Mercator
>
> Projection Parameters :
>
> Longitude of Central Meridian : 6° 10' East of Greenwich
> Central Meridian Scale Factor :  1
> Longitude of Origin : 6° 10' East of Greenwich
> Latitude of Origin : 49° 50' North of Equator
>
> False Origin:
> Position of False Easting :       80 000 m
> Position of false Northing :     100 000 m

>


--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From zhangli at supermap.com  Tue Oct 18 09:48:57 2005
From: zhangli at supermap.com (Lili Zhang)
Date: Wed, 19 Oct 2005 00:48:57 +0800
Subject: [Proj] Snyder ISEA
Message-ID: <200510181649.j9IGnDIX018027@duke.maptools.org>

Hi,
   Does someone know  Snyder Equal Area (ISEA) projection?   Or where can I find some information about this projection ?

   Any suggestions is appreciated.
   
   Thanks.


	

　　　　　　　Best regards
----------------------------------------------------------
	Zhang Lili
	Ph.D Candidate 	Institute of Geography and Nature Resource Reseach, 
	Chinese Academy of Sciences

    NO. 11jia, Datun Road, Chaoyang District, Beijing, 100101, China
    E-Mail: zhangli at supermap.com
    Http://www.igsnrr.ac.cn, www.gischina.com
    Voice: +86-10-82736655   Fax: +86-10-82734630
----------------------------------------------------------　　　
　　　　　　　　
　　　　　　　　　　



From Strebe at aol.com  Tue Oct 18 20:46:25 2005
From: Strebe at aol.com (Strebe at aol.com)
Date: Tue, 18 Oct 2005 23:46:25 EDT
Subject: [Proj] Snyder ISEA
Message-ID: <217.bca1339.30871b91@aol.com>


Snyder described at least three methods for creating customizable equal-area 
projections, as well as an equal-area projection for arbitrary polyhedral 
faces. I'm not aware of any of them called "ISEA".

See:

"Optimizing equal-area map projections using least squares", American 
Congress on Surveying and Mapping, Reno, ASPRS-ACSM 1987 Fall Convention, ACSM 
Technical Papers, p. 5-13.

"An equal-area map projection for polyhedral globes," Cartographica, Vol. 29, 
No. 1, Spring 1992, pp. 10-21.

"New equal-area map projections for noncircular regions," The American 
Cartographer, Vol. 15, No. 4, October 1988, pp. 341-355.

"Minimum-error equal-area map projections," (with John A. Dyer), The American 
Cartographer, Vol. 16, No. 1, 1989, pp. 39-43.


Regards,
daan Strebe


In a message dated 10/18/05 09:53:13, zhangli at supermap.com writes:

> Hi,
>    Does someone know  Snyder Equal Area (ISEA) projection?   Or where can I 
> find some information about this projection ?
> 
>    Any suggestions is appreciated.
>   
>    Thanks.
> 
> 
> 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20051018/6739a00a/attachment.html>

From ovv at hetnet.nl  Tue Oct 18 23:06:00 2005
From: ovv at hetnet.nl (Oscar van Vlijmen)
Date: Wed, 19 Oct 2005 08:06:00 +0200
Subject: [Proj] convert from LatLong to transverse mercator LUREF
Message-ID: <BF7BAEE8.5E5D%ovv@hetnet.nl>

>> someone could help me to solve my problem. I would like to convert geodetic
>> coordinates to a transverse mercator projection for Luxembourg.

>> I have the following coordinates:

>> Latitude: 49d34'17".60287N
>> Longitude: 5d55'50".69323E

>> And want to convert them into:

>> X (North) 70910.00
>> Y (East)  62935.00

> Ulrich,

> cs2cs +proj=latlong +ellps=intl +to +proj=tmerc +x_0=80000 +y_0=100000
> +lon_0=6d10 +lat_0=49d50 +ellps=intl +k=1
> 5d55'50.69 49d34'17.60
> 62934.93        70909.91 0.00

> Seems like pretty good agreement.


I can't believe PROJ or cs2cs are that inaccurate!
I have translated a couple of projection formulae and codes, amongst which
several libproj4 functions, to JavaScript. Let's say just for my amusement.
For Transverse Mercator I used the code in the main defining document:
"The Universal Grids: Universal Transverse Mercator (UTM) and
Universal Polar Stereographic (UPS)", DMA Technical Manual DMA TM 8358.2,
Defense Mapping Agency, USA, Sept. 1989,
ftp://164.214.2.65/pub/gig/tm8358.2/TM8358_2.pdf

I arrive at a northing of 70909.9999532613 and an easting of
62935.0000989847
(not all decimals are significant). I used the Transverse Mercator engine
and skipped the UTM zone numbering system.

It can be advised to check and test the cs2cs tmerc function or its
application.

Please note that I do not have a compiled proj, libproj, cs2cs, whatever
proj-type application. Only my own reasonably well tested JavaScripts.




From nhv at cape.com  Tue Oct 18 23:49:10 2005
From: nhv at cape.com (Norman Vine)
Date: Wed, 19 Oct 2005 02:49:10 -0400
Subject: [Proj] convert from LatLong to transverse mercator LUREF
In-Reply-To: <BF7BAEE8.5E5D%ovv@hetnet.nl>
Message-ID: <EKEJIKAILPONGGENMBGACEJFNHAA.nhv@cape.com>

Oscar van Vlijmen writes:
> 
> >> someone could help me to solve my problem. I would like to convert geodetic
> >> coordinates to a transverse mercator projection for Luxembourg.
> 
> >> I have the following coordinates:
> 
> >> Latitude: 49d34'17".60287N
> >> Longitude: 5d55'50".69323E
> 
> >> And want to convert them into:
> 
> >> X (North) 70910.00
> >> Y (East)  62935.00
> 
> > Ulrich,
> 
> >  cs2cs +proj=latlong +ellps=intl +to +proj=tmerc +x_0=80000 +y_0=100000  +lon_0=6d10 +lat_0=49d50 +ellps=intl +k=1
> > 5d55'50.69 49d34'17.60
> > 62934.93        70909.91 0.00
> 
> > Seems like pretty good agreement.
> 
> 
> I can't believe PROJ or cs2cs are that inaccurate!


Huh,  What inaccuracy ???


# Luxembourg 1930 / Gauss
<2169> +proj=tmerc +lat_0=49.83333333333334 +lon_0=6.166666666666667 +k=1.000000  \
             +x_0=80000 +y_0=100000 +ellps=intl +towgs84=-193,13.7,-39.3,-0.41,-2.933,2.688,0.43 +units=m +no_defs  <>


$ proj +proj=tmerc +lat_0=49.83333333333334 +lon_0=6.166666666666667 +k=1.000000 +x_0=80000 +y_0=100000 +ellps=intl +to
wgs84=-193,13.7,-39.3,-0.41,-2.933,2.688,0.43 +units=m +no_defs
5d55'50.69323 49d34'17.60287
62935.00        70910.00


$ cs2cs +proj=latlong +ellps=intl +to +proj=tmerc +x_0=80000 +y_0=100000  +lon_0=6d10 +lat_0=49d50 +ellps=intl +k=1
5d55'50.69323 49d34'17.60287
62935.00        70910.00 0.00


HTH

Norman




From zhangli at supermap.com  Wed Oct 19 04:57:26 2005
From: zhangli at supermap.com (Lili Zhang)
Date: Wed, 19 Oct 2005 19:57:26 +0800
Subject: [Proj] Snyder ISEA
Message-ID: <200510191157.j9JBvYX4017608@duke.maptools.org>

Strebe,
    Many thanks for your reply.
    
	The acronym ISEA stands for icosahedral Snyder equal area.

    I got to know ISEA at the website: http://www.sou.edu/cs/sahr/dgg/isea/isea.html

    I am doing some work on hierarchical spatial partitioning method on the ellipsoid suface with equal erea.  

    So ,the paper An equal-area map projection for polyhedral globes maybe is very important for me. 

    Is there any resource code that implemented Snyder's equal-area map projection ?

======= 2005-10-18 23:46:25��=======

>Snyder described at least three methods for creating customizable equal-area 
>projections, as well as an equal-area projection for arbitrary polyhedral 
>faces. I'm not aware of any of them called "ISEA".
>
>See:
>
>"Optimizing equal-area map projections using least squares", American 
>Congress on Surveying and Mapping, Reno, ASPRS-ACSM 1987 Fall Convention, ACSM 
>Technical Papers, p. 5-13.
>
>"An equal-area map projection for polyhedral globes," Cartographica, Vol. 29, 
>No. 1, Spring 1992, pp. 10-21.
>
>"New equal-area map projections for noncircular regions," The American 
>Cartographer, Vol. 15, No. 4, October 1988, pp. 341-355.
>
>"Minimum-error equal-area map projections," (with John A. Dyer), The American 
>Cartographer, Vol. 16, No. 1, 1989, pp. 39-43.
>
>
>Regards,
>daan Strebe
>
>
>In a message dated 10/18/05 09:53:13, zhangli at supermap.com writes:
>
>> Hi,
>> �� Does someone know?Snyder Equal Area (ISEA) projection?�� Or where can I 
>> find some information about this projection ?
>> 
>> �� Any suggestions is appreciated.
>> ��
>> �� Thanks.
>> 
>> 
>> 
>_______________________________________________
>Proj mailing list
>Proj at lists.maptools.org
>http://lists.maptools.org/mailman/listinfo/proj

= = = = = = = = = = = = = = = = = = = =
			

������������������
��
 
				 
����������������Lili Zhang
����������������zhangli at supermap.com
��������������������2005-10-19




From ovv at hetnet.nl  Wed Oct 19 06:18:00 2005
From: ovv at hetnet.nl (Oscar van Vlijmen)
Date: Wed, 19 Oct 2005 15:18:00 +0200
Subject: [Proj] convert from LatLong to transverse mercator LUREF
In-Reply-To: <EKEJIKAILPONGGENMBGACEJFNHAA.nhv@cape.com>
Message-ID: <BF7C1428.5E69%ovv@hetnet.nl>

>>>> I would like to convert geodetic
>>>> coordinates to a transverse mercator projection for Luxembourg.
>>>> I have the following coordinates:
>>>> Latitude: 49d34'17".60287N
>>>> Longitude: 5d55'50".69323E
>>>> And want to convert them into:
>>>> X (North) 70910.00
>>>> Y (East)  62935.00
>>> cs2cs +proj=latlong +ellps=intl +to +proj=tmerc +x_0=80000 +y_0=100000
>>> +lon_0=6d10 +lat_0=49d50 +ellps=intl +k=1
>>> 5d55'50.69 49d34'17.60
>>> 62934.93        70909.91 0.00
>>> Seems like pretty good agreement.
>> I can't believe PROJ or cs2cs are that inaccurate!
> Huh,  What inaccuracy ???
.....
> $ cs2cs +proj=latlong +ellps=intl +to +proj=tmerc +x_0=80000 +y_0=100000
> +lon_0=6d10 +lat_0=49d50 +ellps=intl +k=1
> 5d55'50.69323 49d34'17.60287
> 62935.00        70910.00 0.00

Aaahh! Now I get it.
Mr. Warmerdam didn't use the requested coordinates but dropped decimals.
With his lon,lat of 5d55'50.69 49d34'17.60 I also arrive at:
x = 70909.9114859589, y = 62934.934921184 (not all decimals are significant)

Mr. Vine mentioned datum transform params for the Luxemburg grid.
For those who need them, ESRI-ArcGIS gives one or two more decimals in:
"Supported geographic (datum) transformations"
<http://downloads.esri.com/support/whitepapers/ao_/geographic_transformation
s9.pdf>

Name,Code,Method,dX,dY,dZ,rX,rY,rZ,ds
Luxembourg_1930_To_ETRS_1989_1,1642,Position_Vector,
-192.986,13.673,-39.309,-0.4099,-2.9332,2.6881,0.43

Luxembourg_1930_To_WGS_1984_1,1643,Position_Vector,
-192.986,13.673,-39.309,-0.4099,-2.9332,2.6881,0.43



From warmerdam at pobox.com  Wed Oct 19 06:29:48 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed, 19 Oct 2005 09:29:48 -0400
Subject: [Proj] convert from LatLong to transverse mercator LUREF
In-Reply-To: <BF7BAEE8.5E5D%ovv@hetnet.nl>
References: <BF7BAEE8.5E5D%ovv@hetnet.nl>
Message-ID: <931f8ea90510190629p344706f6j93046c334bf62d26@mail.gmail.com>

On 10/19/05, Oscar van Vlijmen <ovv at hetnet.nl> wrote:
> I can't believe PROJ or cs2cs are that inaccurate!

Oscar,

Keep in mind I did not provide all the decimal places for
thei input values.  With the full precision given, I get dead
on to the two decimal places normally reported by cs2cs.

cs2cs +proj=latlong +ellps=intl +to +proj=tmerc +x_0=80000 +y_0=100000
+lon_0=6d10 +lat_0=49d50 +ellps=intl +k=1
5d55'50.69323 49d34'17.60287
62935.00        70910.00 0.00

Please be careful of assuming a failure in the accuracy of PROJ.4
when it is really just the input it is given.

> I have translated a couple of projection formulae and codes, amongst which
> several libproj4 functions, to JavaScript. Let's say just for my amusement.

You might want to chat with Mike Adair over on the Mapbuilder
project who has also translated a number of projections into Javascript.

  http://mapbuilder.sourceforge.net/

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From tibben at OCF.Berkeley.EDU  Wed Oct 19 07:10:11 2005
From: tibben at OCF.Berkeley.EDU (tim)
Date: Wed, 19 Oct 2005 09:10:11 -0500
Subject: [Proj] Mercator Problem
In-Reply-To: <ALEXANDRIAPGxgelXDe00000246@ALEXANDRIA.spatialminds.local>
References: <12749.200.106.94.51.1129577738.squirrel@200.106.94.51>
	<ALEXANDRIAPGxgelXDe00000246@ALEXANDRIA.spatialminds.local>
Message-ID: <6.0.3.0.0.20051019090651.01c0ccb8@mail.ocf.berkeley.edu>

Many thanks for all the feedback on this . . . after some poking around in 
the MapSever source code I think I found the reason for the measurement 
problems in MapServer with the Standard Mercator projection (most of the 
measurments for all projections are done with cartesian coordinates and not 
any kind of spherical or geoid calculations). If I am to find a solution it 
will be within MapServer.

thanks again
tim

Tim Norris

At 02:59 PM 10/17/2005, Craig Miller wrote:
>To get correct distances, you will need to calculated great-circle distance.
>
>--Craig
>
>
>-----Original Message-----
>From: tibben at ocf.berkeley.edu [mailto:tibben at ocf.berkeley.edu]
>Sent: Monday, October 17, 2005 12:36 PM
>To: proj at lists.maptools.org
>Subject: [Proj] Mercator Problem
>
>Perhaps this is not the place for this questions and I should be posting
>this observation to a different list . . . in any case input would be
>appreciated. Sorry in advance if this observation is out of place.
>
>Recently I reminded myself that measuring distance on maps is a difficult
>matter, and I have observed some errors regarding the distance measuring
>tools in mapServer (in particular with the use of the Mercator
>projection).
>
>After a little research, the problem regarding measuring distances when
>using the standard Mercator projection would be a variable issue based on
>lattitude. This is fairly obvious if we think about the way the Mercator
>projection works, and perhaps my best solution is to choose a better
>projection for my area of interest (California - perhaps a version of UTM
>would give me better measurments - in fact I am reasonably certain it
>would).
>
>But the big questions for me is - since there are errors within the
>distance measuring tools, do the same errors exist in the scalebar tools??
>
>After measuring a few scalebars and comparing them to paper maps of
>California it would seem that the answer is yes. All of the scalebars
>drawn through mapServer are short (using the Standard Mercator between
>lattitudes 33 and 38).
>
>Even though the answer is that there is an error using distances with the
>Standard Mercator with my system, I am, to say the least, unclear as to
>where this problem lies . . . PROJ4 problem?? . . . a compile problem??  .
>. . a GDAL problem?? some other issue???
>
>I am sure that I can fudge a workaround for this, but at the same time . .
>. any guidance for an eleant solution would be greatly appreciated . . .
>
>for reference the following were my build steps:
>
>for Proj4
>[root at maps proj-4.4.9]# ./configure
>[root at maps proj-4.4.9]# make
>[root at maps proj-4.4.9]# make install
>
>[root at maps proj-4.4.9]# cp ~/epsg /usr/local/share/proj/epsg
>
>for GDAL
>[root at maps gdal-1.2.6]# make clean
>[root at maps gdal-1.2.6]# ./configure  --with-ogr --without-python
>--with-xerces
>[root at maps gdal-1.2.6]# make
>[root at maps gdal-1.2.6]# make install
>[root at maps gdal-1.2.6]# /sbin/ldconfig
>
>for mapserver
>[root at tuna mapserver4.4.2]# rm -f config.cache
>[root at tuna mapserver4.4.2]# ./configure --without-tiff --with-threads
>--with-proj --with-gdal=/usr/local/bin/gdal-config --with-ogr
>--with-php=../php-5.0.4 --with-gd=/usr/local  --with-freetype=/usr/bin
>--with-pdf --with-wmsclient --with-wfs --with-wfsclient
>[root at tuna mapserver4.4.2]# make clean
>[root at tuna mapserver4.4.2]# make
>[root at tuna mapserver4.4.2]# cp mapserv /var/www/cgi-bin/mapserv_40
>[root at tuna mapserver4.4.2]# cp mapscript/php3/php_mapscript.so
>/usr/local/php/extensions/php_mapscript_40.so
>
>I am using mapServer with PHP mapscript on a Fedora/apache system and all
>my data is MapInfo (through OGR) - other than this problem, mapServer with
>PROJ4 has performed much better than commercial software that I have used
>in the past.
>
>thanks
>tim
>
>Tim Norris
>
>ps This has also been posted to the mapServer listserv.
>_______________________________________________
>Proj mailing list
>Proj at lists.maptools.org
>http://lists.maptools.org/mailman/listinfo/proj
>
>
>
>
>_______________________________________________
>Proj mailing list
>Proj at lists.maptools.org
>http://lists.maptools.org/mailman/listinfo/proj




From sdteffen at gmail.com  Wed Oct 19 07:30:17 2005
From: sdteffen at gmail.com (Steffen Macke)
Date: Wed, 19 Oct 2005 16:30:17 +0200
Subject: [Proj] Roussilhe Projection
Message-ID: <3cb1691c0510190730u901543ftcf4582d9243e946@mail.gmail.com>

Dear Developers,

is there a chance that the rouss projection from Gerald Evenden's libproj
version will be included in proj.4?

Regards,

Steffen



From ron at russfam.freeserve.co.uk  Wed Oct 19 11:10:25 2005
From: ron at russfam.freeserve.co.uk (Ron Russell)
Date: Wed, 19 Oct 2005 19:10:25 +0100
Subject: [Proj] Re: Mercator Problem
In-Reply-To: <12a.6818cc1b.308577d5@aol.com>
Message-ID: <20051019181037.DFE1A1C000D3@mwinf3011.me.freeserve.com>

Daan, Clifford,



Of course, deep down, I knew that the scale varies along the central line of
an oblique Mercator projection and I suppose my suggestion was not
theoretically sound. I should also say that I get as much satisfaction as
anybody when I get the chance to use Vincenty!



Even Vincenty does not deal with antipodal points, however!



In my defence I would say that we were talking about points scaled off a
paper map!



In my days as a surveyor in the early 70s - do you remember Peter’s Tables
and Facit mechanical calculators? - we used to use the mean of the scale
factors at the end points of lines to reduce measured distances to the
projection, and for the very longest lines we sometimes used Simpson’s rule
(but I never remember it making a sensible difference). That was on at the
edge of UTM zones. In those days it was really important to be able compute
on the projection. I once computed a traverse using the Mid Latitude
formulae - it took me two days, and I got the wrong answer!



I bet the scale change on the central line of a Hotine Oblique Mercator
projection, even across California, could be treated the same way! Do you
have any figures?



Regards,



Ron Russell
Tel : 01823 270308 email : ron at russfam.freeserve.co.uk

  _____

From: proj-bounces at lists.maptools.org
[mailto:proj-bounces at lists.maptools.org] On Behalf Of Strebe at aol.com
Sent: 17 October 2005 22:56
To: proj at lists.maptools.org
Subject: [Proj] Re: Mercator Problem




Ron's proposal is perfectly sound on a spherical earth. Since the oblique
Mercator central line runs through the two points of interest, and since the
scale is constant and correct along that great circle, there's no need for
integration or scale factor corrections. Obviously it's more problematic on
the ellipsoid, given that none of the usual oblique formulations carry
constant scale along the transformed equator (and if I recall correctly,
it's not possible whilst retaining conformality), but even so, Hotine is
close enough to constant scale that it might suffice, depending on the
accuracy needs and assuming the two points are reasonably short of
antipodal.

If other calculations that Ron mentions aren't needed then clearly Cliff's
suggestion is the way to go. Why go out on a... erm... tangent?

Regards,
daan Strebe


In a message dated 10/17/2005 2:42:58 PM 太平洋夏時間, cjmce at lsu.edu writes:




Ron,

You're proposing a piecewise-integration along a grid line.  With that,
you'd also have to include the correction for scale factor at a point, as
integrated by so many points of choice along the projected line.  Scale
factor along the Central Line of an Oblique Mercator is not going to
obviate that need.

It's far simpler to just call the subroutine in PROJ4 for an ellipsoidal
geodesic between the two end points.  (Once called the "Principal Problem
of Geodesy" in the 19th Century).

Assuming you know how to program the subroutine calls, it's easier done
than said.

Clifford J. Mugnier
Chief of Geodesy and
Associate Director,
CENTER FOR GEOINFORMATICS
Department of Civil Engineering
LOUISIANA STATE UNIVERSITY
Baton Rouge, LA 70803
Voice and Facsimile: (225) 578-8536 [Academic]
Voice and Facsimile: (225) 578-4474 [Research]
================================
http://www.ASPRS.org/resources/GRIDS
http://www.cee.lsu.edu/facultyStaff/mugnier/index.html
================================



What about using the Lat and Long of the endpoints to define the central
line of an Oblique Mercator, with a scale factor of 1.0 on the central
line?
Then the distance can be calculated by Pythagoras, and other useful
operations can easily be calculated - mid point, distance of a third point
from the line and even the calculation of a buffer zone, all of which seem
horrendous when working on the ellipsoid. (OK, the mid point is not too
bad).

Ron Russell
Tel : 01823 270308 email : ron at russfam.freeserve.co.uk
-----Original Message-----
From: proj-bounces at lists.maptools.org
[mailto:proj-bounces at lists.maptools.org] On Behalf Of Clifford J Mugnier
Sent: 17 October 2005 20:52
To: PROJ.4 and general Projections Discussions
Subject: Re: [Proj] Mercator Problem





-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20051019/95344ea6/attachment.html>

From gerald.evenden at verizon.net  Wed Oct 19 11:43:12 2005
From: gerald.evenden at verizon.net (Gerald I. Evenden)
Date: Wed, 19 Oct 2005 14:43:12 -0400
Subject: [Proj] Mercator Problem
In-Reply-To: <OFA23DF568.F22596E2-ON8625709D.006D175B-8625709D.006D17CC@lsu.edu>
References: <OFA23DF568.F22596E2-ON8625709D.006D175B-8625709D.006D17CC@lsu.edu>
Message-ID: <200510191443.12351.gerald.evenden@verizon.net>

I've tried to stay out of this problem but it persists.  Mugnier's statement 
below is the best response to the original problem although it should be 
added that the normal Mercator is useful as a conformal projection of areas 
with east-west extent near the equator.

The only viable means of determining distance between points is by means of 
any one of the geodesic formulas available.  The program 'geod' in the old 
proj4 distribution uses one of these methods.  Vincenti's from the Geodetic
Survey is a slightly better method and is available as FORTRAN code.

If the points involved are in a local grid system or from a map, invert them 
to geodetic coordinates and use above methods.

With current computing equipment and methods I don't think we need to resort 
to good-old-day methods for computing the distance between points.

On Monday 17 October 2005 03:51 pm, Clifford J Mugnier wrote:
> The Normal Aspect of the Mercator projection has only one practical
> application, and that is for computing a Loxodrome or Rhumb Line with the
> associated geometric manipulations/intersections of that line with the
> graticule, etc.  Computing distances is a folly on the Normal Aspect
> Mercator.  With two endpoints, just compute the inverse of the cartesian
> coordinates back into latitude and longitude and then compute the correct
> distance with a geodesic inverse.

-- 
Jerry and the low riders:Daisy May and Joshua
"The being cannot be termed rational or virtuous,
who obeys any authority, but that of reason."
---Mary Wollstonecraft 1792


From ovv at hetnet.nl  Wed Oct 19 11:57:21 2005
From: ovv at hetnet.nl (Oscar van Vlijmen)
Date: Wed, 19 Oct 2005 20:57:21 +0200
Subject: [Proj] Roussilhe Projection
In-Reply-To: <3cb1691c0510190730u901543ftcf4582d9243e946@mail.gmail.com>
Message-ID: <BF7C63B1.5E74%ovv@hetnet.nl>

Mr. Macke wrote: 
> is there a chance that the rouss projection from Gerald Evenden's libproj
> version will be included in proj.4?

By coincidence I was about to comment on that projection too.
I've translated the libproj4 rouss projection to JavaScript and found an
anomaly.
[Sorry mr. Warmerdam, there I go again questioning the code of
proj-libproj-etc or the way they are used!]

Mr. Mugnier gives in his article "Grids and Datums: The Syrian Arab
Republic"
<http://www.asprs.org/resources/grids/09-2001-syria.pdf>
a test point for the Roussilhe projection.

I was puzzled by the fact that libproj rouss apparently doesn't do anything
with the scale factor k0 (m0).
(See also Mr. Evenden's posting dated Wed Apr  7 20:48:19 2004)

Working with the Syria data:
lat=37d; lon=42d9m; lat0=34d12m; lon0=39d9m; x0=0; y0=0;
Clarke 1880 ellipsoid
I obtained with rouss:
x = 267202.985811455, y = 314789.193884167 m
But the article gives:
X = 267078.434 m, Y = 314642.621 m
If I multiply the calculated x and y by the mentioned scale factor of
m0=0.9995341 (note that x0,y0 are 0), then I get:
x = 267078.495940365, y = 314642.533598736
(not all decimals are significant!)
That's much closer. Still 6 and 9 cm off, but closer than the current
libproj rouss function gets [I dare to think].


Has anybody proven testpoints for Poland, which seems (seemed?) to use the
Roussilhe projection as well?

Try for instance:
lat=50d52m; lon=20d37m; // Kielce, in Strefa I
lat0=50d37m30s; lon0=21d5m; x0=5467000; y0=4637000; m0=0.9998;
Krasowski ellipsoid
I got with my "corrected" rouss:
x = 5434153.30654471, y = 4663982.52582146 (don't use all decimals)
Does this make sense?




From werchowyna at epf.pl  Wed Oct 19 11:49:14 2005
From: werchowyna at epf.pl (Maciek Sieczka)
Date: Wed, 19 Oct 2005 20:49:14 +0200
Subject: [Proj] Roussilhe Projection
In-Reply-To: <3cb1691c0510190730u901543ftcf4582d9243e946@mail.gmail.com>
References: <3cb1691c0510190730u901543ftcf4582d9243e946@mail.gmail.com>
Message-ID: <4356952A.8030403@epf.pl>

Steffen Macke napisal(a):
 > Dear Developers,
 >
 > is there a chance that the rouss projection from Gerald Evenden's libproj
 > version will be included in proj.4?

My 0,01 PLN: I'm interested too, in order to compare it's performance 
with other stereographic projections implemented in Frank's Proj.4.

So far I noticed that Polish "System 65" grid (epsg 2171-2174), which by 
by default has stere assigned, performs *much* better when using sterea 
instead (see http://bugzilla.remotesensing.org/show_bug.cgi?id=818). And 
I wonder how rouss would do, especially that Polish geodets use to call 
"System 65" a "quasi-stereographic Roussilhe projection"...

Maciek


--------------------
W polskim Internecie s? setki milionów stron. My przekazujemy Tobie tylko najlepsze z nich!
http://katalog.epf.pl/



From werchowyna at epf.pl  Wed Oct 19 12:27:08 2005
From: werchowyna at epf.pl (Maciek Sieczka)
Date: Wed, 19 Oct 2005 21:27:08 +0200
Subject: [Proj] Roussilhe Projection
In-Reply-To: <BF7C63B1.5E74%ovv@hetnet.nl>
References: <BF7C63B1.5E74%ovv@hetnet.nl>
Message-ID: <43569E0C.2000906@epf.pl>

Oscar,


Oscar van Vlijmen napisal(a):
<snip>
> Has anybody proven testpoints for Poland, which seems (seemed?) to use the
> Roussilhe projection as well?
> 
> Try for instance:
> lat=50d52m; lon=20d37m; // Kielce, in Strefa I
> lat0=50d37m30s; lon0=21d5m; x0=5467000; y0=4637000; m0=0.9998;
> Krasowski ellipsoid
> I got with my "corrected" rouss:
> x = 5434153.30654471, y = 4663982.52582146 (don't use all decimals)
> Does this make sense?

I see you are talking of Polish "System 65". I will try to do reproduce 
your calculations, hopefully tomorrow. By now you can read in my 
previous message how sterea outperforms default epsg's stere in 2171-2174.

You could also try: 
ftp://gps:altplgps at gps.rybnet.pl/software/Transformacja%20wspolrzednych/

It is a freeware converter which strictly follows Polish state geodetic 
service instructions for coordinates transformation.

Only for Windows though, maybe Wine?

Best,
Maciek


--------------------
W polskim Internecie s? setki milionów stron. My przekazujemy Tobie tylko najlepsze z nich!
http://katalog.epf.pl/



From pbander at picusnet.com  Wed Oct 19 13:01:45 2005
From: pbander at picusnet.com (Paul B. Anderson)
Date: Wed, 19 Oct 2005 16:01:45 -0400
Subject: [Proj] Snyder ISEA
References: <200510191157.j9JBvYX4017608@duke.maptools.org>
Message-ID: <000a01c5d4e7$ef84f850$090dfea9@Laptop>

- Hi All,

While I've been a list member for a couple of years, I've never posted 
anything until now. This seems to be as good a time as any to let everyone 
on the list know that John P. Snyder gave me a copy of his personal software 
about a month before his passing. If anyone WANTS a copy, contact me off 
list and I will give you the URL where you can download it. I will also send 
you some operational notes. John wrote his program in MSDOS GWBasic/Quick 
Basic 4.5, and what I have is fully functional. Check the 'Miscellaneous 
Section' of my web site for graphics of Snyder's projections that I made 
using his program:

http://www.ilstu.edu/microcam/map_projections/index.html

Paul B. Anderson FCCS (USN, Retired)
Kingsport, TN native living in Norfolk, VA

----- Original Message ----- 
From: "Lili Zhang" <zhangli at supermap.com>
To: "PROJ.4 and general Projections D" <proj at lists.maptools.org>
Sent: Wednesday, October 19, 2005 7:57 AM
Subject: Re: Re: [Proj] Snyder ISEA


> Strebe,
>    Many thanks for your reply.
>
> The acronym ISEA stands for icosahedral Snyder equal area.
>
>    I got to know ISEA at the website: 
> http://www.sou.edu/cs/sahr/dgg/isea/isea.html
>
>    I am doing some work on hierarchical spatial partitioning method on the 
> ellipsoid suface with equal erea.
>
>    So ,the paper An equal-area map projection for polyhedral globes maybe 
> is very important for me.
>
>    Is there any resource code that implemented Snyder's equal-area map 
> projection ?
>
> ======= 2005-10-18 23:46:25��=======
>
>>Snyder described at least three methods for creating customizable 
>>equal-area
>>projections, as well as an equal-area projection for arbitrary polyhedral
>>faces. I'm not aware of any of them called "ISEA".
>>
>>See:
>>
>>"Optimizing equal-area map projections using least squares", American
>>Congress on Surveying and Mapping, Reno, ASPRS-ACSM 1987 Fall Convention, 
>>ACSM
>>Technical Papers, p. 5-13.
>>
>>"An equal-area map projection for polyhedral globes," Cartographica, Vol. 
>>29,
>>No. 1, Spring 1992, pp. 10-21.
>>
>>"New equal-area map projections for noncircular regions," The American
>>Cartographer, Vol. 15, No. 4, October 1988, pp. 341-355.
>>
>>"Minimum-error equal-area map projections," (with John A. Dyer), The 
>>American
>>Cartographer, Vol. 16, No. 1, 1989, pp. 39-43.
>>
>>
>>Regards,
>>daan Strebe
>>
>>
>>In a message dated 10/18/05 09:53:13, zhangli at supermap.com writes:
>>
>>> Hi,
>>> �� Does someone know?Snyder Equal Area (ISEA) projection?�� Or where can 
>>> I
>>> find some information about this projection ?
>>>
>>> �� Any suggestions is appreciated.
>>> ��
>>> �� Thanks.
>>>
>>>
>>>
>>_______________________________________________
>>Proj mailing list
>>Proj at lists.maptools.org
>>http://lists.maptools.org/mailman/listinfo/proj
>
> = = = = = = = = = = = = = = = = = = = =
>
>
> ������������������
> ��
>
>
> ����������������Lili Zhang
> ����������������zhangli at supermap.com
> ��������������������2005-10-19
>
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
>
> 




From p.willis at telus.net  Wed Oct 19 13:22:09 2005
From: p.willis at telus.net (pw)
Date: Wed, 19 Oct 2005 13:22:09 -0700
Subject: [Proj] Snyder ISEA
In-Reply-To: <000a01c5d4e7$ef84f850$090dfea9@Laptop>
References: <200510191157.j9JBvYX4017608@duke.maptools.org>
	<000a01c5d4e7$ef84f850$090dfea9@Laptop>
Message-ID: <4356AAF1.5020100@telus.net>

Paul B. Anderson wrote:
> - Hi All,
> 
> While I've been a list member for a couple of years, I've never posted 
> anything until now. This seems to be as good a time as any to let 
> everyone on the list know that John P. Snyder gave me a copy of his 
> personal software about a month before his passing. If anyone WANTS a 
> copy, contact me off list and I will give you the URL where you can 
> download it. I will also send you some operational notes. John wrote his 
> program in MSDOS GWBasic/Quick Basic 4.5, and what I have is fully 
> functional. Check the 'Miscellaneous Section' of my web site for 
> graphics of Snyder's projections that I made using his program:
> 


If you'd like the GWBASIC converted to C/C++, or something else
more current, let me know. At very least make lots of backups.

Peter Willis



From warmerdam at pobox.com  Wed Oct 19 13:57:39 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed, 19 Oct 2005 16:57:39 -0400
Subject: [Proj] Roussilhe Projection
In-Reply-To: <3cb1691c0510190730u901543ftcf4582d9243e946@mail.gmail.com>
References: <3cb1691c0510190730u901543ftcf4582d9243e946@mail.gmail.com>
Message-ID: <931f8ea90510191357l451de8a2gced20a34b3c958a4@mail.gmail.com>

On 10/19/05, Steffen Macke <sdteffen at gmail.com> wrote:
> Dear Developers,
>
> is there a chance that the rouss projection from Gerald Evenden's libproj
> version will be included in proj.4?

Steffen,

I am not opposed to incorporating this.  Submit an enhancement
request via bugzilla if you wish.  It should also be pretty easy to
merge the code in manually at your end if you have a pressing
need.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From gerald.evenden at verizon.net  Wed Oct 19 13:57:37 2005
From: gerald.evenden at verizon.net (Gerald I. Evenden)
Date: Wed, 19 Oct 2005 16:57:37 -0400
Subject: [Proj] Roussilhe Projection
In-Reply-To: <BF7C63B1.5E74%ovv@hetnet.nl>
References: <BF7C63B1.5E74%ovv@hetnet.nl>
Message-ID: <200510191657.37378.gerald.evenden@verizon.net>

On Wednesday 19 October 2005 02:57 pm, Oscar van Vlijmen wrote:
	...
> I was puzzled by the fact that libproj rouss apparently doesn't do anything
> with the scale factor k0 (m0).
	...

I'm a bit puzzled about that also.  :-)

Probably because scale factor was never mentioned in the source article so I 
just forgot about it.

I will note to add it on the next release of libproj4.

-- 
Jerry and the low riders:Daisy May and Joshua
"The being cannot be termed rational or virtuous,
who obeys any authority, but that of reason."
---Mary Wollstonecraft 1792


From pbander at picusnet.com  Wed Oct 19 14:04:01 2005
From: pbander at picusnet.com (Paul B. Anderson)
Date: Wed, 19 Oct 2005 17:04:01 -0400
Subject: [Proj] Snyder ISEA
References: <200510191157.j9JBvYX4017608@duke.maptools.org><000a01c5d4e7$ef84f850$090dfea9@Laptop>
	<4356AAF1.5020100@telus.net>
Message-ID: <025901c5d4f0$a2464180$090dfea9@Laptop>

- pw,

It was not my intent to hi-jack Lili Zhang's post. Yes, code for Snyder's 
ISEA is in the zipped file I mentioned.

I've been giving John's code away since 1997. Gerald Evenden, as far as I 
know, is the only person that has done any work with John's software code 
and placed it back into the public domain. I'm perfectly happy to maintain 
custody of the original. I'm also very happy to give out copies to anyone 
that wants it.

- PBA

----- Original Message ----- 
From: "pw" <p.willis at telus.net>
To: "PROJ.4 and general Projections Discussions" <proj at lists.maptools.org>
Sent: Wednesday, October 19, 2005 4:22 PM
Subject: Re: [Proj] Snyder ISEA


> Paul B. Anderson wrote:
>> - Hi All,
>>
>> While I've been a list member for a couple of years, I've never posted
>> anything until now. This seems to be as good a time as any to let
>> everyone on the list know that John P. Snyder gave me a copy of his
>> personal software about a month before his passing. If anyone WANTS a
>> copy, contact me off list and I will give you the URL where you can
>> download it. I will also send you some operational notes. John wrote his
>> program in MSDOS GWBasic/Quick Basic 4.5, and what I have is fully
>> functional. Check the 'Miscellaneous Section' of my web site for
>> graphics of Snyder's projections that I made using his program:
>>
>
>
> If you'd like the GWBASIC converted to C/C++, or something else
> more current, let me know. At very least make lots of backups.
>
> Peter Willis
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
>
> 




From sdteffen at gmail.com  Wed Oct 19 23:06:22 2005
From: sdteffen at gmail.com (Steffen Macke)
Date: Thu, 20 Oct 2005 08:06:22 +0200
Subject: [Proj] Roussilhe Projection
In-Reply-To: <200510191657.37378.gerald.evenden@verizon.net>
References: <BF7C63B1.5E74%ovv@hetnet.nl>
	<200510191657.37378.gerald.evenden@verizon.net>
Message-ID: <3cb1691c0510192306p354cd28gffd4983cdba32b2f@mail.gmail.com>

> > I was puzzled by the fact that libproj rouss apparently doesn't do anything
> > with the scale factor k0 (m0).

The following gives quite good results for my purposes:

cs2cs +proj=latlong +datum=WGS84 +to +proj=latlong +ellps=clrk80
+towgs84=-182.966,-14.745,272.936 +rf=293.46 | ./lproj +proj=rouss
+a=6378249.2 +lon_0="39d09'E" +lat_0="34d12'N" +k_0=0.9995341
+ellps=clrk80 +rf=293.46

Is there a way to combine the two commands in one? My attempts in this direction
failed. In the end, I would like to project the data in PostGIS. Might
the problem be related
to the k0 issue described above? (This is using Gerald Evenden's libproj)

I filed the enhancement request.

Steffen



From radim.blazek at gmail.com  Thu Oct 20 01:24:31 2005
From: radim.blazek at gmail.com (Radim Blazek)
Date: Thu, 20 Oct 2005 10:24:31 +0200
Subject: [Proj] USAF Aeronautical Approach Chart
Message-ID: <340505ef0510200124k5e8f2531o31f44109a000e89c@mail.gmail.com>

Hi all,

I am looking for information about USAF Aeronautical Approach Chart 1:250000
used in Europe during the WWII.

The only source I have are scanned maps printed after the war (1951,
1955, 1959).
I assume that the same projection was used during the WWII but on the maps
is printed only this information about the projection:

  LAMBERT CONFORMAL CONIC PROJECTION
  STANDARD PARALLELS 44 40' 47 20'

Missing is latitude and longitude of false origin, ellipsoid and datum.

Thanks
Radim



From jnovak at novacell.com  Thu Oct 20 01:40:40 2005
From: jnovak at novacell.com (Administrator)
Date: Thu, 20 Oct 2005 01:40:40 -0700
Subject: [Proj] USAF Aeronautical Approach Chart
Message-ID: <41CC46B3925E384BA64B1FB5041C38FA1938C3@max.novacell.com>

I suggest posting this query to the maphist list at Maphist at geo.uu.nl 

Best,

John Novak 

-----Original Message-----
From: Radim Blazek [mailto:radim.blazek at gmail.com] 
Sent: Thursday, October 20, 2005 1:25 AM
To: proj at lists.maptools.org
Subject: [Proj] USAF Aeronautical Approach Chart


Hi all,

I am looking for information about USAF Aeronautical Approach Chart
1:250000 used in Europe during the WWII.

The only source I have are scanned maps printed after the war (1951,
1955, 1959). I assume that the same projection was used during the WWII
but on the maps is printed only this information about the projection:

  LAMBERT CONFORMAL CONIC PROJECTION
  STANDARD PARALLELS 44 40' 47 20'

Missing is latitude and longitude of false origin, ellipsoid and datum.

Thanks
Radim

_______________________________________________
Proj mailing list
Proj at lists.maptools.org http://lists.maptools.org/mailman/listinfo/proj



From ovv at hetnet.nl  Thu Oct 20 08:45:39 2005
From: ovv at hetnet.nl (Oscar van Vlijmen)
Date: Thu, 20 Oct 2005 17:45:39 +0200
Subject: [Proj] Roussilhe Projection
In-Reply-To: <4356952A.8030403@epf.pl>
Message-ID: <BF7D8842.5E8D%ovv@hetnet.nl>

Following a lead provided by Maciek Sieczka, I stumbled upon testpoints and
formulae for the Polish quasi-stereographic Roussilhe projection (Uklad
1965).
Testpoints:
Bugzilla Bug 818 report
<http://bugzilla.remotesensing.org/show_bug.cgi?id=818>
Formulae (in Polish):
Geodeta Magazine
<http://www.atomnet.pl/~geodeta/2000/59text1.htm>
It appears that the formulae are derived from the official publication
"Wytyczne techniczne G-1.10 ".

As with every other publication with formulae, you will find errors and
vagueries in the text. I think I've found them plus the solutions.

Forward projection:
* Seems to be correct, but it is not immediately clear what xG0 is. The text
describes it in Polish. I meditated on it a bit and found that xG0 is the
xG, computed for the central point B0,L0.
* x0 is the false northing, y0 is the false easting. There are more
countries (e.g. Switzerland) with the meaning of x and y interchanged.
Inverse projection:
* error 1: yG=yG-xq2*yQ/(4*R02)+... should be: yG=yQ-xq2*yQ/(4*R02)+...
* error 2: chsa=cos(h)*sin(alfa); fi=atan(chsa/(1-sqr(chsa)))
should be: fi=atan(chsa/sqrt(1-sqr(chsa)))

Testpoint for zone 1 (Strefa I) (units in degrees, meters):
lat=52d; lon=19d;
B0=50d 37m 30s; L0=21d 5m;
x0=5467000; y0=4637000; m0=0.9998;
I computed the xG0 as: 5610467.57697895
My result:
x65 = 5621984.46761389, y65 = 4493939.53052073
The Transpol program mentioned in the bug report gave:
5621984.46761, 4493939.53053
The inverse with my x65,y65 values gave:
lat = 51.9999999991681, lon =18.9999999227301

The text says (if I'm reading it correctly) that with a complete
forward-inverse-forward projection the error stays within 0.1 mm within the
Polish territory.

Interestingly, my corrected libproj-derived rouss gave:
x=4493939.52614385, y=5621984.47469338
take  y0=5467000; x0=4637000; m0=0.9998;
lat0=50d 37m 30s; lon0=21d 5m;
lat=52d; lon=19d;
Krasowski ellipsoid.
Note the x,y interchange.
Difference in easting with the Polish formulae: 4 mm, in northing: 7 mm.

Also interesting, the double stereographic projection (yes, sterea, at least
my translation of it) gives:
x=4493939.53118226, y=5621984.47176215
Difference in easting: 0.7 mm, in northing: 4 mm

Conclusion: now it should be possible to add - as soon as the developers and
maintainers can find the time of course - the (Polish) Roussilhe projection.
If you have difficulties understanding the article: I don't read Polish too
well, but I can email you some raw JavaScript code that works.

On reply: please try to delete some parts of this relatively long email!




From werchowyna at epf.pl  Thu Oct 20 12:03:57 2005
From: werchowyna at epf.pl (Maciek Sieczka)
Date: Thu, 20 Oct 2005 21:03:57 +0200
Subject: [Proj] Roussilhe Projection
In-Reply-To: <BF7C63B1.5E74%ovv@hetnet.nl>
References: <BF7C63B1.5E74%ovv@hetnet.nl>
Message-ID: <4357EA1D.3010308@epf.pl>

Oscar,

I'm answering your first email in the thread. I'll try to follow the
next one after that.

Oscar van Vlijmen napisal(a):
<snip>

> Has anybody proven testpoints for Poland, which seems (seemed?) to use the
> Roussilhe projection as well?
> 
> Try for instance:
> lat=50d52m; lon=20d37m; // Kielce, in Strefa I
> lat0=50d37m30s; lon0=21d5m; x0=5467000; y0=4637000; m0=0.9998;
> Krasowski ellipsoid
> I got with my "corrected" rouss:
> x = 5434153.30654471, y = 4663982.52582146 (don't use all decimals)
> Does this make sense?

Two errors in your parameters:
1. x0=5467000 should be 5647000; note that this error is present in your
second message too
2. in Polish geodesy x and y are swapped, thus you should use:
y0=5647000 x0=4637000; but I see you sorted out it yourself in your
second email

Now, if you aplly the above changes, I expect you should obtain results
close to sterea and reference Transpol 1.1. Transform 2.5 is giving
slightly different (1 cm less) x coordinate. But all these results are
very close to each other, being also much different from stere. And
that's fine, because I'm convinced stere is not appropriate for Polish
"System 65" (in spite of this, stere is still used as the default for
epsg 2171-2174):

Transform 2.5 (freeware, not official):

5493982.52 4604153.31

Transpol 1.1 (official Polish geodetic service converter):

5493982.52580 4604153.30654

Proj 4.4.9, sterea:
echo "20d37E 50d52N" | cs2cs +proj=latlong +ellps=krass +to +proj=sterea
+ellps=krass +lat_0=50.625 +lon_0=21.08333333333333 +k=0.999800
+x_0=4637000 +y_0=5647000

4604153.31      5673982.53 0.00

Proj 4.4.9, stere (evidently wrong, but is the default for epsg 2171-2174):
echo "20d37E 50d52N" | cs2cs +proj=latlong +ellps=krass +to +proj=stere
+ellps=krass +lat_0=50.625 +lon_0=21.08333333333333 +k=0.999800
+x_0=4637000 +y_0=5647000

4604152.85      5673982.43 0.00



The error when using stere grows as we move further from the zone
centre. At the zone borders it reaches several meters.



Let us know what are your results with rouss when you follow my
suggestions. What is the difference when compared to sterea? We need to 
make sure if it is closer to reference Transpol 1.1 before recomending 
either sterea or rouss as the default for epsg 2171-2174. Although we 
know for sure that stere is not good.

Maciek


--------------------
W polskim Internecie s? setki milionów stron. My przekazujemy Tobie tylko najlepsze z nich!
http://katalog.epf.pl/



From ovv at hetnet.nl  Fri Oct 21 01:38:56 2005
From: ovv at hetnet.nl (Oscar van Vlijmen)
Date: Fri, 21 Oct 2005 10:38:56 +0200
Subject: [Proj] Roussilhe Projection
In-Reply-To: <4357EA1D.3010308@epf.pl>
Message-ID: <BF7E75BF.5E9A%ovv@hetnet.nl>

Regarding Mr. Sieczka's remark on:

>> Has anybody proven testpoints for Poland, which seems (seemed?) to use the
>> Roussilhe projection as well?
>> 
>> Try for instance:
>> lat=50d52m; lon=20d37m; // Kielce, in Strefa I
>> lat0=50d37m30s; lon0=21d5m; x0=5467000; y0=4637000; m0=0.9998;
>> Krasowski ellipsoid
>> I got with my "corrected" rouss:
>> x = 5434153.30654471, y = 4663982.52582146 (don't use all decimals)
>> Does this make sense?

> Two errors in your parameters:
> 1. x0=5467000 should be 5647000; note that this error is present in your
> second message too
> 2. in Polish geodesy x and y are swapped, thus you should use:
> y0=5647000 x0=4637000; but I see you sorted out it yourself in your
> second email

I found the x0=5467000 (y_0 for PROJ) in:
* The article from Geodeta Magazine
http://www.atomnet.pl/~geodeta/2000/59text1.htm
* The table at the bottom in the Polish article "Z czego to wynika"
http://www.syryjczyk.krakow.pl/Metoda%20GPS_1965_T.htm
* The overview of many Polish projection parameters by Jacek M. Holeczek
http://gpsinformation.net/main/warsaw.txt
[I can't find the _official_ parameters on the internet. Must be probably on
www.gugik.gov.pl, but where?]

How can all these Polish people be wrong?      ;-)
Ah, I see. The 5647000 figure is mentioned in several places:
* Under EPSG 2171 in the GDAL database
http://home.gdal.org/~warmerda/srs.sql
* A derived mapserver database at:
<http://www2.dmsolutions.ca/mapserver/dl/proj4-epsg-with-42xxx-and-esri.zip>
* Another derived GeoServer database at:
http://docs.codehaus.org/display/GEOS/SRSHelp
* Etcetera; all non-Polish sources!
* BTW, I can't locate the x0,y0 in the EPSG 6.7 database
http://135.196.105.134/databases/epsg-v67sql.zip
This is epsg.org; there is a version 6.8.

Your "Bugzilla Bug 818" report at
http://bugzilla.remotesensing.org/show_bug.cgi?id=818
provides a testpoint in Zone 1 where we are talking about, but the results:
point1 19dE 52dN
stere    4493928.04    5621985.36
sterea   4493939.53    5621984.47
TRANSPOL 4493939.53053 5621984.46761
cannot be obtained with a y0=5647000. Instead, use the Polish value of
5467000.

> close to sterea and reference Transpol 1.1. Transform 2.5 is giving
> slightly different (1 cm less) x coordinate.
Still a rather large difference between Transpol 1.1 and 2.5.
Could it be that version 2.5 performs grid interpolation and version 1.1
not?
There is hardly anything that can be improved in the Polish projection
formulae beyond the, let's say, 100 micron level.

> Let us know what are your results with rouss when you follow my
> suggestions. What is the difference when compared to sterea?
To be clear: I am happy to test one thing and another, but my (not (yet, if
ever) published) software has no relevance whatsoever. Best is: wait until
the developers of the major packages have made a decision about supporting
which version, if any, of the Roussilhe projection.
If needed, I can test a couple of points near the borders of the 4 Uklad
1965 zones, using (my interpretation of) the Polish formulae and (my version
of) sterea. This has no official relevance, but I hope it can contribute in
some small way in developing a better support for the Roussilhe projection.





From werchowyna at epf.pl  Fri Oct 21 04:19:55 2005
From: werchowyna at epf.pl (Maciek Sieczka)
Date: 21 Oct 2005 13:19:55 +0200
Subject: [Proj] Roussilhe Projection
Message-ID: <200510211120.j9LBJwCV001638@duke.maptools.org>

> Oscar van Vlijmen <ovv at hetnet.nl> napisal(a):
> Regarding Mr. Sieczka's remark on:
> > Two errors in your parameters:
> > 1. x0=5467000 should be 5647000; note that this error is present in your
> > second message too
> > 2. in Polish geodesy x and y are swapped, thus you should use:
> > y0=5647000 x0=4637000; but I see you sorted out it yourself in your
> > second email
> 
> I found the x0=5467000 (y_0 for PROJ) in:
> * The article from Geodeta Magazine
> http://www.atomnet.pl/~geodeta/2000/59text1.htm
> * The table at the bottom in the Polish article "Z czego to wynika"
> http://www.syryjczyk.krakow.pl/Metoda%20GPS_1965_T.htm
> * The overview of many Polish projection parameters by Jacek M. Holeczek
> http://gpsinformation.net/main/warsaw.txt
> [I can't find the _official_ parameters on the internet. Must be probably on
> www.gugik.gov.pl, but where?]

To get it from GUGiK or CODGiK you'd need to pay I guess, this is the case with most of their publications. But maybe http://crs.bkg.bund.de/crs-eu/ is official enough?

> How can all these Polish people be wrong?      ;-)

They, and you, are not wrong. I, and espg 2171, are wrong.  Good you have noticed it. I made a mistake following the epsg blindly here. Frank, Gerald, could you please fix that in your epsg 2171 definitions for y_0? y_0 should be 5467000, like Oscar and his sources say.

> Ah, I see. The 5647000 figure is mentioned in several places:
> * Under EPSG 2171 in the GDAL database
> http://home.gdal.org/~warmerda/srs.sql
> * A derived mapserver database at:
> <http://www2.dmsolutions.ca/mapserver/dl/proj4-epsg-with-42xxx-and-esri.zip>
> * Another derived GeoServer database at:
> http://docs.codehaus.org/display/GEOS/SRSHelp
> * Etcetera; all non-Polish sources!
> * BTW, I can't locate the x0,y0 in the EPSG 6.7 database
> http://135.196.105.134/databases/epsg-v67sql.zip
> This is epsg.org; there is a version 6.8.
> 
> Your "Bugzilla Bug 818" report at
> http://bugzilla.remotesensing.org/show_bug.cgi?id=818
> provides a testpoint in Zone 1 where we are talking about, but the results:
> point1 19dE 52dN
> stere    4493928.04    5621985.36
> sterea   4493939.53    5621984.47
> TRANSPOL 4493939.53053 5621984.46761
> cannot be obtained with a y0=5647000. Instead, use the Polish value of
> 5467000.

Right. Apparently when I prepared bug report 818 I took more care and followed Polish sources instead of EPSG. When answering your email I followed EPSG however, that's why the confusion.

> > close to sterea and reference Transpol 1.1. Transform 2.5 is giving
> > slightly different (1 cm less) x coordinate.
> Still a rather large difference between Transpol 1.1 and 2.5.
> Could it be that version 2.5 performs grid interpolation and version 1.1
> not?

What's "grid interpolation"?

We could ask the author of Transform 2.5, Edward Zadorski: zadorski(at)op.pl, zadorski(at)loonar.pl. I doubt I'm the best person to do it, as my maths skills are VERY poor.

One thing more, just in case: I'm not sure if it's clear for everyone that Transform and Transpol are completely different programs, written by different authors. Transpol is official and not freeware, provided by GUGiK http://www.gugik.gov.pl/ only on a CD-ROM. Tranform is not official, freeware, by Edward Zadorski.

> There is hardly anything that can be improved in the Polish projection
> formulae beyond the, let's say, 100 micron level.
> 
> > Let us know what are your results with rouss when you follow my
> > suggestions. What is the difference when compared to sterea?
> To be clear: I am happy to test one thing and another, but my (not (yet, if
> ever) published) software has no relevance whatsoever. Best is: wait until
> the developers of the major packages have made a decision about supporting
> which version, if any, of the Roussilhe projection.
> If needed, I can test a couple of points near the borders of the 4 Uklad
> 1965 zones, using (my interpretation of) the Polish formulae and (my version
> of) sterea. This has no official relevance, but I hope it can contribute in
> some small way in developing a better support for the Roussilhe projection.

Fine. Could you pass over results of your implementation based on points I mention on http://bugzilla.remotesensing.org/show_bug.cgi?id=818? Just being curios how they compare to main reference, Transpol 1.1.

BTW, can anybody please say how to extend the accuracy of cs2cs output beyond 2 decimal points, so I could properly compare Oscar results to Proj's sterea implementation also?

Maciek

P.S.
On top of all the issue with Polish "System 65", there is another thing. It is that besides a proper definition of the projection itself, there is a need for additional *empirical* correction of coordinates when converting from/to "System 65". This is due to erros which were introduced years ago when "System 65" was realised in Poland.

Here's the source code by Geonet company (license unknown) in DELPHI: http://www.geonet.net.pl/gfx/pliki/kod_korekta65.txt.

This code is included in their GEONET_unitrans, which is also a basis for ArcView module for Polish systems coordinates transformation.

And their document about this epmirical corrections, only in Polish:
http://www.geonet.net.pl/gfx/pliki/korekty65.doc
I could try to translate it to English if there's somebody interested such corrections in Proj.

Transform 2.5 has such a correction as an option. 

The difference between the with and without empirical correction can reach 1 m, quite much. But usually less. E.g. Oscars's "50d52N 20d37E" without the empirical correction in Transform 2.5 gives, as already known (still keep in mind it is 1 cm less in on x axis than in official Transpol 1.1 or Proj's sterea, propably an  error!):

5493982.52   4604153.31

while with epirical correction enabled:
5493982.54   4604153.67

This adds even more confussion, but I had to say it, sorry :).

Maciek

--------------------
W polskim Internecie są setki milionów stron. My przekazujemy Tobie tylko najlepsze z nich!
http://katalog.epf.pl/



From warmerdam at pobox.com  Fri Oct 21 06:08:33 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri, 21 Oct 2005 09:08:33 -0400
Subject: [Proj] Roussilhe Projection
In-Reply-To: <200510211120.j9LBJwCV001638@duke.maptools.org>
References: <200510211120.j9LBJwCV001638@duke.maptools.org>
Message-ID: <931f8ea90510210608s27ee5efdh6cc83b8787572f48@mail.gmail.com>

On 21 Oct 2005 13:19:55 +0200, Maciek Sieczka <werchowyna at epf.pl> wrote:
> They, and you, are not wrong. I, and espg 2171, are wrong.  Good you have noticed it. I made a mistake following the epsg blindly here. Frank, Gerald, could you please fix that in your epsg 2171 definitions for y_0? y_0 should be 5467000, like Oscar and his sources say.

Maciek,

The best solution would be to download the latest EPSG database,
and see if it has been corrected there.  If not, submit a change
request to the EPSG.  If so, just hassle me to refresh the epsg
definition file from the latest EPSG file.

> BTW, can anybody please say how to extend the accuracy of cs2cs output beyond 2 decimal points, so I could properly compare Oscar results to Proj's sterea implementation also?

As per the man page at:

  http://proj.maptools.org/man_cs2cs.html

Use the -f argument to change output formatting.

For instance:

cs2cs -f "%.5f" +proj=latlong +datum=WGS84 +to +proj=utm +zone=11 +datum=WGS84
-118 33
406582.22179    3651730.97411 0.00000

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From ovv at hetnet.nl  Fri Oct 21 07:01:10 2005
From: ovv at hetnet.nl (Oscar van Vlijmen)
Date: Fri, 21 Oct 2005 16:01:10 +0200
Subject: [Proj] Roussilhe Projection
In-Reply-To: <HNEXFE11AgSYygYCAA400065e13@hnexfe11.hetnet.nl>
Message-ID: <BF7EC146.5EA4%ovv@hetnet.nl>

>> Still a rather large difference between Transpol 1.1 and 2.5.
>> Could it be that version 2.5 performs grid interpolation and version 1.1
>> not?

> What's "grid interpolation"?

I believe you gave the answer yourself:
> On top of all the issue with Polish "System 65", there is another thing. It is
> that besides a proper definition of the projection itself, there is a need for
> additional *empirical* correction of coordinates when converting from/to
> "System 65". This is due to erros which were introduced years ago when "System
> 65" was realised in Poland.


> Fine. Could you pass over results of your implementation based on points I
> mention on http://bugzilla.remotesensing.org/show_bug.cgi?id=818? Just being
> curios how they compare to main reference, Transpol 1.1.

Here you go:

The source of the Polish formulae says that the accuracy is 0.1 mm or
better, so in my results ("x65,y65") 4 decimals are significant.
x = northing, y = easting
Source of formulae:
  Panstwowy uklad wspolrzednych plaskich "1965", Jak przeliczac? by
  Leszek Janusz Jaworski [errors corrected by OvV]
  http://www.atomnet.pl/~geodeta/2000/59text1.htm
I copied the Transpol results from:
http://bugzilla.remotesensing.org/show_bug.cgi?id=818

Zone 1
lat0=50d 37m 30s; lon0=21d 5m;
x0=5467000; y0=4637000; m0=0.9998;

lat=52; lon=19;
x65,y65 = 5621984.46761389, 4493939.53052073
TRANSPOL  5621984.46761     4493939.53053
lat=52; lon=23;
x65,y65 = 5621672.5694778, 4768617.47513516
TRANSPOL  5621672.56947    4768617.47513
lat=50; lon=23;
x65,y65 = 5399258.64188843, 4774385.80471728
TRANSPOL  5399258.64189     4774385.80471
lat=50; lon=20;
x65,y65 = 5398055.09440493, 4559343.33173783
TRANSPOL  5398055.09441     4559343.33174

Zone 4
lat0=51d 40m 15s; lon0=16d 40m 20s;
x0=5627000; y0=3703000; m0=0.9998;

lat=52; lon=15;
x65,y65 = 5664935.33351284, 3588182.16724147
TRANSPOL  5664935.33351     3588182.16725
lat=52; lon=17;
x65,y65 = 5663668.48971264, 3725507.13249269
TRANSPOL  5663668.48971     3725507.13249
lat=50; lon=17;
x65,y65 = 5441200.96694657, 3726500.89609692
TRANSPOL  5441200.96695     3726500.89610
lat=51; lon=15;
x65,y65 = 5553716.83369209, 3585638.29471454
TRANSPOL  5553716.83370     3585638.29472

[ends]





From gerald.evenden at verizon.net  Sat Oct 22 08:57:47 2005
From: gerald.evenden at verizon.net (Gerald I. Evenden)
Date: Sat, 22 Oct 2005 11:57:47 -0400
Subject: [Proj] Roussilhe Projection
In-Reply-To: <200510211120.j9LBJwCV001638@duke.maptools.org>
References: <200510211120.j9LBJwCV001638@duke.maptools.org>
Message-ID: <200510221157.47948.gerald.evenden@verizon.net>

On Friday 21 October 2005 07:19 am, Maciek Sieczka wrote:
	...
> Here's the source code by Geonet company (license unknown) in DELPHI:
> http://www.geonet.net.pl/gfx/pliki/kod_korekta65.txt.
>
> This code is included in their GEONET_unitrans, which is also a basis for
> ArcView module for Polish systems coordinates transformation.
>
> And their document about this epmirical corrections, only in Polish:
> http://www.geonet.net.pl/gfx/pliki/korekty65.doc
> I could try to translate it to English if there's somebody interested such
> corrections in Proj.
	...

I would be very interested in  a translation and would be glad to translate
the PASCAL code to C and include in a Polish system variant for libproj4 if it
represents what is in practical use by the Poles.

-- 
Jerry and the low riders:Daisy May and Joshua
"The being cannot be termed rational or virtuous,
who obeys any authority, but that of reason."
---Mary Wollstonecraft 1792


From mateusz at loskot.net  Sat Oct 22 09:37:43 2005
From: mateusz at loskot.net (=?iso-8859-2?Q?Mateusz_=A3oskot?=)
Date: Sat, 22 Oct 2005 18:37:43 +0200
Subject: [Proj] Roussilhe Projection
In-Reply-To: <200510221157.47948.gerald.evenden@verizon.net>
Message-ID: <000f01c5d726$eec4c850$6501a8c0@taxussi.com.pl>

> -----Original Message-----
> From: proj-bounces at lists.maptools.org 
> [mailto:proj-bounces at lists.maptools.org] On Behalf Of Gerald 
> I. Evenden
> Sent: Saturday, October 22, 2005 5:58 PM
> To: PROJ.4 and general Projections Discussions
> Subject: Re: [Proj] Roussilhe Projection
> 
> 
> On Friday 21 October 2005 07:19 am, Maciek Sieczka wrote:
> 	...
> > Here's the source code by Geonet company (license unknown) 
> in DELPHI: 
> > http://www.geonet.net.pl/gfx/pliki/kod_korekta65.txt.
> >
> > This code is included in their GEONET_unitrans, which is 
> also a basis 
> > for ArcView module for Polish systems coordinates transformation.
> >
> > And their document about this epmirical corrections, only 
> in Polish: 
> > http://www.geonet.net.pl/gfx/pliki/korekty65.doc
> > I could try to translate it to English if there's somebody 
> interested 
> > such corrections in Proj.
> 	...
> 
> I would be very interested in  a translation and would be 
> glad to translate the PASCAL code to C and include in a 
> Polish system variant for libproj4 if it represents what is 
> in practical use by the Poles.
> 

Do you mean translation those polish articles to english?
As Maciek, I'm also polish, so I think I could help you.

Maciek: What do you think about it? Is

Best regards
--
Mateusz Łoskot
http://mateusz.loskot.net




From gerald.evenden at verizon.net  Sat Oct 22 13:07:20 2005
From: gerald.evenden at verizon.net (Gerald I. Evenden)
Date: Sat, 22 Oct 2005 16:07:20 -0400
Subject: [Proj] Roussilhe Projection
In-Reply-To: <000f01c5d726$eec4c850$6501a8c0@taxussi.com.pl>
References: <000f01c5d726$eec4c850$6501a8c0@taxussi.com.pl>
Message-ID: <200510221607.20626.gerald.evenden@verizon.net>

On Saturday 22 October 2005 12:37 pm, Mateusz Łoskot wrote:
> > -----Original Message-----
> > From: proj-bounces at lists.maptools.org
> > [mailto:proj-bounces at lists.maptools.org] On Behalf Of Gerald
> > I. Evenden
> > Sent: Saturday, October 22, 2005 5:58 PM
> > To: PROJ.4 and general Projections Discussions
> > Subject: Re: [Proj] Roussilhe Projection
> >
> >
> > On Friday 21 October 2005 07:19 am, Maciek Sieczka wrote:
	...
> > > http://www.geonet.net.pl/gfx/pliki/kod_korekta65.txt
	...
> > I would be very interested in  a translation and would be
> > glad to translate the PASCAL code to C and include in a
> > Polish system variant for libproj4 if it represents what is
> > in practical use by the Poles.
>
> Do you mean translation those polish articles to english?
> As Maciek, I'm also polish, so I think I could help you.
>
> Maciek: What do you think about it? Is
>
> Best regards

Sorry for not being more explicit, but yes, a translation of the
Polish text with the above PASCAL file into English would be greatly
appreciated.  The other korekty65.doc file would also be of interest
IF the material is reliable and if the one table it contains represents
"official" geographic<->grid conversion.  Because the latter file is
very long, perhaps a summary of pertinent parts could be made.

I had ventured into the subject of the Polish grid systems about
a year ago but I was frustrated by *very* little source material in
English and no "benchmark" values---geographic<->grid conversions---
that I could rely upon for verification of projection code.

Relating to an earlier reference to the 'stere" projection I suggest
that it only be tried on applications that are influenced by the US.
Projection 'sterea' or the "double stereographic" seems to be
the most commonly employed in non-US applications.  I am still
not clear on how Roussilhe relates to this problem.  But more on
that later.

Thank-you in advance for any translations.

-- 
Jerry and the low riders:Daisy May and Joshua
"The being cannot be termed rational or virtuous,
who obeys any authority, but that of reason."
---Mary Wollstonecraft 1792



From tim.loesch at dnr.state.mn.us  Sun Oct 23 09:02:06 2005
From: tim.loesch at dnr.state.mn.us (Tim Loesch)
Date: Sun, 23 Oct 2005 11:02:06 -0500
Subject: [Proj] Re: Proj Digest, Vol 17,
	Issue 11 (NOTICE - Out of the office)
Message-ID: <s35b6dc5.052@co5.dnr.state.mn.us>

I'm out of the office and will return Tuesday November 1st.





From gerald.evenden at verizon.net  Sun Oct 23 12:01:13 2005
From: gerald.evenden at verizon.net (Gerald I. Evenden)
Date: Sun, 23 Oct 2005 15:01:13 -0400
Subject: [Proj] Roussilhe Projection
In-Reply-To: <200510221607.20626.gerald.evenden@verizon.net>
References: <000f01c5d726$eec4c850$6501a8c0@taxussi.com.pl>
	<200510221607.20626.gerald.evenden@verizon.net>
Message-ID: <200510231501.13632.gerald.evenden@verizon.net>

A problem comes to mind with the PASCAL procedure

> > > > http://www.geonet.net.pl/gfx/pliki/kod_korekta65.txt

I presume this is a "forward" correction.

Is there an inverse correction?

Doing an inverse of a bivariate polynomial is a bit fussy.
-- 
Jerry and the low riders:Daisy May and Joshua
"The being cannot be termed rational or virtuous,
who obeys any authority, but that of reason."
---Mary Wollstonecraft 1792


From werchowyna at epf.pl  Sun Oct 23 12:44:03 2005
From: werchowyna at epf.pl (Maciek Sieczka)
Date: Sun, 23 Oct 2005 21:44:03 +0200
Subject: [Proj] Roussilhe Projection
In-Reply-To: <200510221607.20626.gerald.evenden@verizon.net>
References: <000f01c5d726$eec4c850$6501a8c0@taxussi.com.pl>
	<200510221607.20626.gerald.evenden@verizon.net>
Message-ID: <435BE803.8040409@epf.pl>

Gerald, I will be glad to translate the
http://www.geonet.net.pl/gfx/pliki/korekty65.doc. I doubt I make it
today. Next weekend maybe. Is that fine?

Mateusz, as you are a pogrammer could you take care of
http://www.geonet.net.pl/gfx/pliki/kod_korekta65.txt?

Frank, if Gerald makes it to include this correction in liproj, do you
think you could port it to PROJ.4 then?

Gerald wrote:
> I had ventured into the subject of the Polish grid systems about
> a year ago but I was frustrated by *very* little source material in
> English and no "benchmark" values---geographic<->grid conversions---
> that I could rely upon for verification of projection code.

I remember. I also remember I wasn't able to help you much then. I was
an absolute newbie to GIS and projections. Since then I've learned
enough, I hope, to be some helpfull in regard of Polish grids now. I
think we can sort out the "System 65" issue together finally.

> Relating to an earlier reference to the 'stere" projection I suggest
> that it only be tried on applications that are influenced by the US.
> Projection 'sterea' or the "double stereographic" seems to be
> the most commonly employed in non-US applications.  I am still
> not clear on how Roussilhe relates to this problem.  But more on
> that later.

Right, sterea is a very good match when compared to reference Transpol 
1.1. I'd love to compare it to rouss too, if it is going to be ported to 
Frank's PROJ.4. Is it?

Thanks to you all.

Maciek

--------------------
W polskim Internecie są setki milionów stron. My przekazujemy Tobie tylko najlepsze z nich!
http://katalog.epf.pl/



From werchowyna at epf.pl  Sun Oct 23 13:49:27 2005
From: werchowyna at epf.pl (Maciek Sieczka)
Date: Sun, 23 Oct 2005 22:49:27 +0200
Subject: [Proj] Roussilhe Projection
In-Reply-To: <BF7EC146.5EA4%ovv@hetnet.nl>
References: <BF7EC146.5EA4%ovv@hetnet.nl>
Message-ID: <435BF757.5000809@epf.pl>

Oscar van Vlijmen wrote:
> Maciek Sieczka wrote:
>>Could you pass over results of your implementation based on points I
>>mention on http://bugzilla.remotesensing.org/show_bug.cgi?id=818? Just being
>>curios how they compare to main reference, Transpol 1.1.
> 
> 
> Here you go:
> 
> The source of the Polish formulae says that the accuracy is 0.1 mm or
> better, so in my results ("x65,y65") 4 decimals are significant.
> x = northing, y = easting
> Source of formulae:
>   Panstwowy uklad wspolrzednych plaskich "1965", Jak przeliczac? by
>   Leszek Janusz Jaworski [errors corrected by OvV]
>   http://www.atomnet.pl/~geodeta/2000/59text1.htm
> I copied the Transpol results from:
> http://bugzilla.remotesensing.org/show_bug.cgi?id=818


PROJ.4.4.9, sterea, output extended to 5 decimal places, says:


> Zone 1
> lat0=50d 37m 30s; lon0=21d 5m;
> x0=5467000; y0=4637000; m0=0.9998;
cs2cs -s -f "%.5f" +proj=latlong +ellps=krass +to +proj=sterea
+ellps=krass +lat_0=50d37'30 +lon_0=21d5' +k=0.9998

> lat=52; lon=19;
> x65,y65 = 5621984.46761389, 4493939.53052073
> TRANSPOL  5621984.46761     4493939.53053
5621984.47176   4493939.53118 0.00000

> lat=52; lon=23;
> x65,y65 = 5621672.5694778, 4768617.47513516
> TRANSPOL  5621672.56947    4768617.47513
5621672.57291   4768617.47400 0.00000

> lat=50; lon=23;
> x65,y65 = 5399258.64188843, 4774385.80471728
> TRANSPOL  5399258.64189     4774385.80471
5399258.64220   4774385.80359 0.00000

> lat=50; lon=20;
> x65,y65 = 5398055.09440493, 4559343.33173783
> TRANSPOL  5398055.09441     4559343.33174
5398055.09465   4559343.33180 0.00000

> Zone 4
> lat0=51d 40m 15s; lon0=16d 40m 20s;
> x0=5627000; y0=3703000; m0=0.9998;
cs2cs -s -f "%.5f" +proj=latlong +ellps=krass +to +proj=sterea
+ellps=krass +lat_0=51d40'15 +lon_0=16d40'20

> lat=52; lon=15;
> x65,y65 = 5664935.33351284, 3588182.16724147
> TRANSPOL  5664935.33351     3588182.16725
5664935.33338   3588182.16682 0.00000

> lat=52; lon=17;
> x65,y65 = 5663668.48971264, 3725507.13249269
> TRANSPOL  5663668.48971     3725507.13249
5663668.48972   3725507.13249 0.00000

> lat=50; lon=17;
> x65,y65 = 5441200.96694657, 3726500.89609692
> TRANSPOL  5441200.96695     3726500.89610
5441200.96470   3726500.89733 0.00000

> lat=51; lon=15;
> x65,y65 = 5553716.83369209, 3585638.29471454
> TRANSPOL  5553716.83370     3585638.29472
5553716.83417   3585638.29532 0.00000

As we can see Oscar's implementation of "System 65" is closer to 
reference Transpol 1.1 than PROJ.4's sterea. Still wondering how rouss 
would perform...

Oscar, what do you exactly mean saying "[errors corrected by OvV]"?

Maciek


--------------------
W polskim Internecie s? setki milionów stron. My przekazujemy Tobie tylko najlepsze z nich!
http://katalog.epf.pl/



From ovv at hetnet.nl  Mon Oct 24 00:34:52 2005
From: ovv at hetnet.nl (Oscar van Vlijmen)
Date: Mon, 24 Oct 2005 09:34:52 +0200
Subject: [Proj] Roussilhe Projection
In-Reply-To: <435BE803.8040409@epf.pl>
Message-ID: <BF825B3C.5EC3%ovv@hetnet.nl>

> Right, sterea is a very good match when compared to reference Transpol
> 1.1. I'd love to compare it to rouss too, if it is going to be ported to
> Frank's PROJ.4. Is it?

My version of rouss, compared to the Transpol testpoints.
Note that my version of rouss is libproj4's version, with the earlier
mentioned correction, incorporating m0.
x and y: Polish notation (northing, easting).
Number of significant decimals: unknown.

Zone 1
lat0=50d 37m 30s; lon0=21d 5m;
x0=5467000; y0=4637000; m0=0.9998; Krasowski

lat=52; lon=19;
y65,x65 = 4493939.52614385, 5621984.47469338
TRANSPOL  4493939.53053     5621984.46761
lat=52; lon=23;
y65,x65 = 4768617.47851932, 5621672.57554829
TRANSPOL  4768617.47513     5621672.56947
lat=50; lon=23;
y65,x65 = 4774385.80374708, 5399258.64246896
TRANSPOL  4774385.80471     5399258.64189
lat=50; lon=20;
y65,x65 = 4559343.33191274, 5398055.09480604
TRANSPOL  4559343.33174     5398055.09441

Zone 4
lat0=51d 40m 15s; lon0=16d 40m 20s;
x0=5627000; y0=3703000; m0=0.9998; Krasowski

lat=52; lon=15;
y65,x65 = 3588182.16721551, 5664935.33352499
TRANSPOL  3588182.16725     5664935.33351
lat=52; lon=17;
y65,x65 = 3725507.13249169, 5663668.48972936
TRANSPOL  3725507.13249     5663668.48971
lat=50; lon=17;
y65,x65 = 3726500.89605595, 5441200.96709125
TRANSPOL  3726500.89610     5441200.96695
lat=51; lon=15;
y65,x65 = 3585638.29537667, 5553716.83449556
TRANSPOL  3585638.29472     5553716.83370

> Oscar, what do you exactly mean saying "[errors corrected by OvV]"?
Errors in the original text in Geodeta Magazine
<http://www.atomnet.pl/~geodeta/2000/59text1.htm>
corrected by me, as completely accounted for in my email dated 2005-10-20
17:45




From ovv at hetnet.nl  Mon Oct 24 00:35:16 2005
From: ovv at hetnet.nl (Oscar van Vlijmen)
Date: Mon, 24 Oct 2005 09:35:16 +0200
Subject: [Proj] Roussilhe Projection
In-Reply-To: <200510221157.47948.gerald.evenden@verizon.net>
Message-ID: <BF825B54.5EC3%ovv@hetnet.nl>

> From: "Gerald I. Evenden"
>> And their document about this epmirical corrections, only in Polish:
> I would be very interested in  a translation and would be glad to translate
> the PASCAL code to C and include in a Polish system variant for libproj4 if it
> represents what is in practical use by the Poles.

Does this mean that there is an intention to incorporate ALL available grid
corrections into the code of libproj4?
The Dutch cadastre provides upon request NLGEO2004 correction data for the
RD, the Australians have National Transformation Grids for AGD66 and AGD84,
the French IGN has several grid corrections available, and undoubtedly there
are many more countries with freely or for minimal charge available data
sets and procedures.
All in all this could add 100s of MB to the libproj tarball. Please make
sure you also make a version without grid data available!



From cjmce at lsu.edu  Mon Oct 24 08:28:28 2005
From: cjmce at lsu.edu (Clifford J Mugnier)
Date: Mon, 24 Oct 2005 10:28:28 -0500
Subject: [Proj] Roussilhe Projection
Message-ID: <OF5FD2C2DA.A1D00609-ON862570A4.00550095-862570A4.005500F8@lsu.edu>





The Roussilhe Stereographic Projection was published in the early 1900s by
the Hydrographer of the French Navy, Roussilhe.  Although his formulae,
adopted by several European Powers, are computationally unique; that has
absolutely NOTHING to do with a datum shift.  The various "block
interpolations" are just variations on the implementation of NADCON or
NTv02 algorithms shifting from one coordinate reference frame to another -
not projections.

Of use? Certainly.  However, I sense that there is some confusion between
the implementation of an analytic function for a map projection and the
implementation of a datum shift.

I recommend that you keep the two concepts separate rather than combining
the topics under the subject of the Roussilhe Stereographic Projection.
(Note there is ALSO the Hristow Stereographic Projection as used in Romania
as the "Stereo 70.")  Roussilhe (Russell), was French; Hristow was
Bulgarian and he published in German.

Clifford J. Mugnier
Chief of Geodesy and
Associate Director,
CENTER FOR GEOINFORMATICS
Department of Civil Engineering
CEBA 3223A
LOUISIANA STATE UNIVERSITY
Baton Rouge, LA  70803
Voice and Facsimile:  (225) 578-8536 [Academic]
Voice and Facsimile:  (225) 578-4474 [Research]
======================================================
http://www.asprs.org/resources/GRIDS/
http://www.cee.lsu.edu/facultyStaff/mugnier/index.html
======================================================


> From: "Gerald I. Evenden"
>> And their document about this epmirical corrections, only in Polish:
> I would be very interested in  a translation and would be glad to
translate
> the PASCAL code to C and include in a Polish system variant for libproj4
if it
> represents what is in practical use by the Poles.

Does this mean that there is an intention to incorporate ALL available grid
corrections into the code of libproj4?
The Dutch cadastre provides upon request NLGEO2004 correction data for the
RD, the Australians have National Transformation Grids for AGD66 and AGD84,
the French IGN has several grid corrections available, and undoubtedly
there
are many more countries with freely or for minimal charge available data
sets and procedures.
All in all this could add 100s of MB to the libproj tarball. Please make
sure you also make a version without grid data available!

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj



From gerald.evenden at verizon.net  Mon Oct 24 10:11:56 2005
From: gerald.evenden at verizon.net (Gerald I. Evenden)
Date: Mon, 24 Oct 2005 13:11:56 -0400
Subject: [Proj] Roussilhe Projection
In-Reply-To: <OF5FD2C2DA.A1D00609-ON862570A4.00550095-862570A4.005500F8@lsu.edu>
References: <OF5FD2C2DA.A1D00609-ON862570A4.00550095-862570A4.005500F8@lsu.edu>
Message-ID: <200510241311.56678.gerald.evenden@verizon.net>

OK, OK, now I am getting confused---or, at least, more confused than I was
reading this thread before.

On Monday 24 October 2005 11:28 am, Clifford J Mugnier wrote:
> The Roussilhe Stereographic Projection was published in the early 1900s by
> the Hydrographer of the French Navy, Roussilhe.  Although his formulae,
> adopted by several European Powers, are computationally unique; that has
> absolutely NOTHING to do with a datum shift.  The various "block
> interpolations" are just variations on the implementation of NADCON or
> NTv02 algorithms shifting from one coordinate reference frame to another -
> not projections.

Is the "correction" polynomial (PASCAL code) a datum shift or a
correction to a projection???  If it is a datum correction than I will not
code it for inclusion in libproj4 (see earlier debate over projection
and datum shift software) as it belongs in datum shift library.

> Of use? Certainly.  However, I sense that there is some confusion between
> the implementation of an analytic function for a map projection and the
> implementation of a datum shift.
>
> I recommend that you keep the two concepts separate rather than combining
> the topics under the subject of the Roussilhe Stereographic Projection.
> (Note there is ALSO the Hristow Stereographic Projection as used in Romania
> as the "Stereo 70.")  Roussilhe (Russell), was French; Hristow was
> Bulgarian and he published in German.

Hmm.  Now to figure out where to get a copy of the math for Hristow.
	...
> Does this mean that there is an intention to incorporate ALL available grid
> corrections into the code of libproj4?
> The Dutch cadastre provides upon request NLGEO2004 correction data for the
> RD, the Australians have National Transformation Grids for AGD66 and AGD84,
> the French IGN has several grid corrections available, and undoubtedly
> there
> are many more countries with freely or for minimal charge available data
> sets and procedures.
> All in all this could add 100s of MB to the libproj tarball. Please make
> sure you also make a version without grid data available!

Good point.  I was totally unaware that "corrections" were such a major
part of some grid systems.

I think I'll back off of this subject before it gets out of hand.  I do NOT
have the resources, time nor inclination to get into this activity.

-- 
Jerry and the low riders:Daisy May and Joshua
"The being cannot be termed rational or virtuous,
who obeys any authority, but that of reason."
---Mary Wollstonecraft 1792


From warmerdam at pobox.com  Mon Oct 24 10:32:04 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon, 24 Oct 2005 13:32:04 -0400
Subject: [Proj] Roussilhe Projection
In-Reply-To: <BF825B54.5EC3%ovv@hetnet.nl>
References: <200510221157.47948.gerald.evenden@verizon.net>
	<BF825B54.5EC3%ovv@hetnet.nl>
Message-ID: <931f8ea90510241032s5b315398hfebea9c2350f4577@mail.gmail.com>

On 10/24/05, Oscar van Vlijmen <ovv at hetnet.nl> wrote:
> Does this mean that there is an intention to incorporate ALL available grid
> corrections into the code of libproj4?
> The Dutch cadastre provides upon request NLGEO2004 correction data for the
> RD, the Australians have National Transformation Grids for AGD66 and AGD84,
> the French IGN has several grid corrections available, and undoubtedly there
> are many more countries with freely or for minimal charge available data
> sets and procedures.
> All in all this could add 100s of MB to the libproj tarball. Please make
> sure you also make a version without grid data available!

Oscar,

My practice has been to offer the datum shift grid files as a
separate file that can be downloaded.  I don't forsee changing
this approach.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From werchowyna at epf.pl  Mon Oct 24 14:19:12 2005
From: werchowyna at epf.pl (Maciek Sieczka)
Date: Mon, 24 Oct 2005 23:19:12 +0200
Subject: [Proj] Roussilhe Projection
In-Reply-To: <BF825B3C.5EC3%ovv@hetnet.nl>
References: <BF825B3C.5EC3%ovv@hetnet.nl>
Message-ID: <435D4FD0.5030105@epf.pl>

Oscar van Vlijmen napisal(a):
>>Oscar, what do you exactly mean saying "[errors corrected by OvV]"?
> 
> Errors in the original text in Geodeta Magazine
> <http://www.atomnet.pl/~geodeta/2000/59text1.htm>
> corrected by me, as completely accounted for in my email dated 2005-10-20
> 17:45

Ok, thanks. What are the results when you don't apply your changes? Are 
the results closer to Transpol's then? I'm wondering if it's possible 
that Transpol could contain the same bug and that's why your results are 
slighlty different...

Also, could take a look at 
http://www.geonet.net.pl/gfx/pliki/uklady_new.doc, pages 22-25 mainly, 
and say what you think of it's Uklad 1965 formulae? The author is R. 
Kadaj, the same one who is the author of Transpol software distributed 
by GUGiK. Sorry I didn't mention it before, but I guess it is the most 
important source available. It should be taken for official I think, as 
the author is also an author of the official coordinate transformation 
software for Poland. Sorry, only in Polish again.

Maciek

--------------------
W polskim Internecie s? setki milionów stron. My przekazujemy Tobie tylko najlepsze z nich!
http://katalog.epf.pl/



From werchowyna at epf.pl  Mon Oct 24 14:22:44 2005
From: werchowyna at epf.pl (Maciek Sieczka)
Date: Mon, 24 Oct 2005 23:22:44 +0200
Subject: [Proj] Polish Uklad 1965 proper definition
In-Reply-To: <BF825B3C.5EC3%ovv@hetnet.nl>
References: <BF825B3C.5EC3%ovv@hetnet.nl>
Message-ID: <435D50A4.1010802@epf.pl>

I compared all the benchmarks done by me and Oscar van Vlijmen for 8 
input points mentioned on 
http://bugzilla.remotesensing.org/show_bug.cgi?id=818 and results are 
following.

Compared to Transpol, official GUGiK (Polish geodesy and cartography 
service) software:

[1]
PROJ.4 stere:
mean northing difference: 4,86306 m
mean easting difference:  2,57497 m

[2]
PROJ.4 sterea:
mean northing difference: 0,00065 m
mean easting difference:  0,00137 m

[3]
Oscar's implementation of 
http://www.atomnet.pl/~geodeta/2000/59text1.htm with his corrections to 
the algorithm:
mean northing difference: 0,00001 m
mean easting difference:  0,00000 m

[4]
Oscar's implementation of rouss:
mean northing difference: 0,00121 m
mean easting difference:  0,00189 m


Summarizing:
1. By now, best would be to use Oscar's [3].
2. Or at least replace stere with stere, as proven by [1] and [2].

What are the chances either solution would be applied to PROJ.4 and libproj?

The other thing is the empirical correction on top of the proper Uklad 
1965 mathematical formulae.

Gerald Evendeen wrote:
 > Is the "correction" polynomial (PASCAL code) a datum shift or a
 > correction to a projection???

I *guess* it is the correction to a projection. 
http://www.geonet.net.pl/gfx/pliki/kod_korekta65.txt says, roughly:
" 1. Tranformation between a mathematical grid 1965 and and it's real 
equivalent (empirical, catalogue) xyz65(teor) <=> xyz65(empir) are 
accomplished by algebraic polynomials of 12th degree in the zone 5 and 
of 16th degree in zones 1,2,3,4. Parameters of the polynomials were 
estimated based sets of several dozens of thousands of control points - 
groundwork of I + II class.."

(I hope my translation explains something)

Maciek

--------------------
W polskim Internecie s? setki milionów stron. My przekazujemy Tobie tylko najlepsze z nich!
http://katalog.epf.pl/



From mateusz at loskot.net  Mon Oct 24 15:55:12 2005
From: mateusz at loskot.net (=?UTF-8?B?TWF0ZXVzeiDFgW9za290?=)
Date: Tue, 25 Oct 2005 00:55:12 +0200
Subject: [Proj] Roussilhe Projection
In-Reply-To: <435BE803.8040409@epf.pl>
References: <000f01c5d726$eec4c850$6501a8c0@taxussi.com.pl>
	<200510221607.20626.gerald.evenden@verizon.net>
	<435BE803.8040409@epf.pl>
Message-ID: <435D6650.5010109@loskot.net>

Maciek Sieczka napisał(a):
> Gerald, I will be glad to translate the
> http://www.geonet.net.pl/gfx/pliki/korekty65.doc. I doubt I make it
> today. Next weekend maybe. Is that fine?

OK

> Mateusz, as you are a pogrammer could you take care of
> http://www.geonet.net.pl/gfx/pliki/kod_korekta65.txt?

OK, I'm working on it.

Cheers

-- 
Mateusz Łoskot
http://mateusz.loskot.net


From ovv at hetnet.nl  Tue Oct 25 05:22:32 2005
From: ovv at hetnet.nl (Oscar van Vlijmen)
Date: Tue, 25 Oct 2005 14:22:32 +0200
Subject: [Proj] Hristow
In-Reply-To: <200510241311.56678.gerald.evenden@verizon.net>
Message-ID: <BF83F027.5EE4%ovv@hetnet.nl>

> From: "Gerald I. Evenden"
> Date: Mon, 24 Oct 2005 13:11:56

> On Monday 24 October 2005 11:28 am, Clifford J Mugnier wrote:
>> The Roussilhe Stereographic Projection was published in the early 1900s by
>> the Hydrographer of the French Navy, Roussilhe.  Although his formulae,
>> adopted by several European Powers, are computationally unique;
....
>> (Note there is ALSO the Hristow Stereographic Projection as used in Romania
>> as the "Stereo 70.")  Roussilhe (Russell), was French; Hristow was
>> Bulgarian and he published in German.
> Hmm.  Now to figure out where to get a copy of the math for Hristow.

Mr. Mugnier gives a test point in "Grids & Datums - Romania"
<http://www.asprs.org/resources/grids/05-2001-romania.pdf>
BTW, I believe the central latitude is at 46d, not 45d.
See also EPSG ProjCRS 31700.

With (my version of) sterea (double stereographic projection) and the
following parameters I got:

lat=44d 30m 30s; lon=26d 3m 3s;
lat0=46; lon0=25; x0=5e5; y0=5e5; m0=0.999750;
Krasowski ellipsoid;
-> easting = 583553.82638, northing = 334794.54321
(another instance of y=easting)
The article gives: northing x = 334794.541, easting y = 583553.824
So, less than 2.5 mm difference.

I am looking forward to the actual Hristow series, but in the mean time one
could use sterea.







From ovv at hetnet.nl  Tue Oct 25 05:23:00 2005
From: ovv at hetnet.nl (Oscar van Vlijmen)
Date: Tue, 25 Oct 2005 14:23:00 +0200
Subject: [Proj] Roussilhe Projection
In-Reply-To: <435D4FD0.5030105@epf.pl>
Message-ID: <BF83F044.5EE4%ovv@hetnet.nl>

>>> Oscar, what do you exactly mean saying "[errors corrected by OvV]"?
>> Errors in the original text in Geodeta Magazine
>> <http://www.atomnet.pl/~geodeta/2000/59text1.htm>
>> corrected by me, as completely accounted for in my email dated 2005-10-20
>> 17:45
> Ok, thanks. What are the results when you don't apply your changes? Are
> the results closer to Transpol's then? I'm wondering if it's possible
> that Transpol could contain the same bug and that's why your results are
> slighlty different...

Several points are missed here.
(1) It is pointless calculating something with procedures containing blatant
errors. I believe the errors in the article are of a typographical nature,
not of a structural nature. For instance, in the inverse projection variable
yQ was misspelled as yG and an important square root sign was forgotten.

(2) The differences between my implementation and Transpol are not
significant. See it the mathematical way. The differences are smaller than 1
in the least significant digit, which is very likely a rounding problem, not
a difference in maths or a bug.

(3) It has no practical use trying to get a higher precision than 0.00001
meters = 10 microns, because that's what we're talking about: the
differences in x65,y65 between the formulae from the article and Transpol.


> Also, could take a look at
> http://www.geonet.net.pl/gfx/pliki/uklady_new.doc, pages 22-25 mainly,
> and say what you think of it's Uklad 1965 formulae? The author is R.
> Kadaj, the same one who is the author of Transpol software distributed
> by GUGiK. Sorry I didn't mention it before, but I guess it is the most
> important source available. It should be taken for official I think, as
> the author is also an author of the official coordinate transformation
> software for Poland. Sorry, only in Polish again.

Roman Kadaj is probably also the author of the official document "Wytyczne
Techniczne G-1.10 " (technical guideline G-1.10) describing the Polish
projection systems. See literature reference #4 in his article.

Sorry, but in my opinion the author has tried his best to obfuscate the
procedures, so I hardly understand what he is doing. Of course I am hampered
by my weak knowledge of Polish, but still.

It looks to me that chapter 10 describes (in an obfuscated way) a nearly
exact method, very similar to the article in Geodeta Magazine. Probably the
only difference is that the author uses complex math (with real and
imaginary parts of variables).
Chapter 11 describes an alternative method as used in the Gugik-80 system,
where the original System 65 is approximated by complex polynomials with for
every zone a different set of parameters. In some way the polynomials are
based on Transverse Mercator values.
Don't ask me how. The text seems to say, for instance, that mu0 in zone 1 is
equal to the x-coordinate of the [Transverse] Mercator [projection] of the
central point. I played a bit around, but in no way I can reproduce the
given value of 5605231.5783400 m.

If you could provide a complete and accurate translation into English of the
chapters 10 and 11 of said article (tables not necessary), then a further
analysis would be possible. Or not, due to inexplainable mysteries in the
text.





From gerald.evenden at verizon.net  Tue Oct 25 07:21:40 2005
From: gerald.evenden at verizon.net (Gerald I. Evenden)
Date: Tue, 25 Oct 2005 10:21:40 -0400
Subject: [Proj] Roussilhe Projection
In-Reply-To: <BF825B54.5EC3%ovv@hetnet.nl>
References: <BF825B54.5EC3%ovv@hetnet.nl>
Message-ID: <200510251021.40969.gerald.evenden@verizon.net>

It seems that I was hasty in my response and suggesting to adding 
"corrections" code to libproj4.  I did not realize that this would open such
a can of worms.  Thus

    NO,

I will not add  grid correction code to libproj4 at the moment (and
probably not never).

On Monday 24 October 2005 03:35 am, Oscar van Vlijmen wrote:
> > From: "Gerald I. Evenden"
> >
> >> And their document about this epmirical corrections, only in Polish:
> >
> > I would be very interested in  a translation and would be glad to
> > translate the PASCAL code to C and include in a Polish system variant for
> > libproj4 if it represents what is in practical use by the Poles.
>
> Does this mean that there is an intention to incorporate ALL available grid
> corrections into the code of libproj4?
> The Dutch cadastre provides upon request NLGEO2004 correction data for the
> RD, the Australians have National Transformation Grids for AGD66 and AGD84,
> the French IGN has several grid corrections available, and undoubtedly
> there are many more countries with freely or for minimal charge available
> data sets and procedures.
> All in all this could add 100s of MB to the libproj tarball. Please make
> sure you also make a version without grid data available!

-- 
Jerry and the low riders:Daisy May and Joshua
"The being cannot be termed rational or virtuous,
who obeys any authority, but that of reason."
---Mary Wollstonecraft 1792


From bhudspeth at edac.unm.edu  Tue Oct 25 08:07:01 2005
From: bhudspeth at edac.unm.edu (William Hudspeth)
Date: Tue, 25 Oct 2005 09:07:01 -0600
Subject: [Proj] Problems with Projections when making WMS GetMap Request in
	Mapserver
Message-ID: <1130252821.3712.3.camel@localhost.localdomain>

Hello,
> 
I am using Mapserver 4.6 and Proj 4.4.7 on Fedora Core 3. I am using a
map file where map and layer projections are defined as:
 
 PROJECTION
   "init=epsg:4326"
 END
 
 My WMS GetMap requests look like this:
 
 
 http://falstaff.unm.edu/cgi-bin/mapserv?

map=reason/dream_map.map&VERSION=1.1.1&REQUEST=GetMap&BBox=-120.000,26.000,-97.000,44.000&SRS=EPSG:4326&Width=570&Height=446.086956522&Layers=GRASS_SHADED_RELIEF
 
 And, regardless of which map layer I call, I get the following error.
 
 
 msProcessProjection(): Projection library error. projection not named
 
 I would much appreciate any enlightenment!
 
 Thanks, Bill



From c.krikke at hccnet.nl  Tue Oct 25 08:47:14 2005
From: c.krikke at hccnet.nl (Kees Krikke)
Date: Tue, 25 Oct 2005 17:47:14 +0200
Subject: [Proj] Implementation(s) for Oblique Stereographic
Message-ID: <20051025154717.AF46138419@smtp5.wanadoo.nl>


Hi all,

I've been following recent posts about the Roussilhe Projection.

As I understand from EPSG documentation and EPSG database Oblique
Stereographic (epsg code 9809) (with Roussilhe given as an alias) is not the
same as the USGS Oblique Stereographic projection.

I guess that stere is the USGS implementation and sterea is an approximation
of the EPSG implementation.

Anyway, you get into trouble if the wrong implementation is used. 

For example:

When using proj to convert from or to the Dutch RD system:

C:\Program Files\FWTools1.0.0a4\proj_lib>proj -v +init=epsg:28992
#Stereographic
#       Azi, Sph&Ell
#       lat_ts=
# +init=epsg:28992 +proj=stere +lat_0=52.15616055555555
# +lon_0=5.38763888888889 +k=0.999908 +x_0=155000 +y_0=463000 +ellps=bessel
# +units=m +no_defs

The results are way off (up to 20m!)

Better results (within a couple of centimeters) are obtained when using
Oblique Stereographic Alternative. This can be fixed by changing the epsg
and esri files (sterea instead of stere). It might also be a good idea to
add the towgs84 parameters:

C:\Program Files\FWTools1.0.0a4\proj_lib>proj -v +init=epsg:28992
#Oblique Stereographic Alternative
#       Azimuthal, Sph&Ell
# +init=epsg:28992 +proj=sterea +lat_0=52.15616055555555
# +lon_0=5.38763888888889 +k=0.999908 +x_0=155000 +y_0=463000 +ellps=bessel
# +units=m
# +towgs84=565.04,49.91,465.84,-0.409394387,0.35970519561,-1.868491,4.0772
# +no_defs

But the best results are obtained when using the formulas specified in
http://www.epsg.org/guides/docs/G7-2.pdf. An RD conversion is used as an
example of Oblique Stereographic (epsg code 9809). Their results are spot
on.


I think that part of the confusion is that you don't always know which
implementation you need and that the same EPSG code (9809) is used for both
implementations (or isn't it?).

This is especially a problem if you need to reproject an geotiff image with
EPSG code 9809 in it. For example gdalwarp will use the "stere" formulas
when it sees code 9809. 

Cheers,

Kees Krikke




From ovv at hetnet.nl  Tue Oct 25 13:10:30 2005
From: ovv at hetnet.nl (Oscar van Vlijmen)
Date: Tue, 25 Oct 2005 22:10:30 +0200
Subject: [Proj] Implementation(s) for Oblique Stereographic
In-Reply-To: <20051025154717.AF46138419@smtp5.wanadoo.nl>
Message-ID: <BF845DD6.5EEF%ovv@hetnet.nl>

> From: "Kees Krikke"

> As I understand from EPSG documentation and EPSG database Oblique
> Stereographic (epsg code 9809) (with Roussilhe given as an alias) is not the
> same as the USGS Oblique Stereographic projection.
...
> Anyway, you get into trouble if the wrong implementation is used.
...
> When using proj to convert from or to the Dutch RD system:
...
> Better results (within a couple of centimeters) are obtained when using
> Oblique Stereographic Alternative.

Short answer:

* Use PROJ/libproj/etc sterea
* Or, use the official conversion program RDNAPTRANS(tm)2004. Windows only.
Recent versions also perform grid correction.

Longer answer:

The Dutch RD grid uses its own version of the double stereographic
projection, by the Dutch cadastre also called the Schreiber double
stereographic projection.
I have found that there are only very small differences between (my version
of) PROJ/libproj's sterea and the 'double Dutch' (ermm...) projection. Think
of tens of microns in easting, northing, not centimeters.
Official sources (Het Kadaster) have published the exact formulae for this
projection, including a very good polynomial approximation.
There is an official program RDNAPTRANS available that also performs grid
corrections.
See http://www.rdnap.nl
I have found that the EPSG Guidance Note 7.2 description of this projection
produces good results indeed.

Just ask me if you want more references, mainly in Dutch and available
on-line. Much of it can be found on www.rdnap.nl

A test point, near Westkapelle, far away from datum Amersfoort, using my
stuff; no grid corrections:

units: degrees, meters
lat0 =52.1561605555556; lon0 =5.38763888888889;
x0 =155000.00; y0 =463000.00; k0 =0.9999079;
Bessel 1841 ellipsoid

lat=51d 31m; lon=3d 27m;
RD polynomial solution on the Bessel ellipsoid gives RDxy:
20534.0171854597, 393649.052747085
Analytical solution (Schreiber double projection):
20534.0171628404, 393649.052684693
sterea:
20534.0171705519, 393649.052733924
(not all decimals are significant)





From cjmce at lsu.edu  Tue Oct 25 13:45:38 2005
From: cjmce at lsu.edu (Clifford J Mugnier)
Date: Tue, 25 Oct 2005 15:45:38 -0500
Subject: [Proj] Implementation(s) and ensuing headaches ...
Message-ID: <OF33A0080E.BCF08DE3-ON862570A5.00720A70-862570A5.00720AD4@lsu.edu>





The generally accepted "standard" for computational accuracy (late 20th
century - 1990s) is to match a government's projection tables or government
transformation software to 0.1 mm in both components.

The equivalent "standard" for computational accuracy (late 19th century)
was to match a government's projection tables to 0.1 meters in both
components.  (Plenty good enuf' for controlling indirect artillery fire.)

When old formulae, based on double projections (Equivalent Spheres and
Latitude Functions - Authalic, Conformal, Rectifying, etc.), are used
nowadays ... it can get quite challenging to find an analytic expression to
match today's standards.

The classic work by Charles N. Claire, "Special Publication 65-1, State
Plane Coordinates by Automatic Data Processing Methods" was just such an
example of the extra hoops the U.S. Coast & Geodetic Survey had to jump
through in an attempt to match the ole-timey tables of the State Plane
Coordinate Systems of the United States.  John P. Snyder once wryly noted
that one of the dilemmas faced by Claire was that Oscar S. Adams had chosen
to use Geocentric Latitude rather than Conformal Latitude in his Lambert
Tables (to save time back then since it was 'good enuf' back then).  Only
Claire didn't know that at the time, just that he had to match the old
tables ... !

And so, history continues to repeat itself.

;-)

Clifford J. Mugnier
Chief of Geodesy and
Associate Director,
CENTER FOR GEOINFORMATICS
Department of Civil Engineering
CEBA 3223A
LOUISIANA STATE UNIVERSITY
Baton Rouge, LA  70803
Voice and Facsimile:  (225) 578-8536 [Academic]
Voice and Facsimile:  (225) 578-4474 [Research]
======================================================
http://www.asprs.org/resources/GRIDS/
http://www.cee.lsu.edu/facultyStaff/mugnier/index.html
======================================================



From willy.hersman at conocophillips.com  Tue Oct 25 15:09:51 2005
From: willy.hersman at conocophillips.com (Hersman, William)
Date: Tue, 25 Oct 2005 14:09:51 -0800
Subject: [Proj] A datum question if I may
Message-ID: <FB8E6EC6316A4A4EA003114121588ACC0257E815@ancexmb1.conoco.net>

Is there a difference between a NAD27->NAD83 conversion and a
NAD27->WGS84 conversion ?  Much ?

Thanks,

Willy Hersman



From schuyler at nocat.net  Tue Oct 25 15:49:52 2005
From: schuyler at nocat.net (Schuyler Erle)
Date: Tue, 25 Oct 2005 15:49:52 -0700
Subject: [Proj] A datum question if I may
In-Reply-To: <FB8E6EC6316A4A4EA003114121588ACC0257E815@ancexmb1.conoco.net>
References: <FB8E6EC6316A4A4EA003114121588ACC0257E815@ancexmb1.conoco.net>
Message-ID: <20051025224951.GP2189@vishnu.tridity.org>

* On 25-Oct-2005 at  3:14PM PDT, Hersman, William said:
> Is there a difference between a NAD27->NAD83 conversion and a
> NAD27->WGS84 conversion ?  Much ?

Almost none. According to
http://www.mentorsoftwareinc.com/resource/Nad83.htm, NAD83 and WGS84
start to differ at something like the seventh or eighth decimal place,
unless I've completely misunderstood this article.

SDE


From warmerdam at pobox.com  Tue Oct 25 15:53:56 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue, 25 Oct 2005 18:53:56 -0400
Subject: [Proj] A datum question if I may
In-Reply-To: <FB8E6EC6316A4A4EA003114121588ACC0257E815@ancexmb1.conoco.net>
References: <FB8E6EC6316A4A4EA003114121588ACC0257E815@ancexmb1.conoco.net>
Message-ID: <931f8ea90510251553p59fb35a5v5d54a3dd8e861452@mail.gmail.com>

On 10/25/05, Hersman, William <willy.hersman at conocophillips.com> wrote:
> Is there a difference between a NAD27->NAD83 conversion and a
> NAD27->WGS84 conversion ?  Much ?

Willy,

PROJ.4's datum conversion logic considers NAD83 and
WGS84 equivelent since the differences are so minor.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From cjmce at lsu.edu  Tue Oct 25 17:00:58 2005
From: cjmce at lsu.edu (Clifford J Mugnier)
Date: Tue, 25 Oct 2005 19:00:58 -0500
Subject: [Proj] A datum question if I may
Message-ID: <OFC4E07918.D18255FD-ON862570A6.000016A1-862570A6.000016EC@lsu.edu>





NAD83 is going toward a merge with the ITRFXX (International Terrestrial
Reference Frame of some year) and WGS84 is already on the ITRFXX.  These
are reference frames with respect to DATUMS.  The datums are the same
within centimeters on the ground.  Big deal in Geodesy and precise Land
Surveys - zippo for GIS.

The minor difference in the 14th decimal place is with respect to the
difference in the WGS84 ellipsoid and the GRS80 (Geodetic Reference System
1980) ellipsoid because two different formulae are used to define the
respective gravity fields.  Since "b," "1/f" reciprocal of flattening, etc.
are derived quantities, the derivations differ slightly.  There is ZERO
practical difference.

C. Mugnier
-----------------------
On 10/25/05, Hersman, William <willy.hersman at conocophillips.com> wrote:
> Is there a difference between a NAD27->NAD83 conversion and a
> NAD27->WGS84 conversion ?  Much ?

Willy,

PROJ.4's datum conversion logic considers NAD83 and
WGS84 equivelent since the differences are so minor.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj



From werchowyna at epf.pl  Wed Oct 26 00:20:38 2005
From: werchowyna at epf.pl (Maciek Sieczka)
Date: Wed, 26 Oct 2005 09:20:38 +0200
Subject: [Proj] Polish Uklad 1965 proper definition
In-Reply-To: <435D50A4.1010802@epf.pl>
References: <BF825B3C.5EC3%ovv@hetnet.nl> <435D50A4.1010802@epf.pl>
Message-ID: <435F2E46.5000101@epf.pl>

Let me correct myself.

I wrote:

<snip>
> Summarizing:
> 1. By now, best would be to use Oscar's [3].
> 2. Or at least replace stere with stere, as proven by [1] and [2].
<snip>

I should have wrote:

2. Or, at least replace stere with sterea, as proven by [1] and [2].

Maciek

--------------------
W polskim Internecie s? setki milionów stron. My przekazujemy Tobie tylko najlepsze z nich!
http://katalog.epf.pl/



From bhudspeth at edac.unm.edu  Wed Oct 26 09:03:50 2005
From: bhudspeth at edac.unm.edu (William Hudspeth)
Date: Wed, 26 Oct 2005 10:03:50 -0600
Subject: [Proj] Projection problems using Mapserver 4.6
Message-ID: <1130342630.3828.2.camel@localhost.localdomain>

Hello,

I am using Mapserver 4.6 and Proj 4.4.7 on Fedora Core 3. I am using a
map file where map and layer projections are defined as:
 
 PROJECTION
   "init=epsg:4326"
 END
 
 My WMS GetMap requests look like this:
 

http://falstaff.unm.edu/cgi-bin/mapserv?
map=reason/dream_map.map&VERSION=1.1.1&REQUEST=GetMap&BBox=-120.000,26.000,-97.000,44.000&SRS=EPSG:4326&Width=570&Height=446.086956522&Layers=GRASS_SHADED_RELIEF
 
 And, regardless of which map layer I call, I get the following error.
 

 msProcessProjection(): Projection library error. projection not named
 
 I would much appreciate any enlightenment!
 
 Thanks, Bill






From warmerdam at pobox.com  Wed Oct 26 09:28:33 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed, 26 Oct 2005 12:28:33 -0400
Subject: [Proj] Projection problems using Mapserver 4.6
In-Reply-To: <1130342630.3828.2.camel@localhost.localdomain>
References: <1130342630.3828.2.camel@localhost.localdomain>
Message-ID: <931f8ea90510260928h10b34077j6b8c1c467c2a6261@mail.gmail.com>

On 10/26/05, William Hudspeth <bhudspeth at edac.unm.edu> wrote:
> Hello,
>
> I am using Mapserver 4.6 and Proj 4.4.7 on Fedora Core 3. I am using a
> map file where map and layer projections are defined as:
>
>  PROJECTION
>    "init=epsg:4326"
>  END
>
>  My WMS GetMap requests look like this:
>
>
> http://falstaff.unm.edu/cgi-bin/mapserv?
> map=reason/dream_map.map&VERSION=1.1.1&REQUEST=GetMap&BBox=-120.000,26.000,-97.000,44.000&SRS=EPSG:4326&Width=570&Height=446.086956522&Layers=GRASS_SHADED_RELIEF
>
>  And, regardless of which map layer I call, I get the following error.
>
>
>  msProcessProjection(): Projection library error. projection not named
>
>  I would much appreciate any enlightenment!

Bill,

My guess is that the projection initialization file is not being
found.  Where is your "epsg" file?  On unix it would normally
be in /usr/local/share/proj or perhaps /usr/share/proj.  You
might try setting the PROJ_LIB environment variable to point
to the appropriate directory and see if that helps.

Other than that, I would suggest upgrading to PROJ 4.4.9
though I can't immediately think of any reason that should be
necessary.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From c.krikke at hccnet.nl  Wed Oct 26 11:39:00 2005
From: c.krikke at hccnet.nl (Kees Krikke)
Date: Wed, 26 Oct 2005 20:39:00 +0200
Subject: [Proj] Implementation(s) for Oblique Stereographic
In-Reply-To: <BF845DD6.5EEF%ovv@hetnet.nl>
Message-ID: <20051026183904.7333C4CA32@smtp4.wanadoo.nl>

Thanks Oscar,

I'am aware of the sterea and RDNAPTRANS options. Even if the RD projection
is a odd one, it is well documented and the conversion between RD and other
coordinate systems is not my problem.  

I just wanted to point out that there is a problem when a coordinate system
uses "Oblique Stereographic projection". The problem is that there is more
than one implementation of this projection. In the EPSG document
(http://www.epsg.org/guides/docs/G7-2.pdf) a remark is made that the USGS
implementation of Oblique Stereographic is considered a different
projection.

So if a coordinate system use Oblique Stereographic projection (epsg code
9809) you need to know if the epsg (Roussilhe) or usgs implementation should
be used. (If I am wrong here than proj4 needs to use sterea or a more exact
implementation of the EPSG Oblique Stereographic projection whenever it sees
epsg code 9809 and the problem would be solved.)

For example if you use the "proj +init=epsg:28992"command (28992 being the
epsg code for the dutch RD coordinate system) you will  get the stere
conversion because that is the implementation proj uses whenever it sees the
9809 code. For RD this would be wrong because the sterea conversion provides
better results. (I understand that this is also true for the Polish Uklad
1965 system.)

In proj4 you can easily change the epsg file so the sterea conversion is
used, but other applications (even if they rely on proj4, such as gdal) just
look at the projection codes (such as 9809) and use just the implementation
that is linked to this code. (for gdal: I think this is the stere
implementation)

An improvement for proj4 would be to implement the epsg and usgs
implementation and make sure the epsg file refers to the correct
implementation.

But at this time my problem is that I'm not able to use gdal to reproject
images from/to the RD coordinate system. (without modifying or making s/w)

A long term solution would be to identify multiple "Oblique Stereographic
projection" implementations and make sure that for each implementation a
unique epsg code is determined that can be used in geotiff images. (also
codes for other geo code systems would be needed)

Any thoughts on this subject?

Cheers,

Kees Krikke




-----Original Message-----
From: proj-bounces at lists.maptools.org
[mailto:proj-bounces at lists.maptools.org] On Behalf Of Oscar van Vlijmen
Sent: 25 October 2005 22:11
To: PROJ.4 and general Projections Discussions
Cc: Kees Krikke
Subject: Re: [Proj] Implementation(s) for Oblique Stereographic

> From: "Kees Krikke"

> As I understand from EPSG documentation and EPSG database Oblique 
> Stereographic (epsg code 9809) (with Roussilhe given as an alias) is 
> not the same as the USGS Oblique Stereographic projection.
...
> Anyway, you get into trouble if the wrong implementation is used.
...
> When using proj to convert from or to the Dutch RD system:
...
> Better results (within a couple of centimeters) are obtained when 
> using Oblique Stereographic Alternative.

Short answer:

* Use PROJ/libproj/etc sterea
* Or, use the official conversion program RDNAPTRANS(tm)2004. Windows only.
Recent versions also perform grid correction.

Longer answer:

The Dutch RD grid uses its own version of the double stereographic
projection, by the Dutch cadastre also called the Schreiber double
stereographic projection.
I have found that there are only very small differences between (my version
of) PROJ/libproj's sterea and the 'double Dutch' (ermm...) projection. Think
of tens of microns in easting, northing, not centimeters.
Official sources (Het Kadaster) have published the exact formulae for this
projection, including a very good polynomial approximation.
There is an official program RDNAPTRANS available that also performs grid
corrections.
See http://www.rdnap.nl
I have found that the EPSG Guidance Note 7.2 description of this projection
produces good results indeed.

Just ask me if you want more references, mainly in Dutch and available
on-line. Much of it can be found on www.rdnap.nl

A test point, near Westkapelle, far away from datum Amersfoort, using my
stuff; no grid corrections:

units: degrees, meters
lat0 =52.1561605555556; lon0 =5.38763888888889; x0 =155000.00; y0
=463000.00; k0 =0.9999079; Bessel 1841 ellipsoid

lat=51d 31m; lon=3d 27m;
RD polynomial solution on the Bessel ellipsoid gives RDxy:
20534.0171854597, 393649.052747085
Analytical solution (Schreiber double projection):
20534.0171628404, 393649.052684693
sterea:
20534.0171705519, 393649.052733924
(not all decimals are significant)



_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj




From warmerdam at pobox.com  Wed Oct 26 12:09:42 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed, 26 Oct 2005 15:09:42 -0400
Subject: [Proj] Implementation(s) for Oblique Stereographic
In-Reply-To: <20051026183904.7333C4CA32@smtp4.wanadoo.nl>
References: <BF845DD6.5EEF%ovv@hetnet.nl>
	<20051026183904.7333C4CA32@smtp4.wanadoo.nl>
Message-ID: <931f8ea90510261209w2079be4fn55745dd1bb5c2b2e@mail.gmail.com>

On 10/26/05, Kees Krikke <c.krikke at hccnet.nl> wrote:
> Thanks Oscar,
>
> I'am aware of the sterea and RDNAPTRANS options. Even if the RD projection
> is a odd one, it is well documented and the conversion between RD and other
> coordinate systems is not my problem.
>
> I just wanted to point out that there is a problem when a coordinate system
> uses "Oblique Stereographic projection". The problem is that there is more
> than one implementation of this projection. In the EPSG document
> (http://www.epsg.org/guides/docs/G7-2.pdf) a remark is made that the USGS
> implementation of Oblique Stereographic is considered a different
> projection.
>
> So if a coordinate system use Oblique Stereographic projection (epsg code
> 9809) you need to know if the epsg (Roussilhe) or usgs implementation should
> be used. (If I am wrong here than proj4 needs to use sterea or a more exact
> implementation of the EPSG Oblique Stereographic projection whenever it sees
> epsg code 9809 and the problem would be solved.)
>
> For example if you use the "proj +init=epsg:28992"command (28992 being the
> epsg code for the dutch RD coordinate system) you will  get the stere
> conversion because that is the implementation proj uses whenever it sees the
> 9809 code. For RD this would be wrong because the sterea conversion provides
> better results. (I understand that this is also true for the Polish Uklad
> 1965 system.)
>
> In proj4 you can easily change the epsg file so the sterea conversion is
> used, but other applications (even if they rely on proj4, such as gdal) just
> look at the projection codes (such as 9809) and use just the implementation
> that is linked to this code. (for gdal: I think this is the stere
> implementation)
>
> An improvement for proj4 would be to implement the epsg and usgs
> implementation and make sure the epsg file refers to the correct
> implementation.

Kees,

I haven't been following the details of these discussions closely,
but this seems to relate to me.  Does anyone know if all the EPSG
coordinate systems using code 9809 ought to be using +proj=sterea
(or the Roussilhe?).  If that is the case, file a bug and I will modify
the OGR code used to generate the PROJ.4 "epsg" file to translate
that way.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From c.krikke at hccnet.nl  Wed Oct 26 12:30:43 2005
From: c.krikke at hccnet.nl (Kees Krikke)
Date: Wed, 26 Oct 2005 21:30:43 +0200
Subject: [Proj] Implementation(s) for Oblique Stereographic
In-Reply-To: <931f8ea90510261209w2079be4fn55745dd1bb5c2b2e@mail.gmail.com>
Message-ID: <20051026193048.21B3E4C7CF@smtp4.wanadoo.nl>

Frank,

It is my understanding that the epsg uses the code 9809 for the Roussilhe
implementation (http://www.epsg.org/guides/docs/G7-2.pdf).

I will file a bug on this issue...

The question still remains if anyone relies on the stere implementation for
this code.

Regards,

Kees Krikke


-----Original Message-----
From: fwarmerdam at gmail.com [mailto:fwarmerdam at gmail.com] On Behalf Of Frank
Warmerdam
Sent: 26 October 2005 21:10
To: kees.krikke at wanadoo.nl; PROJ.4 and general Projections Discussions
Subject: Re: [Proj] Implementation(s) for Oblique Stereographic

On 10/26/05, Kees Krikke <c.krikke at hccnet.nl> wrote:
> Thanks Oscar,
>
> I'am aware of the sterea and RDNAPTRANS options. Even if the RD 
> projection is a odd one, it is well documented and the conversion 
> between RD and other coordinate systems is not my problem.
>
> I just wanted to point out that there is a problem when a coordinate 
> system uses "Oblique Stereographic projection". The problem is that 
> there is more than one implementation of this projection. In the EPSG 
> document
> (http://www.epsg.org/guides/docs/G7-2.pdf) a remark is made that the 
> USGS implementation of Oblique Stereographic is considered a different 
> projection.
>
> So if a coordinate system use Oblique Stereographic projection (epsg 
> code
> 9809) you need to know if the epsg (Roussilhe) or usgs implementation 
> should be used. (If I am wrong here than proj4 needs to use sterea or 
> a more exact implementation of the EPSG Oblique Stereographic 
> projection whenever it sees epsg code 9809 and the problem would be 
> solved.)
>
> For example if you use the "proj +init=epsg:28992"command (28992 being 
> the epsg code for the dutch RD coordinate system) you will  get the 
> stere conversion because that is the implementation proj uses whenever 
> it sees the
> 9809 code. For RD this would be wrong because the sterea conversion 
> provides better results. (I understand that this is also true for the 
> Polish Uklad
> 1965 system.)
>
> In proj4 you can easily change the epsg file so the sterea conversion 
> is used, but other applications (even if they rely on proj4, such as 
> gdal) just look at the projection codes (such as 9809) and use just 
> the implementation that is linked to this code. (for gdal: I think 
> this is the stere
> implementation)
>
> An improvement for proj4 would be to implement the epsg and usgs 
> implementation and make sure the epsg file refers to the correct 
> implementation.

Kees,

I haven't been following the details of these discussions closely, but this
seems to relate to me.  Does anyone know if all the EPSG coordinate systems
using code 9809 ought to be using +proj=sterea (or the Roussilhe?).  If that
is the case, file a bug and I will modify the OGR code used to generate the
PROJ.4 "epsg" file to translate that way.

Best regards,
--
---------------------------------------+--------------------------------
---------------------------------------+------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent




From gerald.evenden at verizon.net  Wed Oct 26 13:25:51 2005
From: gerald.evenden at verizon.net (Gerald I. Evenden)
Date: Wed, 26 Oct 2005 16:25:51 -0400
Subject: [Proj] Implementation(s) for Oblique Stereographic
In-Reply-To: <20051026183904.7333C4CA32@smtp4.wanadoo.nl>
References: <20051026183904.7333C4CA32@smtp4.wanadoo.nl>
Message-ID: <200510261625.51911.gerald.evenden@verizon.net>

On Wednesday 26 October 2005 02:39 pm, Kees Krikke wrote:
> Thanks Oscar,
>
	...
> So if a coordinate system use Oblique Stereographic projection (epsg code
> 9809) you need to know if the epsg (Roussilhe) or usgs implementation
> should be used.

The Oblique Stereographic code in EPSG 7.2 IS NOT Roussilhe.  The EPSG code is 
the Double Projection method using conformal conversion of the ellipsoid to 
the sphere and then using the spherical stereographic projection.  Roussilhe 
is not mentioned in the EPSG 7.2 publication.

Libproj4 provides for three (3) different Oblique Stereographics projections: 
"+proj=stere" for the USGS version (Snyder), "+proj=sterea" for the Double 
Projection method and "+proj=rouss" based upon Roussilhe's 1922 paper.
The description of the +proj=sterea projection in the libproj4 manual looks 
different from the EPSG description because the process is organized so that 
the conformal conversion software is also used by the Krovak and Swiss 
projections.

The results of a shell script shows lproj's operation on the EPSG example:

Double Projection Stereographic --- libproj4 +proj=sterea
lproj script parameters:
+a=6377397.155 +rf=299.15281 +lat_0=52d9'22.178 +lon_0=5d23'15.5 
+k_0=0.9999079+x_0=155000 +y_0=463000
comparison data from EPSG 7.2 : 196105.283 557057.739
lproj forward projection
196105.283      557057.739 from EPSG 7.2 196105.283 557057.739
Forward->Inverse cycle-binary intermediate
6dE     53dN

Thus thread gets a bit confusing at times and I feel that misuse of 
nomenclature is causing some of the confusion.
...

-- 
Jerry and the low riders:Daisy May and Joshua
"The being cannot be termed rational or virtuous,
who obeys any authority, but that of reason."
---Mary Wollstonecraft 1792
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20051026/f0d25c18/attachment.html>

From warmerdam at pobox.com  Wed Oct 26 13:42:46 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed, 26 Oct 2005 16:42:46 -0400
Subject: [Proj] Implementation(s) for Oblique Stereographic
In-Reply-To: <200510261625.51911.gerald.evenden@verizon.net>
References: <20051026183904.7333C4CA32@smtp4.wanadoo.nl>
	<200510261625.51911.gerald.evenden@verizon.net>
Message-ID: <931f8ea90510261342x6440b3c5vf0f5f9338c53858d@mail.gmail.com>

On 10/26/05, Gerald I. Evenden <gerald.evenden at verizon.net> wrote:
>
> The Oblique Stereographic code in EPSG 7.2 IS NOT Roussilhe. The EPSG code
> is the Double Projection method using conformal conversion of the ellipsoid
> to the sphere and then using the spherical stereographic projection.
> Roussilhe is not mentioned in the EPSG 7.2 publication.
>
>
>
> Libproj4 provides for three (3) different Oblique Stereographics
> projections: "+proj=stere" for the USGS version (Snyder), "+proj=sterea" for
> the Double Projection method and "+proj=rouss" based upon Roussilhe's 1922
> paper.
>
> The description of the +proj=sterea projection in the libproj4 manual looks
> different from the EPSG description because the process is organized so that
> the conformal conversion software is also used by the Krovak and Swiss
> projections.

Gerald,

Thanks for your clarification. I have put it into the bug report.

  http://bugzilla.remotesensing.org/show_bug.cgi?id=980

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From c.krikke at hccnet.nl  Wed Oct 26 13:48:19 2005
From: c.krikke at hccnet.nl (Kees Krikke)
Date: Wed, 26 Oct 2005 22:48:19 +0200
Subject: [Proj] Implementation(s) for Oblique Stereographic
In-Reply-To: <200510261625.51911.gerald.evenden@verizon.net>
Message-ID: <20051026204823.6EDD54CA1F@smtp4.wanadoo.nl>

Gerald,
 
Thanks! This clarifies a lot. I thought that Roussilhe was the same as the
Oblique Stereographic code in EPSG 7.2 because the epsg database v6.8 states
Roussilhe as an alias of Oblique Stereographic .
 
Regards,
 
Kees
 
 

  _____  

From: Gerald I. Evenden [mailto:gerald.evenden at verizon.net] 
Sent: 26 October 2005 22:26
To: kees.krikke at wanadoo.nl; PROJ.4 and general Projections Discussions
Subject: Re: [Proj] Implementation(s) for Oblique Stereographic



On Wednesday 26 October 2005 02:39 pm, Kees Krikke wrote:

> Thanks Oscar,

>

...

> So if a coordinate system use Oblique Stereographic projection (epsg code

> 9809) you need to know if the epsg (Roussilhe) or usgs implementation

> should be used.

The Oblique Stereographic code in EPSG 7.2 IS NOT Roussilhe. The EPSG code
is the Double Projection method using conformal conversion of the ellipsoid
to the sphere and then using the spherical stereographic projection.
Roussilhe is not mentioned in the EPSG 7.2 publication.

Libproj4 provides for three (3) different Oblique Stereographics
projections: "+proj=stere" for the USGS version (Snyder), "+proj=sterea" for
the Double Projection method and "+proj=rouss" based upon Roussilhe's 1922
paper.

The description of the +proj=sterea projection in the libproj4 manual looks
different from the EPSG description because the process is organized so that
the conformal conversion software is also used by the Krovak and Swiss
projections.

The results of a shell script shows lproj's operation on the EPSG example:

Double Projection Stereographic --- libproj4 +proj=sterea

lproj script parameters:

+a=6377397.155 +rf=299.15281 +lat_0=52d9'22.178 +lon_0=5d23'15.5
+k_0=0.9999079+x_0=155000 +y_0=463000

comparison data from EPSG 7.2 : 196105.283 557057.739

lproj forward projection

196105.283 557057.739 from EPSG 7.2 196105.283 557057.739

Forward->Inverse cycle-binary intermediate

6dE 53dN

Thus thread gets a bit confusing at times and I feel that misuse of
nomenclature is causing some of the confusion.

...

-- 

Jerry and the low riders:Daisy May and Joshua

"The being cannot be termed rational or virtuous,

who obeys any authority, but that of reason."

---Mary Wollstonecraft 1792

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20051026/74575a1e/attachment.html>

From ovv at hetnet.nl  Thu Oct 27 03:38:31 2005
From: ovv at hetnet.nl (Oscar van Vlijmen)
Date: Thu, 27 Oct 2005 12:38:31 +0200
Subject: [Proj] Implementation(s) for Oblique Stereographic
In-Reply-To: <20051026183904.7333C4CA32@smtp4.wanadoo.nl>
Message-ID: <BF867AC7.5F15%ovv@hetnet.nl>

When sorting out the stereographic problems of some applications and
databases, one might also want to look at the oldies:

2036: NAD_1983_CSRS98_New_Brunswick_Stereographic
2200: ATS_1977_New_Brunswick_Stereographic
2290: Prince_Edward_Island_Stereographic
2291: NAD_1983_CSRS98_Prince_Edward_Island
22700: Deir_ez_Zor_Levant_Zone
22780: Deir_ez_Zor_Levant_Stereographic

For the above mentioned e.g. the ESRI-ArcGIS projected coordinate systems
list says "Double_Stereographic".

Dutch RD, Romanian Stereo 33 & 70, Polish quasi-stereographic have already
been discussed.
I believe Dutch RD can be approximated with sub-mm accuracy by sterea.
Polish quasi-stereographic can only be approximated by sterea with sub-cm
accuracy. Probably this projection will be in use until at least 2009.
The sterea approximation for Romanian Stereo 70 is also not better than
sub-cm level, but I have not enough test points to verify this.

Collector's item:
the "Alaska Conformal" projection is a unique modified oblique stereographic
projection. See PJ23Z0 or alconfor/inv in GCTP2. The GCTP test suite has
enough test points.





From gerald.evenden at verizon.net  Thu Oct 27 11:51:47 2005
From: gerald.evenden at verizon.net (Gerald I. Evenden)
Date: Thu, 27 Oct 2005 14:51:47 -0400
Subject: [Proj] Implementation(s) for Oblique Stereographic
In-Reply-To: <BF867AC7.5F15%ovv@hetnet.nl>
References: <BF867AC7.5F15%ovv@hetnet.nl>
Message-ID: <200510271451.47697.gerald.evenden@verizon.net>

On Thursday 27 October 2005 06:38 am, Oscar van Vlijmen wrote:
> When sorting out the stereographic problems of some applications and
> databases, one might also want to look at the oldies:
>
> 2036: NAD_1983_CSRS98_New_Brunswick_Stereographic
> 2200: ATS_1977_New_Brunswick_Stereographic
> 2290: Prince_Edward_Island_Stereographic
> 2291: NAD_1983_CSRS98_Prince_Edward_Island

I have the publications from UNB and libproj4 +proj=sterea can be used with 
the above.  I have also have happy users from PEI with sterea.  I can only 
check with UNB values to the centimeter as their examples are only to 0.01 
meters.

> 22700: Deir_ez_Zor_Levant_Zone
> 22780: Deir_ez_Zor_Levant_Stereographic
>
> For the above mentioned e.g. the ESRI-ArcGIS projected coordinate systems
> list says "Double_Stereographic".

If the specs say Double Stereographic and with the usage of scale factor of 
1.0 (where +k_0=1) at the a point of tangency at the central meridian then 
sterea should do the job.  In theory, you could have Double Stereographic 
with other conditions.  Note: in usage +k_0 may not be 1.; it is just that if 
it is, then the scale should be 1.

> Dutch RD, Romanian Stereo 33 & 70, Polish quasi-stereographic have already
> been discussed.
> I believe Dutch RD can be approximated with sub-mm accuracy by sterea.
> Polish quasi-stereographic can only be approximated by sterea with sub-cm
> accuracy. Probably this projection will be in use until at least 2009.
> The sterea approximation for Romanian Stereo 70 is also not better than
> sub-cm level, but I have not enough test points to verify this.
>
> Collector's item:
> the "Alaska Conformal" projection is a unique modified oblique
> stereographic projection. See PJ23Z0 or alconfor/inv in GCTP2. The GCTP
> test suite has enough test points.

The Alaskan Modified Stereographic is a warped surface approximated by 
polynomial distortion.  Somewhat similar to the New Zealand grid.  The basic 
stereographic was used in its determination but thats where the similarity 
ends.

The GCTP test suite is manic with the number of points.
-- 
Jerry and the low riders:Daisy May and Joshua
"The being cannot be termed rational or virtuous,
who obeys any authority, but that of reason."
---Mary Wollstonecraft 1792


From werchowyna at epf.pl  Thu Oct 27 13:31:37 2005
From: werchowyna at epf.pl (Maciek Sieczka)
Date: Thu, 27 Oct 2005 22:31:37 +0200
Subject: correction for epsg:2171 (was: Re: [Proj] Roussilhe Projection)
In-Reply-To: <931f8ea90510210608s27ee5efdh6cc83b8787572f48@mail.gmail.com>
References: <200510211120.j9LBJwCV001638@duke.maptools.org>
	<931f8ea90510210608s27ee5efdh6cc83b8787572f48@mail.gmail.com>
Message-ID: <43613929.7070304@epf.pl>

Frank Warmerdam wrote:
> On 21 Oct 2005 13:19:55 +0200, Maciek Sieczka <werchowyna at epf.pl> wrote:
> 
>>They, and you, are not wrong. I, and espg 2171, are wrong.  Good you have noticed it. I made a mistake following the epsg blindly here. Frank, Gerald, could you please fix that in your epsg 2171 definitions for y_0? y_0 should be 5467000, like Oscar and his sources say.
> 
> 
> Maciek,
> 
> The best solution would be to download the latest EPSG database,
> and see if it has been corrected there.  If not, submit a change
> request to the EPSG.  If so, just hassle me to refresh the epsg
> definition file from the latest EPSG file.

Frank,

I did as you said. Here's their reply. Shall I let you know when the
fixed EPSG arrives? Below is the copy of a message from EPSG employee.

EPSG wrote:

> Thank you for your message. We will review your comments and any changes
> made to the dataset will appear in the next release.
>
> */administrator at ogp.org.uk/* wrote:
>
>     This messages was generated from the online contact form located at
>     http://www.ogp.org.uk/Comms/Comment.asp
>
>     message : CRS 2171 has WRONG false northing. Should be 
>     x0=5467000, not 5647000. See e.g.:
>
>     * The article from Geodeta magazine
>     http://www.atomnet.pl/~geodeta/2000/59text1.htm
>     * The table at the bottom in the Polish article "Z czego to wynika"
>     http://www.syryjczyk.krakow.pl/Metoda%20GPS_1965_T.htm
>     * The overview of many Polish projection parameters by Jacek M.
>     Holeczek http://gpsinformation.net/main/warsaw.txt
>
>     Also, the name you use in CRS 2171-2174 doesn't reflect original 
>     Polish name by any means. In Polish it is called panstwowy uklad
>     wspolrzednych plaskich "1965". In short: puwg "1965" or uklad 
>     "1965". The way you call it "Pulkovo 1942(58)" is not informative
>     to any Polish GIS user, cartographer or geodet.
>
>     Maciek


--------------------
W polskim Internecie s? setki milionów stron. My przekazujemy Tobie tylko najlepsze z nich!
http://katalog.epf.pl/



From werchowyna at epf.pl  Thu Oct 27 13:36:34 2005
From: werchowyna at epf.pl (Maciek Sieczka)
Date: Thu, 27 Oct 2005 22:36:34 +0200
Subject: [Proj] Roussilhe Projection
In-Reply-To: <200510251021.40969.gerald.evenden@verizon.net>
References: <BF825B54.5EC3%ovv@hetnet.nl>
	<200510251021.40969.gerald.evenden@verizon.net>
Message-ID: <43613A52.1040102@epf.pl>

Gerald I. Evenden wrote:
> It seems that I was hasty in my response and suggesting to adding 
> "corrections" code to libproj4.  I did not realize that this would open such
> a can of worms.  Thus
> 
>     NO,
> 
> I will not add  grid correction code to libproj4 at the moment (and
> probably not never).

Then I think I won't bother translating Kadaj's 
http://www.geonet.net.pl/gfx/pliki/uklady_new.doc

There are good things about it - the weekend will be longer :).

Cheers,
Maciek

--------------------
W polskim Internecie s? setki milionów stron. My przekazujemy Tobie tylko najlepsze z nich!
http://katalog.epf.pl/



From werchowyna at epf.pl  Thu Oct 27 14:00:24 2005
From: werchowyna at epf.pl (Maciek Sieczka)
Date: Thu, 27 Oct 2005 23:00:24 +0200
Subject: [Proj] Polish Uklad 1965 proper definition
In-Reply-To: <BF83F044.5EE4%ovv@hetnet.nl>
References: <BF83F044.5EE4%ovv@hetnet.nl>
Message-ID: <43613FE8.6080300@epf.pl>

Oscar van Vlijmen wrote:

 > Maciek Sieczka wrote:
<snip>

>>Also, could take a look at
>>http://www.geonet.net.pl/gfx/pliki/uklady_new.doc, pages 22-25 mainly,
>>and say what you think of it's Uklad 1965 formulae? The author is R.
>>Kadaj, the same one who is the author of Transpol software distributed
>>by GUGiK. Sorry I didn't mention it before, but I guess it is the most
>>important source available. It should be taken for official I think, as
>>the author is also an author of the official coordinate transformation
>>software for Poland. Sorry, only in Polish again.
> 
> Roman Kadaj is probably also the author of the official document "Wytyczne
> Techniczne G-1.10 " (technical guideline G-1.10) describing the Polish
> projection systems. See literature reference #4 in his article.
> 
> Sorry, but in my opinion the author has tried his best to obfuscate the
> procedures, so I hardly understand what he is doing. Of course I am hampered
> by my weak knowledge of Polish, but still.
> 
> It looks to me that chapter 10 describes (in an obfuscated way) a nearly
> exact method, very similar to the article in Geodeta Magazine. Probably the
> only difference is that the author uses complex math (with real and
> imaginary parts of variables).
> Chapter 11 describes an alternative method as used in the Gugik-80 system,
> where the original System 65 is approximated by complex polynomials with for
> every zone a different set of parameters. In some way the polynomials are
> based on Transverse Mercator values.
> Don't ask me how. The text seems to say, for instance, that mu0 in zone 1 is
> equal to the x-coordinate of the [Transverse] Mercator [projection] of the
> central point. I played a bit around, but in no way I can reproduce the
> given value of 5605231.5783400 m.
> 
> If you could provide a complete and accurate translation into English of the
> chapters 10 and 11 of said article (tables not necessary), then a further
> analysis would be possible. Or not, due to inexplainable mysteries in the
> text.

I would be happy to translate it, if this would lead to incorporating 
*mathematically* proper Polish Uklad 1965 definition into Frank's 
PROJ.4, so it would accessible for Gdal, Grass and other PROJ.4 
dependent software.

Gerald, Frank, Oscar, Mateusz,
Do you find it doable? Please note I'm asking about the proper 
theoretical definition here, not the "can of worms", as Gerald refered 
to the empirical, grid correction.

Maciek

--------------------
W polskim Internecie s? setki milionów stron. My przekazujemy Tobie tylko najlepsze z nich!
http://katalog.epf.pl/



From mateusz at loskot.net  Fri Oct 28 17:11:13 2005
From: mateusz at loskot.net (=?UTF-8?B?TWF0ZXVzeiDFgW9za290?=)
Date: Sat, 29 Oct 2005 02:11:13 +0200
Subject: [Proj] Polish Uklad 1965 proper definition
In-Reply-To: <43613FE8.6080300@epf.pl>
References: <BF83F044.5EE4%ovv@hetnet.nl> <43613FE8.6080300@epf.pl>
Message-ID: <4362BE21.3040901@loskot.net>

Maciek Sieczka wrote:
> 
> I would be happy to translate it, if this would lead to incorporating 
> *mathematically* proper Polish Uklad 1965 definition into Frank's 
> PROJ.4, so it would accessible for Gdal, Grass and other PROJ.4 
> dependent software.
> 
> Gerald, Frank, Oscar, Mateusz,
> Do you find it doable? Please note I'm asking about the proper 
> theoretical definition here, not the "can of worms", as Gerald refered 
> to the empirical, grid correction.
> 

Dear Maciek,
Sorry, I think I shouldn't be on that list above among other PROJ 
hackers :-)
Simply, I'm "to short to be such guru of projections" to be there.
So, I'm not able to answer your question :-(

Cheers
-- 
Mateusz Łoskot
http://mateusz.loskot.net


From mjd+proj at surly.org  Fri Oct 28 18:37:58 2005
From: mjd+proj at surly.org (Mike Darweesh)
Date: Fri, 28 Oct 2005 18:37:58 -0700
Subject: [Proj] Re: Oblique Parameter Question
In-Reply-To: <3f6f5d50510281836s15404255m5f990001d2ec8f07@mail.gmail.com>
References: <3f6f5d50510281830y7477def7w70c96476cbaaee8e@mail.gmail.com>
	<3f6f5d50510281836s15404255m5f990001d2ec8f07@mail.gmail.com>
Message-ID: <3f6f5d50510281837r3256619brc87e14bbaf7b052d@mail.gmail.com>

Hi All,

Michael and I are trying to learn about the ob_tran projection in order to
facilitate use here at the Mars Space Flight Facility. We need more
information about the o_lon_p and o_lat_p parameters. Could someone give an
exact English description of how they operate or a URL to such. We
understand the notion of an oblique projection, but we're having a hard time
understanding how these parameters define the "obliqueness". We applying
these to eqc (Platte Caree) if that simplifies your answer at all.

Thanks,
-Mike and Michael
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20051028/60e94812/attachment.html>

From gerald.evenden at verizon.net  Fri Oct 28 19:08:50 2005
From: gerald.evenden at verizon.net (Gerald I. Evenden)
Date: Fri, 28 Oct 2005 22:08:50 -0400
Subject: [Proj] Re: Oblique Parameter Question
In-Reply-To: <3f6f5d50510281837r3256619brc87e14bbaf7b052d@mail.gmail.com>
References: <3f6f5d50510281830y7477def7w70c96476cbaaee8e@mail.gmail.com>
	<3f6f5d50510281836s15404255m5f990001d2ec8f07@mail.gmail.com>
	<3f6f5d50510281837r3256619brc87e14bbaf7b052d@mail.gmail.com>
Message-ID: <200510282208.50755.gerald.evenden@verizon.net>

On Friday 28 October 2005 09:37 pm, Mike Darweesh wrote:
> Hi All,
>
> Michael and I are trying to learn about the ob_tran projection in order to
> facilitate use here at the Mars Space Flight Facility. We need more
> information about the o_lon_p and o_lat_p parameters. Could someone give an
> exact English description of how they operate or a URL to such. We
> understand the notion of an oblique projection, but we're having a hard
> time understanding how these parameters define the "obliqueness". We
> applying these to eqc (Platte Caree) if that simplifies your answer at all.
>
> Thanks,
> -Mike and Michael

Chapter 9 of the libproj4 manual is about the best I can do but I understand 
your frustration.  After spending a few days with it and a little trial and 
error one should develop a "feel" for the subject.

Hopefully, you have a setup where you can plot the graticule and a crude 
coastline.  From there start with simple operations like +o_lon_0=0 and try a 
few plots with varying +o_lat_0.  Forexample, you'll find that +o_lat_0=45 
will shift the pole halfway between the middle and the top of the plot.  Etc, 
etc..

Granted, no coastline for Mars so try things out on Earth first.  ;-)

-- 
Jerry and the low riders:Daisy May and Joshua
"The being cannot be termed rational or virtuous,
who obeys any authority, but that of reason."
---Mary Wollstonecraft 1792


From cjmce at lsu.edu  Fri Oct 28 21:09:40 2005
From: cjmce at lsu.edu (Clifford J Mugnier)
Date: Fri, 28 Oct 2005 23:09:40 -0500
Subject: [Proj] Re: Oblique Parameter Question
Message-ID: <OF42D6359F.C33219B8-ON862570A9.0016DB4C-862570A9.0016DB9F@lsu.edu>





Mike and Michael,

Since the latest issue (October 2005) of "Photogrammetric Engineering and
Remote Sensing" is entirely devoted to Mars mapping, perhaps you should
seek some help from the list of contributing authors in that particular
issue.  The "Grids and Datums" column in that issue is the first monthly
column that I have not personally written since 1997.  Dr. Randolph L. Kirk
wrote that column as well as he's one of the Guest Editors of the special
issue.

Why not ask him for help?  He certainly knows his stuff.

C. Mugnier
LSU

By the way, using the Platte Caree for Mars will set back the science of
Cartography about 400 years.  Pick something better than that!
--------------------------
Hi All,

Michael and I are trying to learn about the ob_tran projection in order to
facilitate use here at the Mars Space Flight Facility. We need more
information about the o_lon_p and o_lat_p parameters. Could someone give an
exact English description of how they operate or a URL to such. We
understand the notion of an oblique projection, but we're having a hard
time understanding how these parameters define the "obliqueness". We
applying these to eqc (Platte Caree) if that simplifies your answer at all.

Thanks,
-Mike and Michael



From ovv at hetnet.nl  Sat Oct 29 06:06:36 2005
From: ovv at hetnet.nl (Oscar van Vlijmen)
Date: Sat, 29 Oct 2005 15:06:36 +0200
Subject: [Proj] Polish Uklad 1965 proper definition
In-Reply-To: <43613FE8.6080300@epf.pl>
Message-ID: <BF89407C.5F2E%ovv@hetnet.nl>


>> Roman Kadaj is probably also the author of the official document "Wytyczne
>> Techniczne G-1.10 " (technical guideline G-1.10) describing the Polish
>> projection systems. See literature reference #4 in his article.

> I would be happy to translate it, if this would lead to incorporating
> *mathematically* proper Polish Uklad 1965 definition into Frank's
> PROJ.4, so it would accessible for Gdal, Grass and other PROJ.4
> dependent software.

> Gerald, Frank, Oscar, Mateusz,
> Do you find it doable? Please note I'm asking about the proper
> theoretical definition here, not the "can of worms", as Gerald refered
> to the empirical, grid correction.

Just for the record:

* The article by Jaworski in Geodeta describes the Uklad 1965, apart from
errors in the inverse, very well.
* The article "Polskie Uklady wspolrzednych" by Kadaj is NOT the defining
document.
* "Wytyczne Techniczne G-1.10", also by Kadaj, seems to be the defining
document.

> the proper theoretical definition
If there are legal questions, get the proper source: G-1.10.
If there are only practical questions: I think you will not get closer than
the already analyzed Geodeta article.
The Polskie Uklady article offers some extra's:
- Analytical expressions for meridian convergence and point scale factor.
- Gugik-80 approximations for Uklad 1965.

I cannot speak for PROJ.4/libproj4/Gdal/Grass/....




From mateusz at loskot.net  Fri Oct 28 17:05:55 2005
From: mateusz at loskot.net (=?UTF-8?B?TWF0ZXVzeiDFgW9za290?=)
Date: Sat, 29 Oct 2005 02:05:55 +0200
Subject: [Proj] Roussilhe Projection
In-Reply-To: <435D6650.5010109@loskot.net>
References: <000f01c5d726$eec4c850$6501a8c0@taxussi.com.pl>	<200510221607.20626.gerald.evenden@verizon.net>	<435BE803.8040409@epf.pl>
	<435D6650.5010109@loskot.net>
Message-ID: <4362BCE3.3050704@loskot.net>

Hi All!

Here is my translation of Mr. Roman Karaj's kod_korekta65.txt document
(http://www.geonet.net.pl/gfx/pliki/kod_korekta65.txt)

It's a long document so I decided to post it as an attachmenet.
If it will be cutted off by mailing list manager then I will put it on 
my website and give proper URL. We will see ;-)

Note: The kod_korekta65_en.txt file is encoded in UTF-8

All comments and suggestions related to my translation are strongly welcome.
I hope it will help some hacker to add proper implementation to PROJ.

Best regards
-- 
Mateusz Łoskot
http://mateusz.loskot.net
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: kod_korekta65_en.txt
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20051029/20d27415/attachment.txt>

From mjd at surly.org  Fri Oct 28 18:30:32 2005
From: mjd at surly.org (Mike Darweesh)
Date: Fri, 28 Oct 2005 18:30:32 -0700
Subject: [Proj] Oblique Parameter Question
Message-ID: <3f6f5d50510281830y7477def7w70c96476cbaaee8e@mail.gmail.com>

Hi All,

Michael and I are trying to learn about the ob_tran projection in order to
facilitate use here at the Mars Space Flight Facility. We need more
information about the o_lon_p and o_lat_p parameters. Could someone give an
exact English description of how they operate or a URL to such. We
understand the notion of an oblique projection, but we're having a hard time
understanding how these parameters define the "obliqueness". We applying
these to eqc (Platte Caree) if that simplifies your answer at all.

Thanks,
-Mike and Michael
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20051028/009eed23/attachment.html>

From mjd at surly.org  Fri Oct 28 18:36:39 2005
From: mjd at surly.org (Mike Darweesh)
Date: Fri, 28 Oct 2005 18:36:39 -0700
Subject: [Proj] Oblique Parameter Question
In-Reply-To: <3f6f5d50510281830y7477def7w70c96476cbaaee8e@mail.gmail.com>
References: <3f6f5d50510281830y7477def7w70c96476cbaaee8e@mail.gmail.com>
Message-ID: <3f6f5d50510281836s15404255m5f990001d2ec8f07@mail.gmail.com>

Hi All,

Michael and I are trying to learn about the ob_tran projection in order to
facilitate use here at the Mars Space Flight Facility. We need more
information about the o_lon_p and o_lat_p parameters. Could someone give an
exact English description of how they operate or a URL to such. We
understand the notion of an oblique projection, but we're having a hard time
understanding how these parameters define the "obliqueness". We applying
these to eqc (Platte Caree) if that simplifies your answer at all.

Thanks,
-Mike and Michael
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20051028/3d346381/attachment.html>

From gerald.evenden at verizon.net  Mon Oct 31 13:42:38 2005
From: gerald.evenden at verizon.net (Gerald I. Evenden)
Date: Mon, 31 Oct 2005 16:42:38 -0500
Subject: [Proj] Roussilhe Projection
In-Reply-To: <4362BCE3.3050704@loskot.net>
References: <000f01c5d726$eec4c850$6501a8c0@taxussi.com.pl>
	<435D6650.5010109@loskot.net> <4362BCE3.3050704@loskot.net>
Message-ID: <200510311642.38754.gerald.evenden@verizon.net>

Because of a power outage last night I am not quite as far as I wanted on the
C translation of the correction code.  It is completed and preliminary checks
compare OK with the literal translation of the Pascal code.  The size of the
revised procedure is 27k vs, 64k for the literal routine.  I have not checked
timing yet but I expect at least the same order of magnitude of
performance improvement.  Should now fit in your PDA. ;-)

I will finish it with a filter program that one can use as a pipe filter in 
front of or back of [l]proj.  The only options will be zone number and 
forward-inverse flag.

Lastly, how should it be distributed?  I can email it to interested parties.

-- 
Jerry and the low riders:Daisy May and Joshua
"The being cannot be termed rational or virtuous,
who obeys any authority, but that of reason."
---Mary Wollstonecraft 1792


From AnthonyD at rocketmail.com  Mon Oct 31 20:32:50 2005
From: AnthonyD at rocketmail.com (Anthony Dunk)
Date: Mon, 31 Oct 2005 20:32:50 -0800 (PST)
Subject: [Proj] Latest port of PROJ library to Windows ?
Message-ID: <20051101043250.76819.qmail@web50815.mail.yahoo.com>

I recently found that there appears to be a bug in the Cylindrical
Equal Area (+proj=cea) projection in the Windows Proj DLL (dated March
2003, which I downloaded from http://www.remotesensing.org/proj/).

I would like to use a version of proj.dll which is built from Gerald
Evendens latest source code
(http://members.bellatlantic.net/~vze2hc4d/proj4/) if possible, but he
only provides Unix/Linux make files which makes it a bit awkward.

Is anyone planning to, or has anyone already ported Geralds latest
source code (March 2005) to a new Windows version of the proj.dll, and
if not would this be a lot of work or relatively straightforward ?

Thanks,
Anthony.





		
__________________________________ 
Yahoo! FareChase: Search multiple travel sites in one click.
http://farechase.yahoo.com


