From charles.karney at sri.com  Sun Aug 10 14:49:05 2014
From: charles.karney at sri.com (Charles Karney)
Date: Sun, 10 Aug 2014 17:49:05 -0400
Subject: [Proj] rhumb lines + arbitrary precision arithmetic
Message-ID: <53E7E8D1.7040307@sri.com>

I've released version 1.37 of GeographicLib.  See

   http://geographiclib.sf.net/html/changes.html

A couple of items might be of interest to the readers of this list.

(1) Classes and a utility for computing rhumb lines.  For details, see

   http://geographiclib.sf.net/html/rhumb.html

(2) Support for high precision arithmetic.  A compilation option is
provided to allow linking against Boost (for quad precision) or MPFR
(for arbitrary precision).  Thanks to C++'s operator overloading this
entailed minimal changes to the code itself.  For details, see

   http://geographiclib.sf.net/html/highprec.html

-- 
Charles Karney <charles.karney at sri.com>
SRI International, Princeton, NJ 08543-5300

Tel: +1 609 734 2312
Fax: +1 609 734 2662


From Roger.Bivand at nhh.no  Mon Aug 18 02:32:35 2014
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Mon, 18 Aug 2014 11:32:35 +0200
Subject: [Proj] #229 - trunk init still broken
Message-ID: <alpine.LRH.2.03.1408181130300.9594@reclus.nhh.no>

Please could someone patch pj_init.c with the bugfix for the missing 
found_def after line 263? The fix has been known for months, but no action 
has been taken.

Roger

-- 
Roger Bivand
Department of Economics, Norwegian School of Economics,
Helleveien 30, N-5045 Bergen, Norway.
voice: +47 55 95 93 55; fax +47 55 95 91 00
e-mail: Roger.Bivand at nhh.no



From cleo21drakos at gmail.com  Mon Aug 18 07:13:06 2014
From: cleo21drakos at gmail.com (Cleo Drakos)
Date: Mon, 18 Aug 2014 23:13:06 +0900
Subject: [Proj] Can I convert the ellipsoids using Proj?
Message-ID: <CAMorJ8EtNrneHoG6DTYVVgPar7nYmVv+QRnErfXtY6qL560uPw@mail.gmail.com>

Dear guys,

I have the data (latitudes, longitudes, and elevations) given in
ICESat/GLAS ellipsoid. This equatorial radius and  reciprocal flattening
(1/f) on this ellipsoid are 6378136.30 m and is 298.257 respectively.

Now, I want to convert my data into WGS84 ellepsoid with equatorial radius
and reciprocal flattening (1/f) of 6378137.000000 and 298.25722356
respectively.

Can I convert the ellipsoids using Proj?

I hope some of you can help me.

cleo
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20140818/89e76fb4/attachment.html>

From ndzinn at comcast.net  Mon Aug 18 07:29:49 2014
From: ndzinn at comcast.net (Noel Zinn (cc))
Date: Mon, 18 Aug 2014 09:29:49 -0500
Subject: [Proj] Can I convert the ellipsoids using Proj?
In-Reply-To: <CAMorJ8EtNrneHoG6DTYVVgPar7nYmVv+QRnErfXtY6qL560uPw@mail.gmail.com>
References: <CAMorJ8EtNrneHoG6DTYVVgPar7nYmVv+QRnErfXtY6qL560uPw@mail.gmail.com>
Message-ID: <1A71F1121BCE46F7932BD1B782B1BD86@NoelDellPC>

You’ll need more information such as a point on the earth with coordinates in both ellipsoids (really datums) so that you can compute a geocentric deltaX, deltaY, deltaZ.  -Noel

Noel Zinn, Principal, Hydrometronics LLC
+1-832-539-1472 (office), +1-281-221-0051 (cell)
noel.zinn at hydrometronics.com (email)
http://www.hydrometronics.com (website)


From: Cleo Drakos 
Sent: Monday, August 18, 2014 9:13 AM
To: proj at lists.maptools.org 
Subject: [Proj] Can I convert the ellipsoids using Proj?

Dear guys,

I have the data (latitudes, longitudes, and elevations) given in ICESat/GLAS ellipsoid. This equatorial radius and  reciprocal flattening (1/f) on this ellipsoid are 6378136.30 m and is 298.257 respectively.

Now, I want to convert my data into WGS84 ellepsoid with equatorial radius and reciprocal flattening (1/f) of 6378137.000000 and 298.25722356 respectively.

Can I convert the ellipsoids using Proj?

I hope some of you can help me.


cleo


--------------------------------------------------------------------------------
_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20140818/1ecca6cd/attachment.html>

From chris.huddart at wfp.org  Mon Aug 18 10:04:10 2014
From: chris.huddart at wfp.org (Chris HUDDART)
Date: Mon, 18 Aug 2014 17:04:10 +0000
Subject: [Proj] Does anyone know of any Ebola mapping activities?
Message-ID: <a884b1633a5c45ca9e6f60b766ebcbcf@WFCM09.WFECSP.UNICC.ORG>

Dear All,

Does anyone know of any West Africa Ebola mapping activities?

Many thanks & regards,



Chris.
The information contained in this electronic message and any attachments is intended for specific individuals or entities, and may be confidential, proprietary or privileged. If you are not the intended recipient, please notify the sender immediately, delete this message and do not disclose, distribute or copy it to any third party or otherwise use this message. The content of this message does not necessarily reflect the official position of the World Food Programme. Electronic messages are not secure or error free and may contain viruses or may be delayed, and the sender is not liable for any of these occurrences. The sender reserves the right to monitor, record and retain electronic messages.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20140818/ccfa9b34/attachment.html>

From jmfluis at gmail.com  Mon Aug 18 10:28:31 2014
From: jmfluis at gmail.com (J. Luis)
Date: Mon, 18 Aug 2014 18:28:31 +0100
Subject: [Proj] Does anyone know of any Ebola mapping activities?
In-Reply-To: <a884b1633a5c45ca9e6f60b766ebcbcf@WFCM09.WFECSP.UNICC.ORG>
References: <a884b1633a5c45ca9e6f60b766ebcbcf@WFCM09.WFECSP.UNICC.ORG>
Message-ID: <53F237BF.8010501@gmail.com>

I saw a couple of articles about that in "Hacker news" 
(https://news.ycombinator.com/). Maybe you'll still be able to search 
and find the trace there

Joaquim

> Dear All,
>
> Does anyone know of any West Africa Ebola mapping activities?
>
> Many thanks & regards,
>
> Chris.
>
> The information contained in this electronic message and any 
> attachments is intended for specific individuals or entities, and may 
> be confidential, proprietary or privileged. If you are not the 
> intended recipient, please notify the sender immediately, delete this 
> message and do not disclose, distribute or copy it to any third party 
> or otherwise use this message. The content of this message does not 
> necessarily reflect the official position of the World Food Programme. 
> Electronic messages are not secure or error free and may contain 
> viruses or may be delayed, and the sender is not liable for any of 
> these occurrences. The sender reserves the right to monitor, record 
> and retain electronic messages.
>
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20140818/2922efc0/attachment.html>

From savricb at geo.oregonstate.edu  Mon Aug 18 11:42:10 2014
From: savricb at geo.oregonstate.edu (=?utf-8?Q?Bojan_=C5=A0avri=C4=8D?=)
Date: Mon, 18 Aug 2014 11:42:10 -0700
Subject: [Proj] Does anyone know of any Ebola mapping activities?
In-Reply-To: <a884b1633a5c45ca9e6f60b766ebcbcf@WFCM09.WFECSP.UNICC.ORG>
References: <a884b1633a5c45ca9e6f60b766ebcbcf@WFCM09.WFECSP.UNICC.ORG>
Message-ID: <97B7C3DF-BD1E-4D49-B8C1-F46BCC9CBC3D@geo.oregonstate.edu>

Here is one, made by ESRI….
http://techsupportuk.maps.arcgis.com/apps/MapJournal/?appid=deb9d5151d954de5b3933294c911b67f



On Aug 18, 2014, at 10:04 AM, Chris HUDDART <chris.huddart at wfp.org> wrote:

> Dear All,
>  
> Does anyone know of any West Africa Ebola mapping activities?
>  
> Many thanks & regards,
>  
>  
>  
> Chris.
> The information contained in this electronic message and any attachments is intended for specific individuals or entities, and may be confidential, proprietary or privileged. If you are not the intended recipient, please notify the sender immediately, delete this message and do not disclose, distribute or copy it to any third party or otherwise use this message. The content of this message does not necessarily reflect the official position of the World Food Programme. Electronic messages are not secure or error free and may contain viruses or may be delayed, and the sender is not liable for any of these occurrences. The sender reserves the right to monitor, record and retain electronic messages. _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20140818/460cff41/attachment.html>

From jagoncal at gmail.com  Mon Aug 18 14:03:59 2014
From: jagoncal at gmail.com (=?UTF-8?Q?Jose_Gon=C3=A7alves?=)
Date: Mon, 18 Aug 2014 22:03:59 +0100
Subject: [Proj] Can I convert the ellipsoids using Proj?
In-Reply-To: <CAMorJ8EtNrneHoG6DTYVVgPar7nYmVv+QRnErfXtY6qL560uPw@mail.gmail.com>
References: <CAMorJ8EtNrneHoG6DTYVVgPar7nYmVv+QRnErfXtY6qL560uPw@mail.gmail.com>
Message-ID: <CALHLaOTH1Qdj=Qik2ZN6yhJuuaWcqrzY0On78-R0WVgtASXpzA@mail.gmail.com>

Cleo

If cartesian geocentric coordinates are the same and you just want to
express them in a different ellipsoid you can do:

cs2cs -f %.9f +a=6378136.30 +rf=298.257 +proj=latlong +towgs84=0,0,0 +to
+a=6378137 +rf=298.25722356 +proj=latlong +towgs84=0,0,0

If there are shift and rotation you can express them in the +towgs84.

Regards

José



2014-08-18 15:13 GMT+01:00 Cleo Drakos <cleo21drakos at gmail.com>:

> Dear guys,
>
> I have the data (latitudes, longitudes, and elevations) given in
> ICESat/GLAS ellipsoid. This equatorial radius and  reciprocal flattening
> (1/f) on this ellipsoid are 6378136.30 m and is 298.257 respectively.
>
> Now, I want to convert my data into WGS84 ellepsoid with equatorial radius
> and reciprocal flattening (1/f) of 6378137.000000 and 298.25722356
> respectively.
>
> Can I convert the ellipsoids using Proj?
>
> I hope some of you can help me.
>
> cleo
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20140818/d102b61e/attachment.html>

From howard at hobu.co  Mon Aug 18 16:12:31 2014
From: howard at hobu.co (Howard Butler)
Date: Mon, 18 Aug 2014 18:12:31 -0500
Subject: [Proj] #229 - trunk init still broken
In-Reply-To: <alpine.LRH.2.03.1408181130300.9594@reclus.nhh.no>
References: <alpine.LRH.2.03.1408181130300.9594@reclus.nhh.no>
Message-ID: <10895561-F4F0-4760-AA2C-7D9322CBED60@hobu.co>

As mentioned in http://trac.osgeo.org/proj/ticket/229#comment:14 I have pushed the fix that was sitting in the patch for a while.

I'd be happy to champion a release cycle, but I don't feel I'm the one to go through the bug list and prioritize things.

Howard

On Aug 18, 2014, at 4:32 AM, Roger Bivand <Roger.Bivand at nhh.no> wrote:

> Please could someone patch pj_init.c with the bugfix for the missing 
> found_def after line 263? The fix has been known for months, but no action 
> has been taken.
> 
> Roger
> 
> -- 
> Roger Bivand
> Department of Economics, Norwegian School of Economics,
> Helleveien 30, N-5045 Bergen, Norway.
> voice: +47 55 95 93 55; fax +47 55 95 91 00
> e-mail: Roger.Bivand at nhh.no
> 
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj



From Roger.Bivand at nhh.no  Tue Aug 19 00:05:32 2014
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Tue, 19 Aug 2014 09:05:32 +0200
Subject: [Proj] #229 - trunk init still broken
In-Reply-To: <10895561-F4F0-4760-AA2C-7D9322CBED60@hobu.co>
References: <alpine.LRH.2.03.1408181130300.9594@reclus.nhh.no>
	<10895561-F4F0-4760-AA2C-7D9322CBED60@hobu.co>
Message-ID: <alpine.LRH.2.03.1408190855190.14974@reclus.nhh.no>

On Tue, 19 Aug 2014, Howard Butler wrote:

> As mentioned in http://trac.osgeo.org/proj/ticket/229#comment:14 I have 
> pushed the fix that was sitting in the patch for a while.

Thanks, I've checked with r2482 as far as I can, I can't see any negative 
side-effects. Could others please check?

>
> I'd be happy to champion a release cycle, but I don't feel I'm the one 
> to go through the bug list and prioritize things.

There are 28 in trunk and 46 in unspecified, so this isn't trivial. All 
are owned by Frank (reasonably enough). How might we move forward on this?

Roger

>
> Howard
>
> On Aug 18, 2014, at 4:32 AM, Roger Bivand <Roger.Bivand at nhh.no> wrote:
>
>> Please could someone patch pj_init.c with the bugfix for the missing
>> found_def after line 263? The fix has been known for months, but no action
>> has been taken.
>>
>> Roger
>>
>> --
>> Roger Bivand
>> Department of Economics, Norwegian School of Economics,
>> Helleveien 30, N-5045 Bergen, Norway.
>> voice: +47 55 95 93 55; fax +47 55 95 91 00
>> e-mail: Roger.Bivand at nhh.no
>>
>> _______________________________________________
>> Proj mailing list
>> Proj at lists.maptools.org
>> http://lists.maptools.org/mailman/listinfo/proj
>
>

-- 
Roger Bivand
Department of Economics, Norwegian School of Economics,
Helleveien 30, N-5045 Bergen, Norway.
voice: +47 55 95 93 55; fax +47 55 95 91 00
e-mail: Roger.Bivand at nhh.no



From neteler at osgeo.org  Tue Aug 19 00:46:10 2014
From: neteler at osgeo.org (Markus Neteler)
Date: Tue, 19 Aug 2014 09:46:10 +0200
Subject: [Proj] #229 - trunk init still broken
In-Reply-To: <alpine.LRH.2.03.1408190855190.14974@reclus.nhh.no>
References: <alpine.LRH.2.03.1408181130300.9594@reclus.nhh.no>
	<10895561-F4F0-4760-AA2C-7D9322CBED60@hobu.co>
	<alpine.LRH.2.03.1408190855190.14974@reclus.nhh.no>
Message-ID: <CALFmHhvq3rtad2VDr6ArynwLRnPrzgMbgBsdjCZUo1ZyW6LW0g@mail.gmail.com>

On Tue, Aug 19, 2014 at 9:05 AM, Roger Bivand <Roger.Bivand at nhh.no> wrote:
> On Tue, 19 Aug 2014, Howard Butler wrote:
...
>> I'd be happy to champion a release cycle, but I don't feel I'm the one
>> to go through the bug list and prioritize things.
>
> There are 28 in trunk and 46 in unspecified, so this isn't trivial. All
> are owned by Frank (reasonably enough). How might we move forward on this?

It might be worthwhile to assign "Milestones" to each (or at least the
important) ticket:
http://trac.osgeo.org/proj/report/1

... in order to get a better picture here:
http://trac.osgeo.org/proj/roadmap

Markus


From cleo21drakos at gmail.com  Tue Aug 19 01:39:23 2014
From: cleo21drakos at gmail.com (Cleo Drakos)
Date: Tue, 19 Aug 2014 17:39:23 +0900
Subject: [Proj] Can I convert the ellipsoids using Proj?
In-Reply-To: <CALHLaOTH1Qdj=Qik2ZN6yhJuuaWcqrzY0On78-R0WVgtASXpzA@mail.gmail.com>
References: <CAMorJ8EtNrneHoG6DTYVVgPar7nYmVv+QRnErfXtY6qL560uPw@mail.gmail.com>
	<CALHLaOTH1Qdj=Qik2ZN6yhJuuaWcqrzY0On78-R0WVgtASXpzA@mail.gmail.com>
Message-ID: <CAMorJ8GGXqXuVCQ2Vf7MAk1iBD=xNegxqcN=b1-a_EkOB4tJTg@mail.gmail.com>

Dear Jose

Thanks for your answer. Can you help me how can I make certain that both
ellepsoids have the same geocentric coordinates.
Only the information I am having is below under the section of How does the
GLAS ellipsoid compare with WGS 84?

http://nsidc.org/data/icesat/faq.html#3_all


cleo


On Tue, Aug 19, 2014 at 6:03 AM, Jose Gonçalves <jagoncal at gmail.com> wrote:

> Cleo
>
> If cartesian geocentric coordinates are the same and you just want to
> express them in a different ellipsoid you can do:
>
> cs2cs -f %.9f +a=6378136.30 +rf=298.257 +proj=latlong +towgs84=0,0,0 +to
> +a=6378137 +rf=298.25722356 +proj=latlong +towgs84=0,0,0
>
> If there are shift and rotation you can express them in the +towgs84.
>
> Regards
>
> José
>
>
>
> 2014-08-18 15:13 GMT+01:00 Cleo Drakos <cleo21drakos at gmail.com>:
>
>> Dear guys,
>>
>> I have the data (latitudes, longitudes, and elevations) given in
>> ICESat/GLAS ellipsoid. This equatorial radius and  reciprocal flattening
>> (1/f) on this ellipsoid are 6378136.30 m and is 298.257 respectively.
>>
>> Now, I want to convert my data into WGS84 ellepsoid with equatorial
>> radius and reciprocal flattening (1/f) of 6378137.000000 and 298.25722356
>> respectively.
>>
>> Can I convert the ellipsoids using Proj?
>>
>> I hope some of you can help me.
>>
>> cleo
>>
>> _______________________________________________
>> Proj mailing list
>> Proj at lists.maptools.org
>> http://lists.maptools.org/mailman/listinfo/proj
>>
>
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20140819/bc735ded/attachment.html>

From ndzinn at comcast.net  Tue Aug 19 04:44:26 2014
From: ndzinn at comcast.net (Noel Zinn (cc))
Date: Tue, 19 Aug 2014 06:44:26 -0500
Subject: [Proj] Can I convert the ellipsoids using Proj?
In-Reply-To: <CAMorJ8GGXqXuVCQ2Vf7MAk1iBD=xNegxqcN=b1-a_EkOB4tJTg@mail.gmail.com>
References: <CAMorJ8EtNrneHoG6DTYVVgPar7nYmVv+QRnErfXtY6qL560uPw@mail.gmail.com><CALHLaOTH1Qdj=Qik2ZN6yhJuuaWcqrzY0On78-R0WVgtASXpzA@mail.gmail.com>
	<CAMorJ8GGXqXuVCQ2Vf7MAk1iBD=xNegxqcN=b1-a_EkOB4tJTg@mail.gmail.com>
Message-ID: <215A5DD92BEA4B53B2E2FE083C150041@NoelDellPC>

Cleo,

FAQ #7 under Altimetry products in the link you provide seems to answer the question you ask.  The FTP link in that paragraph leads you to  a program top2wgs.pro that solves your problem.  The program assumes dX = dY = dZ = 0.  I’ve made the same assumption myself with TOPEX/Poseidon in a different context.  Then follow Jose’s cs2cs instructions.

Thanks for the link.

Noel

Noel Zinn, Principal, Hydrometronics LLC
+1-832-539-1472 (office), +1-281-221-0051 (cell)
noel.zinn at hydrometronics.com (email)
http://www.hydrometronics.com (website)


From: Cleo Drakos 
Sent: Tuesday, August 19, 2014 3:39 AM
To: PROJ.4 and general Projections Discussions 
Subject: Re: [Proj] Can I convert the ellipsoids using Proj?

Dear Jose

Thanks for your answer. Can you help me how can I make certain that both ellepsoids have the same geocentric coordinates.
Only the information I am having is below under the section of How does the GLAS ellipsoid compare with WGS 84?


http://nsidc.org/data/icesat/faq.html#3_all 


cleo



On Tue, Aug 19, 2014 at 6:03 AM, Jose Gonçalves <jagoncal at gmail.com> wrote:

  Cleo

  If cartesian geocentric coordinates are the same and you just want to express them in a different ellipsoid you can do:

  cs2cs -f %.9f +a=6378136.30 +rf=298.257 +proj=latlong +towgs84=0,0,0 +to +a=6378137 +rf=298.25722356 +proj=latlong +towgs84=0,0,0


  If there are shift and rotation you can express them in the +towgs84.


  Regards


  José 





  2014-08-18 15:13 GMT+01:00 Cleo Drakos <cleo21drakos at gmail.com>:

    Dear guys,

    I have the data (latitudes, longitudes, and elevations) given in ICESat/GLAS ellipsoid. This equatorial radius and  reciprocal flattening (1/f) on this ellipsoid are 6378136.30 m and is 298.257 respectively.

    Now, I want to convert my data into WGS84 ellepsoid with equatorial radius and reciprocal flattening (1/f) of 6378137.000000 and 298.25722356 respectively.

    Can I convert the ellipsoids using Proj?

    I hope some of you can help me.


    cleo

    _______________________________________________
    Proj mailing list
    Proj at lists.maptools.org
    http://lists.maptools.org/mailman/listinfo/proj



  _______________________________________________
  Proj mailing list
  Proj at lists.maptools.org
  http://lists.maptools.org/mailman/listinfo/proj




--------------------------------------------------------------------------------
_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20140819/10f816f9/attachment.html>

From even.rouault at spatialys.com  Tue Aug 19 05:13:31 2014
From: even.rouault at spatialys.com (Even Rouault)
Date: Tue, 19 Aug 2014 14:13:31 +0200
Subject: [Proj] #229 - trunk init still broken
In-Reply-To: <CALFmHhvq3rtad2VDr6ArynwLRnPrzgMbgBsdjCZUo1ZyW6LW0g@mail.gmail.com>
References: <alpine.LRH.2.03.1408181130300.9594@reclus.nhh.no>
	<10895561-F4F0-4760-AA2C-7D9322CBED60@hobu.co>
	<alpine.LRH.2.03.1408190855190.14974@reclus.nhh.no>
	<CALFmHhvq3rtad2VDr6ArynwLRnPrzgMbgBsdjCZUo1ZyW6LW0g@mail.gmail.com>
Message-ID: <1408450411.53f33f6b531f0@imp.free.fr>

Hi,

Could someone with admin rights in Trac close the 4.8.0 target ?

I've reviewed a few tickets this morning, including the 2 ones identified as
"critical", closing one by adding remaining tests
(http://trac.osgeo.org/proj/ticket/219) and defering the other one for "later"
since it is not particularly new and can be workarounded by adding custom
towgs84 parameters (http://trac.osgeo.org/proj/ticket/241)

If people want specific tickets to go in 4.9.0, I'd suggest them to raise their
criticity and assign 4.9.0 target. We are not going to fix all open remaining
tickets... I think "critical" here means regressions w.r.t previous releases,
compilation issues, ...

"make check" runs OK (except with testntv2 where there are some minor
differences in decimal values, perhaps due to using an updated ntv2_0.gsb grib
?), so we shouldn't be too far from being able to release.

Even

> On Tue, Aug 19, 2014 at 9:05 AM, Roger Bivand <Roger.Bivand at nhh.no> wrote:
> > On Tue, 19 Aug 2014, Howard Butler wrote:
> ...
> >> I'd be happy to champion a release cycle, but I don't feel I'm the one
> >> to go through the bug list and prioritize things.
> >
> > There are 28 in trunk and 46 in unspecified, so this isn't trivial. All
> > are owned by Frank (reasonably enough). How might we move forward on this?
>
> It might be worthwhile to assign "Milestones" to each (or at least the
> important) ticket:
> http://trac.osgeo.org/proj/report/1
>
> ... in order to get a better picture here:
> http://trac.osgeo.org/proj/roadmap
>
> Markus
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
>


-- 
Spatialys - Geospatial professional services
http://www.spatialys.com


From cleo21drakos at gmail.com  Tue Aug 19 16:29:18 2014
From: cleo21drakos at gmail.com (Cleo Drakos)
Date: Wed, 20 Aug 2014 08:29:18 +0900
Subject: [Proj] Can I convert the ellipsoids using Proj?
In-Reply-To: <215A5DD92BEA4B53B2E2FE083C150041@NoelDellPC>
References: <CAMorJ8EtNrneHoG6DTYVVgPar7nYmVv+QRnErfXtY6qL560uPw@mail.gmail.com>
	<CALHLaOTH1Qdj=Qik2ZN6yhJuuaWcqrzY0On78-R0WVgtASXpzA@mail.gmail.com>
	<CAMorJ8GGXqXuVCQ2Vf7MAk1iBD=xNegxqcN=b1-a_EkOB4tJTg@mail.gmail.com>
	<215A5DD92BEA4B53B2E2FE083C150041@NoelDellPC>
Message-ID: <CAMorJ8EUSEdEEnLMXAsp3Zz_HCN1Aw=XdY5HxBNu1A-L8m-77w@mail.gmail.com>

Dear Noel

Thanks for your explanation. So it means that both ellipsoids have the same
geocentric coordinates, and I can use Jose's instruction.
I have four columns (lats, lons, elevation, and geoid) in an ASCII file. I
need to convert all these four parameters into WGS84 system.
How can I apply Jose's instruction? I mean how can I call cs2cs for
different parameters? I did not know how to input these four parameters.

Sorry for this type of question, I hope you do not mind.


cleo


On Tue, Aug 19, 2014 at 8:44 PM, Noel Zinn (cc) <ndzinn at comcast.net> wrote:

>   Cleo,
>
> FAQ #7 under Altimetry products in the link you provide seems to answer
> the question you ask.  The FTP link in that paragraph leads you to  a
> program top2wgs.pro that solves your problem.  The program assumes dX =
> dY = dZ = 0.  I’ve made the same assumption myself with TOPEX/Poseidon in
> a different context.  Then follow Jose’s cs2cs instructions.
>
> Thanks for the link.
>
> Noel
>
> Noel Zinn, Principal, Hydrometronics LLC
> +1-832-539-1472 (office), +1-281-221-0051 (cell)
> noel.zinn at hydrometronics.com (email)
> http://www.hydrometronics.com (website)
>
>  *From:* Cleo Drakos <cleo21drakos at gmail.com>
> *Sent:* Tuesday, August 19, 2014 3:39 AM
> *To:* PROJ.4 and general Projections Discussions <proj at lists.maptools.org>
> *Subject:* Re: [Proj] Can I convert the ellipsoids using Proj?
>
>  Dear Jose
>
> Thanks for your answer. Can you help me how can I make certain that both
> ellepsoids have the same geocentric coordinates.
> Only the information I am having is below under the section of How does
> the GLAS ellipsoid compare with WGS 84?
>
> http://nsidc.org/data/icesat/faq.html#3_all
>
>
>  cleo
>
>
> On Tue, Aug 19, 2014 at 6:03 AM, Jose Gonçalves <jagoncal at gmail.com>
> wrote:
>
>>  Cleo
>>
>> If cartesian geocentric coordinates are the same and you just want to
>> express them in a different ellipsoid you can do:
>>
>> cs2cs -f %.9f +a=6378136.30 +rf=298.257 +proj=latlong +towgs84=0,0,0 +to
>> +a=6378137 +rf=298.25722356 +proj=latlong +towgs84=0,0,0
>>
>> If there are shift and rotation you can express them in the +towgs84.
>>
>> Regards
>>
>> José
>>
>>
>>
>> 2014-08-18 15:13 GMT+01:00 Cleo Drakos <cleo21drakos at gmail.com>:
>>
>>>   Dear guys,
>>>
>>> I have the data (latitudes, longitudes, and elevations) given in
>>> ICESat/GLAS ellipsoid. This equatorial radius and  reciprocal flattening
>>> (1/f) on this ellipsoid are 6378136.30 m and is 298.257 respectively.
>>>
>>> Now, I want to convert my data into WGS84 ellepsoid with equatorial
>>> radius and reciprocal flattening (1/f) of 6378137.000000 and 298.25722356
>>> respectively.
>>>
>>> Can I convert the ellipsoids using Proj?
>>>
>>> I hope some of you can help me.
>>>
>>>  cleo
>>>
>>> _______________________________________________
>>> Proj mailing list
>>> Proj at lists.maptools.org
>>> http://lists.maptools.org/mailman/listinfo/proj
>>>
>>
>>
>> _______________________________________________
>> Proj mailing list
>> Proj at lists.maptools.org
>> http://lists.maptools.org/mailman/listinfo/proj
>>
>
>
> ------------------------------
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
>
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20140820/63fa5f0d/attachment.html>

From ndzinn at comcast.net  Tue Aug 19 17:32:28 2014
From: ndzinn at comcast.net (Noel Zinn (cc))
Date: Tue, 19 Aug 2014 19:32:28 -0500
Subject: [Proj] Can I convert the ellipsoids using Proj?
In-Reply-To: <CAMorJ8EUSEdEEnLMXAsp3Zz_HCN1Aw=XdY5HxBNu1A-L8m-77w@mail.gmail.com>
References: <CAMorJ8EtNrneHoG6DTYVVgPar7nYmVv+QRnErfXtY6qL560uPw@mail.gmail.com><CALHLaOTH1Qdj=Qik2ZN6yhJuuaWcqrzY0On78-R0WVgtASXpzA@mail.gmail.com><CAMorJ8GGXqXuVCQ2Vf7MAk1iBD=xNegxqcN=b1-a_EkOB4tJTg@mail.gmail.com><215A5DD92BEA4B53B2E2FE083C150041@NoelDellPC>
	<CAMorJ8EUSEdEEnLMXAsp3Zz_HCN1Aw=XdY5HxBNu1A-L8m-77w@mail.gmail.com>
Message-ID: <C995A9B690924809B8DA25DE0C53B593@NoelDellPC>

Cleo,

That’s right.  You’re looking primarily at a 70cm difference in height, but it varies a few centimeters as a function of latitude.  Jose’s instructions should nail it exactly, but I’m not a proj4 expert, so I leave you in the hands of others more knowledgeable.

Noel

Noel Zinn, Principal, Hydrometronics LLC
+1-832-539-1472 (office), +1-281-221-0051 (cell)
noel.zinn at hydrometronics.com (email)
http://www.hydrometronics.com (website)


From: Cleo Drakos 
Sent: Tuesday, August 19, 2014 6:29 PM
To: PROJ.4 and general Projections Discussions 
Subject: Re: [Proj] Can I convert the ellipsoids using Proj?

Dear Noel 

Thanks for your explanation. So it means that both ellipsoids have the same geocentric coordinates, and I can use Jose's instruction.
I have four columns (lats, lons, elevation, and geoid) in an ASCII file. I need to convert all these four parameters into WGS84 system.
How can I apply Jose's instruction? I mean how can I call cs2cs for different parameters? I did not know how to input these four parameters.


Sorry for this type of question, I hope you do not mind.



cleo



On Tue, Aug 19, 2014 at 8:44 PM, Noel Zinn (cc) <ndzinn at comcast.net> wrote:

  Cleo,

  FAQ #7 under Altimetry products in the link you provide seems to answer the question you ask.  The FTP link in that paragraph leads you to  a program top2wgs.pro that solves your problem.  The program assumes dX = dY = dZ = 0.  I’ve made the same assumption myself with TOPEX/Poseidon in a different context.  Then follow Jose’s cs2cs instructions.

  Thanks for the link.

  Noel

  Noel Zinn, Principal, Hydrometronics LLC
  +1-832-539-1472 (office), +1-281-221-0051 (cell)
  noel.zinn at hydrometronics.com (email)
  http://www.hydrometronics.com (website)


  From: Cleo Drakos 
  Sent: Tuesday, August 19, 2014 3:39 AM
  To: PROJ.4 and general Projections Discussions 
  Subject: Re: [Proj] Can I convert the ellipsoids using Proj?

  Dear Jose

  Thanks for your answer. Can you help me how can I make certain that both ellepsoids have the same geocentric coordinates.
  Only the information I am having is below under the section of How does the GLAS ellipsoid compare with WGS 84?


  http://nsidc.org/data/icesat/faq.html#3_all 


  cleo



  On Tue, Aug 19, 2014 at 6:03 AM, Jose Gonçalves <jagoncal at gmail.com> wrote:

    Cleo

    If cartesian geocentric coordinates are the same and you just want to express them in a different ellipsoid you can do:

    cs2cs -f %.9f +a=6378136.30 +rf=298.257 +proj=latlong +towgs84=0,0,0 +to +a=6378137 +rf=298.25722356 +proj=latlong +towgs84=0,0,0


    If there are shift and rotation you can express them in the +towgs84.


    Regards


    José 





    2014-08-18 15:13 GMT+01:00 Cleo Drakos <cleo21drakos at gmail.com>:

      Dear guys,

      I have the data (latitudes, longitudes, and elevations) given in ICESat/GLAS ellipsoid. This equatorial radius and  reciprocal flattening (1/f) on this ellipsoid are 6378136.30 m and is 298.257 respectively.

      Now, I want to convert my data into WGS84 ellepsoid with equatorial radius and reciprocal flattening (1/f) of 6378137.000000 and 298.25722356 respectively.

      Can I convert the ellipsoids using Proj?

      I hope some of you can help me.


      cleo

      _______________________________________________
      Proj mailing list
      Proj at lists.maptools.org
      http://lists.maptools.org/mailman/listinfo/proj



    _______________________________________________
    Proj mailing list
    Proj at lists.maptools.org
    http://lists.maptools.org/mailman/listinfo/proj



------------------------------------------------------------------------------

  _______________________________________________
  Proj mailing list
  Proj at lists.maptools.org
  http://lists.maptools.org/mailman/listinfo/proj

  _______________________________________________
  Proj mailing list
  Proj at lists.maptools.org
  http://lists.maptools.org/mailman/listinfo/proj




--------------------------------------------------------------------------------
_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20140819/004a628f/attachment.html>

From Alain.Orsoni at ign.fr  Tue Aug 19 23:37:13 2014
From: Alain.Orsoni at ign.fr (Alain Orsoni)
Date: Wed, 20 Aug 2014 06:37:13 +0000
Subject: [Proj] Can I convert the ellipsoids using Proj?
In-Reply-To: <CAMorJ8EUSEdEEnLMXAsp3Zz_HCN1Aw=XdY5HxBNu1A-L8m-77w@mail.gmail.com>
References: <CAMorJ8EtNrneHoG6DTYVVgPar7nYmVv+QRnErfXtY6qL560uPw@mail.gmail.com>
	<CALHLaOTH1Qdj=Qik2ZN6yhJuuaWcqrzY0On78-R0WVgtASXpzA@mail.gmail.com>
	<CAMorJ8GGXqXuVCQ2Vf7MAk1iBD=xNegxqcN=b1-a_EkOB4tJTg@mail.gmail.com>
	<215A5DD92BEA4B53B2E2FE083C150041@NoelDellPC>
	<CAMorJ8EUSEdEEnLMXAsp3Zz_HCN1Aw=XdY5HxBNu1A-L8m-77w@mail.gmail.com>
Message-ID: <2476589C-1FE3-4464-B9A9-E518B0FC9D03@ign.fr>

Cleo,

If I understand correctly you have latitude, longitude, elevation (considered as heigth above ellipsoid) and geoid (considered as height above geoid).
If so, you have to input only latitude longitude and elevation in proj4. Heigth above geoid remains the same whatever the ellipsoid you use, it is just the height of the geoid above the ellipsoid which changes when you change ellipsoid.
The elevation above ellipsoid will change because of the change of ellipsoid dimensions.

Alain


Le 20 août 2014 à 01:29, Cleo Drakos <cleo21drakos at gmail.com<mailto:cleo21drakos at gmail.com>> a écrit :

Dear Noel

Thanks for your explanation. So it means that both ellipsoids have the same geocentric coordinates, and I can use Jose's instruction.
I have four columns (lats, lons, elevation, and geoid) in an ASCII file. I need to convert all these four parameters into WGS84 system.
How can I apply Jose's instruction? I mean how can I call cs2cs for different parameters? I did not know how to input these four parameters.

Sorry for this type of question, I hope you do not mind.


cleo


On Tue, Aug 19, 2014 at 8:44 PM, Noel Zinn (cc) <ndzinn at comcast.net<mailto:ndzinn at comcast.net>> wrote:
Cleo,

FAQ #7 under Altimetry products in the link you provide seems to answer the question you ask.  The FTP link in that paragraph leads you to  a program top2wgs.pro<http://top2wgs.pro/> that solves your problem.  The program assumes dX = dY = dZ = 0.  I’ve made the same assumption myself with TOPEX/Poseidon in a different context.  Then follow Jose’s cs2cs instructions.

Thanks for the link.

Noel

Noel Zinn, Principal, Hydrometronics LLC
+1-832-539-1472<tel:%2B1-832-539-1472> (office), +1-281-221-0051<tel:%2B1-281-221-0051> (cell)
noel.zinn at hydrometronics.com<mailto:noel.zinn at hydrometronics.com> (email)
http://www.hydrometronics.com<http://www.hydrometronics.com/> (website)

From: Cleo Drakos<mailto:cleo21drakos at gmail.com>
Sent: Tuesday, August 19, 2014 3:39 AM
To: PROJ.4 and general Projections Discussions<mailto:proj at lists.maptools.org>
Subject: Re: [Proj] Can I convert the ellipsoids using Proj?

Dear Jose

Thanks for your answer. Can you help me how can I make certain that both ellepsoids have the same geocentric coordinates.
Only the information I am having is below under the section of How does the GLAS ellipsoid compare with WGS 84?

http://nsidc.org/data/icesat/faq.html#3_all


cleo


On Tue, Aug 19, 2014 at 6:03 AM, Jose Gonçalves <jagoncal at gmail.com<mailto:jagoncal at gmail.com>> wrote:
Cleo

If cartesian geocentric coordinates are the same and you just want to express them in a different ellipsoid you can do:

cs2cs -f %.9f +a=6378136.30 +rf=298.257 +proj=latlong +towgs84=0,0,0 +to +a=6378137 +rf=298.25722356 +proj=latlong +towgs84=0,0,0

If there are shift and rotation you can express them in the +towgs84.

Regards

José



2014-08-18 15:13 GMT+01:00 Cleo Drakos <cleo21drakos at gmail.com<mailto:cleo21drakos at gmail.com>>:
Dear guys,

I have the data (latitudes, longitudes, and elevations) given in ICESat/GLAS ellipsoid. This equatorial radius and  reciprocal flattening (1/f) on this ellipsoid are 6378136.30 m and is 298.257 respectively.

Now, I want to convert my data into WGS84 ellepsoid with equatorial radius and reciprocal flattening (1/f) of 6378137.000000 and 298.25722356 respectively.

Can I convert the ellipsoids using Proj?

I hope some of you can help me.

cleo

_______________________________________________
Proj mailing list
Proj at lists.maptools.org<mailto:Proj at lists.maptools.org>
http://lists.maptools.org/mailman/listinfo/proj


_______________________________________________
Proj mailing list
Proj at lists.maptools.org<mailto:Proj at lists.maptools.org>
http://lists.maptools.org/mailman/listinfo/proj


________________________________
_______________________________________________
Proj mailing list
Proj at lists.maptools.org<mailto:Proj at lists.maptools.org>
http://lists.maptools.org/mailman/listinfo/proj


_______________________________________________
Proj mailing list
Proj at lists.maptools.org<mailto:Proj at lists.maptools.org>
http://lists.maptools.org/mailman/listinfo/proj

_______________________________________________
Proj mailing list
Proj at lists.maptools.org<mailto:Proj at lists.maptools.org>
http://lists.maptools.org/mailman/listinfo/proj

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20140820/fb0a922b/attachment.html>

From cleo21drakos at gmail.com  Wed Aug 20 00:37:34 2014
From: cleo21drakos at gmail.com (Cleo Drakos)
Date: Wed, 20 Aug 2014 16:37:34 +0900
Subject: [Proj] Can I convert the ellipsoids using Proj?
In-Reply-To: <2476589C-1FE3-4464-B9A9-E518B0FC9D03@ign.fr>
References: <CAMorJ8EtNrneHoG6DTYVVgPar7nYmVv+QRnErfXtY6qL560uPw@mail.gmail.com>
	<CALHLaOTH1Qdj=Qik2ZN6yhJuuaWcqrzY0On78-R0WVgtASXpzA@mail.gmail.com>
	<CAMorJ8GGXqXuVCQ2Vf7MAk1iBD=xNegxqcN=b1-a_EkOB4tJTg@mail.gmail.com>
	<215A5DD92BEA4B53B2E2FE083C150041@NoelDellPC>
	<CAMorJ8EUSEdEEnLMXAsp3Zz_HCN1Aw=XdY5HxBNu1A-L8m-77w@mail.gmail.com>
	<2476589C-1FE3-4464-B9A9-E518B0FC9D03@ign.fr>
Message-ID: <CAMorJ8Fp7m-t=yUkbsRLBm1GX+ZP-qQM021=KwxQvoR6r7bQNA@mail.gmail.com>

Dear Noel and Alain

Thanks for your nice answers.

So, while calling the cs2cs, where can I input the lat, lon and elevation?

cs2cs -f %.9f +a=6378136.30 +rf=298.257 +proj=latlong +towgs84=0,0,0 +to
+a=6378137 +rf=298.25722356 +proj=latlong +towgs84=0,0,0

cleo


On Wed, Aug 20, 2014 at 3:37 PM, Alain Orsoni <Alain.Orsoni at ign.fr> wrote:

>  Cleo,
>
>  If I understand correctly you have latitude, longitude, elevation
> (considered as heigth above ellipsoid) and geoid (considered as height
> above geoid).
> If so, you have to input only latitude longitude and elevation in proj4.
> Heigth above geoid remains the same whatever the ellipsoid you use, it is
> just the height of the geoid above the ellipsoid which changes when you
> change ellipsoid.
> The elevation above ellipsoid will change because of the change of
> ellipsoid dimensions.
>
>  Alain
>
>
>  Le 20 août 2014 à 01:29, Cleo Drakos <cleo21drakos at gmail.com> a écrit :
>
>  Dear Noel
>
>  Thanks for your explanation. So it means that both ellipsoids have the
> same geocentric coordinates, and I can use Jose's instruction.
> I have four columns (lats, lons, elevation, and geoid) in an ASCII file. I
> need to convert all these four parameters into WGS84 system.
> How can I apply Jose's instruction? I mean how can I call cs2cs for
> different parameters? I did not know how to input these four parameters.
>
>  Sorry for this type of question, I hope you do not mind.
>
>
>  cleo
>
>
> On Tue, Aug 19, 2014 at 8:44 PM, Noel Zinn (cc) <ndzinn at comcast.net>
> wrote:
>
>>   Cleo,
>>
>> FAQ #7 under Altimetry products in the link you provide seems to answer
>> the question you ask.  The FTP link in that paragraph leads you to  a
>> program top2wgs.pro that solves your problem.  The program assumes dX =
>> dY = dZ = 0.  I’ve made the same assumption myself with TOPEX/Poseidon
>> in a different context.  Then follow Jose’s cs2cs instructions.
>>
>> Thanks for the link.
>>
>> Noel
>>
>> Noel Zinn, Principal, Hydrometronics LLC
>> +1-832-539-1472 (office), +1-281-221-0051 (cell)
>> noel.zinn at hydrometronics.com (email)
>> http://www.hydrometronics.com (website)
>>
>>  *From:* Cleo Drakos <cleo21drakos at gmail.com>
>> *Sent:* Tuesday, August 19, 2014 3:39 AM
>> *To:* PROJ.4 and general Projections Discussions
>> <proj at lists.maptools.org>
>> *Subject:* Re: [Proj] Can I convert the ellipsoids using Proj?
>>
>>   Dear Jose
>>
>> Thanks for your answer. Can you help me how can I make certain that both
>> ellepsoids have the same geocentric coordinates.
>> Only the information I am having is below under the section of How does
>> the GLAS ellipsoid compare with WGS 84?
>>
>> http://nsidc.org/data/icesat/faq.html#3_all
>>
>>
>>  cleo
>>
>>
>> On Tue, Aug 19, 2014 at 6:03 AM, Jose Gonçalves <jagoncal at gmail.com>
>> wrote:
>>
>>>  Cleo
>>>
>>> If cartesian geocentric coordinates are the same and you just want to
>>> express them in a different ellipsoid you can do:
>>>
>>> cs2cs -f %.9f +a=6378136.30 +rf=298.257 +proj=latlong +towgs84=0,0,0 +to
>>> +a=6378137 +rf=298.25722356 +proj=latlong +towgs84=0,0,0
>>>
>>>  If there are shift and rotation you can express them in the +towgs84.
>>>
>>> Regards
>>>
>>>  José
>>>
>>>
>>>
>>> 2014-08-18 15:13 GMT+01:00 Cleo Drakos <cleo21drakos at gmail.com>:
>>>
>>>>   Dear guys,
>>>>
>>>> I have the data (latitudes, longitudes, and elevations) given in
>>>> ICESat/GLAS ellipsoid. This equatorial radius and  reciprocal flattening
>>>> (1/f) on this ellipsoid are 6378136.30 m and is 298.257 respectively.
>>>>
>>>> Now, I want to convert my data into WGS84 ellepsoid with equatorial
>>>> radius and reciprocal flattening (1/f) of 6378137.000000 and 298.25722356
>>>> respectively.
>>>>
>>>> Can I convert the ellipsoids using Proj?
>>>>
>>>> I hope some of you can help me.
>>>>
>>>>  cleo
>>>>
>>>>  _______________________________________________
>>>> Proj mailing list
>>>> Proj at lists.maptools.org
>>>> http://lists.maptools.org/mailman/listinfo/proj
>>>>
>>>
>>>
>>> _______________________________________________
>>> Proj mailing list
>>> Proj at lists.maptools.org
>>> http://lists.maptools.org/mailman/listinfo/proj
>>>
>>
>>
>>  ------------------------------
>> _______________________________________________
>> Proj mailing list
>> Proj at lists.maptools.org
>> http://lists.maptools.org/mailman/listinfo/proj
>>
>>
>> _______________________________________________
>> Proj mailing list
>> Proj at lists.maptools.org
>> http://lists.maptools.org/mailman/listinfo/proj
>>
>
>  _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
>
>
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20140820/4747c394/attachment.html>

From dcesari at arpa.emr.it  Wed Aug 20 01:18:45 2014
From: dcesari at arpa.emr.it (Davide Cesari)
Date: Wed, 20 Aug 2014 10:18:45 +0200
Subject: [Proj] Can I convert the ellipsoids using Proj?
In-Reply-To: <CAMorJ8Fp7m-t=yUkbsRLBm1GX+ZP-qQM021=KwxQvoR6r7bQNA@mail.gmail.com>
References: <CAMorJ8EtNrneHoG6DTYVVgPar7nYmVv+QRnErfXtY6qL560uPw@mail.gmail.com>	<CALHLaOTH1Qdj=Qik2ZN6yhJuuaWcqrzY0On78-R0WVgtASXpzA@mail.gmail.com>	<CAMorJ8GGXqXuVCQ2Vf7MAk1iBD=xNegxqcN=b1-a_EkOB4tJTg@mail.gmail.com>	<215A5DD92BEA4B53B2E2FE083C150041@NoelDellPC>	<CAMorJ8EUSEdEEnLMXAsp3Zz_HCN1Aw=XdY5HxBNu1A-L8m-77w@mail.gmail.com>	<2476589C-1FE3-4464-B9A9-E518B0FC9D03@ign.fr>
	<CAMorJ8Fp7m-t=yUkbsRLBm1GX+ZP-qQM021=KwxQvoR6r7bQNA@mail.gmail.com>
Message-ID: <53F459E5.4000904@arpa.emr.it>

On 20/08/2014 09:37, Cleo Drakos wrote:
> Dear Noel and Alain
>
> Thanks for your nice answers.
>
> So, while calling the cs2cs, where can I input the lat, lon and elevation?
>
> cs2cs -f %.9f +a=6378136.30 +rf=298.257 +proj=latlong +towgs84=0,0,0 +to
> +a=6378137 +rf=298.25722356 +proj=latlong +towgs84=0,0,0
>
> cleo

Dear Cleo,
	with the command line indicated above, lon lat and optional altitude 
should be provided in standard input, i.e. typed by keyboard; on linux 
and unix-like systems shell (and probably DOS command line as well), you 
can take standard input from a text file with the syntax:

cs2cs ... < filenamewithlonandlat

Alternatively, the cs2cs command can receive as an extra argument the 
name of a file containing the coordinates, I suggest you to experiment 
with all the variations. Notice that the order of the coordinate is lon 
lat, not lat lon, but there are switches to change this as well as other 
formal aspects of cs2cs behavior, please refer to the cs2cs/proj 
documentation.

	Davide
>
>
> On Wed, Aug 20, 2014 at 3:37 PM, Alain Orsoni <Alain.Orsoni at ign.fr
> <mailto:Alain.Orsoni at ign.fr>> wrote:
>
>     Cleo,
>
>     If I understand correctly you have latitude, longitude, elevation
>     (considered as heigth above ellipsoid) and geoid (considered as
>     height above geoid).
>     If so, you have to input only latitude longitude and elevation in
>     proj4. Heigth above geoid remains the same whatever the ellipsoid
>     you use, it is just the height of the geoid above the ellipsoid
>     which changes when you change ellipsoid.
>     The elevation above ellipsoid will change because of the change of
>     ellipsoid dimensions.
...


-- 
============================= Davide Cesari ============================
Dott**(0.5) Davide Cesari
ARPA-Emilia Romagna, Servizio IdroMeteoClima
NWP modelling - Modellistica numerica previsionale
Tel. +39 051525926
========================================================================


From cleo21drakos at gmail.com  Wed Aug 20 04:02:50 2014
From: cleo21drakos at gmail.com (Cleo Drakos)
Date: Wed, 20 Aug 2014 20:02:50 +0900
Subject: [Proj] Can I convert the ellipsoids using Proj?
In-Reply-To: <53F459E5.4000904@arpa.emr.it>
References: <CAMorJ8EtNrneHoG6DTYVVgPar7nYmVv+QRnErfXtY6qL560uPw@mail.gmail.com>
	<CALHLaOTH1Qdj=Qik2ZN6yhJuuaWcqrzY0On78-R0WVgtASXpzA@mail.gmail.com>
	<CAMorJ8GGXqXuVCQ2Vf7MAk1iBD=xNegxqcN=b1-a_EkOB4tJTg@mail.gmail.com>
	<215A5DD92BEA4B53B2E2FE083C150041@NoelDellPC>
	<CAMorJ8EUSEdEEnLMXAsp3Zz_HCN1Aw=XdY5HxBNu1A-L8m-77w@mail.gmail.com>
	<2476589C-1FE3-4464-B9A9-E518B0FC9D03@ign.fr>
	<CAMorJ8Fp7m-t=yUkbsRLBm1GX+ZP-qQM021=KwxQvoR6r7bQNA@mail.gmail.com>
	<53F459E5.4000904@arpa.emr.it>
Message-ID: <CAMorJ8F2qd7i+mEh0OOZRZP3ZJMaFpCLEMxc+nAdhroek6SdnA@mail.gmail.com>

Thanks Davide and all of you guys : Noel,  Jose, and Alain

All of you provided very nice response to my question.
>From yours kind support, my problem is now solved.
Thanks again.

cleo


On Wed, Aug 20, 2014 at 5:18 PM, Davide Cesari <dcesari at arpa.emr.it> wrote:

> On 20/08/2014 09:37, Cleo Drakos wrote:
> > Dear Noel and Alain
> >
> > Thanks for your nice answers.
> >
> > So, while calling the cs2cs, where can I input the lat, lon and
> elevation?
> >
> > cs2cs -f %.9f +a=6378136.30 +rf=298.257 +proj=latlong +towgs84=0,0,0 +to
> > +a=6378137 +rf=298.25722356 +proj=latlong +towgs84=0,0,0
> >
> > cleo
>
> Dear Cleo,
>         with the command line indicated above, lon lat and optional
> altitude
> should be provided in standard input, i.e. typed by keyboard; on linux
> and unix-like systems shell (and probably DOS command line as well), you
> can take standard input from a text file with the syntax:
>
> cs2cs ... < filenamewithlonandlat
>
> Alternatively, the cs2cs command can receive as an extra argument the
> name of a file containing the coordinates, I suggest you to experiment
> with all the variations. Notice that the order of the coordinate is lon
> lat, not lat lon, but there are switches to change this as well as other
> formal aspects of cs2cs behavior, please refer to the cs2cs/proj
> documentation.
>
>         Davide
> >
> >
> > On Wed, Aug 20, 2014 at 3:37 PM, Alain Orsoni <Alain.Orsoni at ign.fr
> > <mailto:Alain.Orsoni at ign.fr>> wrote:
> >
> >     Cleo,
> >
> >     If I understand correctly you have latitude, longitude, elevation
> >     (considered as heigth above ellipsoid) and geoid (considered as
> >     height above geoid).
> >     If so, you have to input only latitude longitude and elevation in
> >     proj4. Heigth above geoid remains the same whatever the ellipsoid
> >     you use, it is just the height of the geoid above the ellipsoid
> >     which changes when you change ellipsoid.
> >     The elevation above ellipsoid will change because of the change of
> >     ellipsoid dimensions.
> ...
>
>
> --
> ============================= Davide Cesari ============================
> Dott**(0.5) Davide Cesari
> ARPA-Emilia Romagna, Servizio IdroMeteoClima
> NWP modelling - Modellistica numerica previsionale
> Tel. +39 051525926
> ========================================================================
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20140820/60b92c5c/attachment.html>

From yanouski at yandex.by  Thu Aug 21 00:35:11 2014
From: yanouski at yandex.by (Aleksander Yanovskiy)
Date: Thu, 21 Aug 2014 10:35:11 +0300
Subject: [Proj] direct geodesic problem
Message-ID: <53F5A12F.8000206@yandex.by>

Greetings!

Maybe somebody can clarify how to solve the following direct geodesic 
problem: find the end point of a geodesic given its starting point and 
initial azimuth and the angle between the tangent planes at the 
beginning and the end points (or, equivalently, the angel between the 
normals at the points).
It seems the most easy way is to find the corresponding arc length on 
the auxiliary sphere, but I haven't found anywhere the explicit formula 
for it as the function of the point coordinates, the azimuth and the 
angle between the tangent planes at the beginning and the end points. 
And I'm not sure that such formula would be valid for the the beginning 
and the end points laying in different hemispheres.

And why is the geodesic problem in such formulation not being used in 
practice ?

Sincerely,
Aleksander


From charles.karney at sri.com  Thu Aug 21 03:45:14 2014
From: charles.karney at sri.com (Charles Karney)
Date: Thu, 21 Aug 2014 06:45:14 -0400
Subject: [Proj] direct geodesic problem
In-Reply-To: <53F5A12F.8000206@yandex.by>
References: <53F5A12F.8000206@yandex.by>
Message-ID: <53F5CDBA.8070607@sri.com>

On 08/21/2014 03:35 AM, Aleksander Yanovskiy wrote:
> Greetings!
>
> Maybe somebody can clarify how to solve the following direct geodesic
> problem: find the end point of a geodesic given its starting point and
> initial azimuth and the angle between the tangent planes at the
> beginning and the end points (or, equivalently, the angel between the
> normals at the points).
> It seems the most easy way is to find the corresponding arc length on
> the auxiliary sphere, but I haven't found anywhere the explicit formula
> for it as the function of the point coordinates, the azimuth and the
> angle between the tangent planes at the beginning and the end points.
> And I'm not sure that such formula would be valid for the the beginning
> and the end points laying in different hemispheres.
>
> And why is the geodesic problem in such formulation not being used in
> practice ?
>
> Sincerely,
> Aleksander

Your formulation of the problem is the same as the standard formulation
of the direct geodesic problem except that you've substituted a
different measure for the distance along the geodesic.  I can think of a
couple of reasons why the problem isn't posed in such terms:

(1) The problem now depends on how the surface is embedded in three
dimensions.  In the standard approach, distances are an intrinsic
property of the surface.

(2) This measure does not typically pass through 180 degrees because
most geodesics do not pass through the antipodal point on the first
circuits around the earth.

A couple of other points can be made

(3) The direct problem is easily solved in terms of the distance.

(4) The direct problem can also be solved in terms of arc distance on
the auxiliary sphere of Legendre and Bessel.  However this is not what
you refer to as the auxiliary sphere but a trick for mapping a geodesic
on an ellipsoid to a great circle on a sphere.

Finally, an API for solving these problems is included in proj 4.9.0.
For documentation, see

   http://geographiclib.sourceforge.net/html/C/
   http://geographiclib.sourceforge.net/html/C/geodesic_8h.html

   --Charles


From yanouski at yandex.by  Thu Aug 21 05:02:01 2014
From: yanouski at yandex.by (Aleksander Yanovskiy)
Date: Thu, 21 Aug 2014 15:02:01 +0300
Subject: [Proj] direct geodesic problem
In-Reply-To: <53F5CDBA.8070607@sri.com>
References: <53F5A12F.8000206@yandex.by> <53F5CDBA.8070607@sri.com>
Message-ID: <53F5DFB9.2020400@yandex.by>

Thank you Charles,

the points are quit clear.

Sincerely,
Aleksander

21.08.2014 13:45, Charles Karney пишет:
> On 08/21/2014 03:35 AM, Aleksander Yanovskiy wrote:
>> Greetings!
>>
>> Maybe somebody can clarify how to solve the following direct geodesic
>> problem: find the end point of a geodesic given its starting point and
>> initial azimuth and the angle between the tangent planes at the
>> beginning and the end points (or, equivalently, the angel between the
>> normals at the points).
>> It seems the most easy way is to find the corresponding arc length on
>> the auxiliary sphere, but I haven't found anywhere the explicit formula
>> for it as the function of the point coordinates, the azimuth and the
>> angle between the tangent planes at the beginning and the end points.
>> And I'm not sure that such formula would be valid for the the beginning
>> and the end points laying in different hemispheres.
>>
>> And why is the geodesic problem in such formulation not being used in
>> practice ?
>>
>> Sincerely,
>> Aleksander
>
> Your formulation of the problem is the same as the standard formulation
> of the direct geodesic problem except that you've substituted a
> different measure for the distance along the geodesic.  I can think of a
> couple of reasons why the problem isn't posed in such terms:
>
> (1) The problem now depends on how the surface is embedded in three
> dimensions.  In the standard approach, distances are an intrinsic
> property of the surface.
>
> (2) This measure does not typically pass through 180 degrees because
> most geodesics do not pass through the antipodal point on the first
> circuits around the earth.
>
> A couple of other points can be made
>
> (3) The direct problem is easily solved in terms of the distance.
>
> (4) The direct problem can also be solved in terms of arc distance on
> the auxiliary sphere of Legendre and Bessel.  However this is not what
> you refer to as the auxiliary sphere but a trick for mapping a geodesic
> on an ellipsoid to a great circle on a sphere.
>
> Finally, an API for solving these problems is included in proj 4.9.0.
> For documentation, see
>
>   http://geographiclib.sourceforge.net/html/C/
>   http://geographiclib.sourceforge.net/html/C/geodesic_8h.html
>
>   --Charles



From cleo21drakos at gmail.com  Fri Aug 22 23:38:01 2014
From: cleo21drakos at gmail.com (Cleo Drakos)
Date: Sat, 23 Aug 2014 15:38:01 +0900
Subject: [Proj] Convert the array into required coordinates
Message-ID: <CAMorJ8Ha0WUq51Woi6eF+zW1NoEt=qLG5PQ4m49_5NgLqDAQtg@mail.gmail.com>

Dear guys,

I have 2d numpy array of 480 rows and 1440 columns as named by 'data' below:

The first element belongs to (49.875S,179.875W),
the second element belongs to (49.625S,179.625W),and the last element
belongs to (49.875N,179.875E).
import os, glob, gdal, numpy as np

fname = '3B42RT.2014010606.7.bin'
with open(fname, 'rb') as fi:
    fi.seek(2880,0)
    data = np.fromfile(fi,dtype=np.uint16,count=480*1440)
    data = data.byteswap()
    data = data.reshape(1440,480)

 How can I convert this numpy array so that its first element belongs to
(49.875N,179.625W), i.e., upper left latitude and longitude respectively;
and the last element belong to (49.625S,179.875E), i.e., lower right
latitute and longitude respectively.

I tried to rotate it, but I do not think it is correct.

 data = np.rot90(data,1)

 Have some of you experienced with this type of problem? The binary file I
am using is here:
ftp://trmmopen.gsfc.nasa.gov/pub/merged/3B42RT/3B42RT.2014010606.7.bin.gz
cleo
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20140823/01e995c2/attachment.html>

From pboe at gmx.de  Sat Aug 30 01:26:28 2014
From: pboe at gmx.de (Paul Boettinger)
Date: Sat, 30 Aug 2014 12:26:28 +0400
Subject: [Proj] Datum shift not working
Message-ID: <623BEA3F-53C9-47D6-AC08-F96EEF7C31F4@gmx.de>

Hello,
i want to do a transformation with the EPSG Code 3440
In my epsg file 3440 references the following parameters:
+proj=utm +zone=40 +ellps=clrk80 +towgs84=-180.624,-225.516,173.919,-0.81,-1.898,8.336,16.7101 +units=m +no_defs

Executing proj 4.8.0_0 from the MacPorts Repository on OSX 10.9.4 makes no differences using the transformation with or without the datum shift.
Any help welcome,

Paul

proj +proj=utm +zone=40 +ellps=clrk80 +towgs84=-180.624,-225.516,173.919,-0.81,-1.898,8.336,16.7101 +units=m +no_defs -f "%.6f"
59.28632619 24.27334106
732098.167370	2686171.824604

proj +proj=utm +zone=40 +ellps=clrk80 +units=m +no_defs -f "%.6f"
59.28632619 24.27334106
732098.167370	2686171.824604


From even.rouault at spatialys.com  Sat Aug 30 01:40:22 2014
From: even.rouault at spatialys.com (Even Rouault)
Date: Sat, 30 Aug 2014 10:40:22 +0200
Subject: [Proj] Datum shift not working
In-Reply-To: <623BEA3F-53C9-47D6-AC08-F96EEF7C31F4@gmx.de>
References: <623BEA3F-53C9-47D6-AC08-F96EEF7C31F4@gmx.de>
Message-ID: <201408301040.23013.even.rouault@spatialys.com>

Paul,

as far as I know, the proj utility doesn't do datum shifts. You should rather 
use cs2cs (and as per 
http://trac.osgeo.org/proj/wiki/FAQ#WhydoIgetdifferentresultswith4.5.0and4.6.0, 
"PROJ.4 will now only apply a datum shift if both the source and destination 
coordinate system have valid datum shift information") :

$ cs2cs +proj=longlat +ellps=clrk80 +towgs84=0,0,0 +no_defs +to +proj=utm 
+zone=40 +ellps=clrk80 
+towgs84=-180.624,-225.516,173.919,-0.81,-1.898,8.336,16.7101 +units=m 
+no_defs -f "%.6f"
59.28632619 24.27334106
731801.730465	2685882.517256 82.812593

$ cs2cs +proj=longlat +ellps=clrk80 +towgs84=0,0,0 +no_defs +to +proj=utm 
+zone=40 +ellps=clrk80 +units=m +no_defs -f "%.6f"
59.28632619 24.27334106
732098.167370	2686171.824604 0.000000

Even


Le samedi 30 août 2014 10:26:28, Paul Boettinger a écrit :
> Hello,
> i want to do a transformation with the EPSG Code 3440
> In my epsg file 3440 references the following parameters:
> +proj=utm +zone=40 +ellps=clrk80
> +towgs84=-180.624,-225.516,173.919,-0.81,-1.898,8.336,16.7101 +units=m
> +no_defs
> 
> Executing proj 4.8.0_0 from the MacPorts Repository on OSX 10.9.4 makes no
> differences using the transformation with or without the datum shift. Any
> help welcome,
> 
> Paul
> 
> proj +proj=utm +zone=40 +ellps=clrk80
> +towgs84=-180.624,-225.516,173.919,-0.81,-1.898,8.336,16.7101 +units=m
> +no_defs -f "%.6f" 59.28632619 24.27334106
> 732098.167370	2686171.824604
> 
> proj +proj=utm +zone=40 +ellps=clrk80 +units=m +no_defs -f "%.6f"
> 59.28632619 24.27334106
> 732098.167370	2686171.824604
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com


From pboe at gmx.de  Sat Aug 30 02:00:30 2014
From: pboe at gmx.de (Paul Boettinger)
Date: Sat, 30 Aug 2014 13:00:30 +0400
Subject: [Proj] Datum shift not working
In-Reply-To: <201408301040.23013.even.rouault@spatialys.com>
References: <623BEA3F-53C9-47D6-AC08-F96EEF7C31F4@gmx.de>
	<201408301040.23013.even.rouault@spatialys.com>
Message-ID: <2120ACB8-D7DB-41B6-A51B-342963184DEF@gmx.de>

Hi Even,
thank you very much for the fast response.

Paul
Am 30.08.2014 um 12:40 schrieb Even Rouault <even.rouault at spatialys.com>:

> Paul,
> 
> as far as I know, the proj utility doesn't do datum shifts. You should rather 
> use cs2cs (and as per 
> http://trac.osgeo.org/proj/wiki/FAQ#WhydoIgetdifferentresultswith4.5.0and4.6.0, 
> "PROJ.4 will now only apply a datum shift if both the source and destination 
> coordinate system have valid datum shift information") :
> 
> $ cs2cs +proj=longlat +ellps=clrk80 +towgs84=0,0,0 +no_defs +to +proj=utm 
> +zone=40 +ellps=clrk80 
> +towgs84=-180.624,-225.516,173.919,-0.81,-1.898,8.336,16.7101 +units=m 
> +no_defs -f "%.6f"
> 59.28632619 24.27334106
> 731801.730465	2685882.517256 82.812593
> 
> $ cs2cs +proj=longlat +ellps=clrk80 +towgs84=0,0,0 +no_defs +to +proj=utm 
> +zone=40 +ellps=clrk80 +units=m +no_defs -f "%.6f"
> 59.28632619 24.27334106
> 732098.167370	2686171.824604 0.000000
> 
> Even
> 
> 
> Le samedi 30 août 2014 10:26:28, Paul Boettinger a écrit :
>> Hello,
>> i want to do a transformation with the EPSG Code 3440
>> In my epsg file 3440 references the following parameters:
>> +proj=utm +zone=40 +ellps=clrk80
>> +towgs84=-180.624,-225.516,173.919,-0.81,-1.898,8.336,16.7101 +units=m
>> +no_defs
>> 
>> Executing proj 4.8.0_0 from the MacPorts Repository on OSX 10.9.4 makes no
>> differences using the transformation with or without the datum shift. Any
>> help welcome,
>> 
>> Paul
>> 
>> proj +proj=utm +zone=40 +ellps=clrk80
>> +towgs84=-180.624,-225.516,173.919,-0.81,-1.898,8.336,16.7101 +units=m
>> +no_defs -f "%.6f" 59.28632619 24.27334106
>> 732098.167370	2686171.824604
>> 
>> proj +proj=utm +zone=40 +ellps=clrk80 +units=m +no_defs -f "%.6f"
>> 59.28632619 24.27334106
>> 732098.167370	2686171.824604
>> _______________________________________________
>> Proj mailing list
>> Proj at lists.maptools.org
>> http://lists.maptools.org/mailman/listinfo/proj
> 
> -- 
> Spatialys - Geospatial professional services
> http://www.spatialys.com



From Roger.Bivand at nhh.no  Sat Aug 30 05:04:44 2014
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Sat, 30 Aug 2014 14:04:44 +0200
Subject: [Proj] NAD_1983_To_WGS_1984_5
Message-ID: <alpine.LRH.2.03.1408301339430.14251@reclus.nhh.no>

Hi,

I'm aware of Frank's reply:

http://lists.maptools.org/pipermail/proj/2008-September/003833.html

but would value clarification of why this happens (further details on:

https://stat.ethz.ch/pipermail/r-sig-geo/2014-August/021611.html

from WGS84 geographical coordinates to NAD27 via WGS84_5).

(code attached to get around line breaks)

The first test using cs2cs is wrong because it doesn't use +towgs84= to 
use *_5:

(the test is against benchmark coordinates)

The works in the first sub-step (geographical to WGS84_5 State Plane):

So locs.step1 are OK, but the next step gets the same errors as ignoring 
*_5

Turning on -v shows:

cs2cs -v -f "%16.9f" +proj=lcc +lat_1=38.43333333333333 
+lat_2=37.06666666666667 +lat_0=36.5 +lon_0=-120.5 +x_0=2000000.0 
+y_0=500000.0 +ellps=GRS80 +datum=NAD83 +units=us-ft +no_defs 
+towgs84=-0.991,1.9072,0.5129,0.025789908,0.0096501,0.0116599,0.0 +to 
+init=epsg:26743 < locs.step1

# ---- From Coordinate System ----
#Lambert Conformal Conic
#	Conic, Sph&Ell
#	lat_1= and lat_2= or lat_0
# +proj=lcc +lat_1=38.43333333333333 +lat_2=37.06666666666667 +lat_0=36.5
# +lon_0=-120.5 +x_0=2000000.0 +y_0=500000.0 +ellps=GRS80 +datum=NAD83
# +units=us-ft +no_defs
# +towgs84=-0.991,1.9072,0.5129,0.025789908,0.0096501,0.0116599,0.0
#--- following specified but NOT used
# +ellps=GRS80 +towgs84=0,0,0
# ---- To Coordinate System ----
#Lambert Conformal Conic
#	Conic, Sph&Ell
#	lat_1= and lat_2= or lat_0
# +init=epsg:26743 +proj=lcc +lat_1=38.43333333333333
# +lat_2=37.06666666666667 +lat_0=36.5 +lon_0=-120.5 
+x_0=609601.2192024384
# +y_0=0 +datum=NAD27 +units=us-ft +no_defs +ellps=clrk66
# +nadgrids=@conus, at alaska, at ntv2_0.gsb, at ntv1_can.dat

Puzzled,

Roger

-- 
Roger Bivand
Department of Economics, Norwegian School of Economics,
Helleveien 30, N-5045 Bergen, Norway.
voice: +47 55 95 93 55; fax +47 55 95 91 00
e-mail: Roger.Bivand at nhh.no
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: NAD83_WGS84_5_test.txt
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20140830/aecdbe47/attachment.txt>

From peifer at gmx.eu  Sat Aug 30 08:39:48 2014
From: peifer at gmx.eu (Hermann Peifer)
Date: Sat, 30 Aug 2014 17:39:48 +0200
Subject: [Proj] NAD_1983_To_WGS_1984_5
In-Reply-To: <alpine.LRH.2.03.1408301339430.14251@reclus.nhh.no>
References: <alpine.LRH.2.03.1408301339430.14251@reclus.nhh.no>
Message-ID: <5401F044.2080501@gmx.eu>

Hi Roger,

I might be wrong as I haven't really understood the details of your 
problem, but it looks to me that you want to get to these benchmark 
coordinates as a result of step 2:

1703671.30566227 424014.398045834
1704020.20113366 421943.708664294

I am getting pretty close, when using +nadgrids=@null in step 2, see below.

BTW, you specify too many parameters in your sample code: +ellps=GRS80 
+datum=NAD83 
+towgs84=-0.991,1.9072,0.5129,0.025789908,0.0096501,0.0116599,0.0

datum=NAD83 is a shortcut for "ellps=GRS80 towgs84=0,0,0" so you 
actually have 2 specifications for ellps and towgs84. This is why you 
end up with:

#--- following specified but NOT used
# +ellps=GRS80 +towgs84=0,0,0


Hermann


cat locs.xy # input coordinates for step 1
-121.524764291826 37.6600366036405
-121.523480804667 37.6543604613483

# step 1: transform and project to epsg 2227
cs2cs -f "%16.9f" +proj=longlat +datum=WGS84 +to +proj=lcc 
+lat_1=38.43333333333333 +lat_2=37.06666666666667 +lat_0=36.5 
+lon_0=-120.5 +x_0=2000000.0 +y_0=500000.0 +ellps=GRS80 +units=us-ft 
+no_defs 
+towgs84=-0.991,1.9072,0.5129,0.025789908,0.0096501,0.0116599,0.0 
locs.xy | tee locs.step1
6265039.137827862	2064418.929329731      1.854230785
6265388.042578982	2062348.222394954      1.854689702

# step 2: transform to epsg 26743
cs2cs -f "%16.9f" +proj=lcc +lat_1=38.43333333333333 
+lat_2=37.06666666666667 +lat_0=36.5 +lon_0=-120.5 +x_0=2000000.0 
+y_0=500000.0 +ellps=GRS80 +units=us-ft +no_defs +nadgrids=@null +to 
+init=epsg:26743  locs.step1

1703671.305672543	424014.398046337      1.854230785
1704020.201144472	421943.708664825      1.854689702


On 2014-08-30 14:04, Roger Bivand wrote:
> Hi,
>
> I'm aware of Frank's reply:
>
> http://lists.maptools.org/pipermail/proj/2008-September/003833.html
>
> but would value clarification of why this happens (further details on:
>
> https://stat.ethz.ch/pipermail/r-sig-geo/2014-August/021611.html
>
> from WGS84 geographical coordinates to NAD27 via WGS84_5).
>
> (code attached to get around line breaks)
>
> The first test using cs2cs is wrong because it doesn't use +towgs84= to
> use *_5:
>
> (the test is against benchmark coordinates)
>
> The works in the first sub-step (geographical to WGS84_5 State Plane):
>
> So locs.step1 are OK, but the next step gets the same errors as ignoring
> *_5
>
> Turning on -v shows:
>
> cs2cs -v -f "%16.9f" +proj=lcc +lat_1=38.43333333333333
> +lat_2=37.06666666666667 +lat_0=36.5 +lon_0=-120.5 +x_0=2000000.0
> +y_0=500000.0 +ellps=GRS80 +datum=NAD83 +units=us-ft +no_defs
> +towgs84=-0.991,1.9072,0.5129,0.025789908,0.0096501,0.0116599,0.0 +to
> +init=epsg:26743 < locs.step1
>
> # ---- From Coordinate System ----
> #Lambert Conformal Conic
> #    Conic, Sph&Ell
> #    lat_1= and lat_2= or lat_0
> # +proj=lcc +lat_1=38.43333333333333 +lat_2=37.06666666666667 +lat_0=36.5
> # +lon_0=-120.5 +x_0=2000000.0 +y_0=500000.0 +ellps=GRS80 +datum=NAD83
> # +units=us-ft +no_defs
> # +towgs84=-0.991,1.9072,0.5129,0.025789908,0.0096501,0.0116599,0.0
> #--- following specified but NOT used
> # +ellps=GRS80 +towgs84=0,0,0
> # ---- To Coordinate System ----
> #Lambert Conformal Conic
> #    Conic, Sph&Ell
> #    lat_1= and lat_2= or lat_0
> # +init=epsg:26743 +proj=lcc +lat_1=38.43333333333333
> # +lat_2=37.06666666666667 +lat_0=36.5 +lon_0=-120.5 +x_0=609601.2192024384
> # +y_0=0 +datum=NAD27 +units=us-ft +no_defs +ellps=clrk66
> # +nadgrids=@conus, at alaska, at ntv2_0.gsb, at ntv1_can.dat
>
> Puzzled,
>
> Roger
>
>
> NAD83_WGS84_5_test.txt
>
>
> cat > locs.xy << EOF
> -121.524764291826 37.6600366036405
> -121.523480804667 37.6543604613483
> EOF
>
> cs2cs -f "%16.9f" +proj=longlat +datum=WGS84 +to +init=epsg:26743 locs.xy | awk '{if (NR == 1)
>   printf("%16.9f %16.9f\n", 1703671.30566227-$1, 424014.398045834-$2)
>   else
>   printf("%16.9f %16.9f\n", 1704020.20113366-$1, 421943.708664294-$2)
> }'
>
> cs2cs -f "%16.9f" +proj=longlat +datum=WGS84 +to +proj=lcc +lat_1=38.43333333333333 +lat_2=37.06666666666667 +lat_0=36.5 +lon_0=-120.5 +x_0=2000000.0 +y_0=500000.0 +ellps=GRS80 +datum=NAD83 +units=us-ft +no_defs +towgs84=-0.991,1.9072,0.5129,0.025789908,0.0096501,0.0116599,0.0 locs.xy > locs.step1
> awk '{
> if (NR == 1)
>   printf("%16.9f %16.9f\n", 6265039.1378244-$1, 2064418.92932968-$2)
>   else
>   printf("%16.9f %16.9f\n", 6265388.04257557-$1, 2062348.22239488-$2)
> }' locs.step1
>
> cs2cs -f "%16.9f" +proj=lcc +lat_1=38.43333333333333 +lat_2=37.06666666666667 +lat_0=36.5 +lon_0=-120.5 +x_0=2000000.0 +y_0=500000.0 +ellps=GRS80 +datum=NAD83 +units=us-ft +no_defs +towgs84=-0.991,1.9072,0.5129,0.025789908,0.0096501,0.0116599,0.0 +to +init=epsg:26743 < locs.step1 | awk '{
> if (NR == 1)
>   printf("%16.9f %16.9f\n", 1703671.30566227-$1, 424014.398045834-$2)
>   else
>   printf("%16.9f %16.9f\n", 1704020.20113366-$1, 421943.708664294-$2)
> }'
>
>
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
>



From Roger.Bivand at nhh.no  Sat Aug 30 11:12:37 2014
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Sat, 30 Aug 2014 20:12:37 +0200
Subject: [Proj] NAD_1983_To_WGS_1984_5
In-Reply-To: <5401F044.2080501@gmx.eu>
References: <alpine.LRH.2.03.1408301339430.14251@reclus.nhh.no>
	<5401F044.2080501@gmx.eu>
Message-ID: <alpine.LRH.2.03.1408302008090.15324@reclus.nhh.no>

On Sat, 30 Aug 2014, Hermann Peifer wrote:

> Hi Roger,
>
> I might be wrong as I haven't really understood the details of your problem, 
> but it looks to me that you want to get to these benchmark coordinates as a 
> result of step 2:
>
> 1703671.30566227 424014.398045834
> 1704020.20113366 421943.708664294
>
> I am getting pretty close, when using +nadgrids=@null in step 2, see below.

Thanks, this does look like the best so far, and appears to avoid the 
inverse projection and transformation step in pj_transform to WGS84 
geographical coordinates (if I understand correctly).

>
> BTW, you specify too many parameters in your sample code: +ellps=GRS80 
> +datum=NAD83 
> +towgs84=-0.991,1.9072,0.5129,0.025789908,0.0096501,0.0116599,0.0
>
> datum=NAD83 is a shortcut for "ellps=GRS80 towgs84=0,0,0" so you actually 
> have 2 specifications for ellps and towgs84. This is why you end up with:
>
> #--- following specified but NOT used
> # +ellps=GRS80 +towgs84=0,0,0
>

Right, possibly muddying the waters. The +nadgrids=@null trick seems to be 
the way to go for now. I'll pass this on in thr R-sig-geo thread.

Roger

>
> Hermann
>
>
> cat locs.xy # input coordinates for step 1
> -121.524764291826 37.6600366036405
> -121.523480804667 37.6543604613483
>
> # step 1: transform and project to epsg 2227
> cs2cs -f "%16.9f" +proj=longlat +datum=WGS84 +to +proj=lcc 
> +lat_1=38.43333333333333 +lat_2=37.06666666666667 +lat_0=36.5 +lon_0=-120.5 
> +x_0=2000000.0 +y_0=500000.0 +ellps=GRS80 +units=us-ft +no_defs 
> +towgs84=-0.991,1.9072,0.5129,0.025789908,0.0096501,0.0116599,0.0 locs.xy | 
> tee locs.step1
> 6265039.137827862	2064418.929329731      1.854230785
> 6265388.042578982	2062348.222394954      1.854689702
>
> # step 2: transform to epsg 26743
> cs2cs -f "%16.9f" +proj=lcc +lat_1=38.43333333333333 +lat_2=37.06666666666667 
> +lat_0=36.5 +lon_0=-120.5 +x_0=2000000.0 +y_0=500000.0 +ellps=GRS80 
> +units=us-ft +no_defs +nadgrids=@null +to +init=epsg:26743  locs.step1
>
> 1703671.305672543	424014.398046337      1.854230785
> 1704020.201144472	421943.708664825      1.854689702
>
>
> On 2014-08-30 14:04, Roger Bivand wrote:
>> Hi,
>> 
>> I'm aware of Frank's reply:
>> 
>> http://lists.maptools.org/pipermail/proj/2008-September/003833.html
>> 
>> but would value clarification of why this happens (further details on:
>> 
>> https://stat.ethz.ch/pipermail/r-sig-geo/2014-August/021611.html
>> 
>> from WGS84 geographical coordinates to NAD27 via WGS84_5).
>> 
>> (code attached to get around line breaks)
>> 
>> The first test using cs2cs is wrong because it doesn't use +towgs84= to
>> use *_5:
>> 
>> (the test is against benchmark coordinates)
>> 
>> The works in the first sub-step (geographical to WGS84_5 State Plane):
>> 
>> So locs.step1 are OK, but the next step gets the same errors as ignoring
>> *_5
>> 
>> Turning on -v shows:
>> 
>> cs2cs -v -f "%16.9f" +proj=lcc +lat_1=38.43333333333333
>> +lat_2=37.06666666666667 +lat_0=36.5 +lon_0=-120.5 +x_0=2000000.0
>> +y_0=500000.0 +ellps=GRS80 +datum=NAD83 +units=us-ft +no_defs
>> +towgs84=-0.991,1.9072,0.5129,0.025789908,0.0096501,0.0116599,0.0 +to
>> +init=epsg:26743 < locs.step1
>> 
>> # ---- From Coordinate System ----
>> #Lambert Conformal Conic
>> #    Conic, Sph&Ell
>> #    lat_1= and lat_2= or lat_0
>> # +proj=lcc +lat_1=38.43333333333333 +lat_2=37.06666666666667 +lat_0=36.5
>> # +lon_0=-120.5 +x_0=2000000.0 +y_0=500000.0 +ellps=GRS80 +datum=NAD83
>> # +units=us-ft +no_defs
>> # +towgs84=-0.991,1.9072,0.5129,0.025789908,0.0096501,0.0116599,0.0
>> #--- following specified but NOT used
>> # +ellps=GRS80 +towgs84=0,0,0
>> # ---- To Coordinate System ----
>> #Lambert Conformal Conic
>> #    Conic, Sph&Ell
>> #    lat_1= and lat_2= or lat_0
>> # +init=epsg:26743 +proj=lcc +lat_1=38.43333333333333
>> # +lat_2=37.06666666666667 +lat_0=36.5 +lon_0=-120.5 +x_0=609601.2192024384
>> # +y_0=0 +datum=NAD27 +units=us-ft +no_defs +ellps=clrk66
>> # +nadgrids=@conus, at alaska, at ntv2_0.gsb, at ntv1_can.dat
>> 
>> Puzzled,
>> 
>> Roger
>> 
>> 
>> NAD83_WGS84_5_test.txt
>> 
>> 
>> cat > locs.xy << EOF
>> -121.524764291826 37.6600366036405
>> -121.523480804667 37.6543604613483
>> EOF
>> 
>> cs2cs -f "%16.9f" +proj=longlat +datum=WGS84 +to +init=epsg:26743 locs.xy | 
>> awk '{if (NR == 1)
>>   printf("%16.9f %16.9f\n", 1703671.30566227-$1, 424014.398045834-$2)
>>   else
>>   printf("%16.9f %16.9f\n", 1704020.20113366-$1, 421943.708664294-$2)
>> }'
>> 
>> cs2cs -f "%16.9f" +proj=longlat +datum=WGS84 +to +proj=lcc 
>> +lat_1=38.43333333333333 +lat_2=37.06666666666667 +lat_0=36.5 +lon_0=-120.5 
>> +x_0=2000000.0 +y_0=500000.0 +ellps=GRS80 +datum=NAD83 +units=us-ft 
>> +no_defs +towgs84=-0.991,1.9072,0.5129,0.025789908,0.0096501,0.0116599,0.0 
>> locs.xy > locs.step1
>> awk '{
>> if (NR == 1)
>>   printf("%16.9f %16.9f\n", 6265039.1378244-$1, 2064418.92932968-$2)
>>   else
>>   printf("%16.9f %16.9f\n", 6265388.04257557-$1, 2062348.22239488-$2)
>> }' locs.step1
>> 
>> cs2cs -f "%16.9f" +proj=lcc +lat_1=38.43333333333333 
>> +lat_2=37.06666666666667 +lat_0=36.5 +lon_0=-120.5 +x_0=2000000.0 
>> +y_0=500000.0 +ellps=GRS80 +datum=NAD83 +units=us-ft +no_defs 
>> +towgs84=-0.991,1.9072,0.5129,0.025789908,0.0096501,0.0116599,0.0 +to 
>> +init=epsg:26743 < locs.step1 | awk '{
>> if (NR == 1)
>>   printf("%16.9f %16.9f\n", 1703671.30566227-$1, 424014.398045834-$2)
>>   else
>>   printf("%16.9f %16.9f\n", 1704020.20113366-$1, 421943.708664294-$2)
>> }'
>> 
>> 
>> 
>> _______________________________________________
>> Proj mailing list
>> Proj at lists.maptools.org
>> http://lists.maptools.org/mailman/listinfo/proj
>> 
>
>

-- 
Roger Bivand
Department of Economics, Norwegian School of Economics,
Helleveien 30, N-5045 Bergen, Norway.
voice: +47 55 95 93 55; fax +47 55 95 91 00
e-mail: Roger.Bivand at nhh.no



