From ckarney at sarnoff.com  Tue Sep  1 03:31:41 2009
From: ckarney at sarnoff.com (Charles Karney)
Date: Tue, 01 Sep 2009 06:31:41 -0400
Subject: [Proj] Code to evaluate height of the geoid above the ellipsoid
Message-ID: <ssr8wgzj6r6.fsf@petrel.petrel.org>

I've added code to compute the geoid height and its gradient to
GeographicLib.  The code interpolates into a grid of data values and the
EGM84, EGM96, and EGM2008 geoid models are supported.  A caching scheme
allows the large grids required by EGM2008 to be supported even on
machines with small memory.

Example: the height of the EGM96 geoid at Timbuktu

  echo "16d46'33N" "3d00'34W" | ./GeoidEval
  => 28.7068 -0.02e-6 -1.73e-6

The first number is the height of the geoid (RMS error is 1mm) and the
2nd and 3rd are its slopes in the northerly and easterly direction.

For details see:

  http://charles.karney.info/geographic/geoid.html

-- 
Charles Karney <ckarney at sarnoff.com>
Sarnoff Corporation, Princeton, NJ 08543-5300

Tel: +1 609 734 2312
Fax: +1 609 734 2662


From piklas at gmail.com  Wed Sep  2 21:12:26 2009
From: piklas at gmail.com (piko)
Date: Wed, 2 Sep 2009 23:12:26 -0500 (CDT)
Subject: [Proj] [proj4js] problem converting from openlayers lon/lat values
Message-ID: <1251951146137-3571188.post@n2.nabble.com>


Hi list
I'm new to this list and hope that some one can help me solve the following
problem:

In a OpenLayers code, i developed a specific control to draw 2 points, get
lon/lat values from these points and then send them to different input forms
as EPSG:4326 values.

Then, for another need i have to convert those values into metric values
using proj4js.js and EPSG27563.js.

It works well but the problem is that on the first created point i only get
4326 values, and then 27563 values for the second point. It seems very
strange to me and i cannot solve as my javascript skills are quiet limited.

Many thanks by advance for any hits on this problem

Nick bozon

code:

var onTrigPt = function() {
  if (!this.control) {
        driftxControl.events.register('featureadded',
            pointLayer,
            function(evt){
              var geometry = evt.feature.geometry;
		var lonlat = map.getLonLatFromViewPortPx(geometry);
		var arrondzXPt = Math.round(lonlat.lon*1000) / 1000; 
		var arrondzYPt = Math.round(lonlat.lat*1000) / 1000; 
		var point = new Proj4js.Point(arrondzXPt,arrondzYPt);
		var source = new Proj4js.Proj('EPSG:4236');    
		var dest = new Proj4js.Proj('EPSG:27563'); 
		var lambv= Proj4js.transform(source, dest, point);  		
		
		if (evt.feature.attributes._index == 1) {
		document.forms["defineParams"].Pt1X.value = arrondzXPt;
		document.forms["defineParams"].Pt1Y.value = arrondzYPt;    
		alert(lambv);
// here i get the not expected EPSG:4326 values in my alert

		}
		else{
		document.forms["defineParams"].Pt2X.value = arrondzXPt;
		document.forms["defineParams"].Pt2Y.value = arrondzYPt; 
		alert(lambv); 

//here i get the right EPSG:27563 values
		}
            });
		
-- 
View this message in context: http://n2.nabble.com/proj4js-problem-converting-from-openlayers-lon-lat-values-tp3571188p3571188.html
Sent from the PROJ.4 mailing list archive at Nabble.com.


From support.mn at elisanet.fi  Thu Sep  3 01:42:22 2009
From: support.mn at elisanet.fi (support.mn at elisanet.fi)
Date: Thu, 3 Sep 2009 11:42:22 +0300 (EEST)
Subject: [Proj] [proj4js] problem converting from openlayers lon/lat
 values
Message-ID: <4036872.2670291251967342546.JavaMail.support.mn@elisanet.fi>

piko [piklas at gmail.com] kirjoitti: 
> 
> It seems very strange to me and i cannot solve as my javascript
> skills are quiet limited.
> 
> Nick bozon
> 
> 		if (evt.feature.attributes._index == 1) {
> // here i get the not expected EPSG:4326 values in my alert
> 		}
> 		else{
> //here i get the right EPSG:27563 values
> 		}

The reason must be that the if-expression you have is controlling
the flow of the program? It is not 1 when you get expected values
and 1 when it does not happen. Check your coding.

Janne. / MNS Support



From teletautala at hotmail.com  Thu Sep  3 12:17:35 2009
From: teletautala at hotmail.com (` `)
Date: Thu, 3 Sep 2009 19:17:35 +0000
Subject: [Proj] Conversion help
Message-ID: <BAY108-W41C63D3D2F2BCB73149FCCAFEF0@phx.gbl>








I need to convert waypoints from State Plane, NAD 83 4302 - Utah Central, U.S. Feet to Geographic, NAD 83.  Here is some data:
original data: 
    7276845.40800,1473458.11800
nad2nad conversion (nad2nad -i spcs=4302,rev,83,feet -o 83,rev -w7 reversedConversion.txt | head -1):
    40d8'56.1498803"N    117d22'21.7731358"W,1473458.11800
data converted with corpscon:
    40 17 43.03866,112 05 54.83550

the longitude needs to be negative, but other than that the coordinates are fine from corpscon.  What am I doing wrong and how can I fix this?

-Daniel

_________________________________________________________________
With Windows Live, you can organize, edit, and share your photos.
http://www.windowslive.com/Desktop/PhotoGallery
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20090903/b32556cb/attachment.html>

From EMiller at dfg.ca.gov  Thu Sep  3 14:14:38 2009
From: EMiller at dfg.ca.gov (Eric Miller)
Date: Thu, 03 Sep 2009 14:14:38 -0700
Subject: [Proj] Conversion help
In-Reply-To: <BAY108-W41C63D3D2F2BCB73149FCCAFEF0@phx.gbl>
References: <BAY108-W41C63D3D2F2BCB73149FCCAFEF0@phx.gbl>
Message-ID: <4A9FCF4E.95FD.00E4.0@dfg.ca.gov>

Same results that you think are incorrect:

$> proj -I +init=nad83:4302 +units=us-ft
1473458.118 7276845.408
112d5'54.835"W  40d17'43.039"N

It's possible the definition for the state plane zone is incorrect in the nad83 file.

>>> On 9/3/2009 at 12:17 PM, ` ` <teletautala at hotmail.com> wrote:

> 
> 
> 
> 
> 
> 
> I need to convert waypoints from State Plane, NAD 83 4302 - Utah Central, 
> U.S. Feet to Geographic, NAD 83.  Here is some data:
> original data: 
>     7276845.40800,1473458.11800
> nad2nad conversion (nad2nad -i spcs=4302,rev,83,feet -o 83,rev -w7 
> reversedConversion.txt | head -1):
>     40d8'56.1498803"N    117d22'21.7731358"W,1473458.11800
> data converted with corpscon:
>     40 17 43.03866,112 05 54.83550
> 
> the longitude needs to be negative, but other than that the coordinates are 
> fine from corpscon.  What am I doing wrong and how can I fix this?
> 
> -Daniel
> 
> _________________________________________________________________
> With Windows Live, you can organize, edit, and share your photos.
> http://www.windowslive.com/Desktop/PhotoGallery



From ovv at hetnet.nl  Sat Sep  5 02:06:32 2009
From: ovv at hetnet.nl (OvV_HN)
Date: Sat, 5 Sep 2009 11:06:32 +0200
Subject: [Proj] Conversion help
In-Reply-To: <BAY108-W41C63D3D2F2BCB73149FCCAFEF0@phx.gbl>
References: <BAY108-W41C63D3D2F2BCB73149FCCAFEF0@phx.gbl>
Message-ID: <C7D49DFA9CD44265B165277EA3615AA2@PCHP>

----- Original Message ----- 
From: "` `" <teletautala at hotmail.com>
To: <proj at lists.maptools.org>
Sent: Thursday, September 03, 2009 9:17 PM
Subject: [Proj] Conversion help



I need to convert waypoints from State Plane, NAD 83 4302 - Utah Central, 
U.S. Feet to Geographic, NAD 83.  Here is some data:
original data:
    7276845.40800,1473458.11800
nad2nad conversion (nad2nad -i spcs=4302,rev,83,feet -o 83,rev -w7 
reversedConversion.txt | head -1):
    40d8'56.1498803"N    117d22'21.7731358"W,1473458.11800
data converted with corpscon:
    40 17 43.03866,112 05 54.83550



Reply:

I think I've got part of the solution.
Somehow your x was interpreted as zero.
If you convert x = 0; y = 7276845.40800; to LCC without further grid 
interpolation, then you'll get
lat = 40d 08m 56.14988s, lon = -117d 22m 21.77314s
The Corpscon values are correct for SPCS 4302 and x = 1473458.11800; y = 
7276845.40800;, also without grid interpolation.

Oscar van Vlijmen





From teletautala at hotmail.com  Tue Sep  8 16:04:24 2009
From: teletautala at hotmail.com (` `)
Date: Tue, 8 Sep 2009 23:04:24 +0000
Subject: [Proj] Conversion help
In-Reply-To: <C7D49DFA9CD44265B165277EA3615AA2@PCHP>
References: <BAY108-W41C63D3D2F2BCB73149FCCAFEF0@phx.gbl>
	<C7D49DFA9CD44265B165277EA3615AA2@PCHP>
Message-ID: <BAY108-W38580BED6A5B331FE5899AFEA0@phx.gbl>


I believe if I use "proj -I +init=nad83:4302 +units=us-ft" with the input file it should work.  I have tested the conversions against the corpscon program and they work.  Thank you for your help.

-Daniel 

> From: ovv at hetnet.nl
> To: proj at lists.maptools.org
> Date: Sat, 5 Sep 2009 11:06:32 +0200
> Subject: Re: [Proj] Conversion help
> 
> ----- Original Message ----- 
> From: "` `" <teletautala at hotmail.com>
> To: <proj at lists.maptools.org>
> Sent: Thursday, September 03, 2009 9:17 PM
> Subject: [Proj] Conversion help
> 
> 
> 
> I need to convert waypoints from State Plane, NAD 83 4302 - Utah Central, 
> U.S. Feet to Geographic, NAD 83.  Here is some data:
> original data:
>     7276845.40800,1473458.11800
> nad2nad conversion (nad2nad -i spcs=4302,rev,83,feet -o 83,rev -w7 
> reversedConversion.txt | head -1):
>     40d8'56.1498803"N    117d22'21.7731358"W,1473458.11800
> data converted with corpscon:
>     40 17 43.03866,112 05 54.83550
> 
> 
> 
> Reply:
> 
> I think I've got part of the solution.
> Somehow your x was interpreted as zero.
> If you convert x = 0; y = 7276845.40800; to LCC without further grid 
> interpolation, then you'll get
> lat = 40d 08m 56.14988s, lon = -117d 22m 21.77314s
> The Corpscon values are correct for SPCS 4302 and x = 1473458.11800; y = 
> 7276845.40800;, also without grid interpolation.
> 
> Oscar van Vlijmen
> 
> 
> 
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj

_________________________________________________________________
Windows Live: Make it easier for your friends to see what youâ€™re up to on Facebook.
http://windowslive.com/Campaign/SocialNetworking?ocid=PID23285::T:WLMTAGL:ON:WL:en-US:SI_SB_facebook:082009
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20090908/a43ba3e7/attachment.html>

From didier.richard at ign.fr  Wed Sep  9 02:04:31 2009
From: didier.richard at ign.fr (Richard didier)
Date: Wed, 9 Sep 2009 11:04:31 +0200
Subject: [Proj] NADCON spec
Message-ID: <200909091104.31931.didier.richard@ign.fr>

Hi all,

I need to produce NADCON grid from our NTV2 grid.

I have searched the web for NADCON grids specs and only found that a NADCON 
grid is a bundle including the data AND the software that reads them ... I, 
also, found that there are two files needed (one for longitudes, another one 
for latitudes) and that longitudes/latitudes must be round even values ... 
But, I am not sure of all of that.

On the other hand, PROJ.4 includes a reader for converting lla (ascii) to 
binary ... and lla is mentioned in some web pages.

So, is there "real" specifications for NADCON Grids ? and could someone point 
me to them ?

Sincerely,
-- 
Didier RICHARD, chef du pÃ´le technique GÃ©oportail pour l'IGN
Institut Geographique National           tel: +33/0 1.43.98.83.23
2/4 Avenue Pasteur                       fax: +33/0 1.43.98.80.88
F-94165 St-Mande Cedex                e-mail: Didier.Richard at ign.fr



From Mikael.Rittri at carmenta.com  Wed Sep  9 04:34:53 2009
From: Mikael.Rittri at carmenta.com (Mikael Rittri)
Date: Wed, 9 Sep 2009 13:34:53 +0200
Subject: [Proj] Official source for some NTv2 files?
In-Reply-To: <200807231348.30313.didier.richard@ign.fr>
References: <48853EF1.8060706@pobox.com>
	<48860ADC.7040405@pobox.com><Pine.LNX.4.62.0807221825450.26267@vortex.ukshells.co.uk>
	<200807231348.30313.didier.richard@ign.fr>
Message-ID: <FAF6E56B26D2044696772EBE89B1535101A8CA7B@posty.carmenta.se>

Hello,
In July 2008, Richard Didier wrote about the ntf_r93.gsb file
( http://lists.maptools.org/pipermail/proj/2008-July/003590.html ).

I just wondered what would be the best way to give a web link
to this file.  I thought it had been published on the www.ign.fr web
site,
but I cannot find it there.  So maybe the file is just a semi-official 
service to the open source community?  And the canonical web link 
should go to the PROJ.4 site? 

Same question for the file Dictionaries/Spain/sped2et-2005.gsb
in the CS-Map distribution (http://trac.osgeo.org/csmap).
I cannot find it by googling for 

  "sped2et-2005.gsb" site:www.ign.es

Would the canonical link go to the CS-Map site? 

Best regards,
--
Mikael Rittri
Carmenta AB
SWEDEN
www.carmenta.com


From cjmce at lsu.edu  Wed Sep  9 07:44:39 2009
From: cjmce at lsu.edu (Clifford J Mugnier)
Date: Wed, 9 Sep 2009 09:44:39 -0500
Subject: [Proj] NADCON spec
References: <200909091104.31931.didier.richard@ign.fr>
Message-ID: <B597ADFC46B67741B18EA6AA13613FF7EC280A@email002.lsu.edu>

Contact Mr. David Doyle, Chief Geodesist at the National Geodetic Survey for an official copy of the suite of Fortran source code at:  Dave.Doyle at noaa.gov <mailto:Dave.Doyle at noaa.gov>   Note that the documentation is a bit sketchy since it was developed for internal use of the NGS scientific staff, and not as a "user-friendly package" for the general public.
 
However, I am pretty confident that they have not developed a tranlator from NTV2 to NADCON since the latter is the senior technique developed by LTCDR Warren Dewhurst for his dissertation at Ohio State University in the early 1980s.
 
Bon chance,
 
Clifford J. Mugnier, C.P., C.M.S.
Past National Director (2006-2008),
Photogrammetric Applications Division
American Society for Photogrammetry and Remote Sensing 
and 
Chief of Geodesy,
CENTER FOR GEOINFORMATICS 
Department of Civil Engineering 
Patrick F. Taylor Hall 3223A
LOUISIANA STATE UNIVERSITY 
Baton Rouge, LA  70803
Voice and Facsimile:  (225) 578-8536 [Academic] 
Voice and Facsimile:  (225) 578-8925 [Research] 
Honorary Life Member of the 
Louisiana Society of Professional Surveyors 
Member Emeritus of the ASPRS 
Member of the Americas Petroleum Survey Group
======================================================
http://www.asprs.org/resources/GRIDS/
======================================================

________________________________

From: proj-bounces at lists.maptools.org on behalf of Richard didier
Sent: Wed 09-Sep-09 04:04
To: proj at lists.maptools.org
Subject: [Proj] NADCON spec



Hi all,

I need to produce NADCON grid from our NTV2 grid.

I have searched the web for NADCON grids specs and only found that a NADCON
grid is a bundle including the data AND the software that reads them ... I,
also, found that there are two files needed (one for longitudes, another one
for latitudes) and that longitudes/latitudes must be round even values ...
But, I am not sure of all of that.

On the other hand, PROJ.4 includes a reader for converting lla (ascii) to
binary ... and lla is mentioned in some web pages.

So, is there "real" specifications for NADCON Grids ? and could someone point
me to them ?

Sincerely,
--
Didier RICHARD, chef du pÃ´le technique GÃ©oportail pour l'IGN
Institut Geographique National           tel: +33/0 1.43.98.83.23
2/4 Avenue Pasteur                       fax: +33/0 1.43.98.80.88
F-94165 St-Mande Cedex                e-mail: Didier.Richard at ign.fr

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20090909/2940e293/attachment.html>

From didier.richard at ign.fr  Wed Sep  9 08:21:59 2009
From: didier.richard at ign.fr (Richard didier)
Date: Wed, 9 Sep 2009 17:21:59 +0200
Subject: [Proj] NADCON spec
In-Reply-To: <B597ADFC46B67741B18EA6AA13613FF7EC280A@email002.lsu.edu>
References: <200909091104.31931.didier.richard@ign.fr>
	<B597ADFC46B67741B18EA6AA13613FF7EC280A@email002.lsu.edu>
Message-ID: <200909091721.59574.didier.richard@ign.fr>

Le Mercredi 9 Septembre 2009 16:44, Clifford J Mugnier a Ã©crit :
> Contact Mr. David Doyle, Chief Geodesist at the National Geodetic Survey
> for an official copy of the suite of Fortran source code at: 
> Dave.Doyle at noaa.gov <mailto:Dave.Doyle at noaa.gov>   Note that the
> documentation is a bit sketchy since it was developed for internal use of
> the NGS scientific staff, and not as a "user-friendly package" for the
> general public.
>

Thanks a lot Clifford for the contact person information. I am forwarding this 
hint to our geodesists.

> However, I am pretty confident that they have not developed a tranlator
> from NTV2 to NADCON since the latter is the senior technique developed by
> LTCDR Warren Dewhurst for his dissertation at Ohio State University in the
> early 1980s.
>

We will then develop the converter from our internal format (ascii) to NADCON.


> Bon chance,
>

Merci beaucoup,

Regards,

didier
> Clifford J. Mugnier, C.P., C.M.S.
> Past National Director (2006-2008),
> Photogrammetric Applications Division
> American Society for Photogrammetry and Remote Sensing
> and
> Chief of Geodesy,
> CENTER FOR GEOINFORMATICS
> Department of Civil Engineering
> Patrick F. Taylor Hall 3223A
> LOUISIANA STATE UNIVERSITY
> Baton Rouge, LA  70803
> Voice and Facsimile:  (225) 578-8536 [Academic]
> Voice and Facsimile:  (225) 578-8925 [Research]
> Honorary Life Member of the
> Louisiana Society of Professional Surveyors
> Member Emeritus of the ASPRS
> Member of the Americas Petroleum Survey Group
> ======================================================
> http://www.asprs.org/resources/GRIDS/
> ======================================================
>
> ________________________________
>
> From: proj-bounces at lists.maptools.org on behalf of Richard didier
> Sent: Wed 09-Sep-09 04:04
> To: proj at lists.maptools.org
> Subject: [Proj] NADCON spec
>
>
>
> Hi all,
>
> I need to produce NADCON grid from our NTV2 grid.
>
> I have searched the web for NADCON grids specs and only found that a NADCON
> grid is a bundle including the data AND the software that reads them ... I,
> also, found that there are two files needed (one for longitudes, another
> one for latitudes) and that longitudes/latitudes must be round even values
> ... But, I am not sure of all of that.
>
> On the other hand, PROJ.4 includes a reader for converting lla (ascii) to
> binary ... and lla is mentioned in some web pages.
>
> So, is there "real" specifications for NADCON Grids ? and could someone
> point me to them ?
>
> Sincerely,
> --
> Didier RICHARD, chef du pÃ´le technique GÃ©oportail pour l'IGN
> Institut Geographique National           tel: +33/0 1.43.98.83.23
> 2/4 Avenue Pasteur                       fax: +33/0 1.43.98.80.88
> F-94165 St-Mande Cedex                e-mail: Didier.Richard at ign.fr
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj

-- 
Didier RICHARD, chef du pÃ´le technique GÃ©oportail pour l'IGN
Institut Geographique National           tel: +33/0 1.43.98.83.23
2/4 Avenue Pasteur                       fax: +33/0 1.43.98.80.88
F-94165 St-Mande Cedex                e-mail: Didier.Richard at ign.fr



From EMiller at dfg.ca.gov  Wed Sep  9 08:12:54 2009
From: EMiller at dfg.ca.gov (Eric Miller)
Date: Wed, 09 Sep 2009 08:12:54 -0700
Subject: [Proj] NADCON spec
In-Reply-To: <200909091104.31931.didier.richard@ign.fr>
References: <200909091104.31931.didier.richard@ign.fr>
Message-ID: <4AA76386.95FD.00E4.0@dfg.ca.gov>

As far as I know the format is not documented.  NADCON uses two input files per datum adjustment (las / los).  Reportedly a utility program, NADGRD, will convert between an ASCII and the binary representation of the grid files.  So, that might be the route to take.  There's some documentation on the ASCII format on ESRI's website:

http://webhelp.esri.com/arcgisdesktop/9.3/index.cfm?TopicName=Grid-based_methods

The FORTRAN source code could also be consulted.
http://www.ngs.noaa.gov/PC_PROD/NADCON/
-- 

Eric G. Miller
Staff Programmer
CA Dept. of Fish & Game


>>> On 9/9/2009 at 2:04 AM, Richard didier <didier.richard at ign.fr> wrote:
> Hi all,
> 
> I need to produce NADCON grid from our NTV2 grid.
> 
> I have searched the web for NADCON grids specs and only found that a NADCON 
> grid is a bundle including the data AND the software that reads them ... I, 
> also, found that there are two files needed (one for longitudes, another one 
> 
> for latitudes) and that longitudes/latitudes must be round even values ... 
> But, I am not sure of all of that.
> 
> On the other hand, PROJ.4 includes a reader for converting lla (ascii) to 
> binary ... and lla is mentioned in some web pages.
> 
> So, is there "real" specifications for NADCON Grids ? and could someone 
> point 
> me to them ?
> 
> Sincerely,



From jerome at georezo.net  Wed Sep  9 14:23:35 2009
From: jerome at georezo.net (=?iso-8859-1?Q?Cuinet_J=E9r=F4me?=)
Date: Wed, 9 Sep 2009 23:23:35 +0200
Subject: [Proj] Official source for some NTv2 files?
In-Reply-To: <FAF6E56B26D2044696772EBE89B1535101A8CA7B@posty.carmenta.se>
References: <48853EF1.8060706@pobox.com><48860ADC.7040405@pobox.com><Pine.LNX.4.62.0807221825450.26267@vortex.ukshells.co.uk><200807231348.30313.didier.richard@ign.fr>
	<FAF6E56B26D2044696772EBE89B1535101A8CA7B@posty.carmenta.se>
Message-ID: <A295C418B97F4EF894103948E2864FB0@JCPORTABLE>

The best link would be http://lambert93.ign.fr/index.php?id=30#c71

For spain files, it may be the same thing, a distribution on an annexe site, 
as lambert93.ign.fr despite of ign.fr

Best regards,

JÃ©rÃ´me Cuinet
----- Original Message ----- 
From: "Mikael Rittri" <Mikael.Rittri at carmenta.com>
To: <didier.richard at ign.fr>; "PROJ.4 and general Projections Discussions" 
<proj at lists.maptools.org>
Cc: <norm.olsen at autodesk.com>
Sent: Wednesday, September 09, 2009 1:34 PM
Subject: [Proj] Official source for some NTv2 files?


> Hello,
> In July 2008, Richard Didier wrote about the ntf_r93.gsb file
> ( http://lists.maptools.org/pipermail/proj/2008-July/003590.html ).
>
> I just wondered what would be the best way to give a web link
> to this file.  I thought it had been published on the www.ign.fr web
> site,
> but I cannot find it there.  So maybe the file is just a semi-official
> service to the open source community?  And the canonical web link
> should go to the PROJ.4 site?
>
> Same question for the file Dictionaries/Spain/sped2et-2005.gsb
> in the CS-Map distribution (http://trac.osgeo.org/csmap).
> I cannot find it by googling for
>
>  "sped2et-2005.gsb" site:www.ign.es
>
> Would the canonical link go to the CS-Map site?
>
> Best regards,
> --
> Mikael Rittri
> Carmenta AB
> SWEDEN
> www.carmenta.com
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
> 



From mohammadraza at fastmail.fm  Thu Sep 10 08:37:39 2009
From: mohammadraza at fastmail.fm (Mohammad Raza)
Date: Thu, 10 Sep 2009 10:37:39 -0500
Subject: [Proj] Working with NZGD2000 and NZTM2000
Message-ID: <1252597059.18156.1334177707@webmail.messagingengine.com>

Hi,

I am trying to get my copy of Proj4 prepped up for NZGD2000 and
NZTM2000.

Does Proj4(.6.1) support NZGD2000 and NZTM2000? If not, what do I need
to do to add support for these datums?

-Chadwick
-- 
  Mohammad Raza
  mohammadraza at fastmail.fm

-- 
http://www.fastmail.fm - Same, same, but different...



From hamish_b at yahoo.com  Thu Sep 10 12:32:13 2009
From: hamish_b at yahoo.com (Hamish)
Date: Thu, 10 Sep 2009 12:32:13 -0700 (PDT)
Subject: [Proj] Working with NZGD2000 and NZTM2000
In-Reply-To: <1252597059.18156.1334177707@webmail.messagingengine.com>
Message-ID: <1006.58307.qm@web110005.mail.gq1.yahoo.com>

Mohammad Raza wrote:
> I am trying to get my copy of Proj4 prepped up for NZGD2000
> and NZTM2000.
> 
> Does Proj4(.6.1) support NZGD2000 and NZTM2000? If not,
> what do I need to do to add support for these datums?


NZGD2000 is essentially WGS84 with the GRS80 ellipsoid.
"+ellps=grs80 +towgs84=0,0,0" is enough for most purposes.

There is no such thing as NZTM2000 datum. The NZ trans. merc.
projection is defined as using the NZGD2000 datum.

see EPSG 2192,

http://www.linz.govt.nz/geodetic/datums-projections-heights/geodetic-datums/new-zealand-geodetic-datum-2000/

and Cliff's Grids and Datums column in PE&RS,
http://www.asprs.org/resources/grids/


NZGD 2000 supersedes NZGD 1949.


Hamish



      


From mkennedy2 at earthlink.net  Thu Sep 10 22:48:54 2009
From: mkennedy2 at earthlink.net (Melita Kennedy)
Date: Thu, 10 Sep 2009 22:48:54 -0700 (GMT-07:00)
Subject: [Proj] Official source for some NTv2 files?
Message-ID: <9317533.1252648134168.JavaMail.root@elwamui-chisos.atl.sa.earthlink.net>

>Date: Wed, 9 Sep 2009 23:23:35 +0200
>From: Cuinet J?r?me <jerome at georezo.net>
>Subject: Re: [Proj] Official source for some NTv2 files?
>To: "PROJ.4 and general Projections Discussions"
>	<proj at lists.maptools.org>,	<didier.richard at ign.fr>
>Cc: norm.olsen at autodesk.com
>
>The best link would be http://lambert93.ign.fr/index.php?id=30#c71
>
>For spain files, it may be the same thing, a distribution on an annexe site, 
>as lambert93.ign.fr despite of ign.fr
>
>Best regards,
>
>J?r?me Cuinet
>----- Original Message ----- 
>From: "Mikael Rittri" <Mikael.Rittri at carmenta.com>
>To: <didier.richard at ign.fr>; "PROJ.4 and general Projections Discussions" 
><proj at lists.maptools.org>
>Cc: <norm.olsen at autodesk.com>
>Sent: Wednesday, September 09, 2009 1:34 PM
>Subject: [Proj] Official source for some NTv2 files?
>
>
>> Hello,
>> In July 2008, Richard Didier wrote about the ntf_r93.gsb file
>> ( http://lists.maptools.org/pipermail/proj/2008-July/003590.html ).
>>
>> I just wondered what would be the best way to give a web link
>> to this file.  I thought it had been published on the www.ign.fr web
>> site,
>> but I cannot find it there.  So maybe the file is just a semi-official
>> service to the open source community?  And the canonical web link
>> should go to the PROJ.4 site?
>>
>> Same question for the file Dictionaries/Spain/sped2et-2005.gsb
>> in the CS-Map distribution (http://trac.osgeo.org/csmap).
>> I cannot find it by googling for
>>
>>  "sped2et-2005.gsb" site:www.ign.es
>>
>> Would the canonical link go to the CS-Map site?
>>
>> Best regards,
>> --
>> Mikael Rittri
>> Carmenta AB
>> SWEDEN
>> www.carmenta.com

Mikael,

It looks like the Spanish files (there's one for the Balearic Islands too) are here:

http://www.fomento.es/mfom/lang_castellano/direcciones_generales/organos_colegiados/csg/etrs89/default.htm

Melita



From Mikael.Rittri at carmenta.com  Thu Sep 10 23:50:01 2009
From: Mikael.Rittri at carmenta.com (Mikael Rittri)
Date: Fri, 11 Sep 2009 08:50:01 +0200
Subject: [Proj] Official source for some NTv2 files?
In-Reply-To: <9317533.1252648134168.JavaMail.root@elwamui-chisos.atl.sa.earthlink.net>
References: <9317533.1252648134168.JavaMail.root@elwamui-chisos.atl.sa.earthlink.net>
Message-ID: <FAF6E56B26D2044696772EBE89B1535101A8CB8D@posty.carmenta.se>

 
Many thanks to JÃ©rÃ´me, Melita, and Norm.

Melita wrote:
> It looks like the Spanish files (there's one for the Balearic Islands too) are here:
> http://www.fomento.es/mfom/lang_castellano/direcciones_generales/organos_colegiados/csg/etrs89/default.htm

An excellent find. I will just add that these files seem to be newer
than the SPED2ET.gsb file that Norm mentioned. 

The Spanish title for the files means 

    "GRID_SHIFT_FILE V2009: Grid Datum to shift
     between ED50 and ETRS89 in NTv2 format --- 317 KB"

(Google Translate plus some word shuffling by me),
and the files have the date 3 March, 2009.  
They also have new names,
    R2009V9.gsb 
and
    BALR2009.gsb 

There is some documentation in Spanish under the heading 
    "Real Decreto 1071/2007..."
(Google Translate says "Royal Decree 1071/2007 of 27 July,
 regulating the official geodetic reference system in Spain").

Thanks again,
--
Mikael Rittri
Carmenta AB
www.carmenta.com

-----Original Message-----
From: proj-bounces at lists.maptools.org [mailto:proj-bounces at lists.maptools.org] On Behalf Of Melita Kennedy
Sent: den 11 september 2009 07:49
To: proj at lists.maptools.org
Subject: Re: [Proj] Official source for some NTv2 files?

[--- text deleted ---] 


From hamish_b at yahoo.com  Fri Sep 11 01:22:18 2009
From: hamish_b at yahoo.com (Hamish)
Date: Fri, 11 Sep 2009 01:22:18 -0700 (PDT)
Subject: [Proj] Official source for some NTv2 files?
In-Reply-To: <9317533.1252648134168.JavaMail.root@elwamui-chisos.atl.sa.earthlink.net>
Message-ID: <200999.71236.qm@web110012.mail.gq1.yahoo.com>

will a summary of all these be posted to the proj4 wiki site?

http://trac.osgeo.org/proj/


?,
Hamish



      


From Mikael.Rittri at carmenta.com  Fri Sep 11 03:49:23 2009
From: Mikael.Rittri at carmenta.com (Mikael Rittri)
Date: Fri, 11 Sep 2009 12:49:23 +0200
Subject: [Proj] Official source for some NTv2 files?
In-Reply-To: <200999.71236.qm@web110012.mail.gq1.yahoo.com>
References: <9317533.1252648134168.JavaMail.root@elwamui-chisos.atl.sa.earthlink.net>
	<200999.71236.qm@web110012.mail.gq1.yahoo.com>
Message-ID: <FAF6E56B26D2044696772EBE89B1535101A8CBD1@posty.carmenta.se>

Hamish wrote:
> will a summary of all these be posted to the proj4 wiki site?

Well, I am not so experienced in creating new wiki pages, but here 
is the summary in wiki-format.  Maybe someone can put it on
the Proj4 wiki, and perhaps straighten out some of the question marks. 

=== Grid Shift Files in NTv2 format. === 
Links to some NTv2 files can be found below. For most of them, I think
the target datum 
is something that is equivalent to '''WGS84''' on the 1 meter level.
(For example, the Spanish
files convert the old datum '''ED50''' to '''ETRS89''', whose main
difference from '''WGS84''' 
is due to continental drift.) However, note that the Swiss file has a
national target datum.

The word "Official" after the link, means that the NTv2 files are the
officially recommended way
to convert coordinates.  "Semi-official" means that there is a more
official way, but the
NTv2 files have been prepared by a National Mapping Agency as an
alternative way (perhaps
slightly less precise.)  "Official?", with a question mark, means I
don't know whether
the files are Official or just Semi-official. 
  * [http://www.icsm.gov.au/icsm/gda/gdatm 
     Australia] Official.
  * [http://www.geod.nrcan.gc.ca/tools-outils/ntv2_e.php 
     Canada] Official, free for end users, but may not be redistributed
freely.
  * [http://lambert93.ign.fr/index.php?id=30#c71 
     France] Semi-official. 
  *
[http://crs.bkg.bund.de/crseu/crs/descrtrans/BeTA/de_dhdn2etrs_beta.php 
  	Germany] Official?
  * [http://lists.maptools.org/pipermail/proj/2006-November/002658.html 
  	Great Britain] Files constructed by Paul Kelly.  Very good (on
land), but not official.
  *
[http://www.linz.govt.nz/geodetic/software-downloads/gd2000it/index.aspx
     New Zealand] Official.
  *
[http://www.fomento.es/mfom/lang_castellano/direcciones_generales/organo
s_colegiados/csg/etrs89/default.htm 
     Spain] Official?
  *
[http://www.swisstopo.admin.ch/internet/swisstopo/en/home/topics/survey/
lv03-lv95/chenyx06/distortion_grids.html 
	Switzerland] Semi-official. (Goes only from '''CH1903''' to
'''CH1903+''', so a final 3-parameter shift is needed to reach
'''WGS84''').


--
Mikael Rittri
Carmenta AB
SWEDEN
www.carmenta.com


From roger at opq.se  Tue Sep 22 02:02:46 2009
From: roger at opq.se (Roger Oberholtzer)
Date: Tue, 22 Sep 2009 11:02:46 +0200
Subject: [Proj] Problems with EOV for Hungary (1972 Egyseges Orszagos
	Vetuleti)
Message-ID: <1253610166.22730.24.camel@acme.pacific>

I am trying to use proj (C API) to project WGS84 lat/longs in EOV for
Hungary (1972 Egyseges Orszagos Vetuleti). I am trying to match some
user data. The are using ArcGis with the following definition:

        PROJCS["HD_1972_Egyseges_Orszagos_Vetuleti",
        GEOGCS["GCS_Hungarian_1972",
        DATUM["D_Hungarian_1972",
        SPHEROID["GRS_1967",6378160,298.247167427]],
        PRIMEM["Greenwich",0],
        UNIT["Degree",0.0174532925199432955]],
        PROJECTION["Hotine_Oblique_Mercator_Azimuth_Center"],
        PARAMETER["False_Easting",650000],
        PARAMETER["False_Northing",200000],
        PARAMETER["Scale_Factor",0.99993],
        PARAMETER["Azimuth",90],
        PARAMETER["Longitude_Of_Center",19.048571778],
        PARAMETER["Latitude_Of_Center",47.14439372222],
        UNIT["Meter",1]]

I have set this up as:

   from = pj_init_plus(
                "+proj=latlong "
                "+ellps=WGS84");

   to = pj_init_plus(
                "+proj=somerc "
                "+lat_0=47.14439372222222 "
                "+lon_0=19.04857177777778 "
                "+k=0.99993 "
                "+x_0=650000 "
                "+y_0=200000 "
                "+ellps=GRS67 "
                "+units=m "
                "+no_defs");

     pj_transform(to, from, 1, 0, &le, &ln, &la);

When I run some test data, I am always 80 some meters away. For example:

   Ref:    Latitude:   47.7656110000 Longitude:   18.9532900000
   Ref:    Easting:       642942.000 Northing:       269097.700
   Calc:   Easting:       642857.473 Northing:       269067.872

   89.636 meters from Ref

The two Ref. lines are the user data. The Calc. line is what I get with
the pj_init_plus.

I have tried other mercator proj= statements, but it seems to make no
difference. Does "Hotine_Oblique_Mercator_Azimuth_Center" have a
counterpart in proj?

Perhaps the GRS67 definition they use is not the same as proj's default?

The user claims that the WGS84 definition they use is:

        GEOGCS["GCS_WGS_1984",
        DATUM["D_WGS_1984",
        SPHEROID["WGS_1984",6378137,298.257223563]],
        PRIMEM["Greenwich",0],
        UNIT["Degree",0.017453292519943295]]

Isn't this the standard definition?

-- 
Roger Oberholtzer

OPQ Systems / RambÃ¶ll RST

RambÃ¶ll Sverige AB
Krukmakargatan 21
P.O. Box 17009
SE-104 62 Stockholm, Sweden

Office: Int +46 8-615 60 20
Mobile: Int +46 70-815 1696



From jrepetto at free.fr  Tue Sep 22 02:57:17 2009
From: jrepetto at free.fr (Jean-Claude REPETTO)
Date: Tue, 22 Sep 2009 11:57:17 +0200
Subject: [Proj] Problems with EOV for Hungary (1972 Egyseges Orszagos
 Vetuleti)
In-Reply-To: <1253610166.22730.24.camel@acme.pacific>
References: <1253610166.22730.24.camel@acme.pacific>
Message-ID: <4AB89F7D.7080003@free.fr>

Roger Oberholtzer wrote:
> 
>    to = pj_init_plus(
>                 "+proj=somerc "
>                 "+lat_0=47.14439372222222 "
>                 "+lon_0=19.04857177777778 "
>                 "+k=0.99993 "
>                 "+x_0=650000 "
>                 "+y_0=200000 "
>                 "+ellps=GRS67 "
>                 "+units=m "
>                 "+no_defs");
> 
>      pj_transform(to, from, 1, 0, &le, &ln, &la);
> 
> When I run some test data, I am always 80 some meters away. For example:

Hello,

You are missing the +towgs84 parameter, which is necessary if you want 
PROJ.4 to perform a datum change.

Jean-Claude


From Mikael.Rittri at carmenta.com  Tue Sep 22 03:45:32 2009
From: Mikael.Rittri at carmenta.com (Mikael Rittri)
Date: Tue, 22 Sep 2009 12:45:32 +0200
Subject: [Proj] Problems with EOV for Hungary (1972 Egyseges Orszagos
	Vetuleti)
In-Reply-To: <4AB89F7D.7080003@free.fr>
References: <1253610166.22730.24.camel@acme.pacific> <4AB89F7D.7080003@free.fr>
Message-ID: <FAF6E56B26D2044696772EBE89B1535101A8D268@posty.carmenta.se>

Jean-Claude wrote:
>
> Roger Oberholtzer wrote:
> > - - -
> > When I run some test data, I am always 80 some meters away.
>
> 
> You are missing the +towgs84 parameter, which is necessary
> if you want PROJ.4 to perform a datum change.

Yes. I looked at www.epsg-registry.org, and searched on

   Type: Coordinate Transformation
   Area: Hungary

This gave a couple of 3-parameter and 7-parameter transforms
for HD72.  As usual, some of them were informally deprecated
in the comments field, but not formally DEPRECATED in the
technical sense.  Anyway, the best one seems to be 

    EPSG:1448 "HD72 to WGS 84 (3)"

which has the same parameters as 

    EPSG:1449 "HD72 to ETRS89 (2)",

namely 
    
    X-axis translation   52.684   metre      
    Y-axis translation   -71.194  metre   
    Z-axis translation   -13.975  metre   
    X-axis rotation   0.312   arc-second  
    Y-axis rotation   0.1063  arc-second  
    Z-axis rotation   0.3729  arc-second  
    Scale difference  1.0191  parts per million  

However, there is a warning _above_ these parameters: 

   "Care! Ensure application uses this method! See Guidance Note 7-1"

which means that you must scroll _down_ to the bottom line, where you find

   +Method [Coordinate Frame rotation]

and, since PROJ.4 uses the opposite sign convention for the rotation
angles (the Position Vector Transform), these angles must be negated.  
So, I think you should use

   +towgs84=52.684,-71.194,-13.975,-0.312,-0.1063,-0.3729,1.0191

to implement HD72. 

Best regards,
--
Mikael Rittri
Carmenta AB
GÃ¶teborg
SWEDEN
www.carmenta.com

-----Original Message-----
From: proj-bounces at lists.maptools.org [mailto:proj-bounces at lists.maptools.org] On Behalf Of Jean-Claude REPETTO
Sent: den 22 september 2009 11:57
To: PROJ.4 and general Projections Discussions; roger at opq.se
Subject: Re: [Proj] Problems with EOV for Hungary (1972 Egyseges Orszagos Vetuleti)

[-- text deleted -- ] 


From ovv at hetnet.nl  Tue Sep 22 06:19:35 2009
From: ovv at hetnet.nl (OvV_HN)
Date: Tue, 22 Sep 2009 15:19:35 +0200
Subject: [Proj] Problems with EOV for Hungary (1972 Egyseges
	OrszagosVetuleti)
In-Reply-To: <1253610166.22730.24.camel@acme.pacific>
References: <1253610166.22730.24.camel@acme.pacific>
Message-ID: <9D4257AFEAFA47C89366E02EA1A26874@PCHP>


----- Original Message ----- 
From: "Roger Oberholtzer" <roger at opq.se>
To: <proj at lists.maptools.org>
Sent: Tuesday, September 22, 2009 11:02 AM
Subject: [Proj] Problems with EOV for Hungary (1972 Egyseges 
OrszagosVetuleti)


>I am trying to use proj (C API) to project WGS84 lat/longs in EOV for
> Hungary (1972 Egyseges Orszagos Vetuleti). I am trying to match some
> user data. The are using ArcGis with the following definition:
>
>        PROJCS["HD_1972_Egyseges_Orszagos_Vetuleti",
>        GEOGCS["GCS_Hungarian_1972",
>        DATUM["D_Hungarian_1972",
>        SPHEROID["GRS_1967",6378160,298.247167427]],
>        PRIMEM["Greenwich",0],
>        UNIT["Degree",0.0174532925199432955]],
>        PROJECTION["Hotine_Oblique_Mercator_Azimuth_Center"],
>        PARAMETER["False_Easting",650000],
>        PARAMETER["False_Northing",200000],
>        PARAMETER["Scale_Factor",0.99993],
>        PARAMETER["Azimuth",90],
>        PARAMETER["Longitude_Of_Center",19.048571778],
>        PARAMETER["Latitude_Of_Center",47.14439372222],
>        UNIT["Meter",1]]
>
> I have set this up as:
>
>   from = pj_init_plus(
>                "+proj=latlong "
>                "+ellps=WGS84");
>
>   to = pj_init_plus(
>                "+proj=somerc "
>                "+lat_0=47.14439372222222 "
>                "+lon_0=19.04857177777778 "
>                "+k=0.99993 "
>                "+x_0=650000 "
>                "+y_0=200000 "
>                "+ellps=GRS67 "
>                "+units=m "
>                "+no_defs");
>
>     pj_transform(to, from, 1, 0, &le, &ln, &la);
>
> When I run some test data, I am always 80 some meters away. For example:
>
>   Ref:    Latitude:   47.7656110000 Longitude:   18.9532900000
>   Ref:    Easting:       642942.000 Northing:       269097.700
>   Calc:   Easting:       642857.473 Northing:       269067.872


By the way, a Hotine_Oblique_Mercator_Azimuth_Center is not the same as 
somerc, the Swiss oblique Mercator projection. But, somerc is a better 
approximation for EOV than a Hotine omerc.

Anyhow, with the datum transformation parameters from Mikael Rittri and a 
coordinate frame rotation, I got with:
Ref:    Latitude:   47.7656110000 Longitude:   18.9532900000
a latitude, longitude of 47.765881, 18.954420
and with an accurate implementation of the EOV projection an (original axes) 
x, y of:
269097.773, 642942.210
which is, let's say, spot on.
The approximation with somerc should give (its) x, y of:
642942.210, 269097.775


Oscar van Vlijmen




From roger at opq.se  Tue Sep 22 08:07:54 2009
From: roger at opq.se (Roger Oberholtzer)
Date: Tue, 22 Sep 2009 17:07:54 +0200
Subject: [Proj] Problems with EOV for Hungary (1972 Egyseges
 OrszagosVetuleti)
In-Reply-To: <9D4257AFEAFA47C89366E02EA1A26874@PCHP>
References: <1253610166.22730.24.camel@acme.pacific>
	<9D4257AFEAFA47C89366E02EA1A26874@PCHP>
Message-ID: <1253632074.22730.74.camel@acme.pacific>

On Tue, 2009-09-22 at 15:19 +0200, OvV_HN wrote:
> ----- Original Message ----- 
> From: "Roger Oberholtzer" <roger at opq.se>
> To: <proj at lists.maptools.org>
> Sent: Tuesday, September 22, 2009 11:02 AM
> Subject: [Proj] Problems with EOV for Hungary (1972 Egyseges 
> OrszagosVetuleti)
> 
> 
> >I am trying to use proj (C API) to project WGS84 lat/longs in EOV for
> > Hungary (1972 Egyseges Orszagos Vetuleti). I am trying to match some
> > user data. The are using ArcGis with the following definition:
> >
> >        PROJCS["HD_1972_Egyseges_Orszagos_Vetuleti",
> >        GEOGCS["GCS_Hungarian_1972",
> >        DATUM["D_Hungarian_1972",
> >        SPHEROID["GRS_1967",6378160,298.247167427]],
> >        PRIMEM["Greenwich",0],
> >        UNIT["Degree",0.0174532925199432955]],
> >        PROJECTION["Hotine_Oblique_Mercator_Azimuth_Center"],
> >        PARAMETER["False_Easting",650000],
> >        PARAMETER["False_Northing",200000],
> >        PARAMETER["Scale_Factor",0.99993],
> >        PARAMETER["Azimuth",90],
> >        PARAMETER["Longitude_Of_Center",19.048571778],
> >        PARAMETER["Latitude_Of_Center",47.14439372222],
> >        UNIT["Meter",1]]
> >
> > I have set this up as:
> >
> >   from = pj_init_plus(
> >                "+proj=latlong "
> >                "+ellps=WGS84");
> >
> >   to = pj_init_plus(
> >                "+proj=somerc "
> >                "+lat_0=47.14439372222222 "
> >                "+lon_0=19.04857177777778 "
> >                "+k=0.99993 "
> >                "+x_0=650000 "
> >                "+y_0=200000 "
> >                "+ellps=GRS67 "
> >                "+units=m "
> >                "+no_defs");
> >
> >     pj_transform(to, from, 1, 0, &le, &ln, &la);
> >
> > When I run some test data, I am always 80 some meters away. For example:
> >
> >   Ref:    Latitude:   47.7656110000 Longitude:   18.9532900000
> >   Ref:    Easting:       642942.000 Northing:       269097.700
> >   Calc:   Easting:       642857.473 Northing:       269067.872
> 
> 
> By the way, a Hotine_Oblique_Mercator_Azimuth_Center is not the same as 
> somerc, the Swiss oblique Mercator projection. But, somerc is a better 
> approximation for EOV than a Hotine omerc.
> 
> Anyhow, with the datum transformation parameters from Mikael Rittri and a 
> coordinate frame rotation, I got with:
> Ref:    Latitude:   47.7656110000 Longitude:   18.9532900000
> a latitude, longitude of 47.765881, 18.954420
> and with an accurate implementation of the EOV projection an (original axes) 
> x, y of:
> 269097.773, 642942.210
> which is, let's say, spot on.
> The approximation with somerc should give (its) x, y of:
> 642942.210, 269097.775

This looks promising. So, I have now tried:

   from = pj_init_plus(
       "+proj=latlong "
       "+ellps=WGS84");

   to = pj_init_plus(
       "+proj=somerc "
       "+lat_0=47.14439372222222 "
       "+lon_0=19.04857177777778 "
       "+k=0.99993 "
       "+x_0=650000 "
       "+y_0=200000 "
       "+ellps=GRS67 "
       "+units=m "
       "+towgs84=52.684,-71.194,-13.975,-0.312,-0.1063,-0.3729,1.0191 "
       "+no_defs");

     pj_transform(to, from, 1, 0, &le, &ln, &la);

And I see no difference at all. I use +towgs84 elsewhere, so I know it
works like this. But, as I said, I see no difference.

-- 
Roger Oberholtzer

OPQ Systems / RambÃ¶ll RST

RambÃ¶ll Sverige AB
Krukmakargatan 21
P.O. Box 17009
SE-104 62 Stockholm, Sweden

Office: Int +46 8-615 60 20
Mobile: Int +46 70-815 1696



From jrepetto at free.fr  Tue Sep 22 08:25:58 2009
From: jrepetto at free.fr (Jean-Claude REPETTO)
Date: Tue, 22 Sep 2009 17:25:58 +0200
Subject: [Proj] Problems with EOV for Hungary (1972 Egyseges
	OrszagosVetuleti)
In-Reply-To: <1253632074.22730.74.camel@acme.pacific>
References: <1253610166.22730.24.camel@acme.pacific>	<9D4257AFEAFA47C89366E02EA1A26874@PCHP>
	<1253632074.22730.74.camel@acme.pacific>
Message-ID: <4AB8EC86.8060009@free.fr>

Roger Oberholtzer wrote :
>
> 
> This looks promising. So, I have now tried:
> 
>    from = pj_init_plus(
>        "+proj=latlong "
>        "+ellps=WGS84");
> 
>    to = pj_init_plus(
>        "+proj=somerc "
>        "+lat_0=47.14439372222222 "
>        "+lon_0=19.04857177777778 "
>        "+k=0.99993 "
>        "+x_0=650000 "
>        "+y_0=200000 "
>        "+ellps=GRS67 "
>        "+units=m "
>        "+towgs84=52.684,-71.194,-13.975,-0.312,-0.1063,-0.3729,1.0191 "
>        "+no_defs");
> 
>      pj_transform(to, from, 1, 0, &le, &ln, &la);
> 
> And I see no difference at all. I use +towgs84 elsewhere, so I know it
> works like this. But, as I said, I see no difference.
> 

You have forgotten to add the +towgs84 parameter to the first 
projection. Alternatively, you can use "+datum=WGS84" instead of 
"+ellps=WGS84 +towgs84=0,0,0,0,0,0,0".



From roger at opq.se  Tue Sep 22 23:17:08 2009
From: roger at opq.se (Roger Oberholtzer)
Date: Wed, 23 Sep 2009 08:17:08 +0200
Subject: [Proj] Problems with EOV for Hungary (1972 Egyseges
 OrszagosVetuleti)
In-Reply-To: <4AB8EC86.8060009@free.fr>
References: <1253610166.22730.24.camel@acme.pacific>
	<9D4257AFEAFA47C89366E02EA1A26874@PCHP>
	<1253632074.22730.74.camel@acme.pacific>  <4AB8EC86.8060009@free.fr>
Message-ID: <1253686628.31808.8.camel@acme.pacific>

On Tue, 2009-09-22 at 17:25 +0200, Jean-Claude REPETTO wrote:

> You have forgotten to add the +towgs84 parameter to the first 
> projection. Alternatively, you can use "+datum=WGS84" instead of 
> "+ellps=WGS84 +towgs84=0,0,0,0,0,0,0".

This did indeed work. Thanks! I am now within 0.2 meters of the ArcGIS
calculations.

-- 
Roger Oberholtzer

OPQ Systems / RambÃ¶ll RST

RambÃ¶ll Sverige AB
Krukmakargatan 21
P.O. Box 17009
SE-104 62 Stockholm, Sweden

Office: Int +46 8-615 60 20
Mobile: Int +46 70-815 1696



From warmerdam at pobox.com  Wed Sep 23 10:22:51 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed, 23 Sep 2009 13:22:51 -0400
Subject: [Proj] ntf_r93.gsb file corrupted
Message-ID: <4ABA596B.5040509@pobox.com>

Folks,

It appears the ntf_r93.gsb file used for grid shifts in Frace was corrupt
in the proj-datumgrid-1.4.zip file.  It would also have been corrupt if
extracted from subversion depending on the client OS and options.  I have
uploaded a new datumgrid zip file with the correct version.

   http://download.osgeo.org/proj/proj-datumgrid-1.5.zip

Details in:

   http://trac.osgeo.org/proj/ticket/52

I plan to update FWTools and OSGeo4W accordingly.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From didier.richard at ign.fr  Wed Sep 23 11:03:37 2009
From: didier.richard at ign.fr (RICHARD Didier)
Date: Wed, 23 Sep 2009 20:03:37 +0200 (CEST)
Subject: [Proj] ntf_r93.gsb file corrupted
In-Reply-To: <4ABA596B.5040509@pobox.com>
References: <4ABA596B.5040509@pobox.com>
Message-ID: <33043.87.231.96.39.1253729017.squirrel@webmail.ign.fr>

Frank and all,

> Folks,
>
> It appears the ntf_r93.gsb file used for grid shifts in Frace was corrupt
> in the proj-datumgrid-1.4.zip file.  It would also have been corrupt if
> extracted from subversion depending on the client OS and options.  I have
> uploaded a new datumgrid zip file with the correct version.
>
>    http://download.osgeo.org/proj/proj-datumgrid-1.5.zip
>
> Details in:
>
>    http://trac.osgeo.org/proj/ticket/52
>

See my comments there.

> I plan to update FWTools and OSGeo4W accordingly.
>

Really nice move cause we've just identified the problem this afternoon.


We are going officially to tell the french community about this.

> Best regards,

Sincerely,

didier

> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam at pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
>


-- 
RICHARD Didier - Chef du pÃ´le technique du GÃ©oportail
2/4, avenue Pasteur - 94165 Saint MandÃ© Cedex
TÃ©l : +33 (0) 1 43 98 83 23


From warmerdam at pobox.com  Wed Sep 23 19:52:37 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed, 23 Sep 2009 22:52:37 -0400
Subject: [Proj] PROJ 4.7.0 beta1 Release
Message-ID: <4ABADEF5.7080806@pobox.com>

Folks,

I have prepared a beta for a 4.7.0 release at:

   http://download.osgeo.org/proj/proj-4.7.0b1.tar.gz

NEWS:

  o Added in memory caching of init file search results for substantial
    acceleration in some application environments (like MapServer).

  o Regenerated nad/epsg init file with EPSG 7.1 database, including new
    support for Google Mercator (EPSG:3857).

  o Various thread safety improvements, including preliminary support for
    a mutex lock around some operations, like grid loading.

Feedback welcome in the next few days after which I'll either issue a new
beta, or promote this to a final release.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From jerome at georezo.net  Thu Sep 24 11:32:03 2009
From: jerome at georezo.net (=?iso-8859-1?Q?Cuinet_J=E9r=F4me?=)
Date: Thu, 24 Sep 2009 20:32:03 +0200
Subject: [Proj] ntf_r93.gsb file corrupted
In-Reply-To: <4ABA596B.5040509@pobox.com>
References: <4ABA596B.5040509@pobox.com>
Message-ID: <54E7DB8AE7D44475A42BC1642EECD57B@JCPORTABLE>

A question :

Are not there some coordinate transformation tests which verifiy the 
calculations ?

I don't know how often mistakes appears, but this type of tests don't seems 
to be diificult to construct.

A no-regression test could have been mandatory, no ? Some unusual functions 
might be broken without anybody pick out it.

Thanks

JÃ©rÃ´me


----- Original Message ----- 
From: "Frank Warmerdam" <warmerdam at pobox.com>
To: "PROJ.4 and general Projections Discussions" <proj at lists.maptools.org>
Sent: Wednesday, September 23, 2009 7:22 PM
Subject: [Proj] ntf_r93.gsb file corrupted


> Folks,
>
> It appears the ntf_r93.gsb file used for grid shifts in Frace was corrupt
> in the proj-datumgrid-1.4.zip file.  It would also have been corrupt if
> extracted from subversion depending on the client OS and options.  I have
> uploaded a new datumgrid zip file with the correct version.
>
>   http://download.osgeo.org/proj/proj-datumgrid-1.5.zip
>
> Details in:
>
>   http://trac.osgeo.org/proj/ticket/52
>
> I plan to update FWTools and OSGeo4W accordingly.
>
> Best regards,
> -- 
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam, 
> warmerdam at pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
> 



From warmerdam at pobox.com  Thu Sep 24 11:49:54 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu, 24 Sep 2009 14:49:54 -0400
Subject: [Proj] ntf_r93.gsb file corrupted
In-Reply-To: <54E7DB8AE7D44475A42BC1642EECD57B@JCPORTABLE>
References: <4ABA596B.5040509@pobox.com>
	<54E7DB8AE7D44475A42BC1642EECD57B@JCPORTABLE>
Message-ID: <4ABBBF52.7050709@pobox.com>

Cuinet JÃ©rÃ´me wrote:
> A question :
> 
> Are not there some coordinate transformation tests which verifiy the 
> calculations ?
> 
> I don't know how often mistakes appears, but this type of tests don't seems 
> to be diificult to construct.

JÃ©rÃ´me,

There are regression tests, but they do not include ntf_r93.gsb even now.
I would add the problem corrupted the file in a relatively subtle way that
would only be detected for a grid shift in some places.

In fact I see there is a testIGNF but it was commented out in the past when
it wasn't obvious to determine whether we had the supporting gsb file or not.

I am updating the Makefile.am to include the testIGNF and testntv2 checks
if the corresponding grid shift files seem to be available.  I'll produce a
new beta later today with these changes.

Note these are only run on unix systems.

 > A no-regression test could have been mandatory, no ? Some unusual functions
 > might be broken without anybody pick out it.

The word "manditory" has limited application in open source.  It is very rare
that I get paid for any PROJ.4 maintenance, and I'm only doing this because
when I took it on there was no one else willing to do it.

There is certainly room for additional PROJ.4 developers and contributors.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From warmerdam at pobox.com  Thu Sep 24 12:29:16 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu, 24 Sep 2009 15:29:16 -0400
Subject: [Proj] PROJ 4.7.0 beta1 Release
In-Reply-To: <4ABADEF5.7080806@pobox.com>
References: <4ABADEF5.7080806@pobox.com>
Message-ID: <4ABBC88C.40603@pobox.com>


Folks,

I have prepared a new beta for the 4.7.0 release at:

   http://download.osgeo.org/proj/proj-4.7.0b2.tar.gz

This includes changes so "make check" on unix will run the
IGNF and NTv2 tests if the grid shift files seem to be available.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From jerome at georezo.net  Thu Sep 24 12:31:18 2009
From: jerome at georezo.net (=?iso-8859-1?Q?Cuinet_J=E9r=F4me?=)
Date: Thu, 24 Sep 2009 21:31:18 +0200
Subject: [Proj] ntf_r93.gsb file corrupted
In-Reply-To: <4ABBBF52.7050709@pobox.com>
References: <4ABA596B.5040509@pobox.com><54E7DB8AE7D44475A42BC1642EECD57B@JCPORTABLE>
	<4ABBBF52.7050709@pobox.com>
Message-ID: <4CED19FE80E6416085BFC476A3256A49@JCPORTABLE>

Franck, thanks for these answers.

Fortunalately there are regression tests, quickly regarding source code I 
have not seen them !

The "mandatory" term it isn't for maintenance. Updates concerns improvements 
or corrections, no damaging ! Damages are on bÃªta corrections, on trunk 
development tree. Release is an implicit declaration that the evolvement are 
validated. Releases are not a "gamma version", and my system administrator 
says me that update to the newest version is mandatory. I'm heretic if I 
don't update my system.

It is principles that I think correct.

I know that no-regression detections are an hard task. But we can't damage a 
software, we can also do improvements. Some users trust open source 
developpers. If they can't, if an open source software is an always "gamma 
software", a task is really never closed, we must say it !

I realize that this mail seems to be a troll, but I only want how I can 
trust in open source software, and especially in proj4 library.

If that I think is wrong, so I will know that and I will not be able to 
believe a software description :(


Best regards

JÃ©rÃ´me Cuinet


----- Original Message ----- 
From: "Frank Warmerdam" <warmerdam at pobox.com>
To: "PROJ.4 and general Projections Discussions" <proj at lists.maptools.org>
Sent: Thursday, September 24, 2009 8:49 PM
Subject: Re: [Proj] ntf_r93.gsb file corrupted


Cuinet JÃ©rÃ´me wrote:
> A question :
>
> Are not there some coordinate transformation tests which verifiy the
> calculations ?
>
> I don't know how often mistakes appears, but this type of tests don't 
> seems
> to be diificult to construct.

JÃ©rÃ´me,

There are regression tests, but they do not include ntf_r93.gsb even now.
I would add the problem corrupted the file in a relatively subtle way that
would only be detected for a grid shift in some places.

In fact I see there is a testIGNF but it was commented out in the past when
it wasn't obvious to determine whether we had the supporting gsb file or 
not.

I am updating the Makefile.am to include the testIGNF and testntv2 checks
if the corresponding grid shift files seem to be available.  I'll produce a
new beta later today with these changes.

Note these are only run on unix systems.

 > A no-regression test could have been mandatory, no ? Some unusual 
functions
 > might be broken without anybody pick out it.

The word "manditory" has limited application in open source.  It is very 
rare
that I get paid for any PROJ.4 maintenance, and I'm only doing this because
when I took it on there was no one else willing to do it.

There is certainly room for additional PROJ.4 developers and contributors.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, 
warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj



From warmerdam at pobox.com  Thu Sep 24 12:51:12 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu, 24 Sep 2009 15:51:12 -0400
Subject: [Proj] ntf_r93.gsb file corrupted
In-Reply-To: <4CED19FE80E6416085BFC476A3256A49@JCPORTABLE>
References: <4ABA596B.5040509@pobox.com><54E7DB8AE7D44475A42BC1642EECD57B@JCPORTABLE>
	<4ABBBF52.7050709@pobox.com>
	<4CED19FE80E6416085BFC476A3256A49@JCPORTABLE>
Message-ID: <4ABBCDB0.5040905@pobox.com>

Cuinet JÃ©rÃ´me wrote:
> Franck, thanks for these answers.
> 
> Fortunalately there are regression tests, quickly regarding source code I 
> have not seen them !
> 
> The "mandatory" term it isn't for maintenance. Updates concerns improvements 
> or corrections, no damaging ! Damages are on bÃªta corrections, on trunk 
> development tree. Release is an implicit declaration that the evolvement are 
> validated. Releases are not a "gamma version", and my system administrator 
> says me that update to the newest version is mandatory. I'm heretic if I 
> don't update my system.
> 
> It is principles that I think correct.
> 
> I know that no-regression detections are an hard task. But we can't damage a 
> software, we can also do improvements. Some users trust open source 
> developpers. If they can't, if an open source software is an always "gamma 
> software", a task is really never closed, we must say it !
> 
> I realize that this mail seems to be a troll, but I only want how I can 
> trust in open source software, and especially in proj4 library.
> 
> If that I think is wrong, so I will know that and I will not be able to 
> believe a software description :(

JÃ©rÃ´me,

I strongly encourage you and others to ensure that PROJ.4 or other lightly
maintained packages are suitable for your purposes if you depend on them
in a mission critical fashion.  Frankly, the project is not adequately
resourced to ensure that all good software development practices are
followed.

Even better maintained packages (like GDAL for instance) still have lots
of dark corners that are buggy and not regression tested.

So, implicit or explicit claims of validation are always "relative".  Little
is really certain and you are wise to confirm things meet your needs.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From jerome at georezo.net  Thu Sep 24 13:13:34 2009
From: jerome at georezo.net (=?iso-8859-1?Q?Cuinet_J=E9r=F4me?=)
Date: Thu, 24 Sep 2009 22:13:34 +0200
Subject: [Proj] ntf_r93.gsb file corrupted
In-Reply-To: <4ABBCDB0.5040905@pobox.com>
References: <4ABA596B.5040509@pobox.com><54E7DB8AE7D44475A42BC1642EECD57B@JCPORTABLE><4ABBBF52.7050709@pobox.com><4CED19FE80E6416085BFC476A3256A49@JCPORTABLE>
	<4ABBCDB0.5040905@pobox.com>
Message-ID: <CAB7780B8A9B4F61B2444E36B858F036@JCPORTABLE>

A question to be sure :

Is Proj.4 linked in popular projects such as gdal, wich is linked in popular 
desktop applications ?



----- Original Message ----- 
From: "Frank Warmerdam" <warmerdam at pobox.com>
JÃ©rÃ´me,

I strongly encourage you and others to ensure that PROJ.4 or other lightly
maintained packages are suitable for your purposes if you depend on them
in a mission critical fashion.  Frankly, the project is not adequately
resourced to ensure that all good software development practices are
followed.

Even better maintained packages (like GDAL for instance) still have lots
of dark corners that are buggy and not regression tested.

So, implicit or explicit claims of validation are always "relative".  Little
is really certain and you are wise to confirm things meet your needs.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, 
warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj



From warmerdam at pobox.com  Thu Sep 24 13:21:58 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu, 24 Sep 2009 16:21:58 -0400
Subject: [Proj] ntf_r93.gsb file corrupted
In-Reply-To: <CAB7780B8A9B4F61B2444E36B858F036@JCPORTABLE>
References: <4ABA596B.5040509@pobox.com><54E7DB8AE7D44475A42BC1642EECD57B@JCPORTABLE><4ABBBF52.7050709@pobox.com><4CED19FE80E6416085BFC476A3256A49@JCPORTABLE>
	<4ABBCDB0.5040905@pobox.com>
	<CAB7780B8A9B4F61B2444E36B858F036@JCPORTABLE>
Message-ID: <4ABBD4E6.9070405@pobox.com>

Cuinet JÃ©rÃ´me wrote:
> A question to be sure :
> 
> Is Proj.4 linked in popular projects such as gdal, wich is linked in popular 
> desktop applications ?

JÃ©rÃ´me,

PROJ.4 is optionally used by GDAL.  It is used in popular applications
such as MapServer, and QGIS.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From jerome at georezo.net  Thu Sep 24 14:03:30 2009
From: jerome at georezo.net (=?iso-8859-1?Q?Cuinet_J=E9r=F4me?=)
Date: Thu, 24 Sep 2009 23:03:30 +0200
Subject: [Proj] ntf_r93.gsb file corrupted
In-Reply-To: <4ABBD4E6.9070405@pobox.com>
References: <4ABA596B.5040509@pobox.com><54E7DB8AE7D44475A42BC1642EECD57B@JCPORTABLE><4ABBBF52.7050709@pobox.com><4CED19FE80E6416085BFC476A3256A49@JCPORTABLE><4ABBCDB0.5040905@pobox.com><CAB7780B8A9B4F61B2444E36B858F036@JCPORTABLE>
	<4ABBD4E6.9070405@pobox.com>
Message-ID: <EE3377700FFE46DEBDD5C8511F1BA7FC@JCPORTABLE>

OK,

So  if I can confirm some things, mostly can't do this.


Also, myself I do software with regressions. So I know how vicious are 
regressions. But the purpose of my comment is no-regressions **could** be 
mandatory. Today I don't depend on these software, so I can't work on these 
projects. But tomorrow I don't know and it is why I do this technological 
survey. And many people depends on them without knowing how to confirm 
released version.


----- Original Message ----- 
From: "Frank Warmerdam" <warmerdam at pobox.com>
To: "PROJ.4 and general Projections Discussions" <proj at lists.maptools.org>
Sent: Thursday, September 24, 2009 10:21 PM
Subject: Re: [Proj] ntf_r93.gsb file corrupted


Cuinet JÃ©rÃ´me wrote:
> A question to be sure :
>
> Is Proj.4 linked in popular projects such as gdal, wich is linked in 
> popular
> desktop applications ?

JÃ©rÃ´me,

PROJ.4 is optionally used by GDAL.  It is used in popular applications
such as MapServer, and QGIS.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, 
warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj



From hamish_b at yahoo.com  Thu Sep 24 14:25:13 2009
From: hamish_b at yahoo.com (Hamish)
Date: Thu, 24 Sep 2009 14:25:13 -0700 (PDT)
Subject: [Proj] ntf_r93.gsb file corrupted
In-Reply-To: <EE3377700FFE46DEBDD5C8511F1BA7FC@JCPORTABLE>
Message-ID: <120373.81221.qm@web110013.mail.gq1.yahoo.com>

Cuinet JÃ©rÃ´me wrote:
> Also, myself I do software with regressions. So I know how
> vicious are regressions. But the purpose of my comment is
> no-regressions **could** be mandatory. Today I don't depend
> on these software, so I can't work on these projects. But
> tomorrow I don't know and it is why I do this technological 
> survey. And many people depends on them without knowing how
> to confirm released version.

I am sure that a donation to the project of a test-suite would
be most welcome.


regards,
Hamish



      


From jerome at georezo.net  Thu Sep 24 14:53:47 2009
From: jerome at georezo.net (=?iso-8859-1?Q?Cuinet_J=E9r=F4me?=)
Date: Thu, 24 Sep 2009 23:53:47 +0200
Subject: [Proj] ntf_r93.gsb file corrupted
In-Reply-To: <120373.81221.qm@web110013.mail.gq1.yahoo.com>
References: <120373.81221.qm@web110013.mail.gq1.yahoo.com>
Message-ID: <1EFFA4D7BB7A458F9F6F7F058F08D4B9@JCPORTABLE>

Yes,

I am also sure of that !

But could we validate a release until we are not sure that there is not 
regression ? A test-suite do tests the quicklest. Not to have a test-suite 
imply to do tests slowlier or not to do tests ?

Here, we have unix systems tests and tests disabled.

When I will use the product's project, I must donate, or I do as I could...


----- Original Message ----- 
From: "Hamish" <hamish_b at yahoo.com>
To: "PROJ.4 and general Projections Discussions" <proj at lists.maptools.org>
Sent: Thursday, September 24, 2009 11:25 PM
Subject: Re: [Proj] ntf_r93.gsb file corrupted


Cuinet JÃ©rÃ´me wrote:
> Also, myself I do software with regressions. So I know how
> vicious are regressions. But the purpose of my comment is
> no-regressions **could** be mandatory. Today I don't depend
> on these software, so I can't work on these projects. But
> tomorrow I don't know and it is why I do this technological
> survey. And many people depends on them without knowing how
> to confirm released version.

I am sure that a donation to the project of a test-suite would
be most welcome.


regards,
Hamish




_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj



From EMiller at dfg.ca.gov  Thu Sep 24 15:17:44 2009
From: EMiller at dfg.ca.gov (Eric Miller)
Date: Thu, 24 Sep 2009 15:17:44 -0700
Subject: [Proj] ntf_r93.gsb file corrupted
In-Reply-To: <4ABBBF52.7050709@pobox.com>
References: <4ABA596B.5040509@pobox.com>
	<54E7DB8AE7D44475A42BC1642EECD57B@JCPORTABLE>
	<4ABBBF52.7050709@pobox.com>
Message-ID: <4ABB8D97.95FD.00E4.0@dfg.ca.gov>

>>> On 9/24/2009 at 11:49 AM, Frank Warmerdam <warmerdam at pobox.com>
wrote:
> Cuinet JÃ©rÃ´me wrote:
>> A question :
>> 
>> Are not there some coordinate transformation tests which verifiy the

>> calculations ?
>> 
>> I don't know how often mistakes appears, but this type of tests
don't seems 
>> to be diificult to construct.
> 
> JÃ©rÃ´me,
> 
> There are regression tests, but they do not include ntf_r93.gsb even
now.
> I would add the problem corrupted the file in a relatively subtle way
that
> would only be detected for a grid shift in some places.

Wouldn't it be better to use md5 checksums or digital signatures to
verify that a data file's contents haven't been altered?  The md5 sum
approach doesn't provide much security, but it can be a quick
verification check that something hasn't gone horribly wrong with the
file.

md5sum ntf_r93.gsb > ntf_r93.gsb.md5sum

md5sum -c ntf_r93.gsb.md5sum

Or some variation...

-- 

Eric G. Miller
Staff Programmer
CA Dept. of Fish & Game



From jerome at georezo.net  Thu Sep 24 15:33:09 2009
From: jerome at georezo.net (=?iso-8859-15?Q?Cuinet_J=E9r=F4me?=)
Date: Fri, 25 Sep 2009 00:33:09 +0200
Subject: [Proj] ntf_r93.gsb file corrupted
In-Reply-To: <4ABB8D97.95FD.00E4.0@dfg.ca.gov>
References: <4ABA596B.5040509@pobox.com><54E7DB8AE7D44475A42BC1642EECD57B@JCPORTABLE><4ABBBF52.7050709@pobox.com>
	<4ABB8D97.95FD.00E4.0@dfg.ca.gov>
Message-ID: <776FB1790C2747EDA317E57B7637316D@JCPORTABLE>

MD5 test is to tests the file integrity. But if here the problem is due to 
file integrity, further problem of regression may be due to another cause.

Development tests may include MD5 integrity test, but finally global test 
could be made. The aim is to detect a problem, next to diagnostic it, is it 
?


----- Original Message ----- 
From: "Eric Miller" <EMiller at dfg.ca.gov>
To: "PROJ.4 and general Projections Discussions" <proj at lists.maptools.org>
Sent: Friday, September 25, 2009 12:17 AM
Subject: Re: [Proj] ntf_r93.gsb file corrupted


>>> On 9/24/2009 at 11:49 AM, Frank Warmerdam <warmerdam at pobox.com>
wrote:
> Cuinet JÃ©rÃ´me wrote:
>> A question :
>>
>> Are not there some coordinate transformation tests which verifiy the

>> calculations ?
>>
>> I don't know how often mistakes appears, but this type of tests
don't seems
>> to be diificult to construct.
>
> JÃ©rÃ´me,
>
> There are regression tests, but they do not include ntf_r93.gsb even
now.
> I would add the problem corrupted the file in a relatively subtle way
that
> would only be detected for a grid shift in some places.

Wouldn't it be better to use md5 checksums or digital signatures to
verify that a data file's contents haven't been altered?  The md5 sum
approach doesn't provide much security, but it can be a quick
verification check that something hasn't gone horribly wrong with the
file.

md5sum ntf_r93.gsb > ntf_r93.gsb.md5sum

md5sum -c ntf_r93.gsb.md5sum

Or some variation...

-- 

Eric G. Miller
Staff Programmer
CA Dept. of Fish & Game

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj



From al001 at uni-koeln.de  Fri Sep 25 00:49:23 2009
From: al001 at uni-koeln.de (Irwin Scollar)
Date: Fri, 25 Sep 2009 09:49:23 +0200
Subject: [Proj] gsb file format
In-Reply-To: <mailman.2677.1253827530.26043.proj@lists.maptools.org>
References: <mailman.2677.1253827530.26043.proj@lists.maptools.org>
Message-ID: <200909250750.n8P7o9je017489@smtp-auth.uni-koeln.de>

A question from an outsider:

The gsb file format appears to have originated with Golden Software 
for their MapViewer program.  Only two items in the proj4 datum grid 
list seem to use it.

Where is it documented? Is it proprietary?

Irwin Scollar



From warmerdam at pobox.com  Fri Sep 25 07:10:53 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri, 25 Sep 2009 10:10:53 -0400
Subject: [Proj] gsb file format
In-Reply-To: <200909250750.n8P7o9je017489@smtp-auth.uni-koeln.de>
References: <mailman.2677.1253827530.26043.proj@lists.maptools.org>
	<200909250750.n8P7o9je017489@smtp-auth.uni-koeln.de>
Message-ID: <4ABCCF6D.6050905@pobox.com>

Irwin Scollar wrote:
> A question from an outsider:
> 
> The gsb file format appears to have originated with Golden Software 
> for their MapViewer program.  Only two items in the proj4 datum grid 
> list seem to use it.
> 
> Where is it documented? Is it proprietary?

Irwin,

Despite the extension, I think the .gsb files are NTv2 format and are
unrelated to the Golden Software raster format which uses the same
extension.  The NTv2 format was, I believe, initially defined by a
Canadian federal government group though the details escape me just now.
I could likely find more info on this if you really need it though there
have been discussions on the list about NTv2 format doc sources in the not
to distant past.

The lesson: don't trust filename extensions.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From warmerdam at pobox.com  Tue Sep 29 11:41:27 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue, 29 Sep 2009 14:41:27 -0400
Subject: [Proj] PROJ 4.7.0 Released
Message-ID: <4AC254D7.2020707@pobox.com>

Folks,

I am pleased to announce the release of PROJ 4.7.0 available from:

   http://download.osgeo.org/proj/proj-4.7.0.tar.gz
   http://download.osgeo.org/proj/proj-4.7.0.zip

Release notes from the NEWS file:

  o Added in memory caching of init file search results for substantial
    acceleration in some application environments (like MapServer).

  o Regenerated nad/epsg init file with EPSG 7.1 database, including new
    support for Google Mercator (EPSG:3857).

  o Various thread safety improvements, including preliminary support for
    a mutex lock around some operations, like grid loading.

I plan to put out an OSGeo4W update based on this shortly.  I would encourage
other platform packages to incorporate this release as practical.  As always
feedback is welcome, and bug reports can be filed at:

   http://proj.osgeo.org/

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From Bob.Basques at ci.stpaul.mn.us  Tue Sep 29 12:10:32 2009
From: Bob.Basques at ci.stpaul.mn.us (Bob Basques)
Date: Tue, 29 Sep 2009 14:10:32 -0500
Subject: [Proj] Question related to the new version
In-Reply-To: <4AC254D7.2020707@pobox.com>
References: <4AC254D7.2020707@pobox.com>
Message-ID: <4AC21558.163B.00A8.0@ci.stpaul.mn.us>

Related to the new stuff. 

Did the AutoDesk projection LIB ever make it into the PROJ (or some other type of projectin list) as a published product for use?  I remember something about some new form of listing (like EPSG) that was going to be assembled, but . . . 

I'm specifically interested in getting a projection for all the counties for each US state, which is in the AutoCAD list. 

Thanks 

bobb 



>>> Frank Warmerdam <warmerdam at pobox.com> wrote:

Folks,

I am pleased to announce the release of PROJ 4.7.0 available from:

   http://download.osgeo.org/proj/proj-4.7.0.tar.gz
   http://download.osgeo.org/proj/proj-4.7.0.zip

Release notes from the NEWS file:

  o Added in memory caching of init file search results for substantial
    acceleration in some application environments (like MapServer).

  o Regenerated nad/epsg init file with EPSG 7.1 database, including new
    support for Google Mercator (EPSG:3857).

  o Various thread safety improvements, including preliminary support for
    a mutex lock around some operations, like grid loading.

I plan to put out an OSGeo4W update based on this shortly.  I would encourage
other platform packages to incorporate this release as practical.  As always
feedback is welcome, and bug reports can be filed at:

   http://proj.osgeo.org/

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam ( http://pobox.com/~warmerdam )
and watch the world go round - Rush    | Geospatial Programmer for Rent

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20090929/97fbc5d2/attachment.html>

From warmerdam at pobox.com  Tue Sep 29 12:27:10 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue, 29 Sep 2009 15:27:10 -0400
Subject: [Proj] Question related to the new version
In-Reply-To: <4AC21558.163B.00A8.0@ci.stpaul.mn.us>
References: <4AC254D7.2020707@pobox.com> <4AC21558.163B.00A8.0@ci.stpaul.mn.us>
Message-ID: <4AC25F8E.8090404@pobox.com>

Bob Basques wrote:
> 
> 
> Related to the new stuff.
> 
> 
> Did the AutoDesk projection LIB ever make it into the PROJ (or some 
> other type of projectin list) as a published product for use?  I 
> remember something about some new form of listing (like EPSG) that was 
> going to be assembled, but . . .
> 
> 
> I'm specifically interested in getting a projection for all the counties 
> for each US state, which is in the AutoCAD list.

Bob,

I believe you are referring to the CS-Map software library.  This has
been released by Autodesk as open source, and it is part of the
MetaCRS project, but it is distinct from PROJ.4.  It can be found at:

   http://csmap.osgeo.org/

It does include a variety of coordinate system dictionaries - some
derived from EPSG, but also from a variety of other sources.  I'm not
really familiar with it, and I don't immediately see one that is a
dictionary of county coordinate systems, but Norm and Hugues on
the metacrs list are the people to answer the question!

There has been a wee bit of discussion of how to more effectively share
coordinate system definitions between CSMap and PROJ.4, but so far there
hasn't been anything concrete done.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From Bob.Basques at ci.stpaul.mn.us  Tue Sep 29 12:36:57 2009
From: Bob.Basques at ci.stpaul.mn.us (Bob Basques)
Date: Tue, 29 Sep 2009 14:36:57 -0500
Subject: [Proj] Question related to the new version
In-Reply-To: <4AC25F8E.8090404@pobox.com>
References: <4AC254D7.2020707@pobox.com>
	<4AC21558.163B.00A8.0@ci.stpaul.mn.us> <4AC25F8E.8090404@pobox.com>
Message-ID: <4AC21B89.163B.00A8.0@ci.stpaul.mn.us>

Frank, 

Thanks for the reply.  I posted here initially since PROJ.4 is listed as a sub-project to MetaCRS which I figured would implement the additional projections (somehow) in PROJ.4 

The counties are I believe separated or grouped by state, but I'm not that famialr with it either to tell the truth, just a long time user of AutoCAD Map and it's projection database. 

bobb 




>>> Frank Warmerdam <warmerdam at pobox.com> wrote:

Bob Basques wrote:
>
>
> Related to the new stuff.
>
>
> Did the AutoDesk projection LIB ever make it into the PROJ (or some
> other type of projectin list) as a published product for use?  I
> remember something about some new form of listing (like EPSG) that was
> going to be assembled, but . . .
>
>
> I'm specifically interested in getting a projection for all the counties
> for each US state, which is in the AutoCAD list.

Bob,

I believe you are referring to the CS-Map software library.  This has
been released by Autodesk as open source, and it is part of the
MetaCRS project, but it is distinct from PROJ.4.  It can be found at:

   http://csmap.osgeo.org/

It does include a variety of coordinate system dictionaries - some
derived from EPSG, but also from a variety of other sources.  I'm not
really familiar with it, and I don't immediately see one that is a
dictionary of county coordinate systems, but Norm and Hugues on
the metacrs list are the people to answer the question!

There has been a wee bit of discussion of how to more effectively share
coordinate system definitions between CSMap and PROJ.4, but so far there
hasn't been anything concrete done.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam ( http://pobox.com/~warmerdam )
and watch the world go round - Rush    | Geospatial Programmer for Rent

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20090929/5b720146/attachment.html>

From szekerest at gmail.com  Tue Sep 29 15:24:26 2009
From: szekerest at gmail.com (Tamas Szekeres)
Date: Wed, 30 Sep 2009 00:24:26 +0200
Subject: [Proj] PROJ 4.7.0 Released
In-Reply-To: <4AC254D7.2020707@pobox.com>
References: <4AC254D7.2020707@pobox.com>
Message-ID: <f3b73b7d0909291524t40c933l26c19ffc0324bf3f@mail.gmail.com>

2009/9/29 Frank Warmerdam <warmerdam at pobox.com>:

> I plan to put out an OSGeo4W update based on this shortly. Â I would encourage
> other platform packages to incorporate this release as practical. Â As always
> feedback is welcome, and bug reports can be filed at:
>
> Â  http://proj.osgeo.org/
>

Frank,

Good work indeed, thanks for the release. I would apply for a small
change in nmake.opt in order to have my automated builds running
smoothly. http://trac.osgeo.org/proj/ticket/54
This would also be required if we were about to extend the buildbot
(http://buildbot.osgeo.org:8502/waterfall) with further windows
buildslaves.

I'm a bit confused about the datumgrid files can be downoaded at:
http://download.osgeo.org/proj/proj-datumgrid-1.5.zip
It seems some of those files have already been versioned in SVN (which
are the newer ones). Wouldn't it be reasonable to have all those files
in the SVN repository?

Best regards,

Tamas


From warmerdam at pobox.com  Tue Sep 29 20:44:39 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue, 29 Sep 2009 23:44:39 -0400
Subject: [Proj] PROJ 4.7.0 Released
In-Reply-To: <f3b73b7d0909291524t40c933l26c19ffc0324bf3f@mail.gmail.com>
References: <4AC254D7.2020707@pobox.com>
	<f3b73b7d0909291524t40c933l26c19ffc0324bf3f@mail.gmail.com>
Message-ID: <4AC2D427.3020401@pobox.com>

Tamas Szekeres wrote:
> 2009/9/29 Frank Warmerdam <warmerdam at pobox.com>:
> 
>> I plan to put out an OSGeo4W update based on this shortly.  I would encourage
>> other platform packages to incorporate this release as practical.  As always
>> feedback is welcome, and bug reports can be filed at:
>>
>>   http://proj.osgeo.org/
>>
> 
> Frank,
> 
> Good work indeed, thanks for the release. I would apply for a small
> change in nmake.opt in order to have my automated builds running
> smoothly. http://trac.osgeo.org/proj/ticket/54
> This would also be required if we were about to extend the buildbot
> (http://buildbot.osgeo.org:8502/waterfall) with further windows
> buildslaves.

Tamas,

Applied.

> I'm a bit confused about the datumgrid files can be downoaded at:
> http://download.osgeo.org/proj/proj-datumgrid-1.5.zip
> It seems some of those files have already been versioned in SVN (which
> are the newer ones). Wouldn't it be reasonable to have all those files
> in the SVN repository?

I'm not convinced that grid shift files belong in the source tree. Some
of the ones that are there were carried over from the 90's and others
were added by folks other than me.

Today I was considering having grid shift files in a directory in
subversion that is parallel to the source tree, and in fact I just
moved the old postscript files out parallel to the source code
(http://svn.osgeo.org/metacrs/proj/trunk/docs).

However, since the files are not generally revised, are large,
binary and not "owned" by PROJ.4 I'm not convinced they belong in
subversion at all.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From Roger.Bivand at nhh.no  Wed Sep 30 11:58:45 2009
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Wed, 30 Sep 2009 18:58:45 +0000 (UTC)
Subject: [Proj] PROJ 4.7.0 Released
References: <4AC254D7.2020707@pobox.com>
Message-ID: <loom.20090930T205012-992@post.gmane.org>

Frank Warmerdam <warmerdam <at> pobox.com> writes:

> 
> Folks,
> 
> I am pleased to announce the release of PROJ 4.7.0 available from:
> 
>    http://download.osgeo.org/proj/proj-4.7.0.tar.gz
>    http://download.osgeo.org/proj/proj-4.7.0.zip
> 

Hi,

Am I missing something?

I'm seeing:

$ proj
Rel. 4.7.1, 23 September 2009
usage: proj [ -beEfiIlormsStTvVwW [args] ] [ +opts[=arg] ] [ files ]

and in proj-4.7.0/src:

$ grep "4.7.1" *
pj_release.c:char const pj_release[]="Rel. 4.7.1, 23 September 2009";

So this is actually 4.7.1, since that is what pj_get_release() returns?

Maybe pj_release.c should be built to match the information in the headers in
proj_config.h and its originator?

Any ideas?

Roger






From warmerdam at pobox.com  Wed Sep 30 13:19:47 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed, 30 Sep 2009 16:19:47 -0400
Subject: [Proj] PROJ 4.7.0 Released
In-Reply-To: <loom.20090930T205012-992@post.gmane.org>
References: <4AC254D7.2020707@pobox.com>
	<loom.20090930T205012-992@post.gmane.org>
Message-ID: <4AC3BD63.1000006@pobox.com>

Roger Bivand wrote:
> Am I missing something?
> 
> I'm seeing:
> 
> $ proj
> Rel. 4.7.1, 23 September 2009
> usage: proj [ -beEfiIlormsStTvVwW [args] ] [ +opts[=arg] ] [ files ]
> 
> and in proj-4.7.0/src:
> 
> $ grep "4.7.1" *
> pj_release.c:char const pj_release[]="Rel. 4.7.1, 23 September 2009";
> 
> So this is actually 4.7.1, since that is what pj_get_release() returns?
> 
> Maybe pj_release.c should be built to match the information in the headers in
> proj_config.h and its originator?

/me whacks self in forehead.

At this point it isn't really proper for me to reissue 4.7.0, so I would
need to issue 4.7.1 at which point the pj_release values would be true!

I'm just going to ignore this botch in the hopes it isn't really serious
though I imagine it will confuse people from time to time.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From peifer at gmx.eu  Wed Sep 30 13:45:13 2009
From: peifer at gmx.eu (Hermann Peifer)
Date: Wed, 30 Sep 2009 22:45:13 +0200
Subject: [Proj] PROJ 4.7.0 Released
In-Reply-To: <4AC3BD63.1000006@pobox.com>
References: <4AC254D7.2020707@pobox.com>	<loom.20090930T205012-992@post.gmane.org>
	<4AC3BD63.1000006@pobox.com>
Message-ID: <ha0g0p$15t$1@ger.gmane.org>

Frank Warmerdam wrote:
> 
> I'm just going to ignore this botch in the hopes it isn't really serious
> though I imagine it will confuse people from time to time.
> 

By the way confusing... cs2cs, geod, nad2nad and proj man pages say:

>  2000/03/21 Rel. 4.4

Hermann



From neteler at osgeo.org  Wed Sep 30 13:49:14 2009
From: neteler at osgeo.org (Markus Neteler)
Date: Wed, 30 Sep 2009 22:49:14 +0200
Subject: [Proj] PROJ 4.7.0 Released
In-Reply-To: <ha0g0p$15t$1@ger.gmane.org>
References: <4AC254D7.2020707@pobox.com>
	<loom.20090930T205012-992@post.gmane.org> 
	<4AC3BD63.1000006@pobox.com> <ha0g0p$15t$1@ger.gmane.org>
Message-ID: <86782b610909301349o2cb949e9id6eca24b1780d809@mail.gmail.com>

On Wed, Sep 30, 2009 at 10:45 PM, Hermann Peifer <peifer at gmx.eu> wrote:
> Frank Warmerdam wrote:
>>
>> I'm just going to ignore this botch in the hopes it isn't really serious
>> though I imagine it will confuse people from time to time.
>>
>
> By the way confusing... cs2cs, geod, nad2nad and proj man pages say:
>
>> Â 2000/03/21 Rel. 4.4

The best solution might be to replace the hardcoded version
strings with Makefile magic which uses the available
PACKAGE_STRING
(found in man/Makefile)

Markus


