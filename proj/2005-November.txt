From br at forstware.de  Tue Nov  1 00:19:43 2005
From: br at forstware.de (Bjoern Ruff)
Date: Tue, 1 Nov 2005 09:19:43 +0100
Subject: [Proj] Accuracy of results
Message-ID: <200511010816.jA18Gk6x027166@forstw.forstware.de>

Hi,

I tried a projection into Gauss-Krueger

proj +proj=tmerc +lat_0=0 +lon_0=9 +k=1.000000 +x_0=3500000 +y_0=0
+ellps=bessel +datum=potsdam +units=m +no_defs
9.27593e 47.69597n
3520709.54      5284121.62

this result differs about 80m in x and in y from the conversion from the
official site:

https://upd.geodatenzentrum.de/cts/server?REQUEST=GetCoordinates&FROMSRS=GEO
84&TOSRS=GK3&COORDS=9.27592 47.69597 
- <CTS_Response version="1.0">
  <SRS name="GK3" /> 
  <COORDS values="3520788.1716 5284220.4243" /> 
  </CTS_Response>


Can someone tell me the reason?

Thanks,
Bjoern

===================================
Bjoern Ruff
http:/www.forstware.com
br at forstware.de  



 



From br at forstware.de  Tue Nov  1 04:13:18 2005
From: br at forstware.de (Bjoern Ruff)
Date: Tue, 1 Nov 2005 13:13:18 +0100
Subject: [Proj] RE: Accuracy of results
Message-ID: <200511011210.jA1CAMun027735@forstw.forstware.de>

Hello all,

thank's for your answers, cs2cs does the job.

Cheers,
Bjoern

> -----Original Message-----
> From: Bjoern Ruff [mailto:br at forstware.de] 
> Sent: Tuesday, November 01, 2005 9:20 AM
> To: 'proj at lists.maptools.org'
> Subject: Accuracy of results
> 
> Hi,
> 
> I tried a projection into Gauss-Krueger
> 
> proj +proj=tmerc +lat_0=0 +lon_0=9 +k=1.000000 +x_0=3500000 
> +y_0=0 +ellps=bessel +datum=potsdam +units=m +no_defs 
> 9.27593e 47.69597n
> 3520709.54      5284121.62
> 
> this result differs about 80m in x and in y from the 
> conversion from the official site:
> 
> https://upd.geodatenzentrum.de/cts/server?REQUEST=GetCoordinat
es&FROMSRS=GEO84&TOSRS=GK3&COORDS=9.27592 47.69597
> - <CTS_Response version="1.0">
>   <SRS name="GK3" />
>   <COORDS values="3520788.1716 5284220.4243" />
>   </CTS_Response>
> 
> 
> Can someone tell me the reason?
> 
> Thanks,
> Bjoern
> 
> ===================================
> Bjoern Ruff
> http:/www.forstware.com
> br at forstware.de  
> 
> 
> 
>  
> 



From mkennedy2 at earthlink.net  Tue Nov  1 19:29:56 2005
From: mkennedy2 at earthlink.net (Melita Kennedy)
Date: Tue, 1 Nov 2005 19:29:56 -0800 (GMT-08:00)
Subject: [Proj] Re: Oblique Parameter Question (Mike Darweesh)
Message-ID: <465312.1130902196636.JavaMail.root@elwamui-chisos.atl.sa.earthlink.net>

Mike and Michael,

I don't know if this will help at all. o_lon_p and o_lat_p define the new pole 
for the latitude and longitude values. So the lat/lon values are converted  
to a new, rotated sphere, then projected. I assume the values you set 
for the projection should be based on the new spheroid. John Snyder 
talks about this theoretically in _Map Projections: A Working Manual_, pp 29-32. 
ASU libraries reports that there's a copy in "Hayden US Documents", I 19.16:1395.

Melita Kennedy
ESRI Product Specialist

-------------------------------------------------------------------------------------

Date: Fri, 28 Oct 2005 18:30:32 -0700
From: Mike Darweesh <mjd at surly.org>
Subject: [Proj] Oblique Parameter Question
To: proj at lists.maptools.org
Cc: Michael Weiss-Malik <gigabyte at east.mars.asu.edu>

Hi All,

Michael and I are trying to learn about the ob_tran projection in order to
facilitate use here at the Mars Space Flight Facility. We need more
information about the o_lon_p and o_lat_p parameters. Could someone give an
exact English description of how they operate or a URL to such. We
understand the notion of an oblique projection, but we're having a hard time
understanding how these parameters define the "obliqueness". We applying
these to eqc (Platte Caree) if that simplifies your answer at all.

Thanks,
-Mike and Michael



From gerald.evenden at verizon.net  Sun Nov  6 19:39:33 2005
From: gerald.evenden at verizon.net (Gerald I. Evenden)
Date: Sun, 06 Nov 2005 22:39:33 -0500
Subject: [Proj] PROCEDURA REALIZACJI KOREKT GLOBALNYCH
 =?iso-8859-1?q?UK=A3ADU_19?= =?iso-8859-1?q?65?=  procedure
In-Reply-To: <200510311642.38754.gerald.evenden@verizon.net>
References: <000f01c5d726$eec4c850$6501a8c0@taxussi.com.pl>
	<4362BCE3.3050704@loskot.net>
	<200510311642.38754.gerald.evenden@verizon.net>
Message-ID: <200511062239.34071.gerald.evenden@verizon.net>

There is a 30kb tarball of the correction software with simple makefile but no
documentation other than --help runline option.  It acts like a filter with
lproj (or older proj).  I have no idea if it solves anything.

I will be glad to email it to any interested party and I will leave y'all 
figure out if it works.  ;-)

-- 
Jerry and the low riders:Daisy May and Joshua
"The being cannot be termed rational or virtuous,
who obeys any authority, but that of reason."
---Mary Wollstonecraft 1792


From hamish_nospam at yahoo.com  Sun Nov  6 23:02:47 2005
From: hamish_nospam at yahoo.com (Hamish)
Date: Mon, 7 Nov 2005 20:02:47 +1300
Subject: [Proj] Automatic GpsDrive background maps from GRASS GIS
Message-ID: <20051107200247.1d4ae7bb.hamish_nospam@yahoo.com>

Hi GpsDrivers and GRASSers,

I have written an export script that takes a GRASS GIS 6.1 (CVS version)
display window and saves it to a gpsdrive background image. The file is
placed in ~/.gpsdrive and the map_koord.txt index file is updated with
the georeferencing information.

This is nice as GRASS supports plotting almost every spatial data format
out there (thanks in large part to GDAL), and (at least for me) the
Expedia maps suck quite badly. www.multimap.com is nice but no support
from gpsfetchmap.pl currently. GRASS does all sorts of nice things like
overlaying of geographic grids and placement of rotated street names
(via v.label + d.paint.labels).

As GpsDrive uses a simple projection scaling method* things get wrong in
a hurry if you try and make images covering regional scales. Things are
not too bad if you are zoomed in, and I have it issue a warning if you
are beyond 125,000 (totally arbitrary choice).

Export from a Lat/Lon location gives really bad scaling in the x for
images bigger than ~50km wide. Suggestions on fixing this welcome,

[*] Georeferencing in gpsdrive is accomplished by coordinate of center
of image (LatLon) + a scaling factor proportional to meters/pixel [image
is always 1280x1024]. GRASS displays all projections (incl Lat/Lon) with
x and y the same, ie 1deg Lat x 1deg Lon is a perfect square.
I imagine someone smart could tell me custom Proj4 settings for
gdal_translate,gdalwarp to make things perfect &/or what params to use 
to set the GRASS projection settings correctly in the first instance.


If the script proves useful and correct (ie we fix the scaling problems)
I can add it into GRASS CVS, but for now it can be found on the GRASS-
Wiki Add-ons page as d.out.gpsdrive:

http://grass.gdf-hannover.de/twiki/bin/view/GRASS/GrassAddOns


Also note it would be really easy to write a GRASS script to pan over 
a large area spitting out many fine scale gpsdrive image tiles--

Get region extents with `g.region -e` then do:
    g.region w="w+$ew_width"` e="e+$ew_width"
    `g.region -l` # or -c to get new center lat/lon
    d.redraw
    d.out.gpsdrive city_${cent_lat}_${cent_lon}__${i}_${j}
in a big loop.

feedback encouraged.


http://grass.ibiblio.org/index.php
http://gpsdrive.kraftvoll.at


enjoy,
Hamish


From mfinn at usgs.gov  Mon Nov  7 02:00:18 2005
From: mfinn at usgs.gov (Michael P Finn)
Date: Mon, 7 Nov 2005 04:00:18 -0600
Subject: [Proj] Michael P Finn of the USGS/ National Geospatial Technical
 Operations Center is out of the office.
Message-ID: <OF23AB4477.CB145074-ON862570B2.0036F5AD-862570B2.0036F5AE@usgs.gov>

I will be out of the office starting  11/05/2005 and will not return until
11/08/2005.

I will be unable to check e-mail regularly while I am out. If I can't
respond to your message while I am out, then I will when I return. If you
have anything that cannot wait, please contact my colleague, Mr. Michael
Williams, at mswilliams at usgs.gov. Thanks.     Mike



From Hugo.Tyson at cpslocates.com  Tue Nov  8 01:33:56 2005
From: Hugo.Tyson at cpslocates.com (Hugo Tyson)
Date: Tue, 8 Nov 2005 09:33:56 -0000
Subject: [Proj] Using QGIS/proj4 to map WGS84 LL to OSGB36 (UK) grid
Message-ID: <DA84911DC41E2041AC4998F54C3E24FB03EF0C@cps-ex1.cps.local>


Change Request/FAQ candidate: Using OSGB36 UK grid

Apologies if this is posted in the wrong place -
the audience is intended to be users and developers
of both PROJ and QGIS.

Versions in use: proj-4.4.9; qgis-0.7.0

Using QGIS and cs2cs (proj4), we were unable to convert
from WGS84 Lat/Long to OSGB36 grid references matching
the Ordnance Survey's own website:
http://www.gps.gov.uk/convert.asp
(You have to register/log-in to use the converter)

Best we got was results roughly matching web OSGB tools
that don't do datum conversion, just projection (meaning
from OSGB36 datum Lat/Long to UK grid).

So we worked out that to get cs2cs to do the conversion
completely correctly, we had to tell it about the Airy
or OSGB 1936 *datum* as well as the Airy ellipse that 
it already knows about.  To do this you need to add a line
to the datums data (sic) definition table in pj_datums.c
and re-build/re-install. The table starts:
C_NAMESPACE struct PJ_DATUMS pj_datums[] = {
/* id       definition                               ellipse  comments */
/* --       ----------                               -------  -------- */
"WGS84",    "towgs84=0,0,0",                         "WGS84", "",

and the extra line (anywhere in that table) needs to be:

"airy", "towgs84=446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894", "airy", "Airy 1830",

The numbers for the 7-value Helmert transformation came from the 
OS web document http://www.gps.gov.uk/guidecontents.asp
which gives the values for converting *to* OSGB36 - proj requires
the inverse of that: "towgs84=...".  This definition isn't exactly
the inverse, it just has the signs flipped.  Given the nature of 
the transformation that's good enough.

To use this datum in cs2cs, the runes to cast are these:
  cs2cs +proj=latlong +to +proj=tmerc +lat_0=49 +lon_0=-2
        +k=0.999601 +x_0=400000 +y_0=-100000 +ellps=airy
        +datum=airy +units=m +no_defs
which gives results within a couple of metres of the Ordnance
Survey's converter.  "+datum=airy" is the new bit.

PROJ-REQUEST: proj people, please include this datum in future
proj releases.

[QGIS-specifics snipped - this msg also in QGIS forum]

Thanks are due to proj and qgis authors et al for providing these
excellent tools in the first place.  We are using them just for
demo purposes, we're not in the GIS business at all, so they've
provided a very easy and useful way to start working in the
GIS world.

Thanks again and best regards,

	- Hugo

-- 
Hugo Tyson
Cambridge Positioning Systems Ltd
62-64 Hills Road
Cambridge
CB2 1LA

http://www.cpslocates.com/

=************************************************************
This email and any attachments are confidential. They have been checked for viruses but it is your 
responsibility to conduct your own virus checks.

Cambridge Positioning Systems Limited, 62-64 Hills Road, Cambridge, CB2 1LA, is registered in England 
under company number 2808344.
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: proj-patch.txt
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20051108/d2d311a7/attachment.txt>

From warmerdam at pobox.com  Tue Nov  8 07:23:00 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue, 8 Nov 2005 10:23:00 -0500
Subject: [Proj] Using QGIS/proj4 to map WGS84 LL to OSGB36 (UK) grid
In-Reply-To: <DA84911DC41E2041AC4998F54C3E24FB03EF0C@cps-ex1.cps.local>
References: <DA84911DC41E2041AC4998F54C3E24FB03EF0C@cps-ex1.cps.local>
Message-ID: <931f8ea90511080722h163067a2ta47b38a7a37153b8@mail.gmail.com>

On 11/8/05, Hugo Tyson <Hugo.Tyson at cpslocates.com> wrote:
> and the extra line (anywhere in that table) needs to be:
>
> "airy", "towgs84=446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894", "airy", "Airy 1830",

Hugo,

I think it would be more appropriate to name this datum OSGB36
instead of Airy.  I will incorporate an adjusted definition in the code.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From Hugo.Tyson at cpslocates.com  Tue Nov  8 08:23:57 2005
From: Hugo.Tyson at cpslocates.com (Hugo Tyson)
Date: Tue, 8 Nov 2005 16:23:57 -0000
Subject: [Proj] Using QGIS/proj4 to map WGS84 LL to OSGB36 (UK) grid
Message-ID: <DA84911DC41E2041AC4998F54C3E24FB03EF12@cps-ex1.cps.local>

 <> wrote:
> On 11/8/05, Hugo Tyson <Hugo.Tyson at cpslocates.com> wrote:
>> and the extra line (anywhere in that table) needs to be:
>> 
>> "airy",
>> "towgs84=446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",
>> "airy", "Airy 1830",  
> 
> Hugo,
> 
> I think it would be more appropriate to name this datum OSGB36
> instead of Airy.  I will incorporate an adjusted definition in the
> code. 

Hi Frank, firstly thanks for your timely response.

Yeah, I was unsure which would be best -
often "+datum=fred +ellps=fred" seem to go
comfortably together but OSGB36 is 
technically the better name.  I'll alter our
patches accordingly to match what'll be there
in forthcoming proj releases.  Thanks!

Thanks again and Best Regards,

	- Huge

-- 
Hugo Tyson, Cambridge Positioning Systems Ltd
=************************************************************
This email and any attachments are confidential. They have been checked for viruses but it is your 
responsibility to conduct your own virus checks.

Cambridge Positioning Systems Limited, 62-64 Hills Road, Cambridge, CB2 1LA, is registered in England 
under company number 2808344.




From neteler at itc.it  Fri Nov 11 06:06:46 2005
From: neteler at itc.it (Markus Neteler)
Date: Fri, 11 Nov 2005 15:06:46 +0100
Subject: [Proj] Campo Inchauspe towgs84 parameters?
Message-ID: <20051111140645.GA10204@thuille.itc.it>

Dear list members,

we try to figure out the Campo Inchauspe to WGS 84 parameters to
reproject LANDSAT7 data from CONAE:

gdalinfo L71229083_08320020426_HTM.FST
Driver: FAST/EOSAT FAST Format
Size is 6920, 5960
Coordinate System is:
PROJCS["unnamed",
    GEOGCS["WGS 84",
        DATUM["WGS_1984",
            SPHEROID["WGS 84",6378137,298.257223563,
                AUTHORITY["EPSG","7030"]],
            TOWGS84[0,0,0,0,0,0,0],
            AUTHORITY["EPSG","6326"]],
        PRIMEM["Greenwich",0,
            AUTHORITY["EPSG","8901"]],
        UNIT["degree",0.0174532925199433,
            AUTHORITY["EPSG","9108"]],
        AXIS["Lat",NORTH],
        AXIS["Long",EAST],
        AUTHORITY["EPSG","4326"]],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["latitude_of_origin",0],
    PARAMETER["central_meridian",-66],
    PARAMETER["scale_factor",1],
    PARAMETER["false_easting",500000],
    PARAMETER["false_northing",10002288.3],
    UNIT["Meter",1]]
GeoTransform =
  548152.569386061, 29.49069590981356, -5.504468031548917
  6435853.497547253, -5.504408151466975, -29.49068635677127
Metadata:
  ACQUISITION_DATE=20020426
  SATELLITE=LANDSAT7
  SENSOR=ETM+
  BIAS1=0.000000000000000
  GAIN1=0.066823529411765
  BIAS2=3.200000000000000
  GAIN2=0.037058823529412
Corner Coordinates:
Upper Left  (  548152.569, 6435853.498) ( 65d29'21.08"W, 32d13'14.35"S)
Lower Left  (  515345.940, 6260089.007) ( 65d50'3.36"W, 33d48'23.03"S)
Upper Right (  752228.185, 6397762.993) ( 63d18'55.40"W, 32d32'11.40"S)
Lower Right (  719421.556, 6221998.502) ( 63d37'17.87"W, 34d 7'36.72"S)
Center      (  633787.063, 6328926.000) ( 64d33'56.11"W, 33d10'39.39"S)
Band 1 Block=6920x1 Type=Byte, ColorInterp=Undefined
Band 2 Block=6920x1 Type=Byte, ColorInterp=Undefined

The LANDSAT7 header does not contain the towgs84 parameters.

So I was looking at the EPSG 6.4/6.8 SQL databases which do contain these
parameters:

epsg_v68: Query Results
coord_op_name   coord_op_method_name    parameter_name  sort_order      parameter_value unit_of_meas_name       area_name
Campo Inchauspe to WGS 84 (1)   Geocentric translations X-axis translation
1       -148    metre   Argentina
Campo Inchauspe to WGS 84 (1)   Geocentric translations Y-axis translation
2       136     metre   Argentina
Campo Inchauspe to WGS 84 (1)   Geocentric translations Z-axis translation
3       90      metre   Argentina

However, we found different parameters mentioned in the Grids & Datums column
"THE REPUBLIC OF ARGENTINA" (12/1999), at
http://www.asprs.org/resources/grids/12-99-argentina.pdf

It is correct to use the parameters of EPSG?
If so, would it be possible to add them to the PROJ4 EPSG file?

Thanks in advance

 Markus Neteler


From warmerdam at pobox.com  Fri Nov 11 06:36:38 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri, 11 Nov 2005 09:36:38 -0500
Subject: [Proj] Campo Inchauspe towgs84 parameters?
In-Reply-To: <20051111140645.GA10204@thuille.itc.it>
References: <20051111140645.GA10204@thuille.itc.it>
Message-ID: <931f8ea90511110636w1a8b2b34hffa1f57a59750472@mail.gmail.com>

On 11/11/05, Markus Neteler <neteler at itc.it> wrote:
> So I was looking at the EPSG 6.4/6.8 SQL databases which do contain these
> parameters:
>
> epsg_v68: Query Results
> coord_op_name   coord_op_method_name    parameter_name  sort_order      parameter_value unit_of_meas_name       area_name
> Campo Inchauspe to WGS 84 (1)   Geocentric translations X-axis translation
> 1       -148    metre   Argentina
> Campo Inchauspe to WGS 84 (1)   Geocentric translations Y-axis translation
> 2       136     metre   Argentina
> Campo Inchauspe to WGS 84 (1)   Geocentric translations Z-axis translation
> 3       90      metre   Argentina
>
> However, we found different parameters mentioned in the Grids & Datums column
> "THE REPUBLIC OF ARGENTINA" (12/1999), at
> http://www.asprs.org/resources/grids/12-99-argentina.pdf
>
> It is correct to use the parameters of EPSG?
> If so, would it be possible to add them to the PROJ4 EPSG file?

Markus,

Is there really only one EPSG translation to WGS84
offered?  If so, I am surprised it isn't already in the EPSG
file.  Perhaps it was added since 6.5 that I last used.

Looking at Cliff's column, it seems EPSG shift is quite
different than the NIMA one Cliff indicates.  This would
make me quite nervous about picking just one of them as
authoritative.  I would add that "custom overrides" for
datums are very hard for me to maintain currently.

I do hope to reprocess the EPSG 6.8 database soon, and
if the autotranslation picks the -148,136,90 solution then that
will appear in the file.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From neteler at itc.it  Fri Nov 11 06:52:33 2005
From: neteler at itc.it (Markus Neteler)
Date: Fri, 11 Nov 2005 15:52:33 +0100
Subject: [Proj] Re: Campo Inchauspe towgs84 parameters?
In-Reply-To: <20051111140645.GA10204@thuille.itc.it>
References: <20051111140645.GA10204@thuille.itc.it>
Message-ID: <20051111145233.GC10204@thuille.itc.it>

Frank Warmerdam wrote:
> Markus,
>
> Is there really only one EPSG translation to WGS84
> offered?  If so, I am surprised it isn't already in the EPSG
> file.  Perhaps it was added since 6.5 that I last used.

Frank, I also found it in EPSG 6.4 and only found a single
set of (3) parameters as posted.

> Looking at Cliff's column, it seems EPSG shift is quite
> different than the NIMA one Cliff indicates.  This would
> make me quite nervous about picking just one of them as
> authoritative.

Right, hopefully we can find an answer in this forum.

> I would add that "custom overrides" for
> datums are very hard for me to maintain currently.
>
> I do hope to reprocess the EPSG 6.8 database soon, and
> if the autotranslation picks the -148,136,90 solution then that
> will appear in the file.

There must have been a reason to not having it already since it
is already in the EPSG V6.4 SQL DB. Maybe my query is wrong.

Best regards

 Markus



From cjmce at lsu.edu  Fri Nov 11 08:44:31 2005
From: cjmce at lsu.edu (Clifford J Mugnier)
Date: Fri, 11 Nov 2005 10:44:31 -0600
Subject: [Proj] Re: Campo Inchauspe to WGS84 parameters
Message-ID: <OF08BB5EA0.F219C4C8-ON862570B6.005BF6C3-862570B6.005BF75D@lsu.edu>





ALL datum shifts are approximations, particularly those that only use the 3
translations.  Accuracy increases as the number of parameters increase
and/or the size of the region being transformed decreases.

One generalization that is ALWAYS correct is that EVERY datum shift will
decrease the accuracy of the original data once it is transformed to the
other datum.

EPSG-published parameters are directed to regions that are predominately
hydrocarbon-producing ... e.g. coastal Argentina.  NIMA-published
parameters are directed to regions that are potential battle zones on land
... e.g. interior AND coastal Argentina.  None of them are "exact."
Classical datums have systematic errors that change greatly over vast
regions.  Argentina is not a small country.  Consider also the many sets of
3-parameter transformations available for the Continental U.S.

For those that "cherry pick" parameters from my columns, I suggest reading
the entire column with the associated background information for the
country of interest.  The primary living authority on Argentine Geodesy is
Mr. Ruben Rodriguez, as referenced in my column.  He is a practicing
Geodesist that lives in Argentina.

Datum shifts are "starters" for general reconaissance.  When one wants the
EXACT transformation parameters for a specific area, one puts a Geodesist
on the ground to find out.  Practical surveying beats out office theory
every time.

Cliff Mugnier



From ndzinn at houston.rr.com  Fri Nov 11 11:17:20 2005
From: ndzinn at houston.rr.com (Noel Zinn)
Date: Fri, 11 Nov 2005 13:17:20 -0600
Subject: [Proj] Re: Campo Inchauspe to WGS84 parameters
In-Reply-To: <OF08BB5EA0.F219C4C8-ON862570B6.005BF6C3-862570B6.005BF75D@lsu.edu>
Message-ID: <000301c5e6f4$89d4a3b0$0201a8c0@HPNZ>

Good points, Cliff, but you should caution your readers about the perils of
deriving 7-parameter shifts in "small" areas (and the use of 7-parameter
shifts so derived).  The smaller the area of the derivation the higher are
the correlations among the translations (as a group) and the rotations and
the scale (as another group).  In a small area the user should be satisfied
with deriving and using a 3-parameter shift, since the 3 orthogonal
translations are uncorrelated.  Introducing the rotations and scale to the
adjustment leads to (natural and expected) coordinate "noise" (inaccuracies)
driving big numbers for the solved parameters, which tend to countervail one
another and which are, therefore, physically meaningless.  In a small area
the 7-parameter derivation is an ill-conditioned adjustment that should be
avoided.  Of course, if you've already got a 7-parameter shift (given to
you) you need to use all 7 parameters (or you're in big trouble).  -Noel
Zinn  

-----Original Message-----
From: proj-bounces at lists.maptools.org
[mailto:proj-bounces at lists.maptools.org] On Behalf Of Clifford J Mugnier
Sent: Friday, November 11, 2005 10:45 AM
To: PROJ.4 and general Projections Discussions
Subject: Re: [Proj] Re: Campo Inchauspe to WGS84 parameters

ALL datum shifts are approximations, particularly those that only use the 3
translations.  Accuracy increases as the number of parameters increase
and/or the size of the region being transformed decreases.

One generalization that is ALWAYS correct is that EVERY datum shift will
decrease the accuracy of the original data once it is transformed to the
other datum.

EPSG-published parameters are directed to regions that are predominately
hydrocarbon-producing ... e.g. coastal Argentina.  NIMA-published
parameters are directed to regions that are potential battle zones on land
... e.g. interior AND coastal Argentina.  None of them are "exact."
Classical datums have systematic errors that change greatly over vast
regions.  Argentina is not a small country.  Consider also the many sets of
3-parameter transformations available for the Continental U.S.

For those that "cherry pick" parameters from my columns, I suggest reading
the entire column with the associated background information for the
country of interest.  The primary living authority on Argentine Geodesy is
Mr. Ruben Rodriguez, as referenced in my column.  He is a practicing
Geodesist that lives in Argentina.

Datum shifts are "starters" for general reconaissance.  When one wants the
EXACT transformation parameters for a specific area, one puts a Geodesist
on the ground to find out.  Practical surveying beats out office theory
every time.

Cliff Mugnier

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj




From ovv at hetnet.nl  Fri Nov 11 13:13:09 2005
From: ovv at hetnet.nl (Oscar van Vlijmen)
Date: Fri, 11 Nov 2005 22:13:09 +0100
Subject: [Proj] Re: Campo Inchauspe to WGS84 parameters
In-Reply-To: <OF08BB5EA0.F219C4C8-ON862570B6.005BF6C3-862570B6.005BF75D@lsu.edu>
Message-ID: <BF9AC7F4.5FDD%ovv@hetnet.nl>

>From mr. Warmerdam:
> Looking at Cliff's column, it seems EPSG shift is quite
> different than the NIMA one Cliff indicates.  This would
> make me quite nervous about picking just one of them as
> authoritative.

NGA-NIMA gives the -148,136,90 solution as a solution with respect to the
Campo Inchauspe 1969 datum.
The other solution mr. Mugnier's article mentions (-62,-1,-37) is the SAN-A
solution, I believe a mean solution for the whole of Argentina.
See the NGA-NIMA page:
<http://earth-info.nga.mil/GandG/coordsys/onlinedatum/CountrySouthAmericanTa
ble.html>




From ovv at hetnet.nl  Fri Nov 11 15:54:50 2005
From: ovv at hetnet.nl (Oscar van Vlijmen)
Date: Sat, 12 Nov 2005 00:54:50 +0100
Subject: [Proj] Re: Campo Inchauspe to WGS84 parameters
In-Reply-To: <000301c5e6f4$89d4a3b0$0201a8c0@HPNZ>
Message-ID: <BF9AEDDA.5FDF%ovv@hetnet.nl>

>From mr. Zinn:
> Good points, Cliff, but you should caution your readers about the perils of
> deriving 7-parameter shifts in "small" areas (and the use of 7-parameter
> shifts so derived).  The smaller the area of the derivation the higher are
> the correlations among the translations (as a group) and the rotations and
> the scale (as another group).  In a small area the user should be satisfied
> with deriving and using a 3-parameter shift, since the 3 orthogonal
> translations are uncorrelated.

Or use a 10-parameter Molodenksy-Badekas transformation. See EPSG coordinate
operation method 9636.
Example: the Dutch Cadastre has calculated coefficients for transformation
between Bessel 1841 and ETRS89. Rotation is around datum point Amersfoort.
See section 7.2.1 in "Het stelsel van de Rijksdriehoeksmeting en het
European Terrestrial Reference System 1989 - Gebruik en definitie"
(The RD system and the ETRS89 system - use and definitions; in Dutch
language).
http://www.rdnap.nl/download/rdnaptrans.pdf



  Introducing the rotations and scale to the
> adjustment leads to (natural and expected) coordinate "noise" (inaccuracies)
> driving big numbers for the solved parameters, which tend to countervail one
> another and which are, therefore, physically meaningless.  In a small area
> the 7-parameter derivation is an ill-conditioned adjustment that should be
> avoided.  Of course, if you've already got a 7-parameter shift (given to
> you) you need to use all 7 parameters (or you're in big trouble).  -Noel
> Zinn  
> 
> -----Original Message-----
> From: proj-bounces at lists.maptools.org
> [mailto:proj-bounces at lists.maptools.org] On Behalf Of Clifford J Mugnier
> Sent: Friday, November 11, 2005 10:45 AM
> To: PROJ.4 and general Projections Discussions
> Subject: Re: [Proj] Re: Campo Inchauspe to WGS84 parameters
> 
> ALL datum shifts are approximations, particularly those that only use the 3
> translations.  Accuracy increases as the number of parameters increase
> and/or the size of the region being transformed decreases.
> 
> One generalization that is ALWAYS correct is that EVERY datum shift will
> decrease the accuracy of the original data once it is transformed to the
> other datum.
> 
> EPSG-published parameters are directed to regions that are predominately
> hydrocarbon-producing ... e.g. coastal Argentina.  NIMA-published
> parameters are directed to regions that are potential battle zones on land
> ... e.g. interior AND coastal Argentina.  None of them are "exact."
> Classical datums have systematic errors that change greatly over vast
> regions.  Argentina is not a small country.  Consider also the many sets of
> 3-parameter transformations available for the Continental U.S.
> 
> For those that "cherry pick" parameters from my columns, I suggest reading
> the entire column with the associated background information for the
> country of interest.  The primary living authority on Argentine Geodesy is
> Mr. Ruben Rodriguez, as referenced in my column.  He is a practicing
> Geodesist that lives in Argentina.
> 
> Datum shifts are "starters" for general reconaissance.  When one wants the
> EXACT transformation parameters for a specific area, one puts a Geodesist
> on the ground to find out.  Practical surveying beats out office theory
> every time.
> 
> Cliff Mugnier
> 
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
> 
> 
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj



From ndzinn at houston.rr.com  Fri Nov 11 16:48:34 2005
From: ndzinn at houston.rr.com (Noel Zinn)
Date: Fri, 11 Nov 2005 18:48:34 -0600
Subject: [Proj] Re: Campo Inchauspe to WGS84 parameters
In-Reply-To: <BF9AEDDA.5FDF%ovv@hetnet.nl>
Message-ID: <000801c5e722$cffbb0d0$0301a8c0@HPNZ>

Mr. van Vlijmen,

Excellent!  The 10-parameter Molodenksy-Badekas transformation is the right
solution for small areas.

Is it supported by Proj.4?

Noel Zinn

-----Original Message-----
From: proj-bounces at lists.maptools.org
[mailto:proj-bounces at lists.maptools.org] On Behalf Of Oscar van Vlijmen
Sent: Friday, November 11, 2005 5:55 PM
To: PROJ.4 and general Projections Discussions
Subject: Re: [Proj] Re: Campo Inchauspe to WGS84 parameters

>From mr. Zinn:
> Good points, Cliff, but you should caution your readers about the perils
of
> deriving 7-parameter shifts in "small" areas (and the use of 7-parameter
> shifts so derived).  The smaller the area of the derivation the higher are
> the correlations among the translations (as a group) and the rotations and
> the scale (as another group).  In a small area the user should be
satisfied
> with deriving and using a 3-parameter shift, since the 3 orthogonal
> translations are uncorrelated.

Or use a 10-parameter Molodenksy-Badekas transformation. See EPSG coordinate
operation method 9636.
Example: the Dutch Cadastre has calculated coefficients for transformation
between Bessel 1841 and ETRS89. Rotation is around datum point Amersfoort.
See section 7.2.1 in "Het stelsel van de Rijksdriehoeksmeting en het
European Terrestrial Reference System 1989 - Gebruik en definitie"
(The RD system and the ETRS89 system - use and definitions; in Dutch
language).
http://www.rdnap.nl/download/rdnaptrans.pdf



  Introducing the rotations and scale to the
> adjustment leads to (natural and expected) coordinate "noise"
(inaccuracies)
> driving big numbers for the solved parameters, which tend to countervail
one
> another and which are, therefore, physically meaningless.  In a small area
> the 7-parameter derivation is an ill-conditioned adjustment that should be
> avoided.  Of course, if you've already got a 7-parameter shift (given to
> you) you need to use all 7 parameters (or you're in big trouble).  -Noel
> Zinn  
> 
> -----Original Message-----
> From: proj-bounces at lists.maptools.org
> [mailto:proj-bounces at lists.maptools.org] On Behalf Of Clifford J Mugnier
> Sent: Friday, November 11, 2005 10:45 AM
> To: PROJ.4 and general Projections Discussions
> Subject: Re: [Proj] Re: Campo Inchauspe to WGS84 parameters
> 
> ALL datum shifts are approximations, particularly those that only use the
3
> translations.  Accuracy increases as the number of parameters increase
> and/or the size of the region being transformed decreases.
> 
> One generalization that is ALWAYS correct is that EVERY datum shift will
> decrease the accuracy of the original data once it is transformed to the
> other datum.
> 
> EPSG-published parameters are directed to regions that are predominately
> hydrocarbon-producing ... e.g. coastal Argentina.  NIMA-published
> parameters are directed to regions that are potential battle zones on land
> ... e.g. interior AND coastal Argentina.  None of them are "exact."
> Classical datums have systematic errors that change greatly over vast
> regions.  Argentina is not a small country.  Consider also the many sets
of
> 3-parameter transformations available for the Continental U.S.
> 
> For those that "cherry pick" parameters from my columns, I suggest reading
> the entire column with the associated background information for the
> country of interest.  The primary living authority on Argentine Geodesy is
> Mr. Ruben Rodriguez, as referenced in my column.  He is a practicing
> Geodesist that lives in Argentina.
> 
> Datum shifts are "starters" for general reconaissance.  When one wants the
> EXACT transformation parameters for a specific area, one puts a Geodesist
> on the ground to find out.  Practical surveying beats out office theory
> every time.
> 
> Cliff Mugnier
> 
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
> 
> 
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj




From werchowyna at epf.pl  Sat Nov 12 07:53:05 2005
From: werchowyna at epf.pl (Maciek Sieczka)
Date: Sat, 12 Nov 2005 16:53:05 +0100
Subject: [Proj] PROCEDURA REALIZACJI KOREKT GLOBALNYCH
	=?ISO-8859-1?Q?UK=A3ADU?= 1965  procedure
In-Reply-To: <200511062239.34071.gerald.evenden@verizon.net>
References: <000f01c5d726$eec4c850$6501a8c0@taxussi.com.pl>
	<4362BCE3.3050704@loskot.net>
	<200510311642.38754.gerald.evenden@verizon.net>
	<200511062239.34071.gerald.evenden@verizon.net>
Message-ID: <1131810785.13637.11.camel@localhost.localdomain>

Gerald,

Thank you very much for your help. I hope we'll be able to make a decent
use of your contribution.

I'm really gratefull for your contribution.

Sorry I didn't reply earlier but I was not able to check my mail for
several days.

All Best,
Maciek

On Sun, 2005-11-06 at 22:39 -0500, Gerald I. Evenden wrote:
> There is a 30kb tarball of the correction software with simple makefile but no
> documentation other than --help runline option.  It acts like a filter with
> lproj (or older proj).  I have no idea if it solves anything.
> 
> I will be glad to email it to any interested party and I will leave y'all 
> figure out if it works.  ;-)
> 


--------------------
W polskim Internecie s� setki milion�w stron. My przekazujemy Tobie tylko najlepsze z nich!
http://katalog.epf.pl/



From warmerdam at pobox.com  Sun Nov 13 21:56:12 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon, 14 Nov 2005 00:56:12 -0500
Subject: [Proj] Re: Campo Inchauspe to WGS84 parameters
In-Reply-To: <000801c5e722$cffbb0d0$0301a8c0@HPNZ>
References: <BF9AEDDA.5FDF%ovv@hetnet.nl> <000801c5e722$cffbb0d0$0301a8c0@HPNZ>
Message-ID: <931f8ea90511132156j192b04c8ub18d2d9d9816098b@mail.gmail.com>

On 11/11/05, Noel Zinn <ndzinn at houston.rr.com> wrote:
> Mr. van Vlijmen,
>
> Excellent!  The 10-parameter Molodenksy-Badekas transformation is the right
> solution for small areas.
>
> Is it supported by Proj.4?

Noel,

No, I'm afraid not.  Not that I am well read, but this is the
first time I had heard of it.

Cliff's points on the dangers of accepting approximate
datum transformations is also well taken.  I would however
note that most mappers cannot afford to place geodesists on
the ground.   So we scratch around hoping to find something
reasonable.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From andrea.edwards at nulc.ac.uk  Tue Nov 15 02:24:51 2005
From: andrea.edwards at nulc.ac.uk (Andrea Edwards)
Date: Tue, 15 Nov 2005 10:24:51 -0000
Subject: [Proj] converting from UK ordinance survey to lat/lon
Message-ID: <035F6DC3E268A94CA0C0C5EAA977FC031B9EC8@staffemail.domain.ac.uk>

Hi
 
I am trying to use proj4 to convert from uk ordinance survey coordinates to latitude and longitude values.
 
I found an example in the internet as so
 
C:\> proj.exe -I +init=world:bng +ellps=WGS84
353600 432900                        (input)
2d42'15.556"W   53d47'22.952"N       (output)


This does not work for me. I get this error
projection initialization failure
cause: no system list, errno: 2
program abnormally terminated
 
I think this is something to do with the world:bng file (don't know what that is though). I copied this file to the same directory as proj4 in case that helped but it didn't.
 
Thanks in advance for your help
andrea



From jagoncal at fc.up.pt  Tue Nov 15 03:06:26 2005
From: jagoncal at fc.up.pt (=?ISO-8859-1?Q?Jos=E9_Alberto_Gon=E7alves?=)
Date: Tue, 15 Nov 2005 11:06:26 +0000
Subject: [Proj] converting from UK ordinance survey to lat/lon
In-Reply-To: <035F6DC3E268A94CA0C0C5EAA977FC031B9EC8@staffemail.domain.ac.uk>
References: <035F6DC3E268A94CA0C0C5EAA977FC031B9EC8@staffemail.domain.ac.uk>
Message-ID: <4379C132.3080902@fc.up.pt>

Try this syntax:

   *proj.exe -I +init=./world:bng +ellps=WGS84*

It just tells that file "world" is in the current directory.



Jose' A. Gonçalves





Andrea Edwards wrote:

>Hi
> 
>I am trying to use proj4 to convert from uk ordinance survey coordinates to latitude and longitude values.
> 
>I found an example in the internet as so
> 
>C:\> proj.exe -I +init=world:bng +ellps=WGS84
>353600 432900                        (input)
>2d42'15.556"W   53d47'22.952"N       (output)
>
>
>This does not work for me. I get this error
>projection initialization failure
>cause: no system list, errno: 2
>program abnormally terminated
> 
>I think this is something to do with the world:bng file (don't know what that is though). I copied this file to the same directory as proj4 in case that helped but it didn't.
> 
>Thanks in advance for your help
>andrea
>
>_______________________________________________
>Proj mailing list
>Proj at lists.maptools.org
>http://lists.maptools.org/mailman/listinfo/proj
>



From jagoncal at fc.up.pt  Tue Nov 15 03:32:41 2005
From: jagoncal at fc.up.pt (=?ISO-8859-1?Q?Jos=E9_Alberto_Gon=E7alves?=)
Date: Tue, 15 Nov 2005 11:32:41 +0000
Subject: [Proj] converting from UK ordinance survey to lat/lon
In-Reply-To: <4379C132.3080902@fc.up.pt>
References: <035F6DC3E268A94CA0C0C5EAA977FC031B9EC8@staffemail.domain.ac.uk>
	<4379C132.3080902@fc.up.pt>
Message-ID: <4379C759.8010708@fc.up.pt>

Sorry for the **. It should be:

   proj.exe -I +init=./world:bng +ellps=WGS84


Jose' A. Gonçalves



José Alberto Gonçalves wrote:

> Try this syntax:
>
>   *proj.exe -I +init=./world:bng +ellps=WGS84*
>
> It just tells that file "world" is in the current directory.
>
>
>
> Jose' A. Gonçalves
>
>
>
>
>
> Andrea Edwards wrote:
>
>> Hi
>>
>> I am trying to use proj4 to convert from uk ordinance survey 
>> coordinates to latitude and longitude values.
>>
>> I found an example in the internet as so
>>
>> C:\> proj.exe -I +init=world:bng +ellps=WGS84
>> 353600 432900                        (input)
>> 2d42'15.556"W   53d47'22.952"N       (output)
>>
>>
>> This does not work for me. I get this error
>> projection initialization failure
>> cause: no system list, errno: 2
>> program abnormally terminated
>>
>> I think this is something to do with the world:bng file (don't know 
>> what that is though). I copied this file to the same directory as 
>> proj4 in case that helped but it didn't.
>>
>> Thanks in advance for your help
>> andrea
>>
>> _______________________________________________
>> Proj mailing list
>> Proj at lists.maptools.org
>> http://lists.maptools.org/mailman/listinfo/proj
>>
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj




From Hugo.Tyson at cpslocates.com  Tue Nov 15 04:28:36 2005
From: Hugo.Tyson at cpslocates.com (Hugo Tyson)
Date: Tue, 15 Nov 2005 12:28:36 -0000
Subject: [Proj] converting from UK ordinance survey to lat/lon
Message-ID: <DA84911DC41E2041AC4998F54C3E24FB03EF23@cps-ex1.cps.local>

Andrea Edwards [andrea.edwards at nulc.ac.uk] wrote:
> I am trying to use proj4 to convert from uk ordinance survey
> coordinates to latitude and longitude values. 
> 
> I found an example in the internet as so
> 
> C:\> proj.exe -I +init=world:bng +ellps=WGS84
> 353600 432900                        (input)
> 2d42'15.556"W   53d47'22.952"N       (output)
> 
> This does not work for me. I get this error
> projection initialization failure
> cause: no system list, errno: 2
> program abnormally terminated

Hi Andrea, 'fraid I don't know about that specific
initialisation issue.  I only ever spelled out the
args in full.

But a couple of comments/questions...

Are you converting to WGS84 Lat/Long or sticking to
Lat/Long relative to the Ordnance Survey datum (OSGB36)?
OSGB36 Lat/Long is the blue + marks on OS maps; they're
not WGS84.  If OSGB36 you'll be OK with proj.  If WGS84
you'll need to use cs2cs (which is part of the proj suite
of tools) instead, because it does datum changes as well
as projections.

I was doing this the other way - WGS84LatLong to OSGB36
British National Grid.  I found that I needed to add a datum
to proj, so that cs2cs can do the datum change.  Details are
in the archive of this list.

If you make that change and rebuild proj et al, you should
be able to do your conversion (to WGS84 datum) with

cs2cs +proj=tmerc +lat_0=49 +lon_0=-2 +k=0.999601
      +x_0=400000 +y_0=-100000 +units=m
      +ellps=airy +datum=OSGB36
      +to
      +proj=latlong +ellps=WGS84 +datum=WGS84

(which doesn't give the same answers as your web example)
Hope this helps,

	- Huge

-- 
Hugo Tyson, Cambridge Positioning Systems Ltd
=************************************************************
This email and any attachments are confidential. They have been checked for viruses but it is your 
responsibility to conduct your own virus checks.

Cambridge Positioning Systems Limited, 62-64 Hills Road, Cambridge, CB2 1LA, is registered in England 
under company number 2808344.




From andrea.edwards at nulc.ac.uk  Tue Nov 15 05:47:36 2005
From: andrea.edwards at nulc.ac.uk (Andrea Edwards)
Date: Tue, 15 Nov 2005 13:47:36 -0000
Subject: [Proj] converting from UK ordinance survey to lat/lon
References: <035F6DC3E268A94CA0C0C5EAA977FC031B9EC8@staffemail.domain.ac.uk><4379C132.3080902@fc.up.pt>
	<4379C759.8010708@fc.up.pt>
Message-ID: <035F6DC3E268A94CA0C0C5EAA977FC031B9ECB@staffemail.domain.ac.uk>

Hi
 
Thanks for your reply.
 
It turns out i had not set the lib_path properly (set PROJ_LIB=C:\Software\PROJ\NAD)
 
It works now.
 
Thank you!

________________________________

From: proj-bounces at lists.maptools.org on behalf of José Alberto Gonçalves
Sent: Tue 15/11/2005 11:32
To: PROJ.4 and general Projections Discussions
Subject: Re: [Proj] converting from UK ordinance survey to lat/lon



Sorry for the **. It should be:

   proj.exe -I +init=./world:bng +ellps=WGS84


Jose' A. Gonçalves



José Alberto Gonçalves wrote:

> Try this syntax:
>
>   *proj.exe -I +init=./world:bng +ellps=WGS84*
>
> It just tells that file "world" is in the current directory.
>
>
>
> Jose' A. Gonçalves
>
>
>
>
>
> Andrea Edwards wrote:
>
>> Hi
>>
>> I am trying to use proj4 to convert from uk ordinance survey
>> coordinates to latitude and longitude values.
>>
>> I found an example in the internet as so
>>
>> C:\> proj.exe -I +init=world:bng +ellps=WGS84
>> 353600 432900                        (input)
>> 2d42'15.556"W   53d47'22.952"N       (output)
>>
>>
>> This does not work for me. I get this error
>> projection initialization failure
>> cause: no system list, errno: 2
>> program abnormally terminated
>>
>> I think this is something to do with the world:bng file (don't know
>> what that is though). I copied this file to the same directory as
>> proj4 in case that helped but it didn't.
>>
>> Thanks in advance for your help
>> andrea
>>
>> _______________________________________________
>> Proj mailing list
>> Proj at lists.maptools.org
>> http://lists.maptools.org/mailman/listinfo/proj
>>
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj


_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj


-------------- next part --------------
A non-text attachment was scrubbed...
Name: winmail.dat
Type: application/ms-tnef
Size: 6046 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20051115/787c8d68/attachment.bin>

From tim.loesch at dnr.state.mn.us  Tue Nov 15 09:03:35 2005
From: tim.loesch at dnr.state.mn.us (Tim Loesch)
Date: Tue, 15 Nov 2005 11:03:35 -0600
Subject: [Proj] 
	Re: Proj Digest, Vol 18, Issue 8 (NOTICE - Out of the office)
Message-ID: <s379c08e.045@co5.dnr.state.mn.us>

I'm out of the office and will return Monday November 21st. If this is a GIS technical related issue contact Chris Pouliot or Mike Tronrud.





From michael.hearne at baesystems.com  Tue Nov 15 11:18:53 2005
From: michael.hearne at baesystems.com (Hearne, Michael  (US SSA))
Date: Tue, 15 Nov 2005 09:18:53 -1000
Subject: [Proj] Extracting the to_meter parameter from a projection
Message-ID: <B6177FC0FF178444B03B15684251A03C40E8B4@blums0015.bluelnk.net>

I'm working on a piece of software that uses proj4 as a library.  I have
it working, and for the most part, understand how to get it to do what I
want.  What I cannot quite figure out, however, is how to determine the
units of a given projection.  I did a little digging through the source,
trying to find this, and the closest I could come to this was the
"PJconsts" struct defined in projects.h.  This structure contains
parameters "to_meter" and "from_meter", which presumably are values that
one could use to convert whatever units the projected values are in to
or from meters.

I have not been able to find anything that would tell me how to
instantiate a "PJconsts" structure.

If my usage to create a projection is something like this:

inProj = pj_init(nParams,(char**)params);

then is there a function (or chain of functions) that I can call that
will get me either the units of the projection, or the "to_meter" and
"from_meter" values?

I've already experimented with pj_get_def, and I get a string like this:

" +proj=utm +datum=WGS84 +ellps=WGS84 +towgs84=0,0,0"

which has no information about the units or how to convert from whatever
the units might be.

More generally, is there any documentation (a la doxygen) on the Proj4
API?

Thanks,

Mike Hearne



From warmerdam at pobox.com  Tue Nov 15 13:26:55 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue, 15 Nov 2005 16:26:55 -0500
Subject: [Proj] Extracting the to_meter parameter from a projection
In-Reply-To: <B6177FC0FF178444B03B15684251A03C40E8B4@blums0015.bluelnk.net>
References: <B6177FC0FF178444B03B15684251A03C40E8B4@blums0015.bluelnk.net>
Message-ID: <931f8ea90511151326r7d53ae88i1437f5b7fdf56edd@mail.gmail.com>

On 11/15/05, Hearne, Michael  (US SSA) <michael.hearne at baesystems.com> wrote:
> I'm working on a piece of software that uses proj4 as a library.  I have
> it working, and for the most part, understand how to get it to do what I
> want.  What I cannot quite figure out, however, is how to determine the
> units of a given projection.  I did a little digging through the source,
> trying to find this, and the closest I could come to this was the
> "PJconsts" struct defined in projects.h.  This structure contains
> parameters "to_meter" and "from_meter", which presumably are values that
> one could use to convert whatever units the projected values are in to
> or from meters.

Michael,

You can call pj_get_units_ref() to fetch a pointer to the
pj_units table (see pj_units.c).  This table relates the short
name for units with a size of the unit (in terms of meters) and
a long name.

> I have not been able to find anything that would tell me how to
> instantiate a "PJconsts" structure.
>
> If my usage to create a projection is something like this:
>
> inProj = pj_init(nParams,(char**)params);
>
> then is there a function (or chain of functions) that I can call that
> will get me either the units of the projection, or the "to_meter" and
> "from_meter" values?
>
> I've already experimented with pj_get_def, and I get a string like this:
>
> " +proj=utm +datum=WGS84 +ellps=WGS84 +towgs84=0,0,0"

If pj_get_def()'s return string does not include a unit specifier
(either as +to_meter= or as +unit=) then the units are implicitly
meter.

> which has no information about the units or how to convert from whatever
> the units might be.
>
> More generally, is there any documentation (a la doxygen) on the Proj4
> API?

There is a limited man page on the API but it does not
include some of the more esoteric API entry points.

  http://proj.maptools.org/man_pj_init.html

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From michael.hearne at baesystems.com  Tue Nov 15 15:07:21 2005
From: michael.hearne at baesystems.com (Hearne, Michael  (US SSA))
Date: Tue, 15 Nov 2005 13:07:21 -1000
Subject: [Proj] Re:  Extracting the to_meter parameter from a projection
Message-ID: <B6177FC0FF178444B03B15684251A03C40E908@blums0015.bluelnk.net>

Frank - Thanks for your quick response.  I searched through my copy of
the proj4 source and couldn't find a function called pj_get_units_ref().
Is this defined in a relatively recent version of proj4?  My copy is
perhaps a couple of years old.  I do have the pj_units table defined in
"pj_units.c".

Also, we tested pj_get_def() for a fairly exhaustive list of
projections, and none of them returned a "+unit=" string token (list at
bottom of email.)  Does this mean that all of these projections are in
units of meters?

Thanks,

Mike Hearne


Albers_Conical_Equal_Area
Azimuthal_Equidistant
Bipolar_Oblique
Bonne
Cassini
Cylindrical_Equal_Area
Eckert_IV
Eckert_VI
Equidistant_Conic
Gnomonic
Lambert_Azimuthal_Equal_Area
Lambert_Conformal_Conic
Mercator
Miller_Cylindrical
Mollweide
Oblique_Mercator
Orthographic
Polyconic
Sinusoidal
Space_Oblique_Mercator
Stereographic
Transverse_Mercator
Van_der_Grinten_I



From warmerdam at pobox.com  Tue Nov 15 15:38:10 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue, 15 Nov 2005 18:38:10 -0500
Subject: [Proj] Re: Extracting the to_meter parameter from a projection
In-Reply-To: <B6177FC0FF178444B03B15684251A03C40E908@blums0015.bluelnk.net>
References: <B6177FC0FF178444B03B15684251A03C40E908@blums0015.bluelnk.net>
Message-ID: <931f8ea90511151538s2f80773atfdf3d249418beb7@mail.gmail.com>

On 11/15/05, Hearne, Michael  (US SSA) <michael.hearne at baesystems.com> wrote:
> Frank - Thanks for your quick response.  I searched through my copy of
> the proj4 source and couldn't find a function called pj_get_units_ref().
> Is this defined in a relatively recent version of proj4?  My copy is
> perhaps a couple of years old.  I do have the pj_units table defined in
> "pj_units.c".

Michael,

Yes, pj_get_units_ref() is relatively new.  It, and some similar functions,
were added to give access to internal tables needed for "smart" applications
that need to know more about coordinate system options.

> Also, we tested pj_get_def() for a fairly exhaustive list of
> projections, and none of them returned a "+unit=" string token (list at
> bottom of email.)  Does this mean that all of these projections are in
> units of meters?

All projections methods have an implicit unit type of meters unless
otherwise set.  Try a definition like Arizona East NAD27 (+init=epsg:26748).

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From gerald.evenden at verizon.net  Tue Nov 15 16:26:28 2005
From: gerald.evenden at verizon.net (Gerald I. Evenden)
Date: Tue, 15 Nov 2005 19:26:28 -0500
Subject: [Proj] Re: Extracting the to_meter parameter from a projection
In-Reply-To: <931f8ea90511151538s2f80773atfdf3d249418beb7@mail.gmail.com>
References: <B6177FC0FF178444B03B15684251A03C40E908@blums0015.bluelnk.net>
	<931f8ea90511151538s2f80773atfdf3d249418beb7@mail.gmail.com>
Message-ID: <200511151926.28423.gerald.evenden@verizon.net>

IMPORTANT CONCEPT REGARDING ALL PROJ VERSIONS:

One thing to remember with proj AND libproj4 is that neither  care
about units.  Units depend upon the units that define +a (and +b, x_0,
etc.).  All prestored constants for radius or elliptic axis are presented in
meters which is the factor that to_/fr_meter depends upon.

--> IF the user defines +a= in feet, then to_/fr_meter is meaningless and
should not be used and Easting/Northing will be in feet.

As I recall, this material is discussed in the first proj manual.

-- 
Jerry and the low riders:Daisy May and Joshua
"The being cannot be termed rational or virtuous,
who obeys any authority, but that of reason."
---Mary Wollstonecraft 1792


From luca.lastrucci at powersoft.it  Wed Nov 16 04:45:00 2005
From: luca.lastrucci at powersoft.it (Luca Lastrucci)
Date: Wed, 16 Nov 2005 13:45:00 +0100
Subject: [Proj] [OSRS-PROJ] Projection parameters for Italian old IGM?
Message-ID: <220A28927CE0E745ACE75A8B351EE97C4D1CB3@webserver.powersoft.it>

Dear Sir,

I found your message on the newsgroup about conversion from Gauss-Boaga to WGS84 for Italy.
Because I'm developing a tool and I have the same problem, can you suggest me a .dll, .ocx,... or source code, to do that?

Thanks in advance

Luca Lastrucci




From ovv at hetnet.nl  Thu Nov 17 03:57:27 2005
From: ovv at hetnet.nl (Oscar van Vlijmen)
Date: Thu, 17 Nov 2005 12:57:27 +0100
Subject: [Proj] [OSRS-PROJ] Projection parameters for Italian old IGM?
In-Reply-To: <220A28927CE0E745ACE75A8B351EE97C4D1CB3@webserver.powersoft.it>
Message-ID: <BFA22EB6.6037%ovv@hetnet.nl>

> From: "Luca Lastrucci" <luca.lastrucci at powersoft.it>

> I found your message on the newsgroup about conversion from Gauss-Boaga to
> WGS84 for Italy.
> Because I'm developing a tool and I have the same problem, can you suggest me
> a .dll, .ocx,... or source code, to do that?

Probably nearly everything that can be said about Gauss-Boaga can be found
in the lists.maptools - PROJ archives.
If you can do datumshifts, then you can convert from the Hayford / ED50
ellipsoid to WGS84. See for the transform params for both Italian zones
http://crs.bkg.bund.de/crs-eu
If you can do a transverse Mercator projection, then you can do Gauss-Boaga.
Taking a place far from a central longitude, for instance a location around
Otranto: 40d 09m N 18d 30m E in Fuso 2, I get a difference of around 120
microns in the longitude and only a couple of microns in the latitude.
I used the Gauss-Boaga formulae in the Libproj4 manual, page 42.
Something to take note of: in Gauss-Boaga longitudes are usually with
respect to Monte Mario at 12d 27m 08.4s E.





From werchowyna at epf.pl  Wed Nov 23 11:38:29 2005
From: werchowyna at epf.pl (Maciek Sieczka)
Date: Wed, 23 Nov 2005 20:38:29 +0100
Subject: [Proj] commercial or closed using PROJ.4
Message-ID: <1132774709.850.4.camel@localhost.localdomain>

Hi All!

Can anybody say what commercial or closed-source software uses PROJ.4?
Besides the Google Earth?

Cheers,
Maciek


--------------------
W polskim Internecie s� setki milion�w stron. My przekazujemy Tobie tylko najlepsze z nich!
http://katalog.epf.pl/



From mfinn at usgs.gov  Wed Nov 23 14:01:24 2005
From: mfinn at usgs.gov (Michael P Finn)
Date: Wed, 23 Nov 2005 16:01:24 -0600
Subject: [Proj] Michael P Finn of the USGS/ National Geospatial Technical
 Operations Center is out of the office.
Message-ID: <OF7C68B965.F6194E86-ON862570C2.0078FA90-862570C2.0078FA91@usgs.gov>


I will be out of the office starting  11/23/2005 and will not return until
11/28/2005.

I will be unable to check e-mail regularly while I am out. If I can't
respond to your message while I am out, then I will when I return. If you
have anything that cannot wait, please contact my colleague, Mr. Michael
Williams, at mswilliams at usgs.gov. Happy Thanksgiving.     Mike



From ndzinn at houston.rr.com  Sun Nov 27 18:53:12 2005
From: ndzinn at houston.rr.com (Noel Zinn)
Date: Sun, 27 Nov 2005 20:53:12 -0600
Subject: [Proj] commercial or closed using PROJ.4
In-Reply-To: <1132774709.850.4.camel@localhost.localdomain>
Message-ID: <001101c5f3c6$df95fc70$6401a8c0@HPNZ>

Matlab by the MathWorks uses proj.4 in the Mapping Toolbox.  -Noel

-----Original Message-----
From: proj-bounces at lists.maptools.org
[mailto:proj-bounces at lists.maptools.org] On Behalf Of Maciek Sieczka
Sent: Wednesday, November 23, 2005 1:38 PM
To: proj at lists.maptools.org
Subject: [Proj] commercial or closed using PROJ.4

Hi All!

Can anybody say what commercial or closed-source software uses PROJ.4?
Besides the Google Earth?

Cheers,
Maciek


--------------------
W polskim Internecie s± setki milionów stron. My przekazujemy Tobie tylko
najlepsze z nich!
http://katalog.epf.pl/

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj





From werchowyna at epf.pl  Sun Nov 27 22:37:31 2005
From: werchowyna at epf.pl (Maciek Sieczka)
Date: Mon, 28 Nov 2005 07:37:31 +0100
Subject: [Proj] commercial or closed using PROJ.4
In-Reply-To: <001101c5f3c6$df95fc70$6401a8c0@HPNZ>
References: <001101c5f3c6$df95fc70$6401a8c0@HPNZ>
Message-ID: <1133159851.8237.9.camel@localhost.localdomain>

Noel, thanks for your input.

Would that be all?

I couldn't find any on my own.

Frank's presentation "PROJ.4 Handling Coordinate Systems" mentions that
"Various comercial packages" depend on PROJ.4. Two I know of so far...

(I was kindly pointed I should rather use "proprietary" as an opposite
of FOSS, instead of "commercial", which I admit is right, however I'm
quoting somebody else's words here.)

Maciek

On nie, 2005-11-27 at 20:53 -0600, Noel Zinn wrote:
> Matlab by the MathWorks uses proj.4 in the Mapping Toolbox.  -Noel
> 
> -----Original Message-----
> From: proj-bounces at lists.maptools.org
> [mailto:proj-bounces at lists.maptools.org] On Behalf Of Maciek Sieczka
> Sent: Wednesday, November 23, 2005 1:38 PM
> To: proj at lists.maptools.org
> Subject: [Proj] commercial or closed using PROJ.4
> 
> Hi All!
> 
> Can anybody say what commercial or closed-source software uses PROJ.4?
> Besides the Google Earth?
> 
> Cheers,
> Maciek


--------------------
W polskim Internecie s� setki milion�w stron. My przekazujemy Tobie tylko najlepsze z nich!
http://katalog.epf.pl/



From EMiller at dfg.ca.gov  Mon Nov 28 08:39:51 2005
From: EMiller at dfg.ca.gov (Eric Miller)
Date: Mon, 28 Nov 2005 08:39:51 -0800
Subject: [Proj] commercial or closed using PROJ.4
Message-ID: <s38ac268.040@dfg.ca.gov>

I think PROJ.4 sees a lot of internal use.  We have it in use for a few database projects, but they aren't things we'd distribute outside of our organization or close partners. 

>>> werchowyna at epf.pl 11/27/2005 10:37:31 PM >>>
Noel, thanks for your input.

Would that be all?

I couldn't find any on my own.

Frank's presentation "PROJ.4 Handling Coordinate Systems" mentions that
"Various comercial packages" depend on PROJ.4. Two I know of so far...

(I was kindly pointed I should rather use "proprietary" as an opposite
of FOSS, instead of "commercial", which I admit is right, however I'm
quoting somebody else's words here.)

Maciek

On nie, 2005-11-27 at 20:53 -0600, Noel Zinn wrote:
> Matlab by the MathWorks uses proj.4 in the Mapping Toolbox.  -Noel
> 
> -----Original Message-----
> From: proj-bounces at lists.maptools.org 
> [mailto:proj-bounces at lists.maptools.org] On Behalf Of Maciek Sieczka
> Sent: Wednesday, November 23, 2005 1:38 PM
> To: proj at lists.maptools.org 
> Subject: [Proj] commercial or closed using PROJ.4
> 
> Hi All!
> 
> Can anybody say what commercial or closed-source software uses PROJ.4?
> Besides the Google Earth?
> 
> Cheers,
> Maciek


--------------------
W polskim Internecie s± setki milionów stron. My przekazujemy Tobie tylko najlepsze z nich!
http://katalog.epf.pl/ 

_______________________________________________
Proj mailing list
Proj at lists.maptools.org 
http://lists.maptools.org/mailman/listinfo/proj




From david.jacques at ftw.usda.gov  Mon Nov 28 11:28:21 2005
From: david.jacques at ftw.usda.gov (Jacques, David - Fort Worth, TX)
Date: Mon, 28 Nov 2005 12:28:21 -0700
Subject: [Proj] UTM Zone projection parameters to pass to pj_transform()
Message-ID: <C1F73C7AF654F74C9827C51A7C4A5202672A2A@COFORTCOL2S304.agwest.one.usda.gov>

Dear list...

I am using proj4.4.9 and libgeotiff to read multiple geotiff headers in
order to
 reproject the bounding box from UTM to geographic for an inventory
tracking map.
 However my sample output points from the pj_transform() function are
not correct.

 Below are the input & output coordinate systems, each with their
corresponding line in the epsg file.

  //<26915> +proj=utm +zone=15 +ellps=GRS80 +datum=NAD83 +units=m
+no_defs  <>
  static char *utm15n_parms[] =
{"proj=utm","zone=15","ellps=GRS80","datum=NAD83","units=m","no_defs"};

  //<4326> +proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs  <>
  static char *ddwgs84_parms[] =
{"proj=longlat","ellps=WGS84","datum=WGS84","no_defs"};


What other parameters are needed for the UTM coordinate system ?  
Its supposed to be UTM Zone 15N NAD83 GRS80


Regards


David





From ed at topozone.com  Mon Nov 28 11:48:52 2005
From: ed at topozone.com (Ed McNierney)
Date: Mon, 28 Nov 2005 14:48:52 -0500
Subject: [Proj] UTM Zone projection parameters to pass to pj_transform()
Message-ID: <4BF377919225F449BB097CB76FFE9BC83DD603@ptolemy.topozone.com>

David -

What are the input and output values you are using, and how are you
concluding they're not correct?

	- Ed

Ed McNierney
President and Chief Mapmaker
TopoZone.com / Maps a la carte, Inc.
73 Princeton Street, Suite 305
North Chelmsford, MA  01863
ed at topozone.com
(978) 251-4242  

-----Original Message-----
From: proj-bounces at lists.maptools.org
[mailto:proj-bounces at lists.maptools.org] On Behalf Of Jacques, David -
Fort Worth, TX
Sent: Monday, November 28, 2005 2:28 PM
To: proj at lists.maptools.org
Subject: [Proj] UTM Zone projection parameters to pass to pj_transform()

Dear list...

I am using proj4.4.9 and libgeotiff to read multiple geotiff headers in
order to  reproject the bounding box from UTM to geographic for an
inventory tracking map.
 However my sample output points from the pj_transform() function are
not correct.

 Below are the input & output coordinate systems, each with their
corresponding line in the epsg file.

  //<26915> +proj=utm +zone=15 +ellps=GRS80 +datum=NAD83 +units=m
+no_defs  <>
  static char *utm15n_parms[] =
{"proj=utm","zone=15","ellps=GRS80","datum=NAD83","units=m","no_defs"};

  //<4326> +proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs  <>
  static char *ddwgs84_parms[] =
{"proj=longlat","ellps=WGS84","datum=WGS84","no_defs"};


What other parameters are needed for the UTM coordinate system ?  
Its supposed to be UTM Zone 15N NAD83 GRS80


Regards


David



_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj



From david.jacques at ftw.usda.gov  Mon Nov 28 12:13:28 2005
From: david.jacques at ftw.usda.gov (Jacques, David - Fort Worth, TX)
Date: Mon, 28 Nov 2005 13:13:28 -0700
Subject: [Proj] UTM Zone projection parameters to pass to pj_transform()
Message-ID: <C1F73C7AF654F74C9827C51A7C4A5202672A3D@COFORTCOL2S304.agwest.one.usda.gov>

The output from listgeo is this...

Corner Coordinates:
Upper Left    ( 360427.280,3278421.510)
Lower Left    ( 360427.280,3270801.510)
Upper Right   ( 367182.280,3278421.510)
Lower Right   ( 367182.280,3270801.510)
Center        ( 363804.780,3274611.510)

The corner coordinates in Decimal Degrees should be

Upper Left    ( 29.628626,-94.441707)
Lower Left    ( 29.559135,-94.441707)
Upper Right   ( 29.628626,-94.371019)
Lower Right   ( 29.559135,-94.371019

What I get is...

-1.648319,0.517104
-1.648302,0.515904
-1.647101,0.517117
-1.647085,0.515917

This prompted me to look at the PJ structure in debug mode (watch)
In my Visual Studio 7 IDE. I saw the following string in the
description...

+	descr	0x0043802c "Universal Transverse Mercator (UTM)	Cyl, Sph
zone= south"	const char *

Funny how I didn't specify "south".

This led me to believe I need to specify more parameters.


David



From EMiller at dfg.ca.gov  Mon Nov 28 12:33:43 2005
From: EMiller at dfg.ca.gov (Eric Miller)
Date: Mon, 28 Nov 2005 12:33:43 -0800
Subject: [Proj] UTM Zone projection parameters to pass to
	pj_transform()
Message-ID: <s38af93d.046@dfg.ca.gov>

The results look like they're still in radians.  Multiply by 180 / M_PI (or use the RAD_TO_DEG macro).  You can use the pj_is_latlong() function to test if a projection is latlong and then conditionally convert from/to radians.

Eric G. Miller
GIS Analyst
Wildlife and Habitat Data Analysis Branch
Department of Fish and Game

>>> david.jacques at ftw.usda.gov 11/28/2005 12:13:28 PM >>>
The output from listgeo is this...

Corner Coordinates:
Upper Left    ( 360427.280,3278421.510)
Lower Left    ( 360427.280,3270801.510)
Upper Right   ( 367182.280,3278421.510)
Lower Right   ( 367182.280,3270801.510)
Center        ( 363804.780,3274611.510)

The corner coordinates in Decimal Degrees should be

Upper Left    ( 29.628626,-94.441707)
Lower Left    ( 29.559135,-94.441707)
Upper Right   ( 29.628626,-94.371019)
Lower Right   ( 29.559135,-94.371019

What I get is...

-1.648319,0.517104
-1.648302,0.515904
-1.647101,0.517117
-1.647085,0.515917

This prompted me to look at the PJ structure in debug mode (watch)
In my Visual Studio 7 IDE. I saw the following string in the
description...

+	descr	0x0043802c "Universal Transverse Mercator (UTM)	Cyl, Sph
zone= south"	const char *

Funny how I didn't specify "south".

This led me to believe I need to specify more parameters.


David

_______________________________________________
Proj mailing list
Proj at lists.maptools.org 
http://lists.maptools.org/mailman/listinfo/proj




From ed at topozone.com  Mon Nov 28 12:43:00 2005
From: ed at topozone.com (Ed McNierney)
Date: Mon, 28 Nov 2005 15:43:00 -0500
Subject: [Proj] UTM Zone projection parameters to pass to pj_transform()
Message-ID: <4BF377919225F449BB097CB76FFE9BC83DD604@ptolemy.topozone.com>

David -

Those output numbers look like radians, not degrees.

	- Ed

Ed McNierney
President and Chief Mapmaker
TopoZone.com / Maps a la carte, Inc.
73 Princeton Street, Suite 305
North Chelmsford, MA  01863
ed at topozone.com
(978) 251-4242  

-----Original Message-----
From: proj-bounces at lists.maptools.org
[mailto:proj-bounces at lists.maptools.org] On Behalf Of Jacques, David -
Fort Worth, TX
Sent: Monday, November 28, 2005 3:13 PM
To: proj at lists.maptools.org
Subject: [Proj] UTM Zone projection parameters to pass to pj_transform()

The output from listgeo is this...

Corner Coordinates:
Upper Left    ( 360427.280,3278421.510)
Lower Left    ( 360427.280,3270801.510)
Upper Right   ( 367182.280,3278421.510)
Lower Right   ( 367182.280,3270801.510)
Center        ( 363804.780,3274611.510)

The corner coordinates in Decimal Degrees should be

Upper Left    ( 29.628626,-94.441707)
Lower Left    ( 29.559135,-94.441707)
Upper Right   ( 29.628626,-94.371019)
Lower Right   ( 29.559135,-94.371019

What I get is...

-1.648319,0.517104
-1.648302,0.515904
-1.647101,0.517117
-1.647085,0.515917

This prompted me to look at the PJ structure in debug mode (watch) In my
Visual Studio 7 IDE. I saw the following string in the description...

+	descr	0x0043802c "Universal Transverse Mercator (UTM)	Cyl, Sph
zone= south"	const char *

Funny how I didn't specify "south".

This led me to believe I need to specify more parameters.


David

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj



From david.jacques at ftw.usda.gov  Mon Nov 28 12:52:34 2005
From: david.jacques at ftw.usda.gov (Jacques, David - Fort Worth, TX)
Date: Mon, 28 Nov 2005 13:52:34 -0700
Subject: [Proj] UTM Zone projection parameters to pass to 	pj_transform()
Message-ID: <C1F73C7AF654F74C9827C51A7C4A5202672A64@COFORTCOL2S304.agwest.one.usda.gov>

Eric...

That did the trick.
Though I am puzzled that the output doesn't have staight edges.

-94.441707,29.627886
-94.440730,29.559136
-94.371949,29.628626
-94.371019,29.559874



From david.jacques at ftw.usda.gov  Mon Nov 28 13:01:08 2005
From: david.jacques at ftw.usda.gov (Jacques, David - Fort Worth, TX)
Date: Mon, 28 Nov 2005 14:01:08 -0700
Subject: [Proj] UTM Zone projection parameters to pass to 	pj_transform()
Message-ID: <C1F73C7AF654F74C9827C51A7C4A5202672A6C@COFORTCOL2S304.agwest.one.usda.gov>

Actually now that I think about it it makes sense.
If it is square in UTM... It will be rotated somewhat.

So nix that last comment.

David






From ed at topozone.com  Mon Nov 28 13:04:01 2005
From: ed at topozone.com (Ed McNierney)
Date: Mon, 28 Nov 2005 16:04:01 -0500
Subject: [Proj] UTM Zone projection parameters to pass to 	pj_transform()
Message-ID: <4BF377919225F449BB097CB76FFE9BC83DD605@ptolemy.topozone.com>

David -

You should expect that.  A rectangle in UTM coordinate space is NOT a
rectangle in lat/lon space.  Make sure you take that into account when
you use the reprojected data coordinates.

	- Ed

Ed McNierney
President and Chief Mapmaker
TopoZone.com / Maps a la carte, Inc.
73 Princeton Street, Suite 305
North Chelmsford, MA  01863
ed at topozone.com
(978) 251-4242 

 

-----Original Message-----
From: proj-bounces at lists.maptools.org
[mailto:proj-bounces at lists.maptools.org] On Behalf Of Jacques, David -
Fort Worth, TX
Sent: Monday, November 28, 2005 3:53 PM
To: proj at lists.maptools.org
Subject: [Proj] UTM Zone projection parameters to pass to pj_transform()

Eric...

That did the trick.
Though I am puzzled that the output doesn't have staight edges.

-94.441707,29.627886
-94.440730,29.559136
-94.371949,29.628626
-94.371019,29.559874

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj



From archer at eskimo.com  Mon Nov 28 13:13:36 2005
From: archer at eskimo.com (Curt, WE7U)
Date: Mon, 28 Nov 2005 13:13:36 -0800 (PST)
Subject: [Proj] UTM Zone projection parameters to pass to  pj_transform()
In-Reply-To: <4BF377919225F449BB097CB76FFE9BC83DD605@ptolemy.topozone.com>
References: <4BF377919225F449BB097CB76FFE9BC83DD605@ptolemy.topozone.com>
Message-ID: <Pine.SUN.4.58.0511281313050.4565@eskimo.com>

On Mon, 28 Nov 2005, Ed McNierney wrote:

> You should expect that.  A rectangle in UTM coordinate space is NOT a
> rectangle in lat/lon space.  Make sure you take that into account when
> you use the reprojected data coordinates.

The fun part is that straight lines ain't straight anymore either.
;-)

--
Curt, WE7U.   APRS Client Comparisons: http://www.eskimo.com/~archer
"Lotto:    A tax on people who are bad at math." -- unknown
"Windows:  Microsoft's tax on computer illiterates." -- WE7U
"The world DOES revolve around me:  I picked the coordinate system!"


From ed at topozone.com  Mon Nov 28 13:13:46 2005
From: ed at topozone.com (Ed McNierney)
Date: Mon, 28 Nov 2005 16:13:46 -0500
Subject: [Proj] UTM Zone projection parameters to pass to 	pj_transform()
Message-ID: <4BF377919225F449BB097CB76FFE9BC83DD606@ptolemy.topozone.com>

David -

It is also possible to have a rectangle in UTM space contain points that
are NOT inside the quadrilateral formed by connecting the four
reprojected corner points into lat/lon space.  Conversely, there can be
points inside that lat/lon quadrilateral that were NOT inside the UTM
rectangle.  You might need to keep that in mind depending on how fussy
your application is.

	- Ed

Ed McNierney
President and Chief Mapmaker
TopoZone.com / Maps a la carte, Inc.
73 Princeton Street, Suite 305
North Chelmsford, MA  01863
ed at topozone.com
(978) 251-4242  

-----Original Message-----
From: proj-bounces at lists.maptools.org
[mailto:proj-bounces at lists.maptools.org] On Behalf Of Jacques, David -
Fort Worth, TX
Sent: Monday, November 28, 2005 4:01 PM
To: proj at lists.maptools.org
Subject: [Proj] UTM Zone projection parameters to pass to pj_transform()

Actually now that I think about it it makes sense.
If it is square in UTM... It will be rotated somewhat.

So nix that last comment.

David




_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj



From martin.vermeer at hut.fi  Mon Nov 28 15:03:29 2005
From: martin.vermeer at hut.fi (Martin Vermeer)
Date: Tue, 29 Nov 2005 01:03:29 +0200
Subject: [Proj] Meaning of 7-parameter transformation rotations
Message-ID: <20051128230124.GA4462@geo9.hut.fi>


I find in the document gen_parms.html the remark

"The seven parameter case uses delta_x, delta_y, delta_z, Rx - rotation
X, Ry -  rotation  Y, Rz - rotation Z, M_BF - Scaling. The three
translation parameters are in meters as in the three parameter case. The
rotational parameters are not in physical units. They are something like the
sine of the rotational angle times the ellipoid axis length, but I don't know
the exact details of how to derive these from a physical description of
the rotation."

However, looking at the example I see

+towgs84=0,0,4.5,0,0,0.554,0.219

(note the sixth parameter Rz = 0.554)

and for the longitude

4 -> 4d0'0.554"E

where we see a rotation around the z axis of... 0.544". 

Therefore I conclude that the rotation angles are in seconds of arc,
which is indeed common geodetic practice.

- Martin Vermeer

-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20051129/f6e605d5/attachment.sig>

From cgodkin at gmail.com  Mon Nov 28 20:25:26 2005
From: cgodkin at gmail.com (Carl Godkin)
Date: Mon, 28 Nov 2005 20:25:26 -0800
Subject: [Proj] commercial or closed using PROJ.4
In-Reply-To: <1132774709.850.4.camel@localhost.localdomain>
References: <1132774709.850.4.camel@localhost.localdomain>
Message-ID: <b042fc280511282025u43e98198s934d653f635f7fb5@mail.gmail.com>

On 11/23/05, Maciek Sieczka <werchowyna at epf.pl> wrote:
> Hi All!
>
> Can anybody say what commercial or closed-source software uses PROJ.4?
> Besides the Google Earth?
>

My company, Dynamic Graphics, uses PROJ.4 in our EarthVision family of
applications.

carl



From ovv at hetnet.nl  Tue Nov 29 11:08:17 2005
From: ovv at hetnet.nl (Oscar van Vlijmen)
Date: Tue, 29 Nov 2005 20:08:17 +0100
Subject: [Proj] Meaning of 7-parameter transformation rotations
In-Reply-To: <20051128230124.GA4462@geo9.hut.fi>
Message-ID: <BFB265B1.60E5%ovv@hetnet.nl>

> From: Martin Vermeer <martin.vermeer-hut.fi>

> I find in the document gen_parms.html the remark
> "The seven parameter case uses delta_x, delta_y, delta_z, Rx - rotation
> X, Ry -  rotation  Y, Rz - rotation Z, M_BF - Scaling. The three
> translation parameters are in meters as in the three parameter case. The
> rotational parameters are not in physical units. They are something like the
> sine of the rotational angle times the ellipoid axis length, but I don't know
> the exact details of how to derive these from a physical description of
> the rotation."

In the 7-parameter Helmert transformation the rotation parameters are indeed
in arcseconds according to geodetic practice.
In principle the transformation should be done with mathematical accuracy
and in that case in the rotation matrix combinations of sines and cosines of
angles are found.
Since the translations are relatively small, the rotation angles are small,
the scaling factor is small and a (spherical) Helmert transformation on an
ellipsoidal earth introduces small errors anyway, the sines/cosines in the
rotation matrix are approximated. sin(angle) is nearly equal to angle
(expressed in rad), cos(angle) is nearly 1 and sin(angle)*sin(angle) is
about 0.
See EPSG coordinate operation method code 9606 and ISO 19111.
This approximation has several interesting practical consequences. The order
(around geocentric X-Y-Z axes) of the rotations is no longer important, the
inverse transformation can be done by negating all parameters, switch from
coordinate frame to position vector rotation can be done by negating the
angles only.





From werchowyna at epf.pl  Tue Nov 29 12:33:19 2005
From: werchowyna at epf.pl (Maciek Sieczka)
Date: Tue, 29 Nov 2005 21:33:19 +0100
Subject: [Proj] Ukraine towgs84
In-Reply-To: <BFB265B1.60E5%ovv@hetnet.nl>
References: <BFB265B1.60E5%ovv@hetnet.nl>
Message-ID: <1133296399.11132.10.camel@localhost.localdomain>

Hi All!

I've been looking for a possibly accurate datum shift for Ukraine from
Krassovsky to WGS84.

So far I've found only 3-parameter transformation 28,-130,-95 mentioned
on
http://discussion.autodesk.com/servlet/JiveServlet/download/88-412574-4885877-83391/CSMap_WKT.txt

It is a general towgs84 for for former USSR republics. I expect it to
yield not very accurate results.

Does anybody know of a Ukraine dedicated, possibly 7-parameter, towgs84
shift?

I'm particulary interested in Ukraine's western part, located between
22E and 24E.

Thanks,
Maciek


--------------------
W polskim Internecie s� setki milion�w stron. My przekazujemy Tobie tylko najlepsze z nich!
http://katalog.epf.pl/



From warmerdam at pobox.com  Tue Nov 29 16:11:19 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue, 29 Nov 2005 19:11:19 -0500
Subject: [Proj] commercial or closed using PROJ.4
In-Reply-To: <1133159851.8237.9.camel@localhost.localdomain>
References: <001101c5f3c6$df95fc70$6401a8c0@HPNZ>
	<1133159851.8237.9.camel@localhost.localdomain>
Message-ID: <931f8ea90511291611g705c81eal3259fa23d2153916@mail.gmail.com>

On 11/28/05, Maciek Sieczka <werchowyna at epf.pl> wrote:
> Frank's presentation "PROJ.4 Handling Coordinate Systems" mentions that
> "Various comercial packages" depend on PROJ.4. Two I know of so far...

Maciek,

I am generally not keen on announcing that folks use such
libraries, unless they have chosen to announce it themselves.
While I can think of a few that use (or have used) PROJ.4 in
released proprietary products, it also gets used alot for inhouse
custom software.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From martin.vermeer at hut.fi  Wed Nov 30 01:23:00 2005
From: martin.vermeer at hut.fi (Martin Vermeer)
Date: Wed, 30 Nov 2005 11:23:00 +0200
Subject: [Proj] Meaning of 7-parameter transformation rotations
In-Reply-To: <BFB265B1.60E5%ovv@hetnet.nl>
References: <BFB265B1.60E5%ovv@hetnet.nl>
Message-ID: <1133342581.23667.13.camel@geo9.hut.fi>

On Tue, 2005-11-29 at 20:08 +0100, Oscar van Vlijmen wrote:
> > From: Martin Vermeer <martin.vermeer-hut.fi>
> 
> > I find in the document gen_parms.html the remark
> > "The seven parameter case uses delta_x, delta_y, delta_z, Rx - rotation
> > X, Ry -  rotation  Y, Rz - rotation Z, M_BF - Scaling. The three
> > translation parameters are in meters as in the three parameter case. The
> > rotational parameters are not in physical units. They are something like the
> > sine of the rotational angle times the ellipoid axis length, but I don't know
> > the exact details of how to derive these from a physical description of
> > the rotation."
> 
> In the 7-parameter Helmert transformation the rotation parameters are indeed
> in arcseconds according to geodetic practice.
> In principle the transformation should be done with mathematical accuracy
> and in that case in the rotation matrix combinations of sines and cosines of
> angles are found.
> Since the translations are relatively small, the rotation angles are small,
> the scaling factor is small and a (spherical) Helmert transformation on an
> ellipsoidal earth introduces small errors anyway, the sines/cosines in the
> rotation matrix are approximated. sin(angle) is nearly equal to angle
> (expressed in rad), cos(angle) is nearly 1 and sin(angle)*sin(angle) is
> about 0.
> See EPSG coordinate operation method code 9606 and ISO 19111.
> This approximation has several interesting practical consequences. The order
> (around geocentric X-Y-Z axes) of the rotations is no longer important, the
> inverse transformation can be done by negating all parameters, switch from
> coordinate frame to position vector rotation can be done by negating the
> angles only.

Yes, I know. Just wanted to point out that the above quoted text is
uninformative. Yes, the exact matrix contains sines and cosines, but of
the angles Rx, Ry, Rz that are in seconds of arc (and thus, in any
computation, must be converted to radians first).

The text following "not in physical units" just expresses the author's
lack of information, and contains a wrong guess. I propose to replace it
by correct information.

- Martin Vermeer

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 189 bytes
Desc: This is a digitally signed message part
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20051130/2d17efa4/attachment.sig>

From ovv at hetnet.nl  Wed Nov 30 03:43:42 2005
From: ovv at hetnet.nl (Oscar van Vlijmen)
Date: Wed, 30 Nov 2005 12:43:42 +0100
Subject: [Proj] Ukraine towgs84
In-Reply-To: <1133296399.11132.10.camel@localhost.localdomain>
Message-ID: <BFB34EFD.60F1%ovv@hetnet.nl>

> I've been looking for a possibly accurate datum shift for Ukraine from
> Krassovsky to WGS84.
...
> Does anybody know of a Ukraine dedicated, possibly 7-parameter, towgs84
> shift?

I found an article about GPS on:
http://www.geomatica.kiev.ua/training/DataCapture/GPS/chapter100.html
Scroll down to table 1.1. There you'll find 7-parameter data for the
transformation between PZ-90, SK-42 and WGS84, valid for Ukraine. Since
section 1.3 describes the position vector transformation method, I assume
the parameters are for that type of transformation too.
The article is in Russian.

Probably something useful can be found at the site of the Ukrainian
"Scientific Research Institute for Geodesy and Cartography" (my translation)
http://www.gki.com.ua/
So far I've only found an article about the _method_ of finding parameters
for the transformation between the "state geodetic systems" and the "global
system" WGS-84:
http://www.gki.com.ua/DyWP/bindata/_0000940_file.pdf
but no actual parameters for SK-42. Or did I misread something? My Ukrainian
is a bit rusty...





From warmerdam at pobox.com  Wed Nov 30 09:05:06 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed, 30 Nov 2005 12:05:06 -0500
Subject: [Proj] Meaning of 7-parameter transformation rotations
In-Reply-To: <1133342581.23667.13.camel@geo9.hut.fi>
References: <BFB265B1.60E5%ovv@hetnet.nl>
	<1133342581.23667.13.camel@geo9.hut.fi>
Message-ID: <931f8ea90511300905w57bca475r51317ad40a6ff20c@mail.gmail.com>

On 11/30/05, Martin Vermeer <martin.vermeer at hut.fi> wrote:
> Yes, I know. Just wanted to point out that the above quoted text is
> uninformative. Yes, the exact matrix contains sines and cosines, but of
> the angles Rx, Ry, Rz that are in seconds of arc (and thus, in any
> computation, must be converted to radians first).
>
> The text following "not in physical units" just expresses the author's
> lack of information, and contains a wrong guess. I propose to replace it
> by correct information.

Martin,

Thanks, I have updated the paragraph to read:

"The seven parameter case uses <i>delta_x</i>, <i>delta_y</i>, <i>delta_z</i>,
<i>Rx - rotation X</i>, <i>Ry - rotation Y</i>, <i>Rz - rotation Z</i>,
<i>M_BF - Scaling</i>.  The three translation parameters are in meters as
in the three parameter case.  The rotational parameters are in seconds of
arc.  The scaling is apparently the scale change in parts per million."

Does this look OK?  The previous text was intended to highlight my
lack of information.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From werchowyna at epf.pl  Wed Nov 30 10:55:27 2005
From: werchowyna at epf.pl (Maciek Sieczka)
Date: Wed, 30 Nov 2005 19:55:27 +0100
Subject: [Proj] Ukraine towgs84
In-Reply-To: <BFB34EFD.60F1%ovv@hetnet.nl>
References: <BFB34EFD.60F1%ovv@hetnet.nl>
Message-ID: <1133376928.10096.12.camel@localhost.localdomain>

On śro, 2005-11-30 at 12:43 +0100, Oscar van Vlijmen wrote:
> > I've been looking for a possibly accurate datum shift for Ukraine from
> > Krassovsky to WGS84.
> ...
> > Does anybody know of a Ukraine dedicated, possibly 7-parameter, towgs84
> > shift?
> 
> I found an article about GPS on:
> http://www.geomatica.kiev.ua/training/DataCapture/GPS/chapter100.html
> Scroll down to table 1.1. There you'll find 7-parameter data for the
> transformation between PZ-90, SK-42 and WGS84, valid for Ukraine. Since
> section 1.3 describes the position vector transformation method, I assume
> the parameters are for that type of transformation too.
> The article is in Russian.
> 
> Probably something useful can be found at the site of the Ukrainian
> "Scientific Research Institute for Geodesy and Cartography" (my translation)
> http://www.gki.com.ua/
> So far I've only found an article about the _method_ of finding parameters
> for the transformation between the "state geodetic systems" and the "global
> system" WGS-84:
> http://www.gki.com.ua/DyWP/bindata/_0000940_file.pdf
> but no actual parameters for SK-42. Or did I misread something? My Ukrainian
> is a bit rusty...

Thank you Oscar!

My Ukrainian and Russian are poooor but tomorrow I'll have an occassion
to talk to an Ukrainian guy, somewhat knowlegable about GIS. My problem
will be solved and life will be beautifull again. Thanks to kind folks
like you.

Siema,
Maciek


--------------------
W polskim Internecie są setki milionów stron. My przekazujemy Tobie tylko najlepsze z nich!
http://katalog.epf.pl/



From cjmce at lsu.edu  Wed Nov 30 10:58:19 2005
From: cjmce at lsu.edu (Clifford J Mugnier)
Date: Wed, 30 Nov 2005 12:58:19 -0600
Subject: [Proj] Meaning of 7-parameter transformation rotations
Message-ID: <OFD56614CD.D1E8C666-ON862570C9.00683744-862570C9.00683765@lsu.edu>





Gentlemen:

Note that the SENSE of the rotations have two common usages.  The American
Standard versus the European Standard differ!  To transform in the same
direction, the signs are OPPOSITE from one "standard" to another.
Generally speaking, a 7-parameter  transformation, whether it is a
Bursa-Wolfe or a Molodensky, MUST have a "test point" provided so that the
user knows which sense the rotations need for the desired transformation
direction.

The Americans, Australians, and Luxemborgs use one SENSE, the Europeans use
the other.  In regard to the rest of the world, it depends on which
brand-name of GPS Geodetic Processing software was used to derive the
parameters from some collection of data points.  See my monthly column for
such important minutiae for country to country considerations.

Be careful of 'dem signs!  :-)

Clifford J. Mugnier
Chief of Geodesy
CENTER FOR GEOINFORMATICS
Department of Civil Engineering
LOUISIANA STATE UNIVERSITY
CEBA 3223A
Baton Rouge, LA  70803
Voice and Facsimile:  (225) 578-8536 [Academic]
Voice and Facsimile:  (225) 578-4474 [Research]
================================
http://www.ASPRS.org/resources.GRIDS
http://www.ce.LSU.edu/~mugnier/
================================



On 11/30/05, Martin Vermeer <martin.vermeer at hut.fi> wrote:
> Yes, I know. Just wanted to point out that the above quoted text is
> uninformative. Yes, the exact matrix contains sines and cosines, but of
> the angles Rx, Ry, Rz that are in seconds of arc (and thus, in any
> computation, must be converted to radians first).
>
> The text following "not in physical units" just expresses the author's
> lack of information, and contains a wrong guess. I propose to replace it
> by correct information.

Martin,

Thanks, I have updated the paragraph to read:

"The seven parameter case uses <i>delta_x</i>, <i>delta_y</i>,
<i>delta_z</i>,
<i>Rx - rotation X</i>, <i>Ry - rotation Y</i>, <i>Rz - rotation Z</i>,
<i>M_BF - Scaling</i>.  The three translation parameters are in meters as
in the three parameter case.  The rotational parameters are in seconds of
arc.  The scaling is apparently the scale change in parts per million."

Does this look OK?  The previous text was intended to highlight my
lack of information.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj



From warmerdam at pobox.com  Wed Nov 30 11:16:46 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed, 30 Nov 2005 14:16:46 -0500
Subject: [Proj] Meaning of 7-parameter transformation rotations
In-Reply-To: <OFD56614CD.D1E8C666-ON862570C9.00683744-862570C9.00683765@lsu.edu>
References: <OFD56614CD.D1E8C666-ON862570C9.00683744-862570C9.00683765@lsu.edu>
Message-ID: <931f8ea90511301116l1a710336t213fedb040f2f445@mail.gmail.com>

On 11/30/05, Clifford J Mugnier <cjmce at lsu.edu> wrote:
>
>
>
>
> Gentlemen:
>
> Note that the SENSE of the rotations have two common usages.  The American
> Standard versus the European Standard differ!  To transform in the same
> direction, the signs are OPPOSITE from one "standard" to another.
> Generally speaking, a 7-parameter  transformation, whether it is a
> Bursa-Wolfe or a Molodensky, MUST have a "test point" provided so that the
> user knows which sense the rotations need for the desired transformation
> direction.
>
> The Americans, Australians, and Luxemborgs use one SENSE, the Europeans use
> the other.  In regard to the rest of the world, it depends on which
> brand-name of GPS Geodetic Processing software was used to derive the
> parameters from some collection of data points.  See my monthly column for
> such important minutiae for country to country considerations.
>
> Be careful of 'dem signs!  :-)

Cliff,

Your point is quite correct.  I believe that PROJ
is using the European definition so that we can directly
apply the numbers from EPSG.

Test points are always a good idea.  I wish the EPSG
database came with a test point for each coordinate system.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From martin.vermeer at hut.fi  Wed Nov 30 12:52:55 2005
From: martin.vermeer at hut.fi (Martin Vermeer)
Date: Wed, 30 Nov 2005 22:52:55 +0200
Subject: [Proj] Meaning of 7-parameter transformation rotations
In-Reply-To: <931f8ea90511300905w57bca475r51317ad40a6ff20c@mail.gmail.com>
References: <BFB265B1.60E5%ovv@hetnet.nl>
	<1133342581.23667.13.camel@geo9.hut.fi>
	<931f8ea90511300905w57bca475r51317ad40a6ff20c@mail.gmail.com>
Message-ID: <20051130205255.GB29812@geo9.hut.fi>

On Wed, Nov 30, 2005 at 12:05:06PM -0500, Frank Warmerdam wrote:
> On 11/30/05, Martin Vermeer <martin.vermeer at hut.fi> wrote:
> > Yes, I know. Just wanted to point out that the above quoted text is
> > uninformative. Yes, the exact matrix contains sines and cosines, but of
> > the angles Rx, Ry, Rz that are in seconds of arc (and thus, in any
> > computation, must be converted to radians first).
> >
> > The text following "not in physical units" just expresses the author's
> > lack of information, and contains a wrong guess. I propose to replace it
> > by correct information.
> 
> Martin,
> 
> Thanks, I have updated the paragraph to read:
> 
> "The seven parameter case uses <i>delta_x</i>, <i>delta_y</i>, <i>delta_z</i>,
> <i>Rx - rotation X</i>, <i>Ry - rotation Y</i>, <i>Rz - rotation Z</i>,
> <i>M_BF - Scaling</i>.  The three translation parameters are in meters as
> in the three parameter case.  The rotational parameters are in seconds of
> arc.  The scaling is apparently the scale change in parts per million."
> 
> Does this look OK?  The previous text was intended to highlight my
> lack of information.
> 
> Best regards,

Great!

Thanks,

- Martin




From martin.vermeer at hut.fi  Wed Nov 30 12:55:54 2005
From: martin.vermeer at hut.fi (Martin Vermeer)
Date: Wed, 30 Nov 2005 22:55:54 +0200
Subject: [Proj] Meaning of 7-parameter transformation rotations
In-Reply-To: <OFD56614CD.D1E8C666-ON862570C9.00683744-862570C9.00683765@lsu.edu>
References: <OFD56614CD.D1E8C666-ON862570C9.00683744-862570C9.00683765@lsu.edu>
Message-ID: <20051130205554.GC29812@geo9.hut.fi>

On Wed, Nov 30, 2005 at 12:58:19PM -0600, Clifford J Mugnier wrote:
> 
> 
> 
> 
> Gentlemen:
> 
> Note that the SENSE of the rotations have two common usages.  The American
> Standard versus the European Standard differ!  To transform in the same
> direction, the signs are OPPOSITE from one "standard" to another.
> Generally speaking, a 7-parameter  transformation, whether it is a
> Bursa-Wolfe or a Molodensky, MUST have a "test point" provided so that the
> user knows which sense the rotations need for the desired transformation
> direction.
> 
> The Americans, Australians, and Luxemborgs use one SENSE, the Europeans use
> the other.  In regard to the rest of the world, it depends on which
> brand-name of GPS Geodetic Processing software was used to derive the
> parameters from some collection of data points.  See my monthly column for
> such important minutiae for country to country considerations.
> 
> Be careful of 'dem signs!  :-)

Yes <sigh>, quite true. Perhaps it would be best to just add the matrix
equation in ASCII art to the text. 

- Martin 

-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20051130/bf8f06df/attachment.sig>

