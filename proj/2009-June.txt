From geraldi.evenden at gmail.com  Tue Jun  2 10:57:51 2009
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Tue, 2 Jun 2009 13:57:51 -0400
Subject: [Proj] NTv2 info
Message-ID: <200906021357.51565.geraldi.evenden@gmail.com>

Kudos to the Swiss---so far they are the only ones that seem to have format 
information on the NTv2 correction files.

A slap on the face with cold, wet noodles to the Canadians because I cannot 
locate any format details on the Canadian NTv2 distribution file.  The only 
thing I can find is the documenation of a program to access the file, which 
deserves another slap for not being available in source form.

I seem to get the idea that the Canadians developed this format---comments 
please---and if they did then the designers deserve to be flogged for 8 days 
with wet noodles for "positive east longitude."  I can't believe it!!!!  What 
is unbelievable arrogance by whoever had that stupid---yes, *VERY* 
stupid---idea.  I was looking at the headers of a Swiss NTv2 file and sure 
enough, negative values for longitude.  What's in that Molson anyway?  The 
McKenzie brothers must have been co-chairing the development commitee.

An intersting aside demonstrated by the Swiss distribution: the compress ASCII 
version of the NTv2 file is slightly smaller than the binary version.  
Wouldn't it have been nice if the McKenzie brothers looked into this when 
spec'ing the output form and saved everyone from the curse of determining 
endian conversion?

There is a problem with the Swiss documentation: it is in German and the 
details of the data records is not as clear as the headers.

Obviously, I have not exhausted all possible 4,000 google hits in looking for 
documentation.  If someone is aware of a defining english pdf somewhere, 
please let me know.  Thanks.

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist


From bfraser at geoanalytic.com  Tue Jun  2 11:36:12 2009
From: bfraser at geoanalytic.com (Brent Fraser)
Date: Tue, 02 Jun 2009 12:36:12 -0600
Subject: [Proj] NTv2 info
In-Reply-To: <200906021357.51565.geraldi.evenden@gmail.com>
References: <200906021357.51565.geraldi.evenden@gmail.com>
Message-ID: <4A25711C.8060807@geoanalytic.com>

My government at work, *sigh*.  What they don't tell you is there is more information (including Fortran source code) on $20 CD than available for download on their website (http://www.geod.nrcan.gc.ca/tools-outils/ntv2_e.php)

Best Regards,
Brent Fraser
GeoAnalytic Inc.



Gerald I. Evenden wrote:
> Kudos to the Swiss---so far they are the only ones that seem to have format 
> information on the NTv2 correction files.
> 
> A slap on the face with cold, wet noodles to the Canadians because I cannot 
> locate any format details on the Canadian NTv2 distribution file.  The only 
> thing I can find is the documenation of a program to access the file, which 
> deserves another slap for not being available in source form.
> 
> I seem to get the idea that the Canadians developed this format---comments 
> please---and if they did then the designers deserve to be flogged for 8 days 
> with wet noodles for "positive east longitude."  I can't believe it!!!!  What 
> is unbelievable arrogance by whoever had that stupid---yes, *VERY* 
> stupid---idea.  I was looking at the headers of a Swiss NTv2 file and sure 
> enough, negative values for longitude.  What's in that Molson anyway?  The 
> McKenzie brothers must have been co-chairing the development commitee.
> 
> An intersting aside demonstrated by the Swiss distribution: the compress ASCII 
> version of the NTv2 file is slightly smaller than the binary version.  
> Wouldn't it have been nice if the McKenzie brothers looked into this when 
> spec'ing the output form and saved everyone from the curse of determining 
> endian conversion?
> 
> There is a problem with the Swiss documentation: it is in German and the 
> details of the data records is not as clear as the headers.
> 
> Obviously, I have not exhausted all possible 4,000 google hits in looking for 
> documentation.  If someone is aware of a defining english pdf somewhere, 
> please let me know.  Thanks.
> 


From jerome at georezo.net  Tue Jun  2 12:14:37 2009
From: jerome at georezo.net (=?iso-8859-1?Q?Cuinet_J=E9r=F4me?=)
Date: Tue, 2 Jun 2009 21:14:37 +0200
Subject: [Proj] NTv2 info
In-Reply-To: <200906021357.51565.geraldi.evenden@gmail.com>
References: <200906021357.51565.geraldi.evenden@gmail.com>
Message-ID: <D4A87F4EED87440C8331F604F1249F67@JCPORTABLE>

We can see the existence of a NTV2 Developer's Guide Junkins and Farley, 
1995, but any link is broken. The closest document is a NTV2 User's Guide 
that you have pointed.

This developper guide must be on some computers...


How silly we are, using a canadian built-in format. Fortunately it wasn't an 
Autralian format ! By talking australians, they noticed that NTv2 format had 
seemed to be compiler dependant, although it is finally not compiler 
dependant : http://www.geom.unimelb.edu.au/gda94/NTv2_Binary.pdf

----- Original Message ----- 
From: "Gerald I. Evenden" <geraldi.evenden at gmail.com>
To: "PROJ.4 and general Projections Discussions" <proj at lists.maptools.org>
Sent: Tuesday, June 02, 2009 7:57 PM
Subject: [Proj] NTv2 info


> Kudos to the Swiss---so far they are the only ones that seem to have 
> format
> information on the NTv2 correction files.
>
> A slap on the face with cold, wet noodles to the Canadians because I 
> cannot
> locate any format details on the Canadian NTv2 distribution file.  The 
> only
> thing I can find is the documenation of a program to access the file, 
> which
> deserves another slap for not being available in source form.
>
> I seem to get the idea that the Canadians developed this format---comments
> please---and if they did then the designers deserve to be flogged for 8 
> days
> with wet noodles for "positive east longitude."  I can't believe it!!!! 
> What
> is unbelievable arrogance by whoever had that stupid---yes, *VERY*
> stupid---idea.  I was looking at the headers of a Swiss NTv2 file and sure
> enough, negative values for longitude.  What's in that Molson anyway?  The
> McKenzie brothers must have been co-chairing the development commitee.
>
> An intersting aside demonstrated by the Swiss distribution: the compress 
> ASCII
> version of the NTv2 file is slightly smaller than the binary version.
> Wouldn't it have been nice if the McKenzie brothers looked into this when
> spec'ing the output form and saved everyone from the curse of determining
> endian conversion?
>
> There is a problem with the Swiss documentation: it is in German and the
> details of the data records is not as clear as the headers.
>
> Obviously, I have not exhausted all possible 4,000 google hits in looking 
> for
> documentation.  If someone is aware of a defining english pdf somewhere,
> please let me know.  Thanks.
>
> -- 
> The whole religious complexion of the modern world is due
> to the absence from Jerusalem of a lunatic asylum.
> -- Havelock Ellis (1859-1939) British psychologist
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
> 



From geraldi.evenden at gmail.com  Tue Jun  2 12:41:18 2009
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Tue, 2 Jun 2009 15:41:18 -0400
Subject: [Proj] NTv2 info
In-Reply-To: <D4A87F4EED87440C8331F604F1249F67@JCPORTABLE>
References: <200906021357.51565.geraldi.evenden@gmail.com>
	<D4A87F4EED87440C8331F604F1249F67@JCPORTABLE>
Message-ID: <200906021541.19074.geraldi.evenden@gmail.com>

On Tuesday 02 June 2009 3:14:37 pm Cuinet Jérôme wrote:
> We can see the existence of a NTV2 Developer's Guide Junkins and Farley,
> 1995, but any link is broken. The closest document is a NTV2 User's Guide
> that you have pointed.
>
> This developper guide must be on some computers...
>
>
> How silly we are, using a canadian built-in format. Fortunately it wasn't
> an Autralian format ! By talking australians, they noticed that NTv2 format
> had seemed to be compiler dependant, although it is finally not compiler
> dependant : http://www.geom.unimelb.edu.au/gda94/NTv2_Binary.pdf
>

It is what seems to be most commonly call "endian" dependent.  That is; if a 
character string of 8 bytes is overlayed on a type double word, is the first 
byte of the string at the begining of the float word or at the end.  That is, 
the byte string might be in reverse order.

In the case of reading the NTv2 format one must reverse order the bytes of the 
float and double words in the file before they make sense to an Intel or 
clone CPU (read "Microsoft").

In the case of the NGS NADCON files, an Intel machine can process them without 
byte flipping.

Data transfer among different CPUs can be a *REAL* headache!

If it was an Australian format, latitude would be positive south of the 
equator.  ;-)

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist


From warmerdam at pobox.com  Tue Jun  2 12:50:33 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue, 02 Jun 2009 15:50:33 -0400
Subject: [Proj] NTv2 info
In-Reply-To: <200906021541.19074.geraldi.evenden@gmail.com>
References: <200906021357.51565.geraldi.evenden@gmail.com>
	<D4A87F4EED87440C8331F604F1249F67@JCPORTABLE>
	<200906021541.19074.geraldi.evenden@gmail.com>
Message-ID: <4A258289.9020200@pobox.com>


Folks,

I would add that there is NTv2 reading and utilization code in the PROJ.4
code.  Search on "ntv2" in files like pj_gridinfo.c.

Byte swapping and axis orientation are really not a big issue as long as
they are unambiguous.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From geraldi.evenden at gmail.com  Tue Jun  2 14:07:51 2009
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Tue, 2 Jun 2009 17:07:51 -0400
Subject: [Proj] NTv2 info
In-Reply-To: <4A258289.9020200@pobox.com>
References: <200906021357.51565.geraldi.evenden@gmail.com>
	<200906021541.19074.geraldi.evenden@gmail.com>
	<4A258289.9020200@pobox.com>
Message-ID: <200906021707.51240.geraldi.evenden@gmail.com>

On Tuesday 02 June 2009 3:50:33 pm Frank Warmerdam wrote:
> Folks,
>
> I would add that there is NTv2 reading and utilization code in the PROJ.4
> code.  Search on "ntv2" in files like pj_gridinfo.c.
>
> Byte swapping and axis orientation are really not a big issue as long as
> they are unambiguous.
>
> Best regards,

How do you think I got involved with NTv2?

I never heard of NTv2 before because I have not been involved with datum 
stuff.

The bizarre material in pj_gridinfo.c meant that I had to research it out and 
try to get the whole story.  Or, at least, a bit more.

On a previous email I meant *binary* data transfer between different CPU's is 
a problem.

Some other material surfaced that shows that the NTv2 material much more 
whacky than just the positive west longitude.  It has to be the product of 
the McKenzie brother's R&D company.

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist


From cjmce at lsu.edu  Tue Jun  2 14:08:42 2009
From: cjmce at lsu.edu (Clifford J Mugnier)
Date: Tue, 2 Jun 2009 16:08:42 -0500
Subject: [Proj] NTv2 info
References: <200906021357.51565.geraldi.evenden@gmail.com><D4A87F4EED87440C8331F604F1249F67@JCPORTABLE>
	<200906021541.19074.geraldi.evenden@gmail.com>
Message-ID: <B597ADFC46B67741B18EA6AA13613FF7EC2700@email002.lsu.edu>

This phenomenon might be termed "hemispherical ethnocentric geodetics" complicated by ellipsoids ...
 
Once had to write a translator to get the extended character set to compile properly between Intel compilers and Unix compilers.
 
C. Mugnier
LOUISIANA STATE UNIVERSITY

________________________________

From: proj-bounces at lists.maptools.org on behalf of Gerald I. Evenden
Sent: Tue 02-Jun-09 14:41
To: Cuinet Jérôme
Cc: PROJ.4 and general Projections Discussions
Subject: Re: [Proj] NTv2 info



On Tuesday 02 June 2009 3:14:37 pm Cuinet Jérôme wrote:
> We can see the existence of a NTV2 Developer's Guide Junkins and Farley,
> 1995, but any link is broken. The closest document is a NTV2 User's Guide
> that you have pointed.
>
> This developper guide must be on some computers...
>
>
> How silly we are, using a canadian built-in format. Fortunately it wasn't
> an Autralian format ! By talking australians, they noticed that NTv2 format
> had seemed to be compiler dependant, although it is finally not compiler
> dependant : http://www.geom.unimelb.edu.au/gda94/NTv2_Binary.pdf
>

It is what seems to be most commonly call "endian" dependent.  That is; if a
character string of 8 bytes is overlayed on a type double word, is the first
byte of the string at the begining of the float word or at the end.  That is,
the byte string might be in reverse order.

In the case of reading the NTv2 format one must reverse order the bytes of the
float and double words in the file before they make sense to an Intel or
clone CPU (read "Microsoft").

In the case of the NGS NADCON files, an Intel machine can process them without
byte flipping.

Data transfer among different CPUs can be a *REAL* headache!

If it was an Australian format, latitude would be positive south of the
equator.  ;-)

--
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist
_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20090602/497b5af7/attachment.html>

From geraldi.evenden at gmail.com  Tue Jun  2 19:03:53 2009
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Tue, 2 Jun 2009 22:03:53 -0400
Subject: [Proj] NTv2 info
In-Reply-To: <4A258289.9020200@pobox.com>
References: <200906021357.51565.geraldi.evenden@gmail.com>
	<200906021541.19074.geraldi.evenden@gmail.com>
	<4A258289.9020200@pobox.com>
Message-ID: <200906022203.53414.geraldi.evenden@gmail.com>

We have our answer to the McKenzie brothers in the US and they go by the names 
of Larry, Mo and Curly.  Another one occasionally shows up called Shemp.

They were last seen in Redmond, Washington and rumorred to be in charge of a 
large software company's R&D unit.

As an aside: the first micros (68000 Motorola micros) that we installed in the 
computer room in Woods Hole circa the 80s were called Larry, Mo and Curley.  
They were all Unix systems and connected with an ethernet cable as thick as 
my thumb.

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist


From stephane.poirier at usherbrooke.ca  Tue Jun  2 22:38:06 2009
From: stephane.poirier at usherbrooke.ca (stephane.poirier at usherbrooke.ca)
Date: Wed, 3 Jun 2009 01:38:06 -0400
Subject: [Proj] How to derive projections definitions from North American
	LCC and Polar Stereographic rendered maps rasters?
Message-ID: <65D333C4020F49A083F67CA058108E81@flshedu.usherbrooke.ca>

Hi All,

1) Is there a way to derive projection parameters strictly from the rendered raster information of 
http://pages.usherbrooke.ca/spoirier/ouranos_dai_crcm_polar-stereographic(milka).png and
http://pages.usherbrooke.ca/spoirier/ouranos_dai_narr_lambert-conic-conform(patrice)_cleaned.jpg
assuming accuracy is not so critical?

2) Would this, here below, be a close enough proj4js definition for the polar stereographic here above?
Proj4js.defs["EPSG:CRCM"] = "+proj=stere +lat_0=90 +lat_ts=60 +lon_0=-97 +k=1 +x_0=3450000 +y_0=7450000 +ellps=WGS84 +datum=WGS84 +units=m" (CRCM being our own custom EPSG string tag).

Regards,


Stephane Poirier, M.Sc. Optics Physics
Remote Sensing Research Professional
University of Sherbrooke, QC, Canada
Stephane.Poirier at USherbrooke.ca
http://www.usherbrooke.ca/cartel
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20090603/df024a91/attachment.html>

From paul-grass at stjohnspoint.co.uk  Wed Jun  3 02:06:39 2009
From: paul-grass at stjohnspoint.co.uk (Paul Kelly)
Date: Wed, 3 Jun 2009 10:06:39 +0100 (BST)
Subject: [Proj] NTv2 info
In-Reply-To: <200906021357.51565.geraldi.evenden@gmail.com>
References: <200906021357.51565.geraldi.evenden@gmail.com>
Message-ID: <Pine.LNX.4.62.0906031002250.27608@vortex.ukshells.co.uk>

See the below link for an account of my own naive experimentations with 
the NTv2 format a few years ago - perhaps not of great interest though as 
I too could not find any adequate documentation for the binary version of 
the file and indeed used some Windows software (Australian) to create a 
binary version from the ASCII.

Link: <http://www.stjohnspoint.co.uk/gis/france.htm>


From francesco.pirotti at unipd.it  Wed Jun  3 02:48:49 2009
From: francesco.pirotti at unipd.it (francesco)
Date: Wed, 03 Jun 2009 11:48:49 +0200
Subject: [Proj] NTv2 info
In-Reply-To: <Pine.LNX.4.62.0906031002250.27608@vortex.ukshells.co.uk>
References: <200906021357.51565.geraldi.evenden@gmail.com>
	<Pine.LNX.4.62.0906031002250.27608@vortex.ukshells.co.uk>
Message-ID: <4A264701.5060204@unipd.it>

Hello, a year ago I looked into the NTv2 format in order to convert the 
Italian grids of corrections into such format.  I tried it out with 
Mapserver and GvSIG and it worked well. I did a windows executable in C 
to read information in italian .gr files and convert them into the 
binary format of NTv2.  I believe I still have the documentation pdf ; I 
used the Australian software "user guide" and "software documentation" 
(GDAit), and a link in internet which I downloaded but I cannot find the 
original link address... the title is: "Creation of NTv2 Grid File for 
French NTF -- RGF93 Datum Conversions.htm".

If you need I am glad to help. I remember I had a bit of trouble with 
unusual reference frame, but it just needs a little sorting.
Cheers,
Francesco Pirotti

Paul Kelly ha scritto:
> See the below link for an account of my own naive experimentations with 
> the NTv2 format a few years ago - perhaps not of great interest though as 
> I too could not find any adequate documentation for the binary version of 
> the file and indeed used some Windows software (Australian) to create a 
> binary version from the ASCII.
>
> Link: <http://www.stjohnspoint.co.uk/gis/france.htm>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
>
>
>   



From support.mn at elisanet.fi  Wed Jun  3 13:57:00 2009
From: support.mn at elisanet.fi (support.mn at elisanet.fi)
Date: Wed, 3 Jun 2009 23:57:00 +0300 (EEST)
Subject: [Proj] Unicode
Message-ID: <19293820.4813761244062621022.JavaMail.support.mn@elisanet.fi>

Hello,

if there are any issues with any text files I would very much recommend to use Unicode.

-> "Unicode is a computing industry standard allowing computers to consistently represent
and manipulate text expressed in most of the world's writing systems. The UCS-2 and
UTF-16 encodings specify the Unicode Byte Order Mark (BOM) for use at the beginnings
of text files, which may be used for byte ordering detection (or byte endianness detection).

Unicode has become the dominant scheme for internal processing and storage of text
(although a great deal of text is still stored in legacy encodings, Unicode is increasingly
being used for the storage of new text). Early adopters tended to use UCS-2 and later
moved to UTF-16 (as this was the least disruptive way to add support for non-BMP
characters)."

See also:

http://en.wikipedia.org/wiki/Unicode


Janne.



From kbalavignesh at gmail.com  Thu Jun  4 01:29:44 2009
From: kbalavignesh at gmail.com (BalaVignesh Kasinathan)
Date: Thu, 4 Jun 2009 13:59:44 +0530
Subject: [Proj] How to Reengineering the cs2cs tool
Message-ID: <bc3fff520906040129k3c105eb3o689400096ebc6c03@mail.gmail.com>

Dear Friends,
          I am very newbie to projection concepts. I am in need to write the
cs2cs tool in php/perl language to convert the coordinates from source
epsg-2393 to target epsg-4326. Initially i tried to understand the cs2cs
tool code. I can't understand the whole structure of the code , as it
contains more mathematical functions. So i have started to trace the code
linebyline using anjuta debugger. But i dont think this one is the correct
way. As the code contains more 'if' checks i may miss some flow of the code.

   Please give some guide lines to understand the concept of cs2cs tool.
Where can i get the direct mathematic formulas? So i can directly code it on
php or perl without looking the C code.

Thanks in Advance,
Bala
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20090604/1a7c1706/attachment.html>

From bea at ixsea.com  Thu Jun  4 01:50:30 2009
From: bea at ixsea.com (=?UTF-8?Q?Beno=C3=AEt_Andrieu?=)
Date: Thu, 4 Jun 2009 10:50:30 +0200
Subject: [Proj] How to Reengineering the cs2cs tool
In-Reply-To: <bc3fff520906040129k3c105eb3o689400096ebc6c03@mail.gmail.com>
References: <bc3fff520906040129k3c105eb3o689400096ebc6c03@mail.gmail.com>
Message-ID: <440052461C714F3E8CE863079312CEAB@ixsea.local>

Can't you call directly the proj dll or wrap it in order to use it directly from your php / perl code ?
It seems dangerous to me to recode everything.

Regards,

Benoît Andrieu
bea at ixsea.com
benoit.andrieu at gmail.com

  ----- Original Message ----- 
  From: BalaVignesh Kasinathan 
  To: proj at lists.maptools.org 
  Sent: Thursday, June 04, 2009 10:29 AM
  Subject: [Proj] How to Reengineering the cs2cs tool


  Dear Friends,
            I am very newbie to projection concepts. I am in need to write the cs2cs tool in php/perl language to convert the coordinates from source epsg-2393 to target epsg-4326. Initially i tried to understand the cs2cs tool code. I can't understand the whole structure of the code , as it contains more mathematical functions. So i have started to trace the code linebyline using anjuta debugger. But i dont think this one is the correct way. As the code contains more 'if' checks i may miss some flow of the code.

     Please give some guide lines to understand the concept of cs2cs tool. Where can i get the direct mathematic formulas? So i can directly code it on php or perl without looking the C code.

  Thanks in Advance,
  Bala




------------------------------------------------------------------------------


  _______________________________________________
  Proj mailing list
  Proj at lists.maptools.org
  http://lists.maptools.org/mailman/listinfo/proj
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20090604/3cd5e995/attachment.html>

From kbalavignesh at gmail.com  Thu Jun  4 06:14:01 2009
From: kbalavignesh at gmail.com (BalaVignesh Kasinathan)
Date: Thu, 4 Jun 2009 18:44:01 +0530
Subject: [Proj] How to Reengineering the cs2cs tool
In-Reply-To: <440052461C714F3E8CE863079312CEAB@ixsea.local>
References: <bc3fff520906040129k3c105eb3o689400096ebc6c03@mail.gmail.com>
	<440052461C714F3E8CE863079312CEAB@ixsea.local>
Message-ID: <bc3fff520906040614g26ef85f9qeeb24f103bdf9802@mail.gmail.com>

On Thu, Jun 4, 2009 at 2:20 PM, Benoît Andrieu <bea at ixsea.com> wrote:

>  Can't you call directly the proj dll or wrap it in order to use it
> directly from your php / perl code ?
> It seems dangerous to me to recode everything.
>

Hi Andrieu,

  Yes i can call the cs2cs binary directly from php code but it gives some
performance issues.
  I need to do 100 s of convertion at the time. So that only i am trying to
develop on the native language (php code).

Regards,
Bala
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20090604/4b8f0da0/attachment.html>

From bea at ixsea.com  Thu Jun  4 07:37:45 2009
From: bea at ixsea.com (=?UTF-8?Q?Beno=C3=AEt_Andrieu?=)
Date: Thu, 4 Jun 2009 16:37:45 +0200
Subject: [Proj] How to Reengineering the cs2cs tool
In-Reply-To: <bc3fff520906040614g26ef85f9qeeb24f103bdf9802@mail.gmail.com>
References: <bc3fff520906040129k3c105eb3o689400096ebc6c03@mail.gmail.com><440052461C714F3E8CE863079312CEAB@ixsea.local>
	<bc3fff520906040614g26ef85f9qeeb24f103bdf9802@mail.gmail.com>
Message-ID: <860D83D16E3142A795ABEB4725DE2C1F@ixsea.local>

Hi,

I wouldn't call the binary because, yes, it would load the dlls for each call and it would take some time.
But by using the proj dll you wouldn't have this problem. Maybe it is not possible, I don't know.

I am quite surprised that no one had to this before...

Regards,

Benoît Andrieu
bea at ixsea.com
benoit.andrieu at gmail.com

  ----- Original Message ----- 
  From: BalaVignesh Kasinathan 
  To: PROJ.4 and general Projections Discussions 
  Cc: benoit.andrieu at gmail.com 
  Sent: Thursday, June 04, 2009 3:14 PM
  Subject: Re: [Proj] How to Reengineering the cs2cs tool




  On Thu, Jun 4, 2009 at 2:20 PM, Benoît Andrieu <bea at ixsea.com> wrote:

    Can't you call directly the proj dll or wrap it in order to use it directly from your php / perl code ?
    It seems dangerous to me to recode everything.

  Hi Andrieu,

    Yes i can call the cs2cs binary directly from php code but it gives some performance issues. 
    I need to do 100 s of convertion at the time. So that only i am trying to develop on the native language (php code).

  Regards,
  Bala





------------------------------------------------------------------------------


  _______________________________________________
  Proj mailing list
  Proj at lists.maptools.org
  http://lists.maptools.org/mailman/listinfo/proj
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20090604/d05e4201/attachment.html>

From geraldi.evenden at gmail.com  Thu Jun  4 08:05:49 2009
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Thu, 4 Jun 2009 11:05:49 -0400
Subject: [Proj] How to Reengineering the cs2cs tool
In-Reply-To: <bc3fff520906040129k3c105eb3o689400096ebc6c03@mail.gmail.com>
References: <bc3fff520906040129k3c105eb3o689400096ebc6c03@mail.gmail.com>
Message-ID: <200906041105.50086.geraldi.evenden@gmail.com>

On Thursday 04 June 2009 4:29:44 am BalaVignesh Kasinathan wrote:
> Dear Friends,
>           I am very newbie to projection concepts. I am in need to write
> the cs2cs tool in php/perl language to convert the coordinates from source
> epsg-2393 to target epsg-4326. Initially i tried to understand the cs2cs
> tool code. I can't understand the whole structure of the code , as it
> contains more mathematical functions. So i have started to trace the code
> linebyline using anjuta debugger. But i dont think this one is the correct
> way. As the code contains more 'if' checks i may miss some flow of the
> code.
>
>    Please give some guide lines to understand the concept of cs2cs tool.
> Where can i get the direct mathematic formulas? So i can directly code it
> on php or perl without looking the C code.
>
> Thanks in Advance,
> Bala

Given this initial request and subsequent interchange I cannot help but feel 
that you are very deeply in over you head.

First of all, all of the mathematics of the material in cs2cs is out there but 
it is widely diseminated and would require a good deal of work to merely 
assemble the sources.  I have done a portion of this in the libproj4 manual 
but it is not complete nor would I consider it a prime source.

Secondly, one does need to be reasonably competent in mathematics and at a 
collegiate softmore level. I get the feeling that you are not.

Secondly, you mention in one of the emails that you were looking for 
performance and needed to compute quantities of points.  I do *not* consider 
php nor perl suited for this type of work.  From my understanding, php is 
primarily for html/web site purposes and perl is an interpreter language and 
this certainly does not make it suitable for high volume applications.

I believe the previous advice to link to the existing DLLs is your best 
option.

I sincerely hope you reevaluate your problem.

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist


From mattxbart at gmail.com  Thu Jun  4 08:38:10 2009
From: mattxbart at gmail.com (Matt Bartolome)
Date: Thu, 4 Jun 2009 08:38:10 -0700
Subject: [Proj] How to Reengineering the cs2cs tool
In-Reply-To: <bc3fff520906040614g26ef85f9qeeb24f103bdf9802@mail.gmail.com>
References: <bc3fff520906040129k3c105eb3o689400096ebc6c03@mail.gmail.com>
	<440052461C714F3E8CE863079312CEAB@ixsea.local>
	<bc3fff520906040614g26ef85f9qeeb24f103bdf9802@mail.gmail.com>
Message-ID: <633d34560906040838j32d205d8k7fd157eeda787e10@mail.gmail.com>

I've done the same thing in python using the popen() function. PHP
provides the same thing as well as proc_open(). I'm not sure what you
mean by performance problems but I would much rather take care of that
in PHP or your server architecture rather than rewriting cs2cs.

On Thu, Jun 4, 2009 at 6:14 AM, BalaVignesh Kasinathan
<kbalavignesh at gmail.com> wrote:
>
> On Thu, Jun 4, 2009 at 2:20 PM, Benoît Andrieu <bea at ixsea.com> wrote:
>>
>> Can't you call directly the proj dll or wrap it in order to use it
>> directly from your php / perl code ?
>> It seems dangerous to me to recode everything.
>
>
> Hi Andrieu,
>
>   Yes i can call the cs2cs binary directly from php code but it gives some
> performance issues.
>   I need to do 100 s of convertion at the time. So that only i am trying to
> develop on the native language (php code).
>
> Regards,
> Bala
>
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
>


From szekerest at gmail.com  Thu Jun  4 12:10:54 2009
From: szekerest at gmail.com (Tamas Szekeres)
Date: Thu, 4 Jun 2009 21:10:54 +0200
Subject: [Proj] How to Reengineering the cs2cs tool
In-Reply-To: <bc3fff520906040614g26ef85f9qeeb24f103bdf9802@mail.gmail.com>
References: <bc3fff520906040129k3c105eb3o689400096ebc6c03@mail.gmail.com>
	<440052461C714F3E8CE863079312CEAB@ixsea.local>
	<bc3fff520906040614g26ef85f9qeeb24f103bdf9802@mail.gmail.com>
Message-ID: <f3b73b7d0906041210l702bc454i5fb7d8cf2f4f263d@mail.gmail.com>

You could also try the GDAL SWIG Perl bindings which also wraps some proj4
functionality. You might want to use
CoordinateTransformation.TransformPoints to transform multiple points in a
single call.
GDAL also have php bindings but there's no active maintainer to keep this
stuff in a good condition.

Best regards,

Tamas


2009/6/4 BalaVignesh Kasinathan <kbalavignesh at gmail.com>

>
> On Thu, Jun 4, 2009 at 2:20 PM, Benoît Andrieu <bea at ixsea.com> wrote:
>
>>  Can't you call directly the proj dll or wrap it in order to use it
>> directly from your php / perl code ?
>> It seems dangerous to me to recode everything.
>>
>
> Hi Andrieu,
>
>   Yes i can call the cs2cs binary directly from php code but it gives some
> performance issues.
>   I need to do 100 s of convertion at the time. So that only i am trying to
> develop on the native language (php code).
>
> Regards,
> Bala
>
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20090604/b95c9f03/attachment.html>

From al001 at uni-koeln.de  Fri Jun  5 00:06:43 2009
From: al001 at uni-koeln.de (Irwin Scollar)
Date: Fri, 05 Jun 2009 09:06:43 +0200
Subject: [Proj] Unicode
In-Reply-To: <mailman.5.1244134802.21194.proj@lists.maptools.org>
References: <mailman.5.1244134802.21194.proj@lists.maptools.org>
Message-ID: <200906050706.n5576m9x007848@smtp-auth.uni-koeln.de>

Janne wrote:

>if there are any issues with any text files I would very much 
>recommend to use Unicode.

Unicode may break the code in many other routines from external 
sources in a compiled programme. If one doesn't have source code, it 
will cause run-time errors that break the programme even if it 
compiles.  There may also be incompatibilities with DLL's leading to 
buffer overflows.  This can't be fixed unless you can recompile the 
source for the DLL and any routines which are used for building it.

These caveats don't apply of course if you have all sources in hand 
for a very small programme and don't mind reworking everything where needed.

I have experienced exactly this problem with the programme I maintain 
when I try to use the Code Gear Delphi 2009 compiler that  has 
switched all string processing to Unicode by default.  It produces 
thousands of error messages from various external supplier's source 
code which the compiler tries to rebuild them for linking into my 
programme. There are no problems with earlier compiler versions that 
don't use Unicode unless specifically requested.


Irwin Scollar





From glynn at gclements.plus.com  Fri Jun  5 02:37:57 2009
From: glynn at gclements.plus.com (Glynn Clements)
Date: Fri, 5 Jun 2009 10:37:57 +0100
Subject: [Proj] How to Reengineering the cs2cs tool
In-Reply-To: <200906041105.50086.geraldi.evenden@gmail.com>
References: <bc3fff520906040129k3c105eb3o689400096ebc6c03@mail.gmail.com>
	<200906041105.50086.geraldi.evenden@gmail.com>
Message-ID: <18984.59253.435712.959645@cerise.gclements.plus.com>


Gerald I. Evenden wrote:

> >           I am very newbie to projection concepts. I am in need to write
> > the cs2cs tool in php/perl language to convert the coordinates from source
> > epsg-2393 to target epsg-4326. Initially i tried to understand the cs2cs
> > tool code. I can't understand the whole structure of the code , as it
> > contains more mathematical functions. So i have started to trace the code
> > linebyline using anjuta debugger. But i dont think this one is the correct
> > way. As the code contains more 'if' checks i may miss some flow of the
> > code.
> >
> >    Please give some guide lines to understand the concept of cs2cs tool.
> > Where can i get the direct mathematic formulas? So i can directly code it
> > on php or perl without looking the C code.
> >
> > Thanks in Advance,
> > Bala
> 
> Given this initial request and subsequent interchange I cannot help but feel 
> that you are very deeply in over you head.
> 
> First of all, all of the mathematics of the material in cs2cs is out there but 
> it is widely diseminated and would require a good deal of work to merely 
> assemble the sources.  I have done a portion of this in the libproj4 manual 
> but it is not complete nor would I consider it a prime source.
> 
> Secondly, one does need to be reasonably competent in mathematics and at a 
> collegiate softmore level. I get the feeling that you are not.
> 
> Secondly, you mention in one of the emails that you were looking for 
> performance and needed to compute quantities of points.  I do *not* consider 
> php nor perl suited for this type of work.  From my understanding, php is 
> primarily for html/web site purposes and perl is an interpreter language and 
> this certainly does not make it suitable for high volume applications.
> 
> I believe the previous advice to link to the existing DLLs is your best 
> option.

Ordinarily, the best option would be to run cs2cs once and feed it
multiple coordinates.

However, there's a problem with this in that cs2cs uses the default
buffering mode and doesn't call fflush() after each line. If cs2cs is
run with its stdout associated with a pipe, the default buffering mode
will be block buffering, so you only get output a block at a time.

This means that you can't use something like:

	while (more coordinates) {
		send input to cs2cs
		read output from cs2cs
	}

as the first read will block until cs2cs generates some output, which
won't happen until it gets more input, which won't happen because the
program supplying its input is blocked waiting for output, i.e. 
deadlock.

You would need to either:

1. Write the input coordinates to a file, then run cs2cs with its
stdin associated with that file, and read its output from your
program.

2. Run cs2cs with its stdout associated with a new file, feed it input
from your program, and read the output coordinates from that file once
cs2cs completes.

3. Use multiple threads, with one thread feeding input to cs2cs and
another reading the output.

4. Use non-blocking I/O on the output, so that the program can
continously feed input to cs2cs and read output when it's available
without blocking when it isn't.

5. Modify cs2cs to either call setvbuf(stdout, buf, _IOLBF, bufsize)
at startup, or call fflush(stdout) after each line has been written.

Personally, I suspect that #5 is likely to be the easiest option.

Better still would be for this change to be incorporated into a future
cs2cs release. Note that the PROJ executable has the same problem.

-- 
Glynn Clements <glynn at gclements.plus.com>


From alex.deckmyn at oma.be  Fri Jun  5 04:05:23 2009
From: alex.deckmyn at oma.be (Alex Deckmyn)
Date: Fri, 05 Jun 2009 11:05:23 +0000
Subject: [Proj] problem with +proj=omerc +no_rot
Message-ID: <4A28FBF3.9020904@oma.be>

Hi,

I am not an expert on using proj, so my appologies if this is a trivial question.

When projecting data to an oblique mercator (omerc) but without rotating the coordinates
back (+no_rot), I always get the X-component mirrored and I have to convert x -> -x 
manually afterwards to get my graphs correct. If the angle alpha is positive, it is the Y 
component that is inverted.

If "no_rot" only turns on or off a rotation alpha, I don't understand why the X or Y 
component is flipped in this way.

Looking at the code in PJ_omerc.c, the outputs with or without +no_rot appear not to be 
rotated versions of each other: either X or Y is inverted, depending on the sign of P->sinrot.

How can I get the data correct in the +no_rot case?

Alex

-- 
Dr. Alex Deckmyn                   e-mail: alex.deckmyn at oma.be
Royal Meteorological Institute     http://www.meteo.be
Ringlaan 3, 1180 Ukkel, Belgium    tel. (32)(2)3730646



From kbalavignesh at gmail.com  Fri Jun  5 06:08:25 2009
From: kbalavignesh at gmail.com (BalaVignesh Kasinathan)
Date: Fri, 5 Jun 2009 18:38:25 +0530
Subject: [Proj] How to Reengineering the cs2cs tool
In-Reply-To: <200906041105.50086.geraldi.evenden@gmail.com>
References: <bc3fff520906040129k3c105eb3o689400096ebc6c03@mail.gmail.com>
	<200906041105.50086.geraldi.evenden@gmail.com>
Message-ID: <bc3fff520906050608h44b1c249x68011a732a503068@mail.gmail.com>

On Thu, Jun 4, 2009 at 8:35 PM, Gerald I. Evenden <geraldi.evenden at gmail.com
> wrote:

>
> I sincerely hope you reevaluate your problem.
>
>
Thank you very much for all your replies.

Yes  , i am reevaluating my problems. At the same time i am keep on trying
to do it in php by tracing the code. When i finish the work , i will
benchmark the performance with existing method (Where i am accessing the
cs2cs binary from php code).

   Also i am trying to understand the documents but as you mentioned i find
dificulties to understand it.

Regards,
Bala
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20090605/e7e20b26/attachment.html>

From kbalavignesh at gmail.com  Fri Jun  5 06:11:14 2009
From: kbalavignesh at gmail.com (BalaVignesh Kasinathan)
Date: Fri, 5 Jun 2009 18:41:14 +0530
Subject: [Proj] How to Reengineering the cs2cs tool
In-Reply-To: <18984.59253.435712.959645@cerise.gclements.plus.com>
References: <bc3fff520906040129k3c105eb3o689400096ebc6c03@mail.gmail.com>
	<200906041105.50086.geraldi.evenden@gmail.com>
	<18984.59253.435712.959645@cerise.gclements.plus.com>
Message-ID: <bc3fff520906050611t6190ccf5y99811c8a1485bfb5@mail.gmail.com>

On Fri, Jun 5, 2009 at 3:07 PM, Glynn Clements <glynn at gclements.plus.com>wrote:

>
>
> Ordinarily, the best option would be to run cs2cs once and feed it
> multiple coordinates.
>

Hi Glynn ,
   Thanks for the detailed  mail. I will  try and let you know my effort.

Thanks & Regards,
Bala
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20090605/1e91da5c/attachment.html>

From karl at kls2.com  Fri Jun  5 08:19:34 2009
From: karl at kls2.com (Karl Swartz)
Date: Fri, 5 Jun 2009 08:19:34 -0700
Subject: [Proj] How to Reengineering the cs2cs tool
In-Reply-To: <18984.59253.435712.959645@cerise.gclements.plus.com>
References: <bc3fff520906040129k3c105eb3o689400096ebc6c03@mail.gmail.com>
	<200906041105.50086.geraldi.evenden@gmail.com>
	<18984.59253.435712.959645@cerise.gclements.plus.com>
Message-ID: <20090605151934.GC33573@orion2.kls2.com>

> This means that you can't use something like:
> 
> 	while (more coordinates) {
> 		send input to cs2cs
> 		read output from cs2cs
> 	}

This sort of code is generally a bad idea as its behavior depends on the
OS and the program you are calling.

In the old days, I would have used a temp file, but now I'd consider
threads.

 -- Karl


From Chris.Barker at noaa.gov  Fri Jun  5 16:50:39 2009
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Fri, 05 Jun 2009 16:50:39 -0700
Subject: [Proj] How to Reengineering the cs2cs tool
In-Reply-To: <18984.59253.435712.959645@cerise.gclements.plus.com>
References: <bc3fff520906040129k3c105eb3o689400096ebc6c03@mail.gmail.com>
	<200906041105.50086.geraldi.evenden@gmail.com>
	<18984.59253.435712.959645@cerise.gclements.plus.com>
Message-ID: <4A29AF4F.4080902@noaa.gov>

Glynn Clements wrote:
> 1. Write the input coordinates to a file, then run cs2cs with its
> stdin associated with that file, and read its output from your
> program.
> 
> 2. Run cs2cs with its stdout associated with a new file, feed it input
> from your program, and read the output coordinates from that file once
> cs2cs completes.
> 
> 3. Use multiple threads, with one thread feeding input to cs2cs and
> another reading the output.
> 
> 4. Use non-blocking I/O on the output, so that the program can
> continously feed input to cs2cs and read output when it's available
> without blocking when it isn't.
> 
> 5. Modify cs2cs to either call setvbuf(stdout, buf, _IOLBF, bufsize)
> at startup, or call fflush(stdout) after each line has been written.

you seem to have left out what seems to me the most obvious and natural 
way to call cs2cs from a scripting language:

much like (1) except use pipes instead of files -- why bother with the 
disk IO? You'd just need to build up a decent sized list of points to 
convert before making each call -- probably all the ones you need at the 
time.


But the best option if you are concerned about performance is to use the 
PROJ lib though language bindings. I know there are a number of Python 
options, I'm sure there are PHP or PERL ones (or use Python for your web 
app -- it's a excellent choice)

-Chris



-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker at noaa.gov


From geraldi.evenden at gmail.com  Sat Jun  6 08:00:32 2009
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Sat, 6 Jun 2009 11:00:32 -0400
Subject: [Proj] NTv1 (redux)
In-Reply-To: <B597ADFC46B67741B18EA6AA13613FF7EC2700@email002.lsu.edu>
References: <200906021357.51565.geraldi.evenden@gmail.com>
	<200906021541.19074.geraldi.evenden@gmail.com>
	<B597ADFC46B67741B18EA6AA13613FF7EC2700@email002.lsu.edu>
Message-ID: <200906061100.32729.geraldi.evenden@gmail.com>

Before putting this subject to rest:

Is anyone still using the NTv1 format?

I saw that Frank had put it into pj_gridinfo.c and, from logfile, looks like 
an addition shortly after file creation in '03.

Based upon Google searching, it looks like a dead issue compared to NTv2.

Thanks for info.

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist


From warmerdam at pobox.com  Sat Jun  6 08:28:15 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sat, 06 Jun 2009 11:28:15 -0400
Subject: [Proj] NTv1 (redux)
In-Reply-To: <200906061100.32729.geraldi.evenden@gmail.com>
References: <200906021357.51565.geraldi.evenden@gmail.com>
	<200906021541.19074.geraldi.evenden@gmail.com>
	<B597ADFC46B67741B18EA6AA13613FF7EC2700@email002.lsu.edu>
	<200906061100.32729.geraldi.evenden@gmail.com>
Message-ID: <4A2A8B0F.6080705@pobox.com>

Gerald I. Evenden wrote:
> Before putting this subject to rest:
> 
> Is anyone still using the NTv1 format?
> 
> I saw that Frank had put it into pj_gridinfo.c and, from logfile, looks like 
> an addition shortly after file creation in '03.
> 
> Based upon Google searching, it looks like a dead issue compared to NTv2.

Gerald,

I still use the NTv1 files by default in Canada because they are freely
redistributable while the NTv2 files in Canada have various strings
attached (as I recall).

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From support.mn at elisanet.fi  Sat Jun  6 17:55:41 2009
From: support.mn at elisanet.fi (support.mn at elisanet.fi)
Date: Sun, 7 Jun 2009 03:55:41 +0300 (EEST)
Subject: [Proj] Unicode
Message-ID: <32431336.2522271244336142929.JavaMail.support.mn@elisanet.fi>

Hmmm...???

I was not speaking about Unicode programming (?) but rather
Unicode text files. Unicode text files carry information about the
computer endian type and similar matters.

Unicode text files will work in all configurations and computers
regardless of the type, so they can be copied from one computer
system to another without exporting or importing (no coneversion).

Test for example Ediplus editor to edit different type Unicode text
files. And use some binary editor to check the header information
and similar matters in those files

http://www.editplus.com/index.html

Janne.

----------------

Irwin Scollar [al001 at uni-koeln.de] kirjoitti: 
> Janne wrote:
> 
> >if there are any issues with any text files I would very much 
> >recommend to use Unicode.
> 
> Unicode may break the code in many other routines from external 
> sources in a compiled programme. If one doesn't have source code, it 
> will cause run-time errors that break the programme even if it 
> compiles.  There may also be incompatibilities with DLL's leading to 
> buffer overflows.  This can't be fixed unless you can recompile the 
> source for the DLL and any routines which are used for building it.
> 
> These caveats don't apply of course if you have all sources in hand 
> for a very small programme and don't mind reworking everything where needed.
> 
> I have experienced exactly this problem with the programme I maintain 
> when I try to use the Code Gear Delphi 2009 compiler that  has 
> switched all string processing to Unicode by default.  It produces 
> thousands of error messages from various external supplier's source 
> code which the compiler tries to rebuild them for linking into my 
> programme. There are no problems with earlier compiler versions that 
> don't use Unicode unless specifically requested.
> 
> 
> Irwin Scollar
> 
> 
> 
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
> 



From ckarney at sarnoff.com  Sun Jun  7 02:27:04 2009
From: ckarney at sarnoff.com (Charles Karney)
Date: Sun, 07 Jun 2009 05:27:04 -0400
Subject: [Proj] Links to old papers on geodesics
Message-ID: <ssrprdgiec8.fsf@petrel.petrel.org>

I added links to a number of C18 and C19 papers on geodesics on

    http://trac.osgeo.org/proj/wiki/GeodesicCalculations#TheHistory

This includes papers and books by Clairaut, Euler, du Séjour, Legendre,
Puissant, Bessel, Gauss, Christoffel, Cayley, Helmert, and Clark,
spanning the period 1733 to 1880.

The links take you to the full text of the works.  Unfortunately, the
book scanning done by Google does not fold out the folded figures.  I
will upload scans of the missing figures I can get hold of.  Please let
me know of errors, omissions, etc.

-- 
Charles Karney <ckarney at sarnoff.com>
Sarnoff Corporation, Princeton, NJ 08543-5300

Tel: +1 609 734 2312
Fax: +1 609 734 2662


From geraldi.evenden at gmail.com  Sun Jun  7 07:27:20 2009
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Sun, 7 Jun 2009 10:27:20 -0400
Subject: [Proj] Unicode
In-Reply-To: <32431336.2522271244336142929.JavaMail.support.mn@elisanet.fi>
References: <32431336.2522271244336142929.JavaMail.support.mn@elisanet.fi>
Message-ID: <200906071027.20188.geraldi.evenden@gmail.com>

On Saturday 06 June 2009 8:55:41 pm support.mn at elisanet.fi wrote:
> Hmmm...???
>
> I was not speaking about Unicode programming (?) but rather
> Unicode text files. Unicode text files carry information about the
> computer endian type and similar matters.
>
> Unicode text files will work in all configurations and computers
...

For fear of being called a linguistic chauvenist I am afraid I do not see the 
point of this thread nor how it relates to lists.maptools.org.  A good deal 
of engineering/scientific written communications is in english which could be 
considered the subject's lingua franca.  A few centuries ago greek enjoyed 
this status and in the late 19th century german had its day.

My only concern with program coding is 7 bit ASCII with longing toward latin 
extensions.  For basic technical communications like 'man' files, 'readmes', 
etc. 7 bit ASCII also works file.  For more sophisticated, mathematical 
communictions LaTeX works just fine and manages to do all that is required 
within standard 8 bit encodings.

After taking a brief look at the socalled Unicode stuff I had a good belly 
laugh when I read that it was concerned with the encoding of Mahjong tile 
symbols along with similarly absurd sysmbol sets.  These efforts obviously 
sealed my opinion of Unicode.

Regardless of my opinion of Unicode, I fail to see how a discussion of Unicode 
if of interest in this email group.

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist


From geraldi.evenden at gmail.com  Sun Jun  7 11:57:09 2009
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Sun, 7 Jun 2009 14:57:09 -0400
Subject: [Proj] NTv2 info
In-Reply-To: <B597ADFC46B67741B18EA6AA13613FF7EC2700@email002.lsu.edu>
References: <200906021357.51565.geraldi.evenden@gmail.com>
	<200906021541.19074.geraldi.evenden@gmail.com>
	<B597ADFC46B67741B18EA6AA13613FF7EC2700@email002.lsu.edu>
Message-ID: <200906071457.09844.geraldi.evenden@gmail.com>

	...
>
> In the case of the NGS NADCON files, an Intel machine can process them
> without byte flipping.

Did I write that?  Hmmm.  Sorry about that.

As NTv2 has been solved I reexamined the NADCON stuff which dates back to 
the '80s with little updating on my part.

Given the current distribution of NGS NADCON, they deserve as many lashes with 
wet noodles as the Canadians.  C'mon, a file each for the 
east-west/north-south correction.  Only thing giving NGS points over the 
Canadians was column order and negative longitude.  No ethnogeodetic problems 
there.

I do not know where the NGS detailed description of the file format is but 
they do distribute source code for routines reading the files.  With effort 
the format can be resolved from the FORTRAN code.  It reminds one of the 
principle deficiency of the FORTRAN language.  It was the reason I often had 
to resort to assembly in order to translate files into FORTRAN processable 
form.

It might even be an idea to translate the NADCON files into NTv2 but suspect 
that overlapping areas with enhanced precision might not fit the scenario of 
NTv2 sub-files.

Maybe someone has already done it.

At least, it seems to be a good idea to build a directory file for the NADCON 
distribution that summarized the regions and thus enhances lookup.

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist


From geraldi.evenden at gmail.com  Sun Jun  7 16:46:23 2009
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Sun, 7 Jun 2009 19:46:23 -0400
Subject: [Proj] NADCON data
Message-ID: <200906071946.23912.geraldi.evenden@gmail.com>

what follows is a quick list of the headers for the current NADCON 
distribution.  I get the idea that the XXhpgn files are supposed to be more 
accurate and wonder why they were not added to the proj-4x distribution??

One added complaint about this stuff is that the headers could have at least a 
short ID as to the general area.  I have to get the atlas out to figure where 
some of these spots are.

  file(half)      nc    nr     nz  min lon, del lon, min lat, del_lat
  alaska.las  529  249    1 -194 0.125 46 0.125
  alhpgn.las   25   25    1 -90 0.25 30 0.25
  arhpgn.las   26   21    1 -95 0.25 32 0.25
  azhpgn.las   33   33    1 -116 0.25 30 0.25
  cnhpgn.las   45   29    1 -125 0.25 36 0.25
  cohpgn.las   37   25    1 -110 0.25 36 0.25
   conus.las  273  121    1 -131 0.25 20 0.25
  cshpgn.las   37   21    1 -122 0.25 32 0.25
  emhpgn.las   41   37    1 -113 0.25 41 0.25
  eshpgn.las   25   25    1 -171 0.25 14 0.25
  ethpgn.las   50   41    1 -100 0.25 25 0.25
  flhpgn.las   33   33    1 -88 0.25 24 0.25
  gahpgn.las   25   25    1 -86 0.25 30 0.25
  guhpgn.las   25   25    1 -219 0.25 13 0.25
  hawaii.las  281  201    1 -161 0.025 18 0.025
  hihpgn.las   33   25    1 -162 0.25 18 0.25
  iahpgn.las   37   17    1 -98 0.25 40 0.25
  ilhpgn.las   29   29    1 -92 0.25 36 0.25
  inhpgn.las   35   35    1 -89 0.25 37 0.25
  kshpgn.las   37   21    1 -103 0.25 36 0.25
  kyhpgn.las   37   17    1 -90 0.25 36 0.25
  lahpgn.las   29   29    1 -95 0.25 27 0.25
  mdhpgn.las   25   17    1 -80 0.25 37 0.25
  mehpgn.las   25   25    1 -72 0.25 42 0.25
  mihpgn.las   37   29    1 -91 0.25 41 0.25
  mnhpgn.las   41   29    1 -98 0.25 43 0.25
  mohpgn.las   37   29    1 -97 0.25 35 0.25
  mshpgn.las   25   29    1 -92 0.25 29 0.25
  nbhpgn.las   41   17    1 -104.5 0.25 39.5 0.25
  nchpgn.las   41   21    1 -85 0.25 33 0.25
  ndhpgn.las   41   21    1 -105 0.25 45 0.25
  nehpgn.las   25   25    1 -75 0.25 40 0.25
  njhpgn.las   25   25    1 -76 0.25 38 0.25
  nmhpgn.las   37   29    1 -110 0.25 31 0.25
  nvhpgn.las   29   33    1 -120.5 0.25 34.5 0.25
  nyhpgn.las   45   25    1 -81 0.25 40 0.25
  ohhpgn.las   25   21    1 -86 0.25 38 0.25
  okhpgn.las   41   21    1 -104 0.25 33 0.25
  pahpgn.las   33   21    1 -81.5 0.25 39 0.25
    prvi.las   81   41    1 -68 0.05 17 0.05
  pvhpgn.las   25   15    1 -68 0.25 17 0.25
  schpgn.las   25   21    1 -84 0.25 31 0.25
  sdhpgn.las   41   25    1 -105 0.25 41 0.25
stgeorge.las  121   61    1 -171 0.01667 56 0.01667
  stlrnc.las   81   41    1 -172 0.05 62 0.05
  stpaul.las   41   21    1 -171 0.05 57 0.05
  tnhpgn.las   41   13    1 -91 0.25 34 0.25
  uthpgn.las   33   29    1 -115 0.25 36 0.25
  vahpgn.las   37   17    1 -84 0.25 36 0.25
  wihpgn.las   33   25    1 -94 0.25 42 0.25
  wmhpgn.las   41   37    1 -119 0.25 41 0.25
  wohpgn.las   37   37    1 -125 0.25 41 0.25
  wshpgn.las   25   25    1 -171 0.25 14 0.25
  wthpgn.las   33   49    1 -107 0.25 25 0.25
  wvhpgn.las   30   21    1 -84 0.25 36 0.25
  wyhpgn.las   33   21    1 -111.5 0.25 40.5 0.25

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist


From geraldi.evenden at gmail.com  Sun Jun  7 16:56:42 2009
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Sun, 7 Jun 2009 19:56:42 -0400
Subject: [Proj] NADCON
Message-ID: <200906071956.42160.geraldi.evenden@gmail.com>

Are any of the micros out there going to choke on a memory request for 1Mb to 
handle the Alaska corrections?

Just curious.  I have no experience with the memory capabilities of non-ix 
systems on Intel machines when pushing the envelope.

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist


From hamish_b at yahoo.com  Mon Jun  8 02:06:26 2009
From: hamish_b at yahoo.com (Hamish)
Date: Mon, 8 Jun 2009 02:06:26 -0700 (PDT)
Subject: [Proj] NADCON data
Message-ID: <684522.67157.qm@web110008.mail.gq1.yahoo.com>


Gerald wrote:
> what follows is a quick list of the headers for the current NADCON
> distribution.
....
> One added complaint about this stuff is that the headers
> could have at least a short ID as to the general area.  I have
> to get the atlas out to figure where some of these spots are.

mostly out of idle curiosity I used that table to make grids in GRASS
and plotted them up. see http://bambi.otago.ac.nz/hamish/grass/screenshots/nadcon_grids.jpg


fwiw, commands to do that:
$ tr -s ' ' '|' < nadcon_grids.txt | sed -e 's/^|//' > nadcon_grids.dat

GRASS>>>

# build grids
while read LINE ; do
    if [ `echo "$LINE" | grep -c '^#'` -eq 1 ] ; then
       continue
    fi

    NAME=`echo "$LINE" | cut -f1 -d'.'`
    NUM_COLS=`echo "$LINE" | cut -f2 -d'|'`
    NUM_ROWS=`echo "$LINE" | cut -f3 -d'|'`
    NUM_Z="1"
    MIN_LON=`echo "$LINE" | cut -f5 -d'|'`
    DEL_LON=`echo "$LINE" | cut -f6 -d'|'`
    MIN_LAT=`echo "$LINE" | cut -f7 -d'|'`
    DEL_LAT=`echo "$LINE" | cut -f8 -d'|'`

    echo
    echo "$NAME ..."

    v.mkgrid map="$NAME" grid=$NUM_ROWS,$NUM_COLS position=coor \
       coor=$MIN_LON,$MIN_LAT box=$DEL_LON,$DEL_LAT

done < nadcon_grids.dat


# sort by number of columns so widest is drawn first
NAMES=`sort -r -n -t'|' -k 2 nadcon_grids.dat | cut -f1 -d'.' | grep -v '^#'`


#display
d.mon x0
d.rast etopo2

for NAME in $NAMES ; do
  RANDOM_COLOR="$((RANDOM / 128)):$((RANDOM / 128)):$((RANDOM / 128))"

  d.vect $NAME type=boundary color=$RANDOM_COLOR
done

# save as jpeg
d.out.file nadcon_grids format=jpg

# identify a grid
d.what.vect   [click]


probably much more efficient to do that as raster arrays, but whatever.


Hamish



      



From EMiller at dfg.ca.gov  Mon Jun  8 09:09:45 2009
From: EMiller at dfg.ca.gov (Eric Miller)
Date: Mon, 08 Jun 2009 09:09:45 -0700
Subject: [Proj] Unicode
In-Reply-To: <32431336.2522271244336142929.JavaMail.support.mn@elisanet.fi>
References: <32431336.2522271244336142929.JavaMail.support.mn@elisanet.fi>
Message-ID: <4A2CD558.95FD.00E4.0@dfg.ca.gov>

PROJ.4 does not support wide characters.  Frankly, it's best to stick with ASCII text.  Since PROJ.4 only really cares about parsing projection definitions and text representations of coordinates, this isn't too big a deal.  If you're interfacing with the library, then your program can easily control whether it wants to support UNICODE.

Adding UNICODE support to the command line programs isn't a bad idea, but who's going to do it?

>>> On 6/6/2009 at 5:55 PM, <support.mn at elisanet.fi> wrote:
> Hmmm...???
> 
> I was not speaking about Unicode programming (?) but rather
> Unicode text files. Unicode text files carry information about the
> computer endian type and similar matters.
> 
> Unicode text files will work in all configurations and computers
> regardless of the type, so they can be copied from one computer
> system to another without exporting or importing (no coneversion).
> 
> Test for example Ediplus editor to edit different type Unicode text
> files. And use some binary editor to check the header information
> and similar matters in those files
> 
> http://www.editplus.com/index.html 
> 
> Janne.
> 
> ----------------
> 
> Irwin Scollar [al001 at uni-koeln.de] kirjoitti: 
>> Janne wrote:
>> 
>> >if there are any issues with any text files I would very much 
>> >recommend to use Unicode.
>> 
>> Unicode may break the code in many other routines from external 
>> sources in a compiled programme. If one doesn't have source code, it 
>> will cause run-time errors that break the programme even if it 
>> compiles.  There may also be incompatibilities with DLL's leading to 
>> buffer overflows.  This can't be fixed unless you can recompile the 
>> source for the DLL and any routines which are used for building it.
>> 
>> These caveats don't apply of course if you have all sources in hand 
>> for a very small programme and don't mind reworking everything where needed.
>> 
>> I have experienced exactly this problem with the programme I maintain 
>> when I try to use the Code Gear Delphi 2009 compiler that  has 
>> switched all string processing to Unicode by default.  It produces 
>> thousands of error messages from various external supplier's source 
>> code which the compiler tries to rebuild them for linking into my 
>> programme. There are no problems with earlier compiler versions that 
>> don't use Unicode unless specifically requested.
>> 
>> 
>> Irwin Scollar
>> 
>> 
>> 
>> _______________________________________________
>> Proj mailing list
>> Proj at lists.maptools.org 
>> http://lists.maptools.org/mailman/listinfo/proj 
>> 
> 
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org 
> http://lists.maptools.org/mailman/listinfo/proj



From glynn at gclements.plus.com  Mon Jun  8 10:54:55 2009
From: glynn at gclements.plus.com (Glynn Clements)
Date: Mon, 8 Jun 2009 18:54:55 +0100
Subject: [Proj] Unicode
In-Reply-To: <19293820.4813761244062621022.JavaMail.support.mn@elisanet.fi>
References: <19293820.4813761244062621022.JavaMail.support.mn@elisanet.fi>
Message-ID: <18989.20591.708724.23263@cerise.gclements.plus.com>


support.mn at elisanet.fi wrote:

> if there are any issues with any text files I would very much recommend to use Unicode.

There aren't any issues with text files.

I can think of precisely two cases where PROJ *might* want to use
characters outside of the ASCII repertoire:

1. Correct spelling of "Plate Carée".
2. The degree symbol.

I can't see how either of these could be sufficiently important to be
worth the effort of dealing with the morass of issues related to text
encodings.

-- 
Glynn Clements <glynn at gclements.plus.com>


From geraldi.evenden at gmail.com  Mon Jun  8 11:34:24 2009
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Mon, 8 Jun 2009 14:34:24 -0400
Subject: [Proj] Unicode
In-Reply-To: <18989.20591.708724.23263@cerise.gclements.plus.com>
References: <19293820.4813761244062621022.JavaMail.support.mn@elisanet.fi>
	<18989.20591.708724.23263@cerise.gclements.plus.com>
Message-ID: <200906081434.24712.geraldi.evenden@gmail.com>

On Monday 08 June 2009 1:54:55 pm Glynn Clements wrote:
> support.mn at elisanet.fi wrote:
> > if there are any issues with any text files I would very much recommend
> > to use Unicode.
>
> There aren't any issues with text files.
>
> I can think of precisely two cases where PROJ *might* want to use
> characters outside of the ASCII repertoire:
>
> 1. Correct spelling of "Plate Carée".

You forgot Hözel, Larrivée, Putniņš projections to name a few.  Tsk, tsk.

I am not too sure on the details of the last as the s shown is with a caron 
but it may be more proper with a breve.  Also the n is done elsewhere with 
a "dot" rather than the cedilla shown here.  But whatcha going to do?

And, of course, Krüger!  How could we forget?

> 2. The degree symbol.
>
> I can't see how either of these could be sufficiently important to be
> worth the effort of dealing with the morass of issues related to text
> encodings.

Besides, why take up vast quantities of bytes with 16 bit code where special 
inline doublet or triplet escape coding like LaTex uses can do the job with 7 
bit ASCII with ease.

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist


From knudsen.thomas at gmail.com  Mon Jun  8 11:52:02 2009
From: knudsen.thomas at gmail.com (Thomas Knudsen)
Date: Mon, 8 Jun 2009 20:52:02 +0200
Subject: [Proj] Unicode
In-Reply-To: <200906081434.24712.geraldi.evenden@gmail.com>
References: <19293820.4813761244062621022.JavaMail.support.mn@elisanet.fi>
	<18989.20591.708724.23263@cerise.gclements.plus.com>
	<200906081434.24712.geraldi.evenden@gmail.com>
Message-ID: <7e6835790906081152o17be666n123a96e8b9725f9@mail.gmail.com>

2009/6/8 Gerald I. Evenden <geraldi.evenden at gmail.com>

>
> Besides, why take up vast quantities of bytes with 16 bit code where
> special
> inline doublet or triplet escape coding like LaTex uses can do the job with
> 7
> bit ASCII with ease.
>

That's what UTF-8 is for.

Markus Kuhn gives all the details in
http://www.cl.cam.ac.uk/~mgk25/unicode.html - from where I quote the
following item of interest:

C support for Unicode and UTF-8

Starting with GNU glibc 2.2, the type wchar_t is officially intended to be
used only for 32-bit ISO 10646 values, independent of the currently used
locale. This is signalled to applications by the definition of the
__STDC_ISO_10646__ macro as required by ISO C99. The ISO C multi-byte
conversion functions (mbsrtowcs(), wcsrtombs(), etc.) are fully implemented
in glibc 2.2 or higher and can be used to convert between wchar_t and any
locale-dependent multibyte encoding, including UTF-8, ISO 8859-1, etc.

For example, you can write

  #include <stdio.h>
  #include <locale.h>

  int main()
  {
    if (!setlocale(LC_CTYPE, "")) {
      fprintf(stderr, "Can't set the specified locale! "
              "Check LANG, LC_CTYPE, LC_ALL.\n");
      return 1;
    }
    printf("%ls\n", L"Schöne Grüße");
    return 0;
  }

Call this program with the locale setting LANG=de_DE and the output will be
in ISO 8859-1. Call it with LANG=de_DE.UTF-8 and the output will be in
UTF-8. The %ls format specifier in printf calls wcsrtombs in order to
convert the wide character argument string into the locale-dependent
multi-byte encoding.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20090608/6f04b608/attachment.html>

From geraldi.evenden at gmail.com  Mon Jun  8 12:31:18 2009
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Mon, 8 Jun 2009 15:31:18 -0400
Subject: [Proj] Unicode
In-Reply-To: <7e6835790906081152o17be666n123a96e8b9725f9@mail.gmail.com>
References: <19293820.4813761244062621022.JavaMail.support.mn@elisanet.fi>
	<200906081434.24712.geraldi.evenden@gmail.com>
	<7e6835790906081152o17be666n123a96e8b9725f9@mail.gmail.com>
Message-ID: <200906081531.18244.geraldi.evenden@gmail.com>

On Monday 08 June 2009 2:52:02 pm Thomas Knudsen wrote:
> 2009/6/8 Gerald I. Evenden <geraldi.evenden at gmail.com>
>
	...
>     printf("%ls\n", L"Schöne Grüße");

for my edification I grabbed a portion of the above string and:

gie at charon:~$ echo 'L"Schöne Grüße");' >foo
gie at charon:~$ m foo
L"Schöne Grüße");
gie at charon:~$ hd foo
00000000  4c 22 53 63 68 c3 b6 6e  65 20 47 72 c3 bc c3 9f  |L"Sch..ne Gr....|
00000010  65 22 29 3b 0a                                    |e");.|
00000015
gie at charon:~$

I see that the "normal text is taking up 1 byte per character and when hitting 
a funky character it escapes with c3 and a code.  So it seems that when 
everything is in ASCII we are in normal byte mode and when an extended 
character comes along it is handled with a two byte sequence.

Fair enough.  This *is not* the impression I got various previous descriptions 
as the 16 bit aspect kept comming up and made one think that the whole damn 
string was in 16-bit code.

As an aside, I dropped the string into vim and it displayed it properly.  
Alas, how does one enter this stuff without dropping into a character map 
display and wear your mouse out with drag-and-drop?

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist


From ovv at hetnet.nl  Mon Jun  8 12:35:29 2009
From: ovv at hetnet.nl (OvV_HN)
Date: Mon, 8 Jun 2009 21:35:29 +0200
Subject: [Proj] Unicode
In-Reply-To: <200906081434.24712.geraldi.evenden@gmail.com>
References: <19293820.4813761244062621022.JavaMail.support.mn@elisanet.fi><18989.20591.708724.23263@cerise.gclements.plus.com>
	<200906081434.24712.geraldi.evenden@gmail.com>
Message-ID: <B20B8199E9C14C039C779457DAD908E4@PCHP>


----- Original Message ----- 
From: "Gerald I. Evenden" <geraldi.evenden at gmail.com>
To: "PROJ.4 and general Projections Discussions" <proj at lists.maptools.org>
Sent: Monday, June 08, 2009 8:34 PM
Subject: Re: [Proj] Unicode



> You forgot Hözel, Larrivée, Putniņš projections to name a few.  Tsk, tsk.
>
> I am not too sure on the details of the last as the s shown is with a 
> caron
> but it may be more proper with a breve.  Also the n is done elsewhere with
> a "dot" rather than the cedilla shown here.

Written with n-cedilla, s-caron at the end it looks at least like a Latvian 
proper name.
I have no idea where to put n-dot_below, s-breve.


Oscar van Vlijmen





From knudsen.thomas at gmail.com  Mon Jun  8 12:50:24 2009
From: knudsen.thomas at gmail.com (Thomas Knudsen)
Date: Mon, 8 Jun 2009 21:50:24 +0200
Subject: [Proj] Unicode
In-Reply-To: <200906081531.18244.geraldi.evenden@gmail.com>
References: <19293820.4813761244062621022.JavaMail.support.mn@elisanet.fi>
	<200906081434.24712.geraldi.evenden@gmail.com>
	<7e6835790906081152o17be666n123a96e8b9725f9@mail.gmail.com>
	<200906081531.18244.geraldi.evenden@gmail.com>
Message-ID: <7e6835790906081250u3d51ddb9t12562268115ed845@mail.gmail.com>

2009/6/8 Gerald I. Evenden <geraldi.evenden at gmail.com>

> As an aside, I dropped the string into vim and it displayed it properly.


Not surprising, since UTF-8 is the standard system wide encoding for Ubuntu
(and many other Linux distributions). UTF-8 was designed (by Unix founder
Ken Thompson - see details on the previously quoted page by Markus Kuhn) in
order to facilitate easy transition from 7-bit ASCII to a more globally
useful  encoding, so really most of the classic Unix command line tools are
supposed to support UTF-8 today.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20090608/d4781133/attachment.html>

From geraldi.evenden at gmail.com  Mon Jun  8 13:07:03 2009
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Mon, 8 Jun 2009 16:07:03 -0400
Subject: [Proj] Unicode
In-Reply-To: <B20B8199E9C14C039C779457DAD908E4@PCHP>
References: <19293820.4813761244062621022.JavaMail.support.mn@elisanet.fi>
	<200906081434.24712.geraldi.evenden@gmail.com>
	<B20B8199E9C14C039C779457DAD908E4@PCHP>
Message-ID: <200906081607.03731.geraldi.evenden@gmail.com>

On Monday 08 June 2009 3:35:29 pm OvV_HN wrote:
> ----- Original Message -----
> From: "Gerald I. Evenden" <geraldi.evenden at gmail.com>
> To: "PROJ.4 and general Projections Discussions" <proj at lists.maptools.org>
> Sent: Monday, June 08, 2009 8:34 PM
> Subject: Re: [Proj] Unicode
>
> > You forgot Hözel, Larrivée, Putniņš projections to name a few.  Tsk, tsk.
> >
> > I am not too sure on the details of the last as the s shown is with a
> > caron
> > but it may be more proper with a breve.  Also the n is done elsewhere
> > with a "dot" rather than the cedilla shown here.
>
> Written with n-cedilla, s-caron at the end it looks at least like a Latvian
> proper name.
> I have no idea where to put n-dot_below, s-breve.

Good guess, Reinholds V. was a Latvian.  I am curious how to pronounce it 
other than put-nins.

Snyder definitly uses a period below the n and a breve above the s but these 
characters are *not* in my character map routine.

> Oscar van Vlijmen

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist


From thy at 42.dk  Mon Jun  8 13:49:06 2009
From: thy at 42.dk (Kristian Thy)
Date: Mon, 8 Jun 2009 22:49:06 +0200
Subject: [Proj] Unicode
In-Reply-To: <200906081531.18244.geraldi.evenden@gmail.com>
References: <19293820.4813761244062621022.JavaMail.support.mn@elisanet.fi>
	<200906081434.24712.geraldi.evenden@gmail.com>
	<7e6835790906081152o17be666n123a96e8b9725f9@mail.gmail.com>
	<200906081531.18244.geraldi.evenden@gmail.com>
Message-ID: <20090608204906.GD20327@42.dk>

On Mon, Jun 08, Gerald I. Evenden wrote:
> As an aside, I dropped the string into vim and it displayed it properly.  
> Alas, how does one enter this stuff without dropping into a character map 
> display and wear your mouse out with drag-and-drop?

Using the US International layout, which provides a number of Western
European diacritics and their ilk, helps.

http://en.wikipedia.org/wiki/File:KB_US-International.svg

\\kristian
-- 
... et nemo ex vobis interrogat me: »Quo vadis?«


From glynn at gclements.plus.com  Mon Jun  8 17:02:04 2009
From: glynn at gclements.plus.com (Glynn Clements)
Date: Tue, 9 Jun 2009 01:02:04 +0100
Subject: [Proj] Unicode
In-Reply-To: <200906081531.18244.geraldi.evenden@gmail.com>
References: <19293820.4813761244062621022.JavaMail.support.mn@elisanet.fi>
	<200906081434.24712.geraldi.evenden@gmail.com>
	<7e6835790906081152o17be666n123a96e8b9725f9@mail.gmail.com>
	<200906081531.18244.geraldi.evenden@gmail.com>
Message-ID: <18989.42620.543850.449894@cerise.gclements.plus.com>


Gerald I. Evenden wrote:

> 	...
> >     printf("%ls\n", L"Schöne Grüße");
> 
> for my edification I grabbed a portion of the above string and:
> 
> gie at charon:~$ echo 'L"Schöne Grüße");' >foo
> gie at charon:~$ m foo
> L"Schöne Grüße");
> gie at charon:~$ hd foo
> 00000000  4c 22 53 63 68 c3 b6 6e  65 20 47 72 c3 bc c3 9f  |L"Sch..ne Gr....|
> 00000010  65 22 29 3b 0a                                    |e");.|
> 00000015
> gie at charon:~$
> 
> I see that the "normal text is taking up 1 byte per character and when hitting 
> a funky character it escapes with c3 and a code.  So it seems that when 
> everything is in ASCII we are in normal byte mode and when an extended 
> character comes along it is handled with a two byte sequence.
> 
> Fair enough.  This *is not* the impression I got various previous descriptions 
> as the 16 bit aspect kept comming up and made one think that the whole damn 
> string was in 16-bit code.

Unix normally uses 32 bits for wide characters. But you don't normally
use that for storage or interchange (apart from anything else, you
have endian-ness issues).

But some forms of text processing are inconvenient on multi-byte
representations; e.g. you can't iterate over a char[] processing each
element independently. So it's quite common to convert to wide
characters for processing.

OTOH, life is still much simpler with the ISO-8859-* encodings where
one byte is one character, which is one reason why they're still
widely used.

> As an aside, I dropped the string into vim and it displayed it properly.  
> Alas, how does one enter this stuff without dropping into a character map 
> display and wear your mouse out with drag-and-drop?

There are various options.

Most X keyboard layouts configure AltGr plus the punctuation keys on
the RHS of the keyboard as "dead" accents, so e.g. AltGr+semicolon
then e gives eacute; "xmodmap -pk | grep dead_" should list the
combinations.

But I have Shift+AltGr configured as a "Compose" key[1], which allows
mnemonic sequences, e.g. Shift+AltGr then e then single-quote gives
eacute, Shift+AltGr then o then c gives the copyright symbol, etc. 
This would be tedious if you need to use accented characters a lot,
but it's adequate (and easier than remembering all of the dead keys)
for occasional non-ASCII characters.

[1] xmodmap -e 'keycode 113 = ISO_Level3_Shift Multi_key'

-- 
Glynn Clements <glynn at gclements.plus.com>


From support.mn at elisanet.fi  Tue Jun  9 00:55:04 2009
From: support.mn at elisanet.fi (support.mn at elisanet.fi)
Date: Tue, 9 Jun 2009 10:55:04 +0300 (EEST)
Subject: [Proj] Unicode
Message-ID: <33422469.294601244534105129.JavaMail.support.mn@elisanet.fi>

It is clear that sometime in the future Unicode will be
the de facto world standard character set. Proj-4 can
live very well without Unicode characters, since it is
more a definition language. It is like the C programming
language. The language it self does not include special
characters, but most modern systems can handle Unicode
files and characters in comments and strings for example.

It is more to allow Unicode systems to feed data to proj-4
but still limit the basic definition character set to the 7-bit
ascii (or whatever). Proj-4 would just pass through all
special characters.

The great idea is that proj-4 would not crash with Unicoded
characters or files.

Janne.




From ovv at hetnet.nl  Tue Jun  9 08:38:56 2009
From: ovv at hetnet.nl (OvV_HN)
Date: Tue, 9 Jun 2009 17:38:56 +0200
Subject: [Proj] Unicode
In-Reply-To: <200906081607.03731.geraldi.evenden@gmail.com>
References: <19293820.4813761244062621022.JavaMail.support.mn@elisanet.fi><200906081434.24712.geraldi.evenden@gmail.com><B20B8199E9C14C039C779457DAD908E4@PCHP>
	<200906081607.03731.geraldi.evenden@gmail.com>
Message-ID: <660D9E79FE694C7AA376B7192C87EC87@PCHP>


----- Original Message ----- 
From: "Gerald I. Evenden" <geraldi.evenden at gmail.com>
To: <proj at lists.maptools.org>
Sent: Monday, June 08, 2009 10:07 PM
Subject: Re: [Proj] Unicode


>> > You forgot Hözel, Larrivée, Putniņš projections to name a few.  Tsk, 
>> > tsk.
>> >
>> > I am not too sure on the details of the last as the s shown is with a
>> > caron
>> > but it may be more proper with a breve.  Also the n is done elsewhere
>> > with a "dot" rather than the cedilla shown here.
>>
>> Written with n-cedilla, s-caron at the end it looks at least like a 
>> Latvian
>> proper name.
>> I have no idea where to put n-dot_below, s-breve.
>
> Good guess, Reinholds V. was a Latvian.  I am curious how to pronounce it
> other than put-nins.
>
> Snyder definitly uses a period below the n and a breve above the s but 
> these
> characters are *not* in my character map routine.

The Latvian character set is delineated at:
http://www.eki.ee/letter/chardata.cgi?lang=lv+Latvian&script=latin
There you'll see an n-cedilla and s-caron, certainly not dot_below, breve.
Probably the dot/breve method was the only method available to Snyder in his 
days, leading to something close?

Oscar van Vlijmen






From glynn at gclements.plus.com  Tue Jun  9 09:20:39 2009
From: glynn at gclements.plus.com (Glynn Clements)
Date: Tue, 9 Jun 2009 17:20:39 +0100
Subject: [Proj] Unicode
In-Reply-To: <33422469.294601244534105129.JavaMail.support.mn@elisanet.fi>
References: <33422469.294601244534105129.JavaMail.support.mn@elisanet.fi>
Message-ID: <18990.35799.936574.906955@cerise.gclements.plus.com>


support.mn at elisanet.fi wrote:

> It is clear that sometime in the future Unicode will be
> the de facto world standard character set. Proj-4 can
> live very well without Unicode characters, since it is
> more a definition language. It is like the C programming
> language. The language it self does not include special
> characters, but most modern systems can handle Unicode
> files and characters in comments and strings for example.
> 
> It is more to allow Unicode systems to feed data to proj-4
> but still limit the basic definition character set to the 7-bit
> ascii (or whatever). Proj-4 would just pass through all
> special characters.
> 
> The great idea is that proj-4 would not crash with Unicoded
> characters or files.

PROJ doesn't care about encodings. It doesn't call setlocale() itself,
and (AFAIK) the only encoding-sensitive code is a recent change to
make certain string comparisons case-insensitive. The comparisons are
against literal strings composed entirely of alphanumeric ASCII
characters, so any string containing non-ASCII characters will
automatically fail the comparison regardless of the locale's encoding.

IOW, any encoding which is a superset of ASCII (e.g. UTF-8) will work
fine. Even encodings which aren't a strict superset (e.g. ISO-646-*)
will work. You'll only have trouble if the encoding isn't even
minimally compatible with ASCII, e.g. EBCDIC or UTF-16/UCS-2. But then
neither Unix locales nor Windows codepages use such encodings, for
exactly this reason.

-- 
Glynn Clements <glynn at gclements.plus.com>


From geraldi.evenden at gmail.com  Tue Jun  9 10:09:28 2009
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Tue, 9 Jun 2009 13:09:28 -0400
Subject: [Proj] Unicode
In-Reply-To: <18990.35799.936574.906955@cerise.gclements.plus.com>
References: <33422469.294601244534105129.JavaMail.support.mn@elisanet.fi>
	<18990.35799.936574.906955@cerise.gclements.plus.com>
Message-ID: <200906091309.28966.geraldi.evenden@gmail.com>

How about considering it this was with proj:

Data and keyword entries associated symbols and numerics will be basic ASCII 
thus the simple caseless comparison can be safely made.  The only exception 
to ASCII control input would be non-format control characters in format 
statements---thus degree marks.  However, this will probably be a problem on 
input data scanning.

However comments and descriptive material may be UTF-8.  That is, in the long 
descriptive output of Putnins may be with full and proper accents.

My head is beginning to ache.

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist


From support.mn at elisanet.fi  Tue Jun  9 12:37:20 2009
From: support.mn at elisanet.fi (support.mn at elisanet.fi)
Date: Tue, 9 Jun 2009 22:37:20 +0300 (EEST)
Subject: [Proj] More Unicode etc.
Message-ID: <33221240.256961244576240356.JavaMail.support.mn@elisanet.fi>

I have included a simple text file decode in different (Windows) formats.

"Test file: abcdöäå<CR><LF<CR><LF>"

Hex dump is done by

http://nobodysoft.com/

At the end of text there are some special characters (öäå).

RESULTS:
-------------------

ANSI:

00000000 54 65 73 74 20 66 69 6C 65 3A 20 61 62 63 64 F6 Test file: abcd.
00000010 E4 E5 0D 0A 0D 0A 

Unicode:

00000000 FF FE 54 00 65 00 73 00 74 00 20 00 66 00 69 00 ..T.e.s.t. .f.i.
00000010 6C 00 65 00 3A 00 20 00 61 00 62 00 63 00 64 00 l.e.:. .a.b.c.d.
00000020 F6 00 E4 00 E5 00 0D 00 0A 00 0D 00 0A 00 

Unicode Big Endian:

00000000 FE FF 00 54 00 65 00 73 00 74 00 20 00 66 00 69 ...T.e.s.t. .f.i
00000010 00 6C 00 65 00 3A 00 20 00 61 00 62 00 63 00 64 .l.e.:. .a.b.c.d
00000020 00 F6 00 E4 00 E5 00 0D 00 0A 00 0D 00 0A 

UTF-8

00000000 54 65 73 74 20 66 69 6C 65 3A 20 61 62 63 64 C3 Test file: abcd.
00000010 B6 C3 A4 C3 A5 0D 0A 0D 0A 

UTF-8 + BOM (Byte Order Mark)

00000000 EF BB BF 54 65 73 74 20 66 69 6C 65 3A 20 61 62 ...Test file: ab
00000010 63 64 C3 B6 C3 A4 C3 A5 0D 0A 0D 0A 
-------------------

Text file formatting is done by EditPlus:

http://www.editplus.com/

I am sure that if the reader does not have any internal support for different
encodings, the proj-4 reader will most propably fail. The EditPlus scanner
can detect the coding just by looking into the text file. Also the Windows
Notepad editor can detect these different text file formats.

Janne.



From geraldi.evenden at gmail.com  Tue Jun  9 18:57:01 2009
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Tue, 9 Jun 2009 21:57:01 -0400
Subject: [Proj] More Unicode etc.
In-Reply-To: <33221240.256961244576240356.JavaMail.support.mn@elisanet.fi>
References: <33221240.256961244576240356.JavaMail.support.mn@elisanet.fi>
Message-ID: <200906092157.01976.geraldi.evenden@gmail.com>

On Tuesday 09 June 2009 3:37:20 pm support.mn at elisanet.fi wrote:
> I have included a simple text file decode in different (Windows) formats.
>
> "Test file: abcdöäå<CR><LF<CR><LF>"

I grabbed the above line and see below.

> Hex dump is done by
>
> http://nobodysoft.com/

"hd" below does much the same thing and is part of the Linux distribution.

I copied your test "file" above and:

gie at charon:~$ echo "Test file: abcdöäå<CR><LF<CR><LF>" >foo
gie at charon:~$ cat foo
Test file: abcdöäå<CR><LF<CR><LF>
gie at charon:~$ hd foo
00000000  54 65 73 74 20 66 69 6c  65 3a 20 61 62 63 64 c3  |Test file: abcd.|
00000010  b6 c3 a4 c3 a5 3c 43 52  3e 3c 4c 46 3c 43 52 3e  |.....<CR><LF<CR>|
00000020  3c 4c 46 3e 0a                                    |<LF>.|
00000025
gie at charon:~$

where the string between "s in the first line was from a <ctrl>v

The above is *exactly* the way it appears on my console except that the font 
et al. of the Kontact mailer changes the image of a KDF console display.

The string edits and displays just fine in Linux editors vim and kate---local 
editors that come with the OS.

>
> UTF-8
>
> 00000000 54 65 73 74 20 66 69 6C 65 3A 20 61 62 63 64 C3 Test file: abcd.
> 00000010 B6 C3 A4 C3 A5 0D 0A 0D 0A
>
	...
> Text file formatting is done by EditPlus:
>
> http://www.editplus.com/

Looks somewhat like a copy of vi/vim---I have been using vi since the 80s.  
Also KDE's kate does much the same.  All part of a Linux distribution.

> I am sure that if the reader does not have any internal support for
> different encodings, the proj-4 reader will most propably fail. The
> EditPlus scanner can detect the coding just by looking into the text file.
> Also the Windows Notepad editor can detect these different text file
> formats.

I doubt it, at least under Linux.

> Janne.

What OS are you using?  That dark-age M$?  Oh yes, "notepad."

My deepest sympathy.  And how much did you pay for M$?  Tsk, tsk.  When will 
people learn?

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist


From glynn at gclements.plus.com  Wed Jun 10 07:21:33 2009
From: glynn at gclements.plus.com (Glynn Clements)
Date: Wed, 10 Jun 2009 15:21:33 +0100
Subject: [Proj] Unicode
In-Reply-To: <200906091309.28966.geraldi.evenden@gmail.com>
References: <33422469.294601244534105129.JavaMail.support.mn@elisanet.fi>
	<18990.35799.936574.906955@cerise.gclements.plus.com>
	<200906091309.28966.geraldi.evenden@gmail.com>
Message-ID: <18991.49517.371735.762422@cerise.gclements.plus.com>


Gerald I. Evenden wrote:

> How about considering it this was with proj:
> 
> Data and keyword entries associated symbols and numerics will be basic ASCII 
> thus the simple caseless comparison can be safely made.  The only exception 
> to ASCII control input would be non-format control characters in format 
> statements---thus degree marks.  However, this will probably be a problem on 
> input data scanning.

Recognising degree symbols on input is relatively straightforward.

You can use the ANSI mbstowcs() function to convert to wide character
representation; if __STDC_ISO_10646__ is defined, this will be
Unicode.

Alternatively, you can use nl_langinfo() to obtain the locale's
encoding, and the iconv() library to convert from this to e.g. 
ISO-8859-1.

Or, given the constraints of the input format, you could just forget
about encodings altogether and treat the byte sequences \xb0
(ISO-8859-1 [1]) or \xc2\xb0 (UTF-8) as degree symbols.

[1] Actually, it's the same for all of the ISO-8859-* encodings except
5 (Cyrillic), 6 (Arabic), 11 (Thai), 14 (Celtic) and 12 (doesn't
exist; it was supposed to be Devanagari, but was abandoned).

> However comments and descriptive material may be UTF-8.  That is, in the long 
> descriptive output of Putnins may be with full and proper accents.

The problem with output is handling the case where the user's locale
doesn't support the characters. iconv() will terminate a conversion at
the first character which cannot be represented in the output
encoding.

-- 
Glynn Clements <glynn at gclements.plus.com>


From geraldi.evenden at gmail.com  Wed Jun 10 07:25:10 2009
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Wed, 10 Jun 2009 10:25:10 -0400
Subject: [Proj] More Unicode etc.
In-Reply-To: <33221240.256961244576240356.JavaMail.support.mn@elisanet.fi>
References: <33221240.256961244576240356.JavaMail.support.mn@elisanet.fi>
Message-ID: <200906101025.10949.geraldi.evenden@gmail.com>

On Tuesday 09 June 2009 3:37:20 pm support.mn at elisanet.fi wrote:
> I have included a simple text file decode in different (Windows) formats.
>
> "Test file: abcdöäå<CR><LF<CR><LF>"

This email brings up another issue: what do all the various mail handlers in 
use by member of this list see: what do you see in the above "test file" 
line?

On my kmail screen I see a lower case o and a with diaeresis and a lower case 
a with ring above.  The M$ newline sequence is expanded as <> bracket CR-LF.  
Is this what everybody sees on their mail screen?

I see this sequence wherever I drag and drop them on my system but from this 
thread I am getting the impression that this is not a universal condition.  
And I would not have given this factor further thought and assume this was a 
universal condition.

I guess it is not.

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist


From geraldi.evenden at gmail.com  Wed Jun 10 08:13:23 2009
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Wed, 10 Jun 2009 11:13:23 -0400
Subject: [Proj] Unicode
In-Reply-To: <18991.49517.371735.762422@cerise.gclements.plus.com>
References: <33422469.294601244534105129.JavaMail.support.mn@elisanet.fi>
	<200906091309.28966.geraldi.evenden@gmail.com>
	<18991.49517.371735.762422@cerise.gclements.plus.com>
Message-ID: <200906101113.23306.geraldi.evenden@gmail.com>

On Wednesday 10 June 2009 10:21:33 am Glynn Clements wrote:
> Gerald I. Evenden wrote:
> > How about considering it this was with proj:
> >
> > Data and keyword entries associated symbols and numerics will be basic
> > ASCII thus the simple caseless comparison can be safely made.  The only
> > exception to ASCII control input would be non-format control characters
> > in format statements---thus degree marks.  However, this will probably be
> > a problem on input data scanning.
>
> Recognising degree symbols on input is relatively straightforward.
>
> You can use the ANSI mbstowcs() function to convert to wide character
> representation; if __STDC_ISO_10646__ is defined, this will be
> Unicode.
>
> Alternatively, you can use nl_langinfo() to obtain the locale's
> encoding, and the iconv() library to convert from this to e.g.
> ISO-8859-1.
>
> Or, given the constraints of the input format, you could just forget
> about encodings altogether and treat the byte sequences \xb0
> (ISO-8859-1 [1]) or \xc2\xb0 (UTF-8) as degree symbols.
>
> [1] Actually, it's the same for all of the ISO-8859-* encodings except
> 5 (Cyrillic), 6 (Arabic), 11 (Thai), 14 (Celtic) and 12 (doesn't
> exist; it was supposed to be Devanagari, but was abandoned).
>
> > However comments and descriptive material may be UTF-8.  That is, in the
> > long descriptive output of Putnins may be with full and proper accents.
>
> The problem with output is handling the case where the user's locale
> doesn't support the characters. iconv() will terminate a conversion at
> the first character which cannot be represented in the output
> encoding.

In the interest of basic sanity, I think i will withdraw back into my hardened 
shell and forget about the whole thing.  It is way too much for my plebeian 
mind.

LONG LIVE ASCII!!

Have a nice day.

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist


From EMiller at dfg.ca.gov  Wed Jun 10 10:03:07 2009
From: EMiller at dfg.ca.gov (Eric Miller)
Date: Wed, 10 Jun 2009 10:03:07 -0700
Subject: [Proj] Unicode
In-Reply-To: <18990.35799.936574.906955@cerise.gclements.plus.com>
References: <33422469.294601244534105129.JavaMail.support.mn@elisanet.fi>
	<18990.35799.936574.906955@cerise.gclements.plus.com>
Message-ID: <4A2F84DB.95FD.00E4.0@dfg.ca.gov>

There's a FAQ about the various UTF encodings and byte order marks.  It includes some code snippets.

http://unicode.org/faq/utf_bom.html 

-- 

Eric G. Miller
Staff Programmer
CA Dept. of Fish & Game




From glynn at gclements.plus.com  Wed Jun 10 10:35:41 2009
From: glynn at gclements.plus.com (Glynn Clements)
Date: Wed, 10 Jun 2009 18:35:41 +0100
Subject: [Proj] More Unicode etc.
In-Reply-To: <200906101025.10949.geraldi.evenden@gmail.com>
References: <33221240.256961244576240356.JavaMail.support.mn@elisanet.fi>
	<200906101025.10949.geraldi.evenden@gmail.com>
Message-ID: <18991.61165.482089.711818@cerise.gclements.plus.com>


Gerald I. Evenden wrote:

> > I have included a simple text file decode in different (Windows) formats.
> >
> > "Test file: abcdöäå<CR><LF<CR><LF>"
> 
> This email brings up another issue: what do all the various mail handlers in 
> use by member of this list see: what do you see in the above "test file" 
> line?

I see what you would expect: a,b,c,d,odiaeresis,adiaeresis,aring
followed by "<CR><LF<CR><LF>".

The actual message body contains:

	> "Test file: abcd=F6=E4=E5<CR><LF<CR><LF>"

Given the headers:

	MIME-Version: 1.0
	Content-Type: text/plain; charset="iso-8859-1"
	Content-Transfer-Encoding: quoted-printable

all mail clients should show the string the same way.

If the non-ASCII characters were embedded literally (rather than using
quoted-printable encoding), without any encoding specified, the
results might vary.

> On my kmail screen I see a lower case o and a with diaeresis and a lower case 
> a with ring above.  The M$ newline sequence is expanded as <> bracket CR-LF.  
> Is this what everybody sees on their mail screen?

It should be.

> I see this sequence wherever I drag and drop them on my system but from this 
> thread I am getting the impression that this is not a universal condition.  
> And I would not have given this factor further thought and assume this was a 
> universal condition.
> 
> I guess it is not.

Problems arise when you have a sequence of bytes with no encoding
specified, and you need to interpret those bytes as text. Email
messages normally specify an encoding via the Content-Type header. 
Transfer of text between X applications normally uses a specific
encoding, either ISO-2022 (historical) or UTF-8 (more recent).

For terminal I/O, the program (or library) will normally use the
LC_CTYPE locale setting to determine the terminal's encoding.

[There's no guarantee that this setting will be accurate, but it's
usually the best that you can manage.]

-- 
Glynn Clements <glynn at gclements.plus.com>


From warmerdam at pobox.com  Wed Jun 10 13:27:49 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed, 10 Jun 2009 16:27:49 -0400
Subject: [Proj] Grid and datum pages a big hit
In-Reply-To: <871vpsdq63.fsf@jidanni.org>
References: <871vpsdq63.fsf@jidanni.org>
Message-ID: <4A301745.8030109@pobox.com>

jidanni at jidanni.org wrote:
> It's me, prinicpal author of the third
> http://wiki.osgeo.org/wiki/Special:PopularPages
> most popular page on the site,
> http://wiki.osgeo.org/wiki/Taiwan_datums .
> What's my key to sucess? Nailing down a country's
> grids and datums on a wiki, instead of some dusty
> read-only .PDFs. Particularly for developing countries,
> with the usual grid confusion
> http://wiki.osgeo.org/wiki/Category:Confusion
> a wiki, with its dictionary like focus,
> is the perfect place to nail it down. So much so
> that many will look to it (hence views vs. edits ration
> high for Taiwan_datums). OK, fill 'er
> http://wiki.osgeo.org/wiki/Category:Datums_by_country
> up. Thanks. See ya.


Dan,

This might be a good email for the proj (proj at lists.maptools.org) mailing
list.  I have taken the liberty of cc:ing it.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From geraldi.evenden at gmail.com  Sat Jun 13 09:11:01 2009
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Sat, 13 Jun 2009 12:11:01 -0400
Subject: [Proj] NADCON, et al.
Message-ID: <200906131211.01177.geraldi.evenden@gmail.com>

What happened to the NAD27-NAD83 files that convered the smaller regions like 
OR-WA-no.CA, etc.?  All that I see distributed are the basic 7.

Revised grid conversion procedure will now process NADCON, HPGN and NTv1-2 
directly---no pre-massaged files.

Unfortunately, because I cannot find a way to programatically "search" system 
directories it will be  necessary to do a prep procedure to generate 
a "directory file" for the conversion program listing available files, 
geographic range covered and type of data.  I co not like this approach but I 
cannot think of a system independent alternative.

PS, glad to see the Unicode thread die.

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist


From support.mn at elisanet.fi  Sat Jun 13 10:26:47 2009
From: support.mn at elisanet.fi (support.mn at elisanet.fi)
Date: Sat, 13 Jun 2009 20:26:47 +0300 (EEST)
Subject: [Proj] NADCON, et al.
Message-ID: <23511335.46831244914007944.JavaMail.support.mn@elisanet.fi>

"Gerald I. Evenden" [geraldi.evenden at gmail.com] kirjoitti: 
> PS, glad to see the Unicode thread die.

Heh,

it's not dead... it is just a zombie for a while.

Janne.




From geraldi.evenden at gmail.com  Sat Jun 13 11:07:46 2009
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Sat, 13 Jun 2009 14:07:46 -0400
Subject: [Proj] NADCON, et al.
In-Reply-To: <23511335.46831244914007944.JavaMail.support.mn@elisanet.fi>
References: <23511335.46831244914007944.JavaMail.support.mn@elisanet.fi>
Message-ID: <200906131407.46987.geraldi.evenden@gmail.com>

The following is something that should work on Linux and probably BSD, Unix 
but I have *no idea* if it will work on any of the Microsoft compilers.  If 
anyone is so inclined could you compile and test the following.

Thanks.

Before execution set the environment variable to a directory that contains any 
of the grid correction types like nadcon, hpgn, ... .

An example of execution on may machine is

gie at charon:~/tmp$ ./a.out nadcon
NADCON: prvi.las
NADCON: hawaii.las
NADCON: stgeorge.las
NADCON: alaska.las
NADCON: conus.las
NADCON: stlrnc.las
NADCON: stpaul.las
gie at charon:~/tmp$

Many thanks.

Source code---*very* straight forward other than the fact I did not translate 
to lower case the file names:

#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <assert.h>

#include <sys/types.h>
#include <dirent.h>
int main(int argc, char *argv[]) {
	struct dirent *D;
	DIR *dir;
	const char *dirname;
	enum {NADCON, HPGN, NTv1, NTv2} grid_type = NADCON;

	assert((dirname = getenv("PROJ_GRIDS")) != NULL);
	assert((dir = opendir(dirname)) != NULL);
	if (argc == 2)
		if ( strcasecmp(argv[1], "nadcon") == 0)
			grid_type = NADCON;
		else if ( strcasecmp(argv[1], "hpgn") == 0)
			grid_type = HPGN;
		else if ( strcmp(argv[1], "NTv1") == 0)
			grid_type = NTv1;
		else if ( strcmp(argv[1], "NTv2") == 0)
			grid_type = NTv2;
		else {
			fprintf(stderr, "execute %s file_type\n", argv[0]);
			abort();
		}
	while ((D = readdir(dir)) != NULL) {
		if (D->d_type == DT_REG) {
			switch (grid_type) {
			case NADCON:
				if ((strstr(D->d_name, ".las") != 0) &&
					(strstr(D->d_name, "hpgn.") == 0))
					printf("NADCON: %s\n", D->d_name);
				break;
			case HPGN:
				if (strstr(D->d_name, "hpgn.las") != 0)
					printf("HPGN: %s\n", D->d_name);
				break;
			case NTv1:
			case NTv2:
				if (strstr(D->d_name, ".gas") != 0)
					printf("MTv[1|2]: %s\n", D->d_name);
				break;
			default:
				fprintf(stderr, "program logic error\n");
				abort();
			}
		}
	}
	closedir(dir);
}


-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist


From glynn at gclements.plus.com  Sat Jun 13 13:11:57 2009
From: glynn at gclements.plus.com (Glynn Clements)
Date: Sat, 13 Jun 2009 21:11:57 +0100
Subject: [Proj] NADCON, et al.
In-Reply-To: <200906131407.46987.geraldi.evenden@gmail.com>
References: <23511335.46831244914007944.JavaMail.support.mn@elisanet.fi>
	<200906131407.46987.geraldi.evenden@gmail.com>
Message-ID: <18996.2061.340142.427303@cerise.gclements.plus.com>


Gerald I. Evenden wrote:

> The following is something that should work on Linux and probably BSD, Unix 
> but I have *no idea* if it will work on any of the Microsoft compilers.  If 
> anyone is so inclined could you compile and test the following.

MSVC doesn't have readdir().

MinGW has readdir(), but the d_type field isn't present.

POSIX only specifies d_name; d_type originates from BSD, and isn't
generally found on SysV-derived Unices. Even on Linux, only some
filesystems support it.

If you want better portability at the expense of performance, use
stat() rather than the d_type field.

-- 
Glynn Clements <glynn at gclements.plus.com>


From geraldi.evenden at gmail.com  Sat Jun 13 15:12:53 2009
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Sat, 13 Jun 2009 18:12:53 -0400
Subject: [Proj] NADCON, et al.
In-Reply-To: <18996.2061.340142.427303@cerise.gclements.plus.com>
References: <23511335.46831244914007944.JavaMail.support.mn@elisanet.fi>
	<200906131407.46987.geraldi.evenden@gmail.com>
	<18996.2061.340142.427303@cerise.gclements.plus.com>
Message-ID: <200906131812.53172.geraldi.evenden@gmail.com>

On Saturday 13 June 2009 4:11:57 pm Glynn Clements wrote:
> Gerald I. Evenden wrote:
> > The following is something that should work on Linux and probably BSD,
> > Unix but I have *no idea* if it will work on any of the Microsoft
> > compilers.  If anyone is so inclined could you compile and test the
> > following.
>
> MSVC doesn't have readdir().

That figures.  Small wonder I have so much respect for M$.

> MinGW has readdir(), but the d_type field isn't present.

Of course d_type is a critical element.

> POSIX only specifies d_name; d_type originates from BSD, and isn't
> generally found on SysV-derived Unices. Even on Linux, only some
> filesystems support it.
>
> If you want better portability at the expense of performance, use
> stat() rather than the d_type field.

It seems that stat(2) may also have system dependencies, for example does 
st_mode provide S_ISREG indication.

If one ignores M$, would opendir, readdir (just to get file names) and stat(2) 
be a more reasonable route?

The most critical element with this basic method is to get the damn file 
names.  Otherwise a preoperation with a shell program of some sort and an 
ancillary program is required to create a special file.

Probably could get by without mode detection and just open the file and scream 
if it doesn't open or read properly.

OK, let's just worry about opendir and readdir and do the rest by brute force.

Thanks for your comments.

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist


From glynn at gclements.plus.com  Sat Jun 13 15:31:02 2009
From: glynn at gclements.plus.com (Glynn Clements)
Date: Sat, 13 Jun 2009 23:31:02 +0100
Subject: [Proj] NADCON, et al.
In-Reply-To: <200906131812.53172.geraldi.evenden@gmail.com>
References: <23511335.46831244914007944.JavaMail.support.mn@elisanet.fi>
	<200906131407.46987.geraldi.evenden@gmail.com>
	<18996.2061.340142.427303@cerise.gclements.plus.com>
	<200906131812.53172.geraldi.evenden@gmail.com>
Message-ID: <18996.10406.235486.241171@cerise.gclements.plus.com>


Gerald I. Evenden wrote:

> > > The following is something that should work on Linux and probably BSD,
> > > Unix but I have *no idea* if it will work on any of the Microsoft
> > > compilers.  If anyone is so inclined could you compile and test the
> > > following.
> >
> > MSVC doesn't have readdir().
> 
> That figures.  Small wonder I have so much respect for M$.

To be fair, readdir() is POSIX, not ANSI C (ANSI C doesn't have any
concept of directories, and only a vague notion of files), and
Microsoft doesn't aim to provide Unix.

The Windows equivalent is FindFirstFile, FindNextFile, FindClose.

> > MinGW has readdir(), but the d_type field isn't present.
> 
> Of course d_type is a critical element.
> 
> > POSIX only specifies d_name; d_type originates from BSD, and isn't
> > generally found on SysV-derived Unices. Even on Linux, only some
> > filesystems support it.
> >
> > If you want better portability at the expense of performance, use
> > stat() rather than the d_type field.
> 
> It seems that stat(2) may also have system dependencies, for example does 
> st_mode provide S_ISREG indication.

The S_ISxxx macros are standard, although S_ISSOCK and S_ISLNK weren't
present in earlier versions of POSIX.

> If one ignores M$, would opendir, readdir (just to get file names) and stat(2) 
> be a more reasonable route?

Yes; that's the standard mechanism.

> The most critical element with this basic method is to get the damn file 
> names.  Otherwise a preoperation with a shell program of some sort and an 
> ancillary program is required to create a special file.

d_name is standard, and XSI adds d_ino. Any other fields are
platform-specific extensions.

-- 
Glynn Clements <glynn at gclements.plus.com>


From proj at cwilson.fastmail.fm  Sat Jun 13 20:20:53 2009
From: proj at cwilson.fastmail.fm (Charles Wilson)
Date: Sat, 13 Jun 2009 23:20:53 -0400
Subject: [Proj] NADCON, et al.
In-Reply-To: <18996.10406.235486.241171@cerise.gclements.plus.com>
References: <23511335.46831244914007944.JavaMail.support.mn@elisanet.fi>	<200906131407.46987.geraldi.evenden@gmail.com>	<18996.2061.340142.427303@cerise.gclements.plus.com>	<200906131812.53172.geraldi.evenden@gmail.com>
	<18996.10406.235486.241171@cerise.gclements.plus.com>
Message-ID: <4A346C95.8070900@cwilson.fastmail.fm>

Glynn Clements wrote:
> Gerald I. Evenden wrote:
>>> MSVC doesn't have readdir().
>> That figures.  Small wonder I have so much respect for M$.
>> If one ignores M$, would opendir, readdir (just to get file names) and stat(2) 
>> be a more reasonable route?
> 
> Yes; that's the standard mechanism.
> 
>> The most critical element with this basic method is to get the damn file 
>> names.  Otherwise a preoperation with a shell program of some sort and an 
>> ancillary program is required to create a special file.
> 
> d_name is standard, and XSI adds d_ino. Any other fields are
> platform-specific extensions.

There are several implementations of the readdir family available for
use with MSVC. The better ones also abstract away the differences
between implementations on those platforms that do provide it.

This one is MIT-licensed (e.g. non-viral):
http://www.openjpeg.org/svn/trunk/codec/dirent.h

Also, here (MIT-ish, so also non-viral):
http://graphicsmagick.sourcearchive.com/documentation/1.3.5/nt__base_8c-source.html
http://graphicsmagick.sourcearchive.com/documentation/1.3.5/nt__base_8h-source.html

--
Chuck


From geraldi.evenden at gmail.com  Mon Jun 15 08:01:33 2009
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Mon, 15 Jun 2009 11:01:33 -0400
Subject: [Proj] PROJ and M$
Message-ID: <200906151101.33673.geraldi.evenden@gmail.com>

It would seem that minGW is the choice over Cygwin but I am a little concerned 
over the terminology of "Win32" and how does this involve 64 bit cpus.  The 
Wiki was a little overwhelming and did not give me complete confidence that 
this is no problem.

My question to the practicality oriented: is there any problem using minGW on 
a 64 bit XP and generating DLL's and exe's good for any M$ machine?

Many thanks.

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist


From glynn at gclements.plus.com  Mon Jun 15 12:37:18 2009
From: glynn at gclements.plus.com (Glynn Clements)
Date: Mon, 15 Jun 2009 20:37:18 +0100
Subject: [Proj] PROJ and M$
In-Reply-To: <200906151101.33673.geraldi.evenden@gmail.com>
References: <200906151101.33673.geraldi.evenden@gmail.com>
Message-ID: <18998.41710.634832.906628@cerise.gclements.plus.com>


Gerald I. Evenden wrote:

> It would seem that minGW is the choice over Cygwin but I am a little concerned 
> over the terminology of "Win32" and how does this involve 64 bit cpus.  The 
> Wiki was a little overwhelming and did not give me complete confidence that 
> this is no problem.

64-bit versions of Windows will run both 32-bit and 64-bit executables
and DLLs. The main compatibility issue is that 64-bit versions of
Windows need 64-bit device drivers; user-space code shouldn't be
affected.

> My question to the practicality oriented: is there any problem using minGW on 
> a 64 bit XP and generating DLL's and exe's good for any M$ machine?

Regardless of the version of Windows on which it runs, the stock MinGW
distribution will generate 32-bit code which will run on either 32-bit
or 64-bit versions of Windows.

-- 
Glynn Clements <glynn at gclements.plus.com>


From support.mn at elisanet.fi  Mon Jun 15 16:25:16 2009
From: support.mn at elisanet.fi (support.mn at elisanet.fi)
Date: Tue, 16 Jun 2009 02:25:16 +0300 (EEST)
Subject: [Proj] PROJ and M$
Message-ID: <27296985.724011245108317436.JavaMail.support.mn@elisanet.fi>

Hello,

You can also download the free Visual C++ Compiler (Express
Edition) from Microsoft!

http://www.microsoft.com/express/vc/

Note that unlike the commercial Visual Studio Professional 2008,
it does not have MFC, ATL, a Win32 resource editor, a macro
assembler, source code control integration, etc.

If you only do some library programming, you will not need MFC or
ATL libraries. And the missing resource editor can be replaced by
several free resource editors available, for example:

http://www.resedit.net/

More free C/C++ compilers, see:

http://www.thefreecountry.com/compilers/cpp.shtml

Regards: Janne.

--------------------------------------------

"Gerald I. Evenden" [geraldi.evenden at gmail.com] kirjoitti: 
> My question to the practicality oriented: is there any problem using minGW on 
> a 64 bit XP and generating DLL's and exe's good for any M$ machine?



From warmerdam at pobox.com  Tue Jun 16 20:40:44 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue, 16 Jun 2009 23:40:44 -0400
Subject: [Proj] Upgrade to EPSG 7.1 files
Message-ID: <4A3865BC.7060905@pobox.com>

Folks,

Based on work Paul Ramsey did upgrading libgeotiff to EPSG 7.1, I have also
upgraded the gdal/data/*.csv and proj/nad/epsg files to the same level in
gdal and proj trunks.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From warmerdam at pobox.com  Sat Jun 20 21:39:37 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sun, 21 Jun 2009 00:39:37 -0400
Subject: [Proj] Trac Database Upgrade
Message-ID: <4A3DB989.7020508@pobox.com>

Folks,

The database storage for the PROJ.4, GDAL and GRASS Trac instances have
been upgraded from sqlite1 to Postgres on trac.osgeo.org (osgeo1).  Before
upgrading the rest of the Trac instances we are giving these a few days to
shake out problems, and to establish if the reported performance problems
seem to be resolved.

Please report any potentially related problems with these three instances
to myself, Howard Butler or via the OSGeo SAC bug tracker.

If things go well, around mid week I will upgrade the remaining trac
instances, and we will iron out the backup strategy for the postgres
instances.  In the meantime changes to the postgres databases may not be
well backed up.

Special thanks to Chris Schmidt for encouragement and pointers.  The
database conversion has been quite trivial so far (to my surprise!).

Maintenance details available at:

   http://wiki.osgeo.org/wiki/Trac_Instances#Planned_Upgrade

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From roger at opq.se  Sun Jun 21 23:22:06 2009
From: roger at opq.se (Roger Oberholtzer)
Date: Mon, 22 Jun 2009 08:22:06 +0200
Subject: [Proj] Trac Database Upgrade
In-Reply-To: <4A3DB989.7020508@pobox.com>
References: <4A3DB989.7020508@pobox.com>
Message-ID: <1245651726.26590.1.camel@acme.pacific>

On Sun, 2009-06-21 at 00:39 -0400, Frank Warmerdam wrote:
> Folks,
> 
> The database storage for the PROJ.4, GDAL and GRASS Trac instances have
> been upgraded from sqlite1 to Postgres on trac.osgeo.org (osgeo1).  Before

Just curious for the reason for the change. I run trac and use the
default sqlite  db with no issues. Then again, the user community for my
trac sites is rather small.

-- 
Roger Oberholtzer

OPQ Systems / Ramböll RST

Ramböll Sverige AB
Krukmakargatan 21
P.O. Box 17009
SE-104 62 Stockholm, Sweden

Office: Int +46 8-615 60 20
Mobile: Int +46 70-815 1696



From Joel_Cusick at nps.gov  Mon Jun 22 11:01:22 2009
From: Joel_Cusick at nps.gov (Joel_Cusick at nps.gov)
Date: Mon, 22 Jun 2009 10:01:22 -0800
Subject: [Proj] Joel Cusick/AKSO/NPS is out of office
Message-ID: <OF965DCD2D.42F84E69-ON892575DD.006300BC-892575DD.006300BE@nps.gov>


I will be out of the office starting  06/22/2009 and will not return until
06/30/2009.

Regards to Trimble Software Consolidated Buy (Ends July 3rd, COB) contact
Tim Smith.  Alaska residents may contact Stacy Deming.



From invitations at boxbe.com  Tue Jun 23 00:56:22 2009
From: invitations at boxbe.com (Luke Siaw Lu Tiong)
Date: Tue, 23 Jun 2009 00:56:22 -0700 (PDT)
Subject: [Proj] Luke Siaw Lu Tiong added you as a friend on Boxbe
Message-ID: <1464063013.7073216.1245743782093.JavaMail.prod@app002.boxbe.com>


I use Boxbe to manage my inbox.  I think Boxbe can help you, too!

Here's the link: https://www.boxbe.com/register?tc=165382091_889074398

-Luke


Please do not reply directly to this email.  This message was sent at the 
request of ltsiaw at gmail.com.  Boxbe will not use your email address for 
any other purpose.  Click the link below if you would prefer not to 
receive any further invitations from Boxbe members:  
https://www.boxbe.com/unsubscribe?email=proj at lists.maptools.org&tc=165382091_889074398

Boxbe integrates with Yahoo!, Gmail, and AOL email addresses.  Get Boxbe today!

Boxbe, Inc. | 2390 Chestnut Street #201 | San Francisco, CA 94123

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20090623/4b05119d/attachment.html>

From ckarney at Sarnoff.com  Tue Jun 23 07:54:20 2009
From: ckarney at Sarnoff.com (Karney, Charles)
Date: Tue, 23 Jun 2009 10:54:20 -0400
Subject: [Proj] Locate a point from distance and backwards azimuth?
In-Reply-To: <91F640D26AB8E54982706321A514CA263A80F81D23@MALIBU.sarnoff.internal>
References: <91F640D26AB8E54982706321A514CA263A80F81D23@MALIBU.sarnoff.internal>
Message-ID: <CED6B4B383C5F0418DAFEA443A0033C2C181D32F36@MALIBU.sarnoff.internal>

> From: Mikael.Rittri at carmenta.com
> Date: Monday, October 20, 2008 03:36
>
> Here is a variation of the first/principal/forward geodetic problem:
>
> Known:
>    Position of point C.
>    Distance from point C to an unknown point A.
>    Azimuth, at A, of the great-circle arc between A and C.
> Where is A?
>
> Note the difference from the first/principal/forward problem: the
> azimuth is known at the unknown point A, instead of at the known point
> C.
>
> I am not really sure when this is useful, but I have been asked about
> it twice by different people, so I feel I ought to solve it some day.
>
> Does this problem has a name, and are there detailed published
> solutions anywhere?

This is, apparently, an old chestnut.  It is "IVe cas." on p. 489 of

    L. Puissant,
    Nouvel essai de trigonométrie sphéroidique
    [New essay on spheroidal trigonometry],
    Mém. l'Acad. Roy. des Sciences de Paris 10, 457-529 (1831).
    http://books.google.com/books?id=KcjOAAAAMAAJ

The table on p. 521 shows the other cases that Puissant treats.
Puissant discusses this in the context of a spheroidal earth.

If you're happy with a spherical solution, then I suggest

   L. Euler,
   Principes de la trigonométrie sphérique tirés de la méthode des
   plus grands et plus petits
   [Principles of spherical trigonometry taken from the method of the
   maxima and minima],
   Mém. de l'Acad. Roy. des Sciences de Berlin 9,
   223-257 (1753, publ. 1755).
   http://math.dartmouth.edu/~euler/pages/E214.html (figures missing)

His "Prob. X" on p. 254 treats the case you're interested in.

--
Charles Karney <ckarney at sarnoff.com>
Sarnoff Corporation, Princeton, NJ 08543-5300

Tel: +1 609 734 2312
Fax: +1 609 734 2662


From timmichelsen at gmx-topmail.de  Tue Jun 30 12:28:12 2009
From: timmichelsen at gmx-topmail.de (Tim Michelsen)
Date: Tue, 30 Jun 2009 21:28:12 +0200
Subject: [Proj] converting using epsg codes
Message-ID: <h2dp0d$agl$1@ger.gmane.org>

Hello,
I have to transform coordinates from
UMT/SAD69 to LL/WGS84

I tried:
cs2cs -f '%.8f' +init=epsg:29184 +to +init=epsg:4326 <in.txt > out.txt

But the output is not reasonable at all.

What am I doing wrong here?

Thanks in advance,
Timmie



From jrepetto at free.fr  Tue Jun 30 12:54:55 2009
From: jrepetto at free.fr (Jean-Claude REPETTO)
Date: Tue, 30 Jun 2009 21:54:55 +0200
Subject: [Proj] converting using epsg codes
In-Reply-To: <h2dp0d$agl$1@ger.gmane.org>
References: <h2dp0d$agl$1@ger.gmane.org>
Message-ID: <4A4A6D8F.4020800@free.fr>

Tim Michelsen a écrit :
> Hello,
> I have to transform coordinates from
> UMT/SAD69 to LL/WGS84
> 
> I tried:
> cs2cs -f '%.8f' +init=epsg:29184 +to +init=epsg:4326 <in.txt > out.txt
> 
> But the output is not reasonable at all.
> 
> What am I doing wrong here?
> 

Hello Tim,

You need to add a correct +towgs84 parameter.

Regards,
Jean-Claude


