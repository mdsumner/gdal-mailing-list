From j1 at jimenezshaw.com  Mon Apr  1 02:49:46 2024
From: j1 at jimenezshaw.com (Javier Jimenez Shaw)
Date: Mon, 1 Apr 2024 11:49:46 +0200
Subject: [PROJ] CI problems with xz
Message-ID: <CADRrdKsf76u5H2b-snugPbFyh18RKFN90f=ov8RVad8bogvhzQ@mail.gmail.com>

I just updated my master branch of PROJ, and got emails about windows
failing
https://github.com/jjimenezshaw/PROJ/actions/runs/8506414730/job/23296571430

Downloading https://github.com/tukaani-project/xz/archive/v5.6.0.tar.gz
[DEBUG] Trying to hash
C:\vcpkg\downloads\tukaani-project-xz-v5.6.0.tar.gz.3656.part
[DEBUG] C:\vcpkg\downloads\tukaani-project-xz-v5.6.0.tar.gz.3656.part has
hash
7e3f1d71073b8e63db9aed60da80545ac06ee4c5177d6ecab528ebd16efc1bb1e4280b6ed5211dcba1069392d4023fa3356b1cc9aff57b9537f7fc4d6b3fa989

error: Failed to download from mirror set
error: File does not have the expected hash:
url: https://github.com/tukaani-project/xz/archive/v5.6.0.tar.gz
File: C:\vcpkg\downloads\tukaani-project-xz-v5.6.0.tar.gz.3656.part
Expected hash:
0aa74e01c019c1d3893cf16f53b300ba4e74c6aa9febabf57ddb49b28615d76862eeb746c54c2085efd37c7e8cc0829014d9b7ad481a76294bc929b3cca91336

Actual hash:
7e3f1d71073b8e63db9aed60da80545ac06ee4c5177d6ecab528ebd16efc1bb1e4280b6ed5211dcba1069392d4023fa3356b1cc9aff57b9537f7fc4d6b3fa989

... interesting.

Cheers.
.___ ._ ..._ .. . ._.  .___ .. __ . _. . __..  ... .... ._ .__
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20240401/d8e6d10a/attachment.htm>

From neteler at osgeo.org  Mon Apr  1 02:55:35 2024
From: neteler at osgeo.org (Markus Neteler)
Date: Mon, 1 Apr 2024 11:55:35 +0200
Subject: [PROJ] CI problems with xz
In-Reply-To: <CADRrdKsf76u5H2b-snugPbFyh18RKFN90f=ov8RVad8bogvhzQ@mail.gmail.com>
References: <CADRrdKsf76u5H2b-snugPbFyh18RKFN90f=ov8RVad8bogvhzQ@mail.gmail.com>
Message-ID: <CALFmHhsrKBzjXMUYvNeFgJsPk5C0sFCbanS4aqOPhH+xTaT-xw@mail.gmail.com>

On Mon, Apr 1, 2024 at 11:50?AM Javier Jimenez Shaw via PROJ
<proj at lists.osgeo.org> wrote:
>
> I just updated my master branch of PROJ, and got emails about windows failing
> https://github.com/jjimenezshaw/PROJ/actions/runs/8506414730/job/23296571430
>
> Downloading https://github.com/tukaani-project/xz/archive/v5.6.0.tar.gz
> [DEBUG] Trying to hash C:\vcpkg\downloads\tukaani-project-xz-v5.6.0.tar.gz.3656.part
> [DEBUG] C:\vcpkg\downloads\tukaani-project-xz-v5.6.0.tar.gz.3656.part has hash 7e3f1d71073b8e63db9aed60da80545ac06ee4c5177d6ecab528ebd16efc1bb1e4280b6ed5211dcba1069392d4023fa3356b1cc9aff57b9537f7fc4d6b3fa989
> error: Failed to download from mirror set
> error: File does not have the expected hash:
> url: https://github.com/tukaani-project/xz/archive/v5.6.0.tar.gz
> File: C:\vcpkg\downloads\tukaani-project-xz-v5.6.0.tar.gz.3656.part
> Expected hash: 0aa74e01c019c1d3893cf16f53b300ba4e74c6aa9febabf57ddb49b28615d76862eeb746c54c2085efd37c7e8cc0829014d9b7ad481a76294bc929b3cca91336
> Actual hash: 7e3f1d71073b8e63db9aed60da80545ac06ee4c5177d6ecab528ebd16efc1bb1e4280b6ed5211dcba1069392d4023fa3356b1cc9aff57b9537f7fc4d6b3fa989
>
> ... interesting.

The latest xz library version(s) have been backdoored and hence
disabled on GitHub.
Random page:
https://arstechnica.com/security/2024/04/what-we-know-about-the-xz-utils-backdoor-that-almost-infected-the-world/

Markus

From j1 at jimenezshaw.com  Mon Apr  1 03:05:35 2024
From: j1 at jimenezshaw.com (Javier Jimenez Shaw)
Date: Mon, 1 Apr 2024 12:05:35 +0200
Subject: [PROJ] CI problems with xz
In-Reply-To: <CALFmHhsrKBzjXMUYvNeFgJsPk5C0sFCbanS4aqOPhH+xTaT-xw@mail.gmail.com>
References: <CADRrdKsf76u5H2b-snugPbFyh18RKFN90f=ov8RVad8bogvhzQ@mail.gmail.com>
 <CALFmHhsrKBzjXMUYvNeFgJsPk5C0sFCbanS4aqOPhH+xTaT-xw@mail.gmail.com>
Message-ID: <CADRrdKtFqVxjhM9w02=8bggSwOPyrBE3PYqsAXF3p0cStJAvxA@mail.gmail.com>

Thanks Markus

that topic is trend in mastodon now. Complicated not to read about it.

Not only the latest versions are disabled: the whole repo
https://github.com/tukaani-project/xz/  O_O
I find strange that it complains about a different hash, when it cannot
download the file at all.
And it only fails on windows! Are we using a different library in Linux?

Cheers

On Mon, 1 Apr 2024 at 11:55, Markus Neteler <neteler at osgeo.org> wrote:

> On Mon, Apr 1, 2024 at 11:50?AM Javier Jimenez Shaw via PROJ
> <proj at lists.osgeo.org> wrote:
> >
> > I just updated my master branch of PROJ, and got emails about windows
> failing
> >
> https://github.com/jjimenezshaw/PROJ/actions/runs/8506414730/job/23296571430
> >
> > Downloading https://github.com/tukaani-project/xz/archive/v5.6.0.tar.gz
> > [DEBUG] Trying to hash
> C:\vcpkg\downloads\tukaani-project-xz-v5.6.0.tar.gz.3656.part
> > [DEBUG] C:\vcpkg\downloads\tukaani-project-xz-v5.6.0.tar.gz.3656.part
> has hash
> 7e3f1d71073b8e63db9aed60da80545ac06ee4c5177d6ecab528ebd16efc1bb1e4280b6ed5211dcba1069392d4023fa3356b1cc9aff57b9537f7fc4d6b3fa989
> > error: Failed to download from mirror set
> > error: File does not have the expected hash:
> > url: https://github.com/tukaani-project/xz/archive/v5.6.0.tar.gz
> > File: C:\vcpkg\downloads\tukaani-project-xz-v5.6.0.tar.gz.3656.part
> > Expected hash:
> 0aa74e01c019c1d3893cf16f53b300ba4e74c6aa9febabf57ddb49b28615d76862eeb746c54c2085efd37c7e8cc0829014d9b7ad481a76294bc929b3cca91336
> > Actual hash:
> 7e3f1d71073b8e63db9aed60da80545ac06ee4c5177d6ecab528ebd16efc1bb1e4280b6ed5211dcba1069392d4023fa3356b1cc9aff57b9537f7fc4d6b3fa989
> >
> > ... interesting.
>
> The latest xz library version(s) have been backdoored and hence
> disabled on GitHub.
> Random page:
>
> https://arstechnica.com/security/2024/04/what-we-know-about-the-xz-utils-backdoor-that-almost-infected-the-world/
>
> Markus
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20240401/d3cb17f2/attachment.htm>

From even.rouault at spatialys.com  Mon Apr  1 09:09:59 2024
From: even.rouault at spatialys.com (Even Rouault)
Date: Mon, 1 Apr 2024 18:09:59 +0200
Subject: [PROJ] CI problems with xz
In-Reply-To: <CADRrdKtFqVxjhM9w02=8bggSwOPyrBE3PYqsAXF3p0cStJAvxA@mail.gmail.com>
References: <CADRrdKsf76u5H2b-snugPbFyh18RKFN90f=ov8RVad8bogvhzQ@mail.gmail.com>
 <CALFmHhsrKBzjXMUYvNeFgJsPk5C0sFCbanS4aqOPhH+xTaT-xw@mail.gmail.com>
 <CADRrdKtFqVxjhM9w02=8bggSwOPyrBE3PYqsAXF3p0cStJAvxA@mail.gmail.com>
Message-ID: <f2984083-b7f6-41b7-b848-cefdfdb03046@spatialys.com>


Le 01/04/2024 ? 12:05, Javier Jimenez Shaw via PROJ a ?crit?:
> Thanks Markus
>
> that topic is trend in mastodon now. Complicated not to read about it.
>
> Not only the latest versions are disabled: the whole repo 
> https://github.com/tukaani-project/xz/ O_O
> I find strange that it complains about a different hash, when it 
> cannot download the file at all.
> And it only fails on windows! Are we using a different library in Linux?

We only use vcpkg for Windows CI builds to get our dependencies 
(libtiff, sqlite3)

Strange that the CI job still tried to picked up 5.6.0, as this has been 
reverted to 5.4.4 per https://github.com/microsoft/vcpkg/pull/37841? 
(perhaps the vcpkg version it pulls hasn't been synced with latest state 
of the vcpkg repo). But even reverted, the vcpkg liblzma port still 
refers to the tukaani-projects/xz repo that has been taken down. This 
has been reported in https://github.com/microsoft/vcpkg/issues/37893 . 
Let's hope they resolve this soon by switching to a (safe) mirror.

-- 
http://www.spatialys.com
My software is free, but my time generally not.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20240401/43bf1b09/attachment.htm>

From j1 at jimenezshaw.com  Thu Apr  4 05:34:28 2024
From: j1 at jimenezshaw.com (Javier Jimenez Shaw)
Date: Thu, 4 Apr 2024 14:34:28 +0200
Subject: [PROJ] geoid model from a geographic 2D
In-Reply-To: <CADRrdKs_SDXv9rxEQ5GdaHy8y=YPzeW5zxwebe7X_Fviyz=o3Q@mail.gmail.com>
References: <CADRrdKvJirByq-+UDn_oJ8Azm-td3B45ZZLML_+1c++vi9Guaw@mail.gmail.com>
 <55a8942f-11bd-49f6-acdf-31abd2283913@spatialys.com>
 <CADRrdKs_SDXv9rxEQ5GdaHy8y=YPzeW5zxwebe7X_Fviyz=o3Q@mail.gmail.com>
Message-ID: <CADRrdKsGFqdW6+HWL8qwYw55ASXcsk6WP2r0MAeMtEc_RgEozw@mail.gmail.com>

I have already asked the SLA in Singapore. Let's see what happens.

If I identified it as "PROJ:SVY21_3D", and later they update EPSG with,
let's say, "EPSG:100"
is there a way to say to proj.db that they ("PROJ:SVY21_3D" and "EPSG:100")
are the same thing, and that my added one "PROJ:SVY21_3D" can be replaced
by the new "EPSG:100"?
I don't know if the table "alias_name" is for that purpose, or only to
updated names.

(the question is not only for the geographic 3D in Singapore. I am thinking
on other missing CRSs in EPSG, like vertical reference systems)

Thanks.

On Wed, 27 Mar 2024 at 17:14, Javier Jimenez Shaw <j1 at jimenezshaw.com>
wrote:

> Thanks Even.
>
> Until I move this with the SLA, the workaround of a new entry in
> geodetic_crs works fine (and the corresponding in usage)
>
> On Tue, 26 Mar 2024 at 15:43, Even Rouault <even.rouault at spatialys.com>
> wrote:
>
>> Javier,
>> > I am trying to add a geoid model for Singapore to my proj.db.
>> > The problem is that the "source crs", SVY21 (EPSG:4757), is only
>> > defined as Geographic 2D in EPSG
>> > https://spatialreference.org/ref/?search=SVY21
>> >
>> > If I add something like this (copied from other cases in
>> > grid_transformation_custom.sql)
>> >
>> > INSERT INTO "grid_transformation" VALUES(
>> >     'PROJ','EPSG_4757_TO_EPSG_6916','SVY21 to SHD height',
>> >     NULL,
>> >     'EPSG','9665','Geographic3D to GravityRelatedHeight (gtx)',
>> >     'EPSG','4757', -- source CRS (SVY21)
>> >     'EPSG','6916', -- target CRS (SHD height)
>> >     NULL,
>> >     'EPSG','8666','Geoid (height correction) model file','SGeoid09.tif',
>> >     NULL,NULL,NULL,NULL,NULL,NULL,NULL,0);
>> >
>> > I get an error:
>> > One grid_transformation with Geographic3D to GravityRelatedHeight or
>> > Geog3D to Geog2D+XXX has not its source_crs in geodetic_crs table with
>> > type = 'geographic 3D'
>> >
>> > I am using the method 9665 ... just because I am used to it. I could
>> > use a different one. But I see that all available methods are
>> > expecting a geographic 3D as source... that will trigger the same error.
>> Geoid models make only sense between a Geographic 3D CRS  and a Vertical
>> CRS or Geog 2D CRS + Vertical CRS, so the check here is relevant. You
>> need an ellipsoidal height at the source end. You could try to remove
>> the check, but I don't think that's a good idea. I'm pretty sure there's
>> logic in different places of the code that expect a Geographic 3D CRS in
>> that situation.
>> >
>> > Is there any way to workaround this condition?
>> >
>> > Asking SLA to add a 3D system to EPSG is one way... but I would like
>> > to have a solution earlier (or in case they just don't do it).
>>
>> Would be the preferred solution, and also a record for their geoid model
>>
>> Your workaround pending that is to add an entry in the geodetic_crs
>> table (under the PROJ authority for now) to create a Geographic 3D CRS
>> companion to EPSG:4757.
>>
>> Even
>>
>> --
>> http://www.spatialys.com
>> My software is free, but my time generally not.
>>
>>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20240404/5419a386/attachment.htm>

From sean.gillies at gmail.com  Thu Apr  4 10:43:32 2024
From: sean.gillies at gmail.com (Sean Gillies)
Date: Thu, 4 Apr 2024 11:43:32 -0600
Subject: [PROJ] Which forms of TIFF compression are used for the CDN grids?
Message-ID: <CAOodmJp7uTcsEMbeJLa5Mhy-smr6t6oQLBkRwN5X8Q=J4hHd_w@mail.gmail.com>

Hi all,

I'm building some fiona and rasterio binary packages. They include PROJ,
and TIFF to get the PROJ grids. On Windows, I'm relying on vcpkg for
everything, and currently the liblzma port is broken. If I patch vcpkg to
disable liblzma, will my builds be able to access data in the CDN grids?

Thanks,

-- 
Sean Gillies
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20240404/737bf746/attachment.htm>

From even.rouault at spatialys.com  Thu Apr  4 10:47:58 2024
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 4 Apr 2024 19:47:58 +0200
Subject: [PROJ] Which forms of TIFF compression are used for the CDN
 grids?
In-Reply-To: <CAOodmJp7uTcsEMbeJLa5Mhy-smr6t6oQLBkRwN5X8Q=J4hHd_w@mail.gmail.com>
References: <CAOodmJp7uTcsEMbeJLa5Mhy-smr6t6oQLBkRwN5X8Q=J4hHd_w@mail.gmail.com>
Message-ID: <edd30bcd-8644-4ca1-a8ba-d0fc5091511d@spatialys.com>

Hi Sean,

This is actually documented at 
https://proj.org/en/9.4/specifications/geodetictiffgrids.html: "Files 
hosted on the CDN will use Compression 
<https://www.awaresystems.be/imaging/tiff/tifftags/compression.html> = 
DEFLATE or LZW" . I've also just verified that the reality matches the 
documented statement. We only use DEFLATE.

Even

Le 04/04/2024 ? 19:43, Sean Gillies via PROJ a ?crit?:
> Hi all,
>
> I'm building some fiona and rasterio binary packages. They include 
> PROJ, and TIFF to get the PROJ grids. On Windows, I'm relying on vcpkg 
> for everything, and currently the liblzma port is broken. If I patch 
> vcpkg to disable liblzma, will my builds be able to access data in the 
> CDN grids?
>
> Thanks,
>
> -- 
> Sean Gillies
>
> _______________________________________________
> PROJ mailing list
> PROJ at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/proj

-- 
http://www.spatialys.com
My software is free, but my time generally not.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20240404/e9e2c3ee/attachment.htm>

From even.rouault at spatialys.com  Thu Apr  4 10:52:18 2024
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 4 Apr 2024 19:52:18 +0200
Subject: [PROJ] geoid model from a geographic 2D
In-Reply-To: <CADRrdKsGFqdW6+HWL8qwYw55ASXcsk6WP2r0MAeMtEc_RgEozw@mail.gmail.com>
References: <CADRrdKvJirByq-+UDn_oJ8Azm-td3B45ZZLML_+1c++vi9Guaw@mail.gmail.com>
 <55a8942f-11bd-49f6-acdf-31abd2283913@spatialys.com>
 <CADRrdKs_SDXv9rxEQ5GdaHy8y=YPzeW5zxwebe7X_Fviyz=o3Q@mail.gmail.com>
 <CADRrdKsGFqdW6+HWL8qwYw55ASXcsk6WP2r0MAeMtEc_RgEozw@mail.gmail.com>
Message-ID: <7ecac9cb-4ad0-4292-81bf-97b48da73855@spatialys.com>


Le 04/04/2024 ? 14:34, Javier Jimenez Shaw a ?crit?:
> I have already asked the SLA in Singapore. Let's see what happens.
>
> If I identified it as "PROJ:SVY21_3D", and later they update EPSG 
> with, let's say, "EPSG:100"
> is there a way to say to proj.db that they ("PROJ:SVY21_3D" and 
> "EPSG:100") are the same thing, and that my added one "PROJ:SVY21_3D" 
> can be replaced by the new "EPSG:100"?
> I don't know if the table "alias_name" is for that purpose, or only to 
> updated names.

As far as I can remember, we don't have a way to express in the database 
that several entries are aliases of each other. The Topic 2 abstract 
model or WKT have provision to have several IDs per object, but we don't 
make use of that.? The alias_name table has a different purposes: 
handling the fact that object names may change, and to be able to match 
a deprecated/old name to the object that used to use it. Typically when 
processing WKT that don't have IDs.

-- 

http://www.spatialys.com
My software is free, but my time generally not.


From sean.gillies at gmail.com  Thu Apr  4 14:26:27 2024
From: sean.gillies at gmail.com (Sean Gillies)
Date: Thu, 4 Apr 2024 15:26:27 -0600
Subject: [PROJ] Which forms of TIFF compression are used for the CDN
 grids?
In-Reply-To: <edd30bcd-8644-4ca1-a8ba-d0fc5091511d@spatialys.com>
References: <CAOodmJp7uTcsEMbeJLa5Mhy-smr6t6oQLBkRwN5X8Q=J4hHd_w@mail.gmail.com>
 <edd30bcd-8644-4ca1-a8ba-d0fc5091511d@spatialys.com>
Message-ID: <CAOodmJoe_oJ6O_pd=Lh8ugCqOoj+cWGCVFVrBevdvGRY2WmTjQ@mail.gmail.com>

Thank you, Even! I've bookmarked the spec.

On Thu, Apr 4, 2024 at 11:47?AM Even Rouault <even.rouault at spatialys.com>
wrote:

> Hi Sean,
>
> This is actually documented at
> https://proj.org/en/9.4/specifications/geodetictiffgrids.html: "Files
> hosted on the CDN will use Compression
> <https://www.awaresystems.be/imaging/tiff/tifftags/compression.html> =
> DEFLATE or LZW" . I've also just verified that the reality matches the
> documented statement. We only use DEFLATE.
>
> Even
> Le 04/04/2024 ? 19:43, Sean Gillies via PROJ a ?crit :
>
> Hi all,
>
> I'm building some fiona and rasterio binary packages. They include PROJ,
> and TIFF to get the PROJ grids. On Windows, I'm relying on vcpkg for
> everything, and currently the liblzma port is broken. If I patch vcpkg to
> disable liblzma, will my builds be able to access data in the CDN grids?
>
> Thanks,
>
>

-- 
Sean Gillies
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20240404/0e2c2e4e/attachment.htm>

From mircea at neacsu.net  Fri Apr  5 03:44:08 2024
From: mircea at neacsu.net (Mircea Neacsu)
Date: Fri, 05 Apr 2024 06:44:08 -0400
Subject: [PROJ] Geo TIFF non-ASCII encodings
Message-ID: <18eaddbd3a4.11b6738052717020.5186738563340338530@neacsu.net>

Hello,



I had to read a bit deeper the Geo TIFF 1.1 standard and I was quite surprised to see that in doesn't allow any character representation outside the 7-bit ASCII text. Am I missing something?



In particular CitationGeoKeys that are mandatory in certain cases do not allow for anything other than ASCII text. Seems a bit strange for an international standard.



-- 



Mircea Neacsu
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20240405/2ffaec08/attachment.htm>

From even.rouault at spatialys.com  Fri Apr  5 03:59:42 2024
From: even.rouault at spatialys.com (Even Rouault)
Date: Fri, 5 Apr 2024 12:59:42 +0200
Subject: [PROJ] Geo TIFF non-ASCII encodings
In-Reply-To: <18eaddbd3a4.11b6738052717020.5186738563340338530@neacsu.net>
References: <18eaddbd3a4.11b6738052717020.5186738563340338530@neacsu.net>
Message-ID: <8bee250e-88ee-4e9f-a16e-c8b122f84d90@spatialys.com>

Hi,

OGC GeoTIFF mostly formalizes the historical GeoTIFF 1.0 specification 
from 1995, and UTF-8 at that time was still in its youth years. Not to 
be mentioned that GeoTIFF was initially developed by NASA' JPL, so I 
assume ASCII was good enough at that time for their purpose. As far as I 
can see all EPSG CRS names as currently only use ASCII. It is true 
though that WKT CRS potentially allows for more than ASCII for CRS name, 
but only in the Latin1 character set.

Anyway this would be more a topic for an issue at 
https://github.com/opengeospatial/geotiff/issues . I've added a note to 
the existing 
https://github.com/opengeospatial/geotiff/issues/56#issuecomment-2039505940

Even

Le 05/04/2024 ? 12:44, Mircea Neacsu via PROJ a ?crit?:
> Hello,
>
> I had to read a bit deeper the Geo TIFF 1.1 standard and I was quite 
> surprised to see that in doesn't allow any character representation 
> outside the 7-bit ASCII text. Am I missing something?
>
> In particular CitationGeoKeys that are mandatory in certain cases do 
> not allow for anything other than ASCII text. Seems a bit strange for 
> an international standard.
>
> -- 
>
> Mircea Neacsu
>
>
>
> _______________________________________________
> PROJ mailing list
> PROJ at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/proj

-- 
http://www.spatialys.com
My software is free, but my time generally not.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20240405/4e5b838c/attachment.htm>

From mircea at neacsu.net  Fri Apr  5 04:24:57 2024
From: mircea at neacsu.net (Mircea Neacsu)
Date: Fri, 5 Apr 2024 07:24:57 -0400
Subject: [PROJ] Geo TIFF non-ASCII encodings
In-Reply-To: <8bee250e-88ee-4e9f-a16e-c8b122f84d90@spatialys.com>
References: <18eaddbd3a4.11b6738052717020.5186738563340338530@neacsu.net>
 <8bee250e-88ee-4e9f-a16e-c8b122f84d90@spatialys.com>
Message-ID: <f406b623-e092-4a73-bd1c-052d4666fe00@neacsu.net>

Hi,


> Anyway this would be more a topic for an issue at 
> https://github.com/opengeospatial/geotiff/issues . I've added a note 
> to the existing 
> https://github.com/opengeospatial/geotiff/issues/56#issuecomment-2039505940
Understood, but before jumping there with my opinionated ideas, let me 
point out that the root of the problem is the TIFF6.0 standard that 
continues to define field type 2 as ASCII. Their exact wording is: 
"8-bit byte that contains a 7-bit ASCII code; the last byte must be NUL 
(binary zero)" (page 15)

IMO everything would work just fine if this would be replaced with 
"8-bit byte that contains UTF8 code units; the last byte must be NUL 
(binary zero)". Given that UTF-8 is an extension of ASCII, backwards 
compatibility wouldn't be so bad.

Mircea Neacsu

On 4/5/2024 6:59 AM, Even Rouault wrote:

> Hi,
>
> OGC GeoTIFF mostly formalizes the historical GeoTIFF 1.0 specification 
> from 1995, and UTF-8 at that time was still in its youth years. Not to 
> be mentioned that GeoTIFF was initially developed by NASA' JPL, so I 
> assume ASCII was good enough at that time for their purpose. As far as 
> I can see all EPSG CRS names as currently only use ASCII. It is true 
> though that WKT CRS potentially allows for more than ASCII for CRS 
> name, but only in the Latin1 character set.
>
> Anyway this would be more a topic for an issue at 
> https://github.com/opengeospatial/geotiff/issues . I've added a note 
> to the existing 
> https://github.com/opengeospatial/geotiff/issues/56#issuecomment-2039505940
>
> Even
>
> Le 05/04/2024 ? 12:44, Mircea Neacsu via PROJ a ?crit?:
>> Hello,
>>
>> I had to read a bit deeper the Geo TIFF 1.1 standard and I was quite 
>> surprised to see that in doesn't allow any character representation 
>> outside the 7-bit ASCII text. Am I missing something?
>>
>> In particular CitationGeoKeys that are mandatory in certain cases do 
>> not allow for anything other than ASCII text. Seems a bit strange for 
>> an international standard.
>>
>> -- 
>>
>> Mircea Neacsu
>>
>>
>>
>> _______________________________________________
>> PROJ mailing list
>> PROJ at lists.osgeo.org
>> https://lists.osgeo.org/mailman/listinfo/proj
> -- 
> http://www.spatialys.com
> My software is free, but my time generally not.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20240405/8674f996/attachment.htm>

From j1 at jimenezshaw.com  Fri Apr  5 04:46:00 2024
From: j1 at jimenezshaw.com (Javier Jimenez Shaw)
Date: Fri, 5 Apr 2024 13:46:00 +0200
Subject: [PROJ] Geo TIFF non-ASCII encodings
In-Reply-To: <8bee250e-88ee-4e9f-a16e-c8b122f84d90@spatialys.com>
References: <18eaddbd3a4.11b6738052717020.5186738563340338530@neacsu.net>
 <8bee250e-88ee-4e9f-a16e-c8b122f84d90@spatialys.com>
Message-ID: <CADRrdKty==SxD9hNrVymRPbNzbnQwfVovCMeH1+a7BJz+Tc+VQ@mail.gmail.com>

Latin1 in wkt name? What I remember was a reduced set of ascii chars.

On Fri, 5 Apr 2024, 12:59 Even Rouault via PROJ, <proj at lists.osgeo.org>
wrote:

> Hi,
>
> OGC GeoTIFF mostly formalizes the historical GeoTIFF 1.0 specification
> from 1995, and UTF-8 at that time was still in its youth years. Not to be
> mentioned that GeoTIFF was initially developed by NASA' JPL, so I assume
> ASCII was good enough at that time for their purpose. As far as I can see
> all EPSG CRS names as currently only use ASCII. It is true though that WKT
> CRS potentially allows for more than ASCII for CRS name, but only in the
> Latin1 character set.
>
> Anyway this would be more a topic for an issue at
> https://github.com/opengeospatial/geotiff/issues . I've added a note to
> the existing
> https://github.com/opengeospatial/geotiff/issues/56#issuecomment-2039505940
>
> Even
> Le 05/04/2024 ? 12:44, Mircea Neacsu via PROJ a ?crit :
>
> Hello,
>
> I had to read a bit deeper the Geo TIFF 1.1 standard and I was quite
> surprised to see that in doesn't allow any character representation outside
> the 7-bit ASCII text. Am I missing something?
>
> In particular CitationGeoKeys that are mandatory in certain cases do not
> allow for anything other than ASCII text. Seems a bit strange for an
> international standard.
>
> --
>
> Mircea Neacsu
>
>
>
> _______________________________________________
> PROJ mailing listPROJ at lists.osgeo.orghttps://lists.osgeo.org/mailman/listinfo/proj
>
> -- http://www.spatialys.com
> My software is free, but my time generally not.
>
> _______________________________________________
> PROJ mailing list
> PROJ at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/proj
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20240405/8f904399/attachment-0001.htm>

From even.rouault at spatialys.com  Fri Apr  5 05:39:54 2024
From: even.rouault at spatialys.com (Even Rouault)
Date: Fri, 5 Apr 2024 14:39:54 +0200
Subject: [PROJ] Geo TIFF non-ASCII encodings
In-Reply-To: <CADRrdKty==SxD9hNrVymRPbNzbnQwfVovCMeH1+a7BJz+Tc+VQ@mail.gmail.com>
References: <18eaddbd3a4.11b6738052717020.5186738563340338530@neacsu.net>
 <8bee250e-88ee-4e9f-a16e-c8b122f84d90@spatialys.com>
 <CADRrdKty==SxD9hNrVymRPbNzbnQwfVovCMeH1+a7BJz+Tc+VQ@mail.gmail.com>
Message-ID: <cea73c4e-54ac-4229-b1d3-35720aaee653@spatialys.com>


Le 05/04/2024 ? 13:46, Javier Jimenez Shaw a ?crit?:
> Latin1 in wkt name? What I remember was a reduced set of ascii chars.

cf https://docs.ogc.org/is/18-010r7/18-010r7.html

<crs name> ::= <quoted Latin text>? (paragraph 8.1? )

and https://docs.ogc.org/is/18-010r7/18-010r7.html#15

but you're right calling this Latin1 is a bit misleading. Th only 
non-ASCII character allowed in this "quoted Latin text" rule, as far as 
I can see, is the degree symbol.

>
> On Fri, 5 Apr 2024, 12:59 Even Rouault via PROJ, 
> <proj at lists.osgeo.org> wrote:
>
>     Hi,
>
>     OGC GeoTIFF mostly formalizes the historical GeoTIFF 1.0
>     specification from 1995, and UTF-8 at that time was still in its
>     youth years. Not to be mentioned that GeoTIFF was initially
>     developed by NASA' JPL, so I assume ASCII was good enough at that
>     time for their purpose. As far as I can see all EPSG CRS names as
>     currently only use ASCII. It is true though that WKT CRS
>     potentially allows for more than ASCII for CRS name, but only in
>     the Latin1 character set.
>
>     Anyway this would be more a topic for an issue at
>     https://github.com/opengeospatial/geotiff/issues . I've added a
>     note to the existing
>     https://github.com/opengeospatial/geotiff/issues/56#issuecomment-2039505940
>
>     Even
>
>     Le 05/04/2024 ? 12:44, Mircea Neacsu via PROJ a ?crit?:
>>     Hello,
>>
>>     I had to read a bit deeper the Geo TIFF 1.1 standard and I was
>>     quite surprised to see that in doesn't allow any character
>>     representation outside the 7-bit ASCII text. Am I missing something?
>>
>>     In particular CitationGeoKeys that are mandatory in certain cases
>>     do not allow for anything other than ASCII text. Seems a bit
>>     strange for an international standard.
>>
>>     -- 
>>
>>     Mircea Neacsu
>>
>>
>>
>>     _______________________________________________
>>     PROJ mailing list
>>     PROJ at lists.osgeo.org
>>     https://lists.osgeo.org/mailman/listinfo/proj
>
>     -- 
>     http://www.spatialys.com
>     My software is free, but my time generally not.
>
>     _______________________________________________
>     PROJ mailing list
>     PROJ at lists.osgeo.org
>     https://lists.osgeo.org/mailman/listinfo/proj
>
-- 
http://www.spatialys.com
My software is free, but my time generally not.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20240405/e5c1a6ad/attachment.htm>

From charles.karney at gmail.com  Fri Apr  5 07:33:42 2024
From: charles.karney at gmail.com (Charles Karney)
Date: Fri, 5 Apr 2024 10:33:42 -0400
Subject: [PROJ] Sndyer Map Projections Manual in HTML form
In-Reply-To: <002c01da82f4$12b2cdb0$38186910$@neacsu.net>
References: <002c01da82f4$12b2cdb0$38186910$@neacsu.net>
Message-ID: <CAH36mb9bmysEo8We=noeyFieCOBuVCKsbP0dcA0r6p6wgo4qQg@mail.gmail.com>

I have mixed feelings about your enterprise.  Undoubtedly, Snyder (1987)
is an invaluable resource and it was the foundation for Gerald Evenden's
implementation of PROJ.  However, time marches on, and, while it remains
a useful reference work, it's probably not the best place to start when
implementing new code.  A few examples:

* most of the series used by Snyder are in the eccentricity, e.  In
  nearly every case the corresponding series in the third eccentricity,
  n, converges faster.  In particular, this is the case for all the
  conversions between auxiliary latitudes.

* many of his expressions for conformal projection express the integral
  of sec(phi) as log(tan(pi/4 + phi/2)).  For computational purposes,
  asinh(tan(phi)) is preferred (more accuracy near the equator and poles
  and transparently odd).

* he uses a terrible series for the transverse Mercator projection.

  --Charles

On Sat, Mar 30, 2024 at 7:01?PM Mircea Neacsu via PROJ
<proj at lists.osgeo.org> wrote:
>
> Hello,
>
>
>
> My work of converting Snyder ? Map Projection Manual to HTML is almost finished. Probably the most interesting part are the numerical examples, implemented using JavaScript. All formulas can be recalculated, and one can see all the intermediate steps and the result of those calculations.
>
>
>
> I would very much like to hear your comments. Given the number of formulas, I?m sure there are many errors that have slipped through, and I will be grateful if you will point those out.
>
>
>
> Thank you,
>
> --
>
>
>
> Mircea Neacsu
>
>
>
> _______________________________________________
> PROJ mailing list
> PROJ at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/proj



-- 
Charles Karney <karney at alum.mit.edu>
702 Prospect Ave
Princeton, NJ 08540

From mircea at neacsu.net  Fri Apr  5 09:47:19 2024
From: mircea at neacsu.net (Mircea Neacsu)
Date: Fri, 5 Apr 2024 12:47:19 -0400
Subject: [PROJ] Sndyer Map Projections Manual in HTML form
In-Reply-To: <CAH36mb9bmysEo8We=noeyFieCOBuVCKsbP0dcA0r6p6wgo4qQg@mail.gmail.com>
References: <002c01da82f4$12b2cdb0$38186910$@neacsu.net>
 <CAH36mb9bmysEo8We=noeyFieCOBuVCKsbP0dcA0r6p6wgo4qQg@mail.gmail.com>
Message-ID: <d16cd0d0-d8c3-4970-b826-8a99ee7bb887@neacsu.net>

Thanks for taking the time to check it out. I see it mostly as a 
preservation work, not as a starting point. That is why my JS 
"implementation" adheres as much as possible to Synder's original 
formulas, without any clever tricks or optimizations. The library of 
Congress preserves Snyder's TI-59 calculator 
<https://blogs.loc.gov/maps/2015/11/saving-early-computer-cartography/> 
and magnetic strips.


Mircea Neacsu
M: 514-591-0329
E:mircea at neacsu.net

On 4/5/2024 10:33 AM, Charles Karney wrote:
> I have mixed feelings about your enterprise.  Undoubtedly, Snyder (1987)
> is an invaluable resource and it was the foundation for Gerald Evenden's
> implementation of PROJ.  However, time marches on, and, while it remains
> a useful reference work, it's probably not the best place to start when
> implementing new code.  A few examples:
>
> * most of the series used by Snyder are in the eccentricity, e.  In
>    nearly every case the corresponding series in the third eccentricity,
>    n, converges faster.  In particular, this is the case for all the
>    conversions between auxiliary latitudes.
>
> * many of his expressions for conformal projection express the integral
>    of sec(phi) as log(tan(pi/4 + phi/2)).  For computational purposes,
>    asinh(tan(phi)) is preferred (more accuracy near the equator and poles
>    and transparently odd).
>
> * he uses a terrible series for the transverse Mercator projection.
>
>    --Charles
>
> On Sat, Mar 30, 2024 at 7:01?PM Mircea Neacsu via PROJ
> <proj at lists.osgeo.org>  wrote:
>> Hello,
>>
>>
>>
>> My work of converting Snyder ? Map Projection Manual to HTML is almost finished. Probably the most interesting part are the numerical examples, implemented using JavaScript. All formulas can be recalculated, and one can see all the intermediate steps and the result of those calculations.
>>
>>
>>
>> I would very much like to hear your comments. Given the number of formulas, I?m sure there are many errors that have slipped through, and I will be grateful if you will point those out.
>>
>>
>>
>> Thank you,
>>
>> --
>>
>>
>>
>> Mircea Neacsu
>>
>>
>>
>> _______________________________________________
>> PROJ mailing list
>> PROJ at lists.osgeo.org
>> https://lists.osgeo.org/mailman/listinfo/proj
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20240405/23b8f249/attachment.htm>

From charles.karney at gmail.com  Sat Apr  6 07:19:37 2024
From: charles.karney at gmail.com (Charles Karney)
Date: Sat, 6 Apr 2024 10:19:37 -0400
Subject: [PROJ] Sndyer Map Projections Manual in HTML form
In-Reply-To: <d16cd0d0-d8c3-4970-b826-8a99ee7bb887@neacsu.net>
References: <002c01da82f4$12b2cdb0$38186910$@neacsu.net>
 <CAH36mb9bmysEo8We=noeyFieCOBuVCKsbP0dcA0r6p6wgo4qQg@mail.gmail.com>
 <d16cd0d0-d8c3-4970-b826-8a99ee7bb887@neacsu.net>
Message-ID: <CAH36mb_KvmHSVqfpVT3BngpaOBuoRH0uM5O0APLTVBkzpLLJ-g@mail.gmail.com>

Noted...!

I had a pipe dream of doing something similar with the English
translation of Helmert's "Mathematical and Physical Theories of Higher
Geodesy, Part 1",

  https://doi.org/10.5281/zenodo.32050

My plan was to typeset it with cross-references (and to check the
numerical examples).  I'm not sure when I'll ever get to this.

On Fri, Apr 5, 2024 at 12:47?PM Mircea Neacsu <mircea at neacsu.net> wrote:
>
> Thanks for taking the time to check it out. I see it mostly as a preservation work, not as a starting point. That is why my JS "implementation" adheres as much as possible to Synder's original formulas, without any clever tricks or optimizations. The library of Congress preserves Snyder's TI-59 calculator and magnetic strips.
>
>
> Mircea Neacsu
> M: 514-591-0329
> E: mircea at neacsu.net
>
> On 4/5/2024 10:33 AM, Charles Karney wrote:
>
> I have mixed feelings about your enterprise.  Undoubtedly, Snyder (1987)
> is an invaluable resource and it was the foundation for Gerald Evenden's
> implementation of PROJ.  However, time marches on, and, while it remains
> a useful reference work, it's probably not the best place to start when
> implementing new code.  A few examples:
>
> * most of the series used by Snyder are in the eccentricity, e.  In
>   nearly every case the corresponding series in the third eccentricity,
>   n, converges faster.  In particular, this is the case for all the
>   conversions between auxiliary latitudes.
>
> * many of his expressions for conformal projection express the integral
>   of sec(phi) as log(tan(pi/4 + phi/2)).  For computational purposes,
>   asinh(tan(phi)) is preferred (more accuracy near the equator and poles
>   and transparently odd).
>
> * he uses a terrible series for the transverse Mercator projection.
>
>   --Charles
>
> On Sat, Mar 30, 2024 at 7:01?PM Mircea Neacsu via PROJ
> <proj at lists.osgeo.org> wrote:
>
> Hello,
>
>
>
> My work of converting Snyder ? Map Projection Manual to HTML is almost finished. Probably the most interesting part are the numerical examples, implemented using JavaScript. All formulas can be recalculated, and one can see all the intermediate steps and the result of those calculations.
>
>
>
> I would very much like to hear your comments. Given the number of formulas, I?m sure there are many errors that have slipped through, and I will be grateful if you will point those out.
>
>
>
> Thank you,
>
> --
>
>
>
> Mircea Neacsu
>
>
>
> _______________________________________________
> PROJ mailing list
> PROJ at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/proj
>
>
>


-- 
Charles Karney <karney at alum.mit.edu>
702 Prospect Ave
Princeton, NJ 08540

From j1 at jimenezshaw.com  Mon Apr  8 08:14:08 2024
From: j1 at jimenezshaw.com (Javier Jimenez Shaw)
Date: Mon, 8 Apr 2024 17:14:08 +0200
Subject: [PROJ] Greek geoid model 2023
Message-ID: <CADRrdKsSSTjLHy=e+uUcVanWVx9BcVk01Da9-WBzV=nvpxSz9A@mail.gmail.com>

Hi

I found recently that there is a new geoid model in Greece "HELLAS GEOID
2023" (HG2023)
https://www.researchgate.net/publication/372604538_Geoid_model_determination_for_the_Hellenic_area_Hellas_Geoid_2023

In case it is the official one in Greece, it would be nice to include it in
PROJ (and EPSG).
Has anybody here contacts in Greece? I already wrote a couple of emails to
the authors, but probably I ended up in the spam folder. No useful info in
the webpage (or I couldn't find it).

Thank you.

Regards,
Javier.
.___ ._ ..._ .. . ._.  .___ .. __ . _. . __..  ... .... ._ .__
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20240408/c94df8f0/attachment.htm>

From vesnikos at gmail.com  Mon Apr  8 08:54:25 2024
From: vesnikos at gmail.com (Nikolaos Ves)
Date: Mon, 8 Apr 2024 16:54:25 +0100
Subject: [PROJ] Greek geoid model 2023
In-Reply-To: <CADRrdKsSSTjLHy=e+uUcVanWVx9BcVk01Da9-WBzV=nvpxSz9A@mail.gmail.com>
References: <CADRrdKsSSTjLHy=e+uUcVanWVx9BcVk01Da9-WBzV=nvpxSz9A@mail.gmail.com>
Message-ID: <CADCcPvtvL8dLGTKyhD2jmQsJ0bV-U__CMpKM-X1BXmPbo2_APQ@mail.gmail.com>

Hi Javier,

This is an interesting one; I have not found a law that declares
the official Greek coordinate system as the one described at epsg:27000.
Interestingly enough at this moment, greece is trying to complete it's
cadastre, and as a basis to it,  everything is using the GRS80 ellipsoid as
well.
My take is that if this one was developed by the Hellenic Military
Geographical Service, we could very well start seeing it being used for
applications in the mid/far future, but for now it's not used in any
official civil projects that I am aware of.

Happy to dig a bit more to find a more authoritative answer somewhere if
that is not sufficient,
Let me know,
Nikos

On Mon, Apr 8, 2024 at 4:14?PM Javier Jimenez Shaw via PROJ <
proj at lists.osgeo.org> wrote:

> Hi
>
> I found recently that there is a new geoid model in Greece "HELLAS GEOID
> 2023" (HG2023)
>
> https://www.researchgate.net/publication/372604538_Geoid_model_determination_for_the_Hellenic_area_Hellas_Geoid_2023
>
> In case it is the official one in Greece, it would be nice to include it
> in PROJ (and EPSG).
> Has anybody here contacts in Greece? I already wrote a couple of emails to
> the authors, but probably I ended up in the spam folder. No useful info in
> the webpage (or I couldn't find it).
>
> Thank you.
>
> Regards,
> Javier.
> .___ ._ ..._ .. . ._.  .___ .. __ . _. . __..  ... .... ._ .__
> _______________________________________________
> PROJ mailing list
> PROJ at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/proj
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20240408/893125cd/attachment.htm>

From j1 at jimenezshaw.com  Tue Apr  9 02:46:23 2024
From: j1 at jimenezshaw.com (Javier Jimenez Shaw)
Date: Tue, 9 Apr 2024 11:46:23 +0200
Subject: [PROJ] Greek geoid model 2023
In-Reply-To: <CADCcPvtvL8dLGTKyhD2jmQsJ0bV-U__CMpKM-X1BXmPbo2_APQ@mail.gmail.com>
References: <CADRrdKsSSTjLHy=e+uUcVanWVx9BcVk01Da9-WBzV=nvpxSz9A@mail.gmail.com>
 <CADCcPvtvL8dLGTKyhD2jmQsJ0bV-U__CMpKM-X1BXmPbo2_APQ@mail.gmail.com>
Message-ID: <CADRrdKubKThirwC7bK9BVcshtigbnUrpp=kck4Lkbmn=0w9Tww@mail.gmail.com>

Hi Nikos

Thanks for your answer.
Yes, more digging would be really appreciated. Every country and agency
works different... and also they change along time.

In Greece there is a vertical CRS  in EPSG, "Piraeus-heigh"
https://epsg.org/crs_5716/Piraeus-height.html

BTW, I do not know that do you mean with epsg:27000 (there is no such a
crs).

Cheers
Javier.

On Mon, 8 Apr 2024, 17:54 Nikolaos Ves, <vesnikos at gmail.com> wrote:

> Hi Javier,
>
> This is an interesting one; I have not found a law that declares
> the official Greek coordinate system as the one described at epsg:27000.
> Interestingly enough at this moment, greece is trying to complete it's
> cadastre, and as a basis to it,  everything is using the GRS80 ellipsoid
> as well.
> My take is that if this one was developed by the Hellenic Military
> Geographical Service, we could very well start seeing it being used for
> applications in the mid/far future, but for now it's not used in any
> official civil projects that I am aware of.
>
> Happy to dig a bit more to find a more authoritative answer somewhere if
> that is not sufficient,
> Let me know,
> Nikos
>
> On Mon, Apr 8, 2024 at 4:14?PM Javier Jimenez Shaw via PROJ <
> proj at lists.osgeo.org> wrote:
>
>> Hi
>>
>> I found recently that there is a new geoid model in Greece "HELLAS GEOID
>> 2023" (HG2023)
>>
>> https://www.researchgate.net/publication/372604538_Geoid_model_determination_for_the_Hellenic_area_Hellas_Geoid_2023
>>
>> In case it is the official one in Greece, it would be nice to include it
>> in PROJ (and EPSG).
>> Has anybody here contacts in Greece? I already wrote a couple of emails
>> to the authors, but probably I ended up in the spam folder. No useful info
>> in the webpage (or I couldn't find it).
>>
>> Thank you.
>>
>> Regards,
>> Javier.
>> .___ ._ ..._ .. . ._.  .___ .. __ . _. . __..  ... .... ._ .__
>> _______________________________________________
>> PROJ mailing list
>> PROJ at lists.osgeo.org
>> https://lists.osgeo.org/mailman/listinfo/proj
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20240409/d6d43ccd/attachment.htm>

From vesnikos at gmail.com  Tue Apr  9 03:38:53 2024
From: vesnikos at gmail.com (Nikolaos Ves)
Date: Tue, 9 Apr 2024 11:38:53 +0100
Subject: [PROJ] Greek geoid model 2023
In-Reply-To: <CADRrdKubKThirwC7bK9BVcshtigbnUrpp=kck4Lkbmn=0w9Tww@mail.gmail.com>
References: <CADRrdKsSSTjLHy=e+uUcVanWVx9BcVk01Da9-WBzV=nvpxSz9A@mail.gmail.com>
 <CADCcPvtvL8dLGTKyhD2jmQsJ0bV-U__CMpKM-X1BXmPbo2_APQ@mail.gmail.com>
 <CADRrdKubKThirwC7bK9BVcshtigbnUrpp=kck4Lkbmn=0w9Tww@mail.gmail.com>
Message-ID: <CADCcPvtbmdGg_0A_vY-eR=Kt=LVOsLQCgWEBCzsWv-ufggVKYw@mail.gmail.com>

> BTW, I do not know that do you mean with epsg:27000 (there is no such a
crs).
sorry; iam working in the UK atm so got a bit confused. Meant to say
*epsg:2100* (https://epsg.io/2100)

Have not been involved in 3D measurements for a very long time so my
vertical knowledge is a bit rusty, but the name rings some bells.

I'll try to ask around, but my feeling is as above: they are trying to keep
it dynamic, and for each big project they declare technical specifications
according to their needs but the final deliverables should always be
transformed epsg/2100 (EGSA'87 or GGRS87 or Greek Grid); which we can say
currently and for the foreseeable future is the de facto coordinate system
of greece.

n


On Tue, Apr 9, 2024 at 10:46?AM Javier Jimenez Shaw <j1 at jimenezshaw.com>
wrote:

> Hi Nikos
>
> Thanks for your answer.
> Yes, more digging would be really appreciated. Every country and agency
> works different... and also they change along time.
>
> In Greece there is a vertical CRS  in EPSG, "Piraeus-heigh"
> https://epsg.org/crs_5716/Piraeus-height.html
>
> BTW, I do not know that do you mean with epsg:27000 (there is no such a
> crs).
>
> Cheers
> Javier.
>
> On Mon, 8 Apr 2024, 17:54 Nikolaos Ves, <vesnikos at gmail.com> wrote:
>
>> Hi Javier,
>>
>> This is an interesting one; I have not found a law that declares
>> the official Greek coordinate system as the one described at epsg:27000.
>> Interestingly enough at this moment, greece is trying to complete it's
>> cadastre, and as a basis to it,  everything is using the GRS80 ellipsoid
>> as well.
>> My take is that if this one was developed by the Hellenic Military
>> Geographical Service, we could very well start seeing it being used for
>> applications in the mid/far future, but for now it's not used in any
>> official civil projects that I am aware of.
>>
>> Happy to dig a bit more to find a more authoritative answer somewhere if
>> that is not sufficient,
>> Let me know,
>> Nikos
>>
>> On Mon, Apr 8, 2024 at 4:14?PM Javier Jimenez Shaw via PROJ <
>> proj at lists.osgeo.org> wrote:
>>
>>> Hi
>>>
>>> I found recently that there is a new geoid model in Greece "HELLAS GEOID
>>> 2023" (HG2023)
>>>
>>> https://www.researchgate.net/publication/372604538_Geoid_model_determination_for_the_Hellenic_area_Hellas_Geoid_2023
>>>
>>> In case it is the official one in Greece, it would be nice to include it
>>> in PROJ (and EPSG).
>>> Has anybody here contacts in Greece? I already wrote a couple of emails
>>> to the authors, but probably I ended up in the spam folder. No useful info
>>> in the webpage (or I couldn't find it).
>>>
>>> Thank you.
>>>
>>> Regards,
>>> Javier.
>>> .___ ._ ..._ .. . ._.  .___ .. __ . _. . __..  ... .... ._ .__
>>> _______________________________________________
>>> PROJ mailing list
>>> PROJ at lists.osgeo.org
>>> https://lists.osgeo.org/mailman/listinfo/proj
>>>
>>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20240409/0baa7d18/attachment.htm>

From charles.karney at gmail.com  Wed Apr 10 07:04:57 2024
From: charles.karney at gmail.com (Charles Karney)
Date: Wed, 10 Apr 2024 10:04:57 -0400
Subject: [PROJ] Geodesics on a triaxial ellipsoid
Message-ID: <af993a4a-4280-43e1-a7f2-474eec594463@alum.mit.edu>

Version 2.2 of the Octave/MATLAB package GeographicLib, now includes
some routines to solve problems on a triaxial ellipsoid.  See

   https://github.com/geographiclib/geographiclib-octave#readme
   https://geographiclib.sourceforge.io/doc/triaxial.html

The capabilities include

     - the solution of the direct and inverse geodesic problems,
     - conversions between various coordinate systems,
     - random sampling on the ellipsoid,
     - functions to aid plotting curves on the ellipsoid.

Some notes:

The direct geodesic problem is solved using the built-in ODE solvers on
the geodesic equations in cartesian coordinates, the same as Panou +
Korakitis (2019).  For an example, try triaxial.demo(1).

The inverse problem extends the technique I used for oblate ellipsoids,
Karney (2013).  This is the first "working" solution for the inverse
problem.  To see the cut locus, do triaxial.demo(6).

The conversion from cartesian to geodetic coordinates uses Ligas (2012)
but fixes the starting guess for Newton's method so that it's guaranteed
to converge.  This then is faster than the bisection method used by
Panou + Korakitis (2022).

A similar technique is for conversion to ellipsoidal coordinates.

Random sampling uses Marples + Williams (2023).

-- 
Charles Karney <karney at alum.mit.edu>
702 Prospect Ave
Princeton, NJ 08540-4037

From Jochem.Lesparre at kadaster.nl  Thu Apr 11 04:45:06 2024
From: Jochem.Lesparre at kadaster.nl (Lesparre, Jochem)
Date: Thu, 11 Apr 2024 11:45:06 +0000
Subject: [PROJ] Make push and pop FIFO?
In-Reply-To: <CAH0YoEP-wDz=g1mETuCV=xB1xcNjmmCGtn=6aPPhTStrzUZZDQ@mail.gmail.com>
References: <AM0P192MB0482617C0F76AD40C7E17D9EEF8CA@AM0P192MB0482.EURP192.PROD.OUTLOOK.COM>
 <b7be156f-bf4a-4a40-b7c7-6550794a3b01@spatialys.com>
 <CAH0YoEPW3P48CU3OoYBS4c8kWhc8q4HsPQyDwJB-Jwjf0OaXuQ@mail.gmail.com>
 <3f3d124b-ccf8-4ea3-9df5-2f5f231d2c47@spatialys.com>
 <AM0P192MB048208CD9EDC078D26830606EF97A@AM0P192MB0482.EURP192.PROD.OUTLOOK.COM>
 <AM0P192MB04826F48D0A6C9C4B8C4DE77EF7E2@AM0P192MB0482.EURP192.PROD.OUTLOOK.COM>
 <b718e12e-37c2-412e-aefb-19a4f4d34288@spatialys.com>
 <CAH0YoEM66oNNHAZJbmHfksepMMpOB8YpWPM7tS++Tmm-jPZn0Q@mail.gmail.com>
 <8e1346c9-156b-4035-a1f1-63d9aaa514f9@spatialys.com>
 <CAH0YoEPH75YtfqBdu0+5y1vr-t_Srf5PRGJFar330pSoJwmaWw@mail.gmail.com>
 <CADRrdKvA4n8iNGeD7yn6XOtMbt5e4tiMkQ6DVGmSqRetLhr05A@mail.gmail.com>
 <CAH0YoEPV73zOfGTENXSJ3Xc_ZxpMA9-Ztnrhybu9_cQKMLExJw@mail.gmail.com>
 <3b2c90d9-eef2-4b5c-b429-c1ba7433189f@spatialys.com>
 <CAH0YoEOLm5Xjjzuj9qDV5L_BcoYYaAn1QuJHH9t5i3vfYO0vjA@mail.gmail.com>
 <23a16e4e-6498-4b6d-96b5-06316fe13ffb@spatialys.com>
 <CAH0YoEP-wDz=g1mETuCV=xB1xcNjmmCGtn=6aPPhTStrzUZZDQ@mail.gmail.com>
Message-ID: <AM0P192MB0482986F99C6E83642B8B5D7EF052@AM0P192MB0482.EURP192.PROD.OUTLOOK.COM>

Dear Even and Thomas,

What is the status of functionality for naming/swapping values in the stack? I got the impression that there is not yet consensus on how to implement this. However, we do need this new functionality for correct transformation of our official CRSs. In what PROJ version can I expect to be able to do this?

Jochem


> > I believe the main objection to named variable, was:
> > what happens when one nests / copy-paste part of
> > pipelines in a more complex pipelines.
>
> @Even,
>
> As I have already said earlier in this thread, this is
> not a problem with nested pipelines (as they execute in
> their own context).
?


Disclaimer:
De inhoud van deze e-mail is vertrouwelijk en uitsluitend bestemd voor de geadresseerde(n).
Gebruik, openbaarmaking, vermenigvuldiging, verspreiding en/of verstrekking van deze informatie aan derden is niet toegestaan.
Op al onze producten en diensten zijn onze algemene leveringsvoorwaarden van toepassing
[https://www.kadaster.nl/algemene-leveringsvoorwaarden].

Disclaimer:
This email and any files transmitted with it are confidential and intended solely for the use of the individual or entity to whom they are addressed.
If you are not the intended recipient, you are notified that disclosing, copying, distributing or taking any action in reliance on the contents of this information is strictly prohibited.
Our general terms and conditions of delivery apply to all our products and services
[https://www.kadaster.com/general-terms-and-conditions].
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20240411/975a54ca/attachment.htm>

From knudsen.thomas at gmail.com  Thu Apr 11 04:59:54 2024
From: knudsen.thomas at gmail.com (Thomas Knudsen)
Date: Thu, 11 Apr 2024 13:59:54 +0200
Subject: [PROJ] Make push and pop FIFO?
In-Reply-To: <AM0P192MB0482986F99C6E83642B8B5D7EF052@AM0P192MB0482.EURP192.PROD.OUTLOOK.COM>
References: <AM0P192MB0482617C0F76AD40C7E17D9EEF8CA@AM0P192MB0482.EURP192.PROD.OUTLOOK.COM>
 <b7be156f-bf4a-4a40-b7c7-6550794a3b01@spatialys.com>
 <CAH0YoEPW3P48CU3OoYBS4c8kWhc8q4HsPQyDwJB-Jwjf0OaXuQ@mail.gmail.com>
 <3f3d124b-ccf8-4ea3-9df5-2f5f231d2c47@spatialys.com>
 <AM0P192MB048208CD9EDC078D26830606EF97A@AM0P192MB0482.EURP192.PROD.OUTLOOK.COM>
 <AM0P192MB04826F48D0A6C9C4B8C4DE77EF7E2@AM0P192MB0482.EURP192.PROD.OUTLOOK.COM>
 <b718e12e-37c2-412e-aefb-19a4f4d34288@spatialys.com>
 <CAH0YoEM66oNNHAZJbmHfksepMMpOB8YpWPM7tS++Tmm-jPZn0Q@mail.gmail.com>
 <8e1346c9-156b-4035-a1f1-63d9aaa514f9@spatialys.com>
 <CAH0YoEPH75YtfqBdu0+5y1vr-t_Srf5PRGJFar330pSoJwmaWw@mail.gmail.com>
 <CADRrdKvA4n8iNGeD7yn6XOtMbt5e4tiMkQ6DVGmSqRetLhr05A@mail.gmail.com>
 <CAH0YoEPV73zOfGTENXSJ3Xc_ZxpMA9-Ztnrhybu9_cQKMLExJw@mail.gmail.com>
 <3b2c90d9-eef2-4b5c-b429-c1ba7433189f@spatialys.com>
 <CAH0YoEOLm5Xjjzuj9qDV5L_BcoYYaAn1QuJHH9t5i3vfYO0vjA@mail.gmail.com>
 <23a16e4e-6498-4b6d-96b5-06316fe13ffb@spatialys.com>
 <CAH0YoEP-wDz=g1mETuCV=xB1xcNjmmCGtn=6aPPhTStrzUZZDQ@mail.gmail.com>
 <AM0P192MB0482986F99C6E83642B8B5D7EF052@AM0P192MB0482.EURP192.PROD.OUTLOOK.COM>
Message-ID: <CAH0YoEMjTDEtW_D_LfxPPZ0jXSOOPrE6pT8Z-vxyLhwqY-p6NQ@mail.gmail.com>

Hello Jochem,

There's a proof(?)-of-concept of the "flip" stack-to-register-to-stack
operator, you suggested over at Rust Geodesy [1],[2], with (limited) docs
at [3]. You're very welcome to check it (e.g. using the "kp" coordinate
processing program), and comment and/or provide test cases, to evaluate
whether the "proof(?)-of-concept", really is a "proof(!)-of-concept".

/Thomas

[1] On lib.rs: https://lib.rs/crates/geodesy
[2] On Github: https://github.com/busstoptaktik/geodesy
[3] Docs:
https://github.com/busstoptaktik/geodesy/blob/main/ruminations/002-rumination.md#operator-stack
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20240411/53ad3cad/attachment.htm>

From j1 at jimenezshaw.com  Fri Apr 12 03:56:33 2024
From: j1 at jimenezshaw.com (Javier Jimenez Shaw)
Date: Fri, 12 Apr 2024 12:56:33 +0200
Subject: [PROJ] Is your the geoid model from your country in PROJ?
Message-ID: <CADRrdKvMVzCLtCo_XRJ73i54Jt-sVAO0wHt4cVdCsLTwGXGu7g@mail.gmail.com>

Hi all

Maybe you remember that I asked recently about the (missing) Greek geoid
model.

If you are asking yourself if your country is in similar situation, go to
https://cdn.proj.org/ , select only "Geoid models" (there are other grid
files there) and check.
In case it is not there, it could be:
- There is no such a geoid model in your country (really?)
- There is, but you have to pay for it (really???)
- There is, but it is not fully open data, with a restrictive license (that
is sad... maybe they want to change that)
- It is there, apparently accesible, but the license is not clear (that
should be fixable if the agency really wants to make it open data)
- It is there, is it open, but there is some missing information in EPSG
(for instance, but not only, the vertical CRS) (that is easy and free to
fix if the agency wants to)
- We missed it! Let us know.
- None of the above.

Maybe you want to talk with your local agency to fix this ;)

Best regards,
Javier

PS. In my opinion a geoid model is not a national security problem
(otherwise the US would not make them public ;) There are world models
already. It is a way to make data (measurements done with GNSS) compatible
with requirements (orthometric heights in the local system). Mainly local
companies and surveyors will have an easy workflow if the needed geoid
model is really easy to use, better if it is automatic in their tools.

.___ ._ ..._ .. . ._.  .___ .. __ . _. . __..  ... .... ._ .__
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20240412/83825d0c/attachment.htm>

From howard at hobu.co  Fri Apr 12 07:31:30 2024
From: howard at hobu.co (Howard Butler)
Date: Fri, 12 Apr 2024 09:31:30 -0500
Subject: [PROJ] Is your the geoid model from your country in PROJ?
In-Reply-To: <CADRrdKvMVzCLtCo_XRJ73i54Jt-sVAO0wHt4cVdCsLTwGXGu7g@mail.gmail.com>
References: <CADRrdKvMVzCLtCo_XRJ73i54Jt-sVAO0wHt4cVdCsLTwGXGu7g@mail.gmail.com>
Message-ID: <F3EAA8D6-09D7-40C0-831B-E680273C3595@hobu.co>



> On Apr 12, 2024, at 5:56?AM, Javier Jimenez Shaw via PROJ <proj at lists.osgeo.org> wrote:
> 
> Maybe you want to talk with your local agency to fix this ;)

It is not always clear as a motivated-but-unconnected individual which local agency and person inside it to contact to sort things out. It is also often the case that some government officials might not feel they have the power to change the license or releasability of a model. Finally, getting an official grid to PROJ CDN might require navigation of the procedures of a specialized geospatial standard body (EPSG) and standards conformance of those grids before official registration. 

A step-by-step process document written by people who have completed it would be a helpful guide of all the various starting points and steps. 

> Mainly local companies and surveyors will have an easy workflow if the needed geoid model is really easy to use, better if it is automatic in their tools.

As a frequent user of grid transformations in PROJ, I do not fondly remember the days before PROJ_NETWORK. It is very powerful for PROJ to be able to conveniently compute its best transformation, apply it to the data with very little manual intervention, and not require the management of gigabytes of grid content to do it. By making it possible and convenient to be more precise, many software and tools across the PROJ-using dependency graph have benefitted greatly.

Even's COG-based GTG [1] approach for PROJ supports both an incremental network and a local cache distribution model at the same time. I've found it frustrating the OGC CRS Standards Working Group didn't value a similar approach when it developed the GGXF standard. Not only is GGXF content going to require yet another transformation for use as an incremental network, its complexity in comparison to GTG is going to be challenging for grid producers. 

I suspect GTG's simpler model for grid producers and PROJ_NETWORK's distribution channel for grid consumers will close the loop for many. The challenge is one is labeled a standard but has no? public software implementations, while the other one is unlabeled but has four years of implementation experience in a widely used open source software. Maybe there are some in the community who would support bringing GTG forward as an OGC Community Standard if such a label is important to them.

[1] https://proj.org/en/latest/specifications/geodetictiffgrids.html

From martin.desruisseaux at geomatys.com  Fri Apr 12 10:27:44 2024
From: martin.desruisseaux at geomatys.com (Martin Desruisseaux)
Date: Fri, 12 Apr 2024 19:27:44 +0200
Subject: [PROJ] Is your the geoid model from your country in PROJ?
In-Reply-To: <F3EAA8D6-09D7-40C0-831B-E680273C3595@hobu.co>
References: <CADRrdKvMVzCLtCo_XRJ73i54Jt-sVAO0wHt4cVdCsLTwGXGu7g@mail.gmail.com>
 <F3EAA8D6-09D7-40C0-831B-E680273C3595@hobu.co>
Message-ID: <670970fe-7181-4326-9f8c-55c046eafea4@geomatys.com>

Hello all

Le 2024-04-12 ? 16 h 31, Howard Butler via PROJ a ?crit?:

> Even's COG-based GTG [1] approach for PROJ supports both an 
> incremental network and a local cache distribution model at the same 
> time. I've found it frustrating the OGC CRS Standards Working Group 
> didn't value a similar approach when it developed the GGXF standard. 
> Not only is GGXF content going to require yet another transformation 
> for use as an incremental network, its complexity in comparison to GTG 
> is going to be challenging for grid producers.

The grid format and the network for distributing them are two separated 
things. GGXF addresses only the former. Hosting the files at OGC, EPSG 
or somewhere else does not depend on whether those files are in GTG or 
GGXF format, and the incremental model used by PROJ (or other software, 
caching is not a new concept) is an implementation strategy independent 
of the standard.

The complexity argument is disputable. The OGC working group did a 
survey before to start the GGXF work, and a majority of data producers 
who responded were more familiar with NetCDF than GeoTIFF. In scientific 
communities, netCDF and HDF are used a lot. It does not mean that 
GeoTIFF is not used, but it is not as dominant as in GDAL communities. 
Furthermore, the GeoTIFF format *is* complex. It has 2 or 3 layers of 
embedded encoding (GeoKeys inside TIFF tags, then a dictionary of object 
names packed in a single GeoKey, then embedded XML documents for 
everything not associated to a GeoKey). TIFF is a rigid format, 
difficult to extend beyond the 2D imagery for which it was designed, and 
the GeoTIFF extension (GeoKeys) is itself difficult to extend as well. 
For this reason, many geospatial data (including GTG) distributed as 
GeoTIFF files has to resort to XML or JSON auxiliary files. In 
comparison, netCDF can be seen as a kind of binary JSON optimized for 
multi-dimensional data cubes. It is as flexible as XML or JSON for 
storing desired metadata. It has been argued that this flexibility is an 
interoperability problem because of different interpretations done by 
different software, but the same can be said against XML, JSON, WKT or 
even TIFF: before TIFF version 6, a joke was that "TIFF" was the acronym 
of "Thousands of Incompatible File Formats". No matter the format, the 
only way to address this problem is with a specification as unambiguous 
as possible, which may take many versions.

A GeoTIFF problem is that it is very poor in metadata. GGXF needs to 
store three CRS (source, target, interpolation). The GeoKeys can store 
only one CRS, and the two others have to be stored somewhere else. The 
same problem applies to other metadata such as accuracy and 
interpolation method. By contrast, GGXF is self-contained: all metadata 
are cleanly stored in a single file: no auxiliary files, and no 
"TIFF-tags / GeoKeys / yet-another-encoding-packed-in-a-GeoKey / 
embedded-XML-document" mix inside the main file.

Another GGXF goal was to be at least as good as NADCON and NTv2 in order 
to be a potential replacement for them. The Cloud Optimized GeoTIFF 
(COG) convention cannot represent a pyramid of grids with different 
resolutions in different regions as NTv2 does (all pyramid levels in a 
COG file covers the same region). It would of course be possible to 
resolve this problem with more metadata, but the GeoTIFF metadata are 
already messy and it would make the situation worst.

GGXF is the result of 2 years (if my memory serve me right) of biweekly 
meetings between peoples from EPSG, ESRI, geodesic experts from data 
producer agencies and more. It is backed by an abstract specification 
posing the theoretical foundations before to address the actual encoding 
in a separated document. The encoding document itself it designed in a 
way to allow binary encodings other than netCDF in the future if there 
is a demand. ESRI is already implementing GGXF support and Apache SIS 
will follow hopefully this year. I understand that not adopting GTG may 
seem frustrating, but there is not the same level of expertise in those 
two formats.

Anyway, GGXF is currently pushed as an exchange format. Software can 
consume it directly, but not necessarily. Data producers would publish 
their data in GGXF, then PROJ (for example) may convert those files to 
GTG for publication on their network. Apache SIS on its side would 
consume the GGXF files directly. Having the original data published in 
GGXF rather than GTG is advantageous at least for archival purposes, 
because of the richer metadata.

 ??? Martin

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20240412/326cf47b/attachment.htm>

From j1 at jimenezshaw.com  Sat Apr 13 04:30:43 2024
From: j1 at jimenezshaw.com (Javier Jimenez Shaw)
Date: Sat, 13 Apr 2024 13:30:43 +0200
Subject: [PROJ] Is your the geoid model from your country in PROJ?
In-Reply-To: <F3EAA8D6-09D7-40C0-831B-E680273C3595@hobu.co>
References: <CADRrdKvMVzCLtCo_XRJ73i54Jt-sVAO0wHt4cVdCsLTwGXGu7g@mail.gmail.com>
 <F3EAA8D6-09D7-40C0-831B-E680273C3595@hobu.co>
Message-ID: <CADRrdKvOWeAYbhA6eiZF5CQGX8EZzjsS=QuH0Z4BBaXtrOKXNw@mail.gmail.com>

On Fri, 12 Apr 2024 at 16:31, Howard Butler <howard at hobu.co> wrote:

>
>
> > On Apr 12, 2024, at 5:56?AM, Javier Jimenez Shaw via PROJ <
> proj at lists.osgeo.org> wrote:
> >
> > Maybe you want to talk with your local agency to fix this ;)
>
> It is not always clear as a motivated-but-unconnected individual which
> local agency and person inside it to contact to sort things out.

That is the first step, true. Contact details in the webpage of the agency
sometimes work. If not, networking is the key. Ask to your network if
anybody knows somebody in that agency. They are usually not that big (not
that many people is in geodesy). That's why I am asking here: it is much
easier for locals to reach that people. Speaking the local language also
helps.


> It is also often the case that some government officials might not feel
> they have the power to change the license

I see. But many times it is simpler than expected. Just asking works to
change to a valid license. Other times they can use two licenses. For
instance the author changed the license in
https://www.isgeoid.polimi.it/Geoid/America/Argentina/argentina2016_g.html
Also some clarifications are useful. In some pages it is simply not clear
the license that applies, because nobody cared before. I was very happy
that Portugal quickly made it explicit CC BY 4 when I asked that.


> or releasability of a model.

That can be a problem. I know some countries that are afraid of that. But
showing how many other countries are releasing their models could help. It
is also information needed by the citizens/companies of that country.
Keeping it secret destroys the purpose of such a tool.

Finally, getting an official grid to PROJ CDN might require navigation of
> the procedures of a specialized geospatial standard body (EPSG) and
> standards conformance of those grids before official registration.
>
Fortunately geoid models are simple to register, and EPSG is usually quick
including this kind of requests. There are several grids just as an ascii
file with "lat, long, undulation". Not the most compact format, but easy to
understand (recently I explained to an agency how to use GDAL to manage
those formats. They were very happy!). See that the geoid model file is not
uploaded to EPSG, but just mentioned (as a filename). The agencies are
"responsible" of making it accesible (something not always the case).


>
> A step-by-step process document written by people who have completed it
> would be a helpful guide of all the various starting points and steps.
>
> There is already some documentation in
https://github.com/OSGeo/PROJ-data/blob/master/CONTRIBUTING.md , but it's
true it starts when you have all the data. I will make a PR trying to
explain the previous processes based on my experience adding some geoid
models there.

In any case I am happy to help anybody that wants to add a grid file to
PROJ. If you have data or contacts, just contact me in this mailing list or
personally.

Cheers,
Javier.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20240413/7aaea5ae/attachment.htm>

From member at cessay.org  Fri Apr 19 16:26:21 2024
From: member at cessay.org (Manoj)
Date: Fri, 19 Apr 2024 16:26:21 -0700
Subject: [PROJ] Path of the installed library files of PROJ
Message-ID: <18ef8aeafb6.d23fe2ef2578261.7455136043440167949@cessay.org>

I am using g++ (Ubuntu 7.5.0-3ubuntu1~18.04) 7.5.0 .

I installed PROJ the following way.?



$ sudo apt-get install proj-bin 

Reading package lists... Done

Building dependency tree

Reading state information... Done

The following NEW packages will be installed:

? proj-bin

0 upgraded, 1 newly installed, 0 to remove and 0 not upgraded.

Need to get 32.3 kB of archives.

After this operation, 110 kB of additional disk space will be used.

Get:1 http://archive.ubuntu.com/ubuntu bionic/universe amd64 proj-bin amd64 4.9.3-2 [32.3 kB]

Fetched 32.3 kB in 1s (30.2 kB/s)

Selecting previously unselected package proj-bin.

(Reading database ... 113308 files and directories currently installed.)

Preparing to unpack .../proj-bin_4.9.3-2_amd64.deb ...

Unpacking proj-bin (4.9.3-2) ...

Setting up proj-bin (4.9.3-2) ...

Processing triggers for man-db (2.8.3-2ubuntu0.1) ...





How can I find all the .so or .a or header installed ?



?PROJ is necessary to compile?libgeotiff. After the above installation, when I am compiling libgeotiff, it cannot find proj.h.?

The command of compilation are shown bellow.

./autogen.sh 

./configure



The error at the ./confugure was

checking proj.h usability... no

checking proj.h presence... no

checking for proj.h... no

configure: error: proj.h not found
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20240419/e33e9b87/attachment.htm>

From j1 at jimenezshaw.com  Sat Apr 20 00:27:12 2024
From: j1 at jimenezshaw.com (Javier Jimenez Shaw)
Date: Sat, 20 Apr 2024 09:27:12 +0200
Subject: [PROJ] Path of the installed library files of PROJ
In-Reply-To: <18ef8aeafb6.d23fe2ef2578261.7455136043440167949@cessay.org>
References: <18ef8aeafb6.d23fe2ef2578261.7455136043440167949@cessay.org>
Message-ID: <CADRrdKs9=PnvavdjK1bG+wHsr+wX-6Ossb0VwXwTXB8C-cThiw@mail.gmail.com>

I think that to compile you need the package "libproj-dev"

On Sat, 20 Apr 2024 at 01:26, Manoj via PROJ <proj at lists.osgeo.org> wrote:

> I am using g++ (Ubuntu 7.5.0-3ubuntu1~18.04) 7.5.0 .
> I installed PROJ the following way.
>
> *$ sudo apt-get install proj-bin*
> Reading package lists... Done
> Building dependency tree
> Reading state information... Done
> The following NEW packages will be installed:
>   proj-bin
> 0 upgraded, 1 newly installed, 0 to remove and 0 not upgraded.
> Need to get 32.3 kB of archives.
> After this operation, 110 kB of additional disk space will be used.
> Get:1 http://archive.ubuntu.com/ubuntu bionic/universe amd64 proj-bin
> amd64 4.9.3-2 [32.3 kB]
> Fetched 32.3 kB in 1s (30.2 kB/s)
> Selecting previously unselected package proj-bin.
> (Reading database ... 113308 files and directories currently installed.)
> Preparing to unpack .../proj-bin_4.9.3-2_amd64.deb ...
> Unpacking proj-bin (4.9.3-2) ...
> Setting up proj-bin (4.9.3-2) ...
> Processing triggers for man-db (2.8.3-2ubuntu0.1) ...
>
>
> How can I find all the .so or .a or header installed ?
>
>  PROJ is necessary to compile libgeotiff. After the above installation,
> when I am compiling libgeotiff, it cannot find proj.h.
> The command of compilation are shown bellow.
> ./autogen.sh
> ./configure
>
> The error at the ./confugure was
> checking proj.h usability... no
> checking proj.h presence... no
> checking for proj.h... no
> configure: error: proj.h not found
>
>
>
>
> _______________________________________________
> PROJ mailing list
> PROJ at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/proj
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20240420/708c944e/attachment.htm>

From mwtoews at gmail.com  Sat Apr 20 14:15:02 2024
From: mwtoews at gmail.com (Mike Taves)
Date: Sun, 21 Apr 2024 09:15:02 +1200
Subject: [PROJ] Path of the installed library files of PROJ
In-Reply-To: <18ef8aeafb6.d23fe2ef2578261.7455136043440167949@cessay.org>
References: <18ef8aeafb6.d23fe2ef2578261.7455136043440167949@cessay.org>
Message-ID: <CAM2FmMo64pkVXXZ5kgP8jdL+0mXzk5Nk1F1hRAnOA5Tby-iAcA@mail.gmail.com>

On Sat, 20 Apr 2024 at 11:50, Manoj via PROJ <proj at lists.osgeo.org> wrote:
> Get:1 http://archive.ubuntu.com/ubuntu bionic/universe amd64 proj-bin amd64 4.9.3-2 [32.3 kB]
> ...
> checking for proj.h... no
> configure: error: proj.h not found

Ubuntu bionic (18.04) had a really old PROJ 4.9.3 which predated
proj.h. Your options are to use an older libgeotiff (that supported
older PROJ) or install a more modern PROJ version. Or use a more
modern Ubuntu release (probably 20.04 or later).

From Jochem.Lesparre at kadaster.nl  Tue Apr 23 04:18:32 2024
From: Jochem.Lesparre at kadaster.nl (Lesparre, Jochem)
Date: Tue, 23 Apr 2024 11:18:32 +0000
Subject: [PROJ] Is your the geoid model from your country in PROJ?
In-Reply-To: <CADRrdKvMVzCLtCo_XRJ73i54Jt-sVAO0wHt4cVdCsLTwGXGu7g@mail.gmail.com>
References: <CADRrdKvMVzCLtCo_XRJ73i54Jt-sVAO0wHt4cVdCsLTwGXGu7g@mail.gmail.com>
Message-ID: <AM0P192MB04820B06EBAB7CD11706A49FEF112@AM0P192MB0482.EURP192.PROD.OUTLOOK.COM>

I noticed that CDN still contains the from VDatum (gtx) to GeoTIFF (tif) converted geoid grid https://cdn.proj.org/nl_nsgi_naptrans2018.tif for the Netherlands, although it isn?t listed in https://cdn.proj.org/nl_nsgi_README.txt  I thought I removed that grid from PROJ when I corrected the metadata of the other GeoTIFF grids for the Netherlands, but apparently I missed something. It doesn?t make sense to distribute that grid as GeoTIFF, because it is only usable for PROJ versions that did not yet support GeoTIFF.

Can someone help to get the GeoTIFF version removed completely?

Jochem



Disclaimer:
De inhoud van deze e-mail is vertrouwelijk en uitsluitend bestemd voor de geadresseerde(n).
Gebruik, openbaarmaking, vermenigvuldiging, verspreiding en/of verstrekking van deze informatie aan derden is niet toegestaan.
Op al onze producten en diensten zijn onze algemene leveringsvoorwaarden van toepassing
[https://www.kadaster.nl/algemene-leveringsvoorwaarden].

Disclaimer:
This email and any files transmitted with it are confidential and intended solely for the use of the individual or entity to whom they are addressed.
If you are not the intended recipient, you are notified that disclosing, copying, distributing or taking any action in reliance on the contents of this information is strictly prohibited.
Our general terms and conditions of delivery apply to all our products and services
[https://www.kadaster.com/general-terms-and-conditions].
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20240423/587e8e96/attachment.htm>

From even.rouault at spatialys.com  Tue Apr 23 05:37:43 2024
From: even.rouault at spatialys.com (Even Rouault)
Date: Tue, 23 Apr 2024 14:37:43 +0200
Subject: [PROJ] Is your the geoid model from your country in PROJ?
In-Reply-To: <AM0P192MB04820B06EBAB7CD11706A49FEF112@AM0P192MB0482.EURP192.PROD.OUTLOOK.COM>
References: <CADRrdKvMVzCLtCo_XRJ73i54Jt-sVAO0wHt4cVdCsLTwGXGu7g@mail.gmail.com>
 <AM0P192MB04820B06EBAB7CD11706A49FEF112@AM0P192MB0482.EURP192.PROD.OUTLOOK.COM>
Message-ID: <ab18ada2-17f3-462e-a6ac-09aef625bc8c@spatialys.com>

We use to keep old grids on the CDN even when they are removed in a 
later version of PROJ-data. That way people things will still work for 
people that use an older PROJ version

Are we completely sure that nobody no longer use nl_nsgi_naptrans2018.tif ?

Le 23/04/2024 ? 13:18, Lesparre, Jochem via PROJ a ?crit?:
>
> I noticed that CDN still contains the from VDatum (gtx) to GeoTIFF 
> (tif) converted geoid grid 
> https://cdn.proj.org/nl_nsgi_naptrans2018.tif for the Netherlands, 
> although it isn?t listed in https://cdn.proj.org/nl_nsgi_README.txt ?I 
> thought I removed that grid from PROJ when I corrected the metadata of 
> the other GeoTIFF grids for the Netherlands, but apparently I missed 
> something. It doesn?t make sense to distribute that grid as GeoTIFF, 
> because it is only usable for PROJ versions that did not yet support 
> GeoTIFF.
>
> Can someone help to get the GeoTIFF version removed completely?
>
> Jochem
>
>
>
> Disclaimer:
> De inhoud van deze e-mail is vertrouwelijk en uitsluitend bestemd voor 
> de geadresseerde(n).
> Gebruik, openbaarmaking, vermenigvuldiging, verspreiding en/of 
> verstrekking van deze informatie aan derden is niet toegestaan.
> Op al onze producten en diensten zijn onze algemene 
> leveringsvoorwaarden van toepassing
> [https://www.kadaster.nl/algemene-leveringsvoorwaarden].
>
> Disclaimer:
> This email and any files transmitted with it are confidential and 
> intended solely for the use of the individual or entity to whom they 
> are addressed.
> If you are not the intended recipient, you are notified that 
> disclosing, copying, distributing or taking any action in reliance on 
> the contents of this information is strictly prohibited.
> Our general terms and conditions of delivery apply to all our products 
> and services
> [https://www.kadaster.com/general-terms-and-conditions].
>
> _______________________________________________
> PROJ mailing list
> PROJ at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/proj

-- 
http://www.spatialys.com
My software is free, but my time generally not.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20240423/afe7d7ce/attachment.htm>

From even.rouault at spatialys.com  Wed Apr 24 12:58:41 2024
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 24 Apr 2024 21:58:41 +0200
Subject: [PROJ] Fwd: [CRS.SWG] Proposed CRS JSON encoding
In-Reply-To: <SJ0PR05MB99992BC21BA2D9EA4E02379DB7102@SJ0PR05MB9999.namprd05.prod.outlook.com>
References: <SJ0PR05MB99992BC21BA2D9EA4E02379DB7102@SJ0PR05MB9999.namprd05.prod.outlook.com>
Message-ID: <7f479190-5c12-4835-ba93-ad4ef6993f5a@spatialys.com>

FYI

-------- Message transf?r? --------
Sujet?: 	[CRS.SWG] Proposed CRS JSON encoding
Date?: 	Wed, 24 Apr 2024 18:52:16 +0000
De?: 	Keith Ryden via CRS.SWG <crs.swg at lists.ogc.org>
R?pondre ??: 	Keith Ryden <kryden at esri.com>
Pour?: 	crs.swg at lists.ogc.org <crs.swg at lists.ogc.org>, 
coordtran.wg at lists.ogc.org <coordtran.wg at lists.ogc.org>



Folks,

Per the discussion in Delft during the CRS Joint SWG/DWG meeting, a 
github repo (https://github.com/opengeospatial/CRS-JSON-Encoding) has 
been set up to capture any issues or discussion items for establishing a 
CRS JSON encoding.? The text below is from the ReadMe file in the 
repository and describes the effort, scope under the CRS SWG Charter, 
and plan for review in Montreal.

Thanks

Keith

During the June 2022 OGC Member Meeting in Madrid Spain, the joint CRS 
DWG/SWG working groups approved a motion to work on the adoption of a 
JSON Schema for Coordinate references to be defined in parallel with the 
CRS WKT Standard and derived from ISO 19111 and OGC Topic 2. The full 
text of the CRS SWG charter with updated scope to cover the CRS JSON 
scheme encoding can be found at: 
https://portal.ogc.org/files/?artifact_id=102055&version=1 
<https://portal.ogc.org/files/?artifact_id=102055&version=1>

For convenience, the relevant portion of the charter document has been 
repeated here:

To support an encoding of the self-contained and compact description of 
Coordinate Reference Systems and Coordinate Operations through a simple 
JSON schema. The implementation specification delivered will be 
consistent with OGC Abstract Specification Topic 2 and ISO 19111. This 
offers the following advantages:

*Provides a JSON encoding of coordinate reference systems descriptions 
for use where JSON may be considered a more natural data schema than 
Well Known Text.

*Ensures that a JSON schema is available that will be kept in alignment 
with OGC Abstract Specification Topic 2 and ISO 19111

*Recognizing the PROJ6 origins of the PROJJSON schema contribution being 
used as the starting point of this work, effort will be made to try to 
avoid compatibility issues and to clearly document any issues identified 
or object names that deviate from the original OGC Abstract 
Specification Topic 2 and ISO 19111. If an unresolvable conflict is 
identified, OGC Abstract Specification Topic 2 and ISO 19111 will guide 
the resolution and such an issue will be clearly documented.

The CRS SWG has recently completed work on:

22-010r4 Topic 24 Functional Model for Crustal Deformation 
(https://portal.ogc.org/files/?artifact_id=106827&version=1 
<https://portal.ogc.org/files/?artifact_id=106827&version=1>?[portal.ogc.org])

22-051r7 GGXF geodetic data grid exchange format v1.0 
(https://portal.ogc.org/files/?artifact_id=106828&version=1 
<https://portal.ogc.org/files/?artifact_id=106828&version=1>?[portal.ogc.org])

And are now able to begin the important work of vetting and documenting 
the CRS JSON encoding.

In the March 2024 Delft joint CRS SWG/DWG working group meeting, it was 
agreed that we would set up this github repo 
(https://github.com/opengeospatial/CRS-JSON-Encoding)to serve as an open 
public repository to gather up any issues identified in alignment of the 
existing PROJ JSON Schema with OGC Abstract Specification topic 2 and 
ISO 19111. As discussed in the CRS SWG charter, this encoding will align 
with OGC Abstract Specification topic 2 and ISO 19111, and will be 
informed by the existing PROJ JSON schema, aiming for compatibility with 
the existing PROJ JSON schema where practical. Reviewers are asked to 
submit issues for any alignment issues they identify. These issues will 
be the topic of discussion at the June joint CRS SWG/DWG meeting in 
Montreal Canada (date and time still TBD).

The PROJSON Schema documentation can be found at: 
https://proj.org/en/9.4/specifications/projjson.html
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20240424/92ac4886/attachment.htm>
-------------- next part --------------
_______________________________________________
You may change your delivery options in the "Email Subscriptions" portion
of "My Account" in the OGC Web Portal.
 https://portal.opengeospatial.org/?m=users&a=viewuser&tab=3

You may visit our Privacy Policy at http://www.opengeospatial.org/privacy.
CRS.SWG mailing list
CRS.SWG at lists.ogc.org
You may also unsubscribe or manage your OGC list subscriptions at
 https://portal.opengeospatial.org/?m=users&a=viewuser&tab=3 


From Jochem.Lesparre at kadaster.nl  Thu Apr 25 07:51:57 2024
From: Jochem.Lesparre at kadaster.nl (Lesparre, Jochem)
Date: Thu, 25 Apr 2024 14:51:57 +0000
Subject: [PROJ] Is your the geoid model from your country in PROJ?
In-Reply-To: <ab18ada2-17f3-462e-a6ac-09aef625bc8c@spatialys.com>
References: <CADRrdKvMVzCLtCo_XRJ73i54Jt-sVAO0wHt4cVdCsLTwGXGu7g@mail.gmail.com>
 <AM0P192MB04820B06EBAB7CD11706A49FEF112@AM0P192MB0482.EURP192.PROD.OUTLOOK.COM>
 <ab18ada2-17f3-462e-a6ac-09aef625bc8c@spatialys.com>
Message-ID: <AM0P192MB0482A5CCB17CBFB5FAF4499FEF172@AM0P192MB0482.EURP192.PROD.OUTLOOK.COM>

> Are we completely sure that nobody no longer use nl_nsgi_naptrans2018.tif ?
No, but I think there has never been a reason to use nl_nsgi_naptrans2018.tif. The only difference between nl_nsgi_naptrans2018.tif and nl_nsgi_nlgeo2018.tif is the interpolation CRS. In theory somebody could use nl_nsgi_naptrans2018.tif in a PROJ pipeline, e.g.:


cct +proj=pipeline

+step +proj=hgridshift +inv +grids=nl_nsgi_rdtrans2018.tif

+step +proj=vgridshift +grids=nl_nsgi_naptrans2018.tif

+step +proj=sterea +lat_0=52.156160556 +lon_0=5.387638889 +k=0.9999079 +x_0=155000 +y_0=463000 +ellps=bessel

However, we never published such a PROJ pipeline, since the need for a interpolation CRS other than ETRS89 could always be avoided in a pipeline, e.g.:


cct +proj=pipeline

+step +proj=vgridshift +grids=nl_nsgi_nlgeo2018.tif

+step +proj=hgridshift +inv +grids=nl_nsgi_rdtrans2018.tif

+step +proj=sterea +lat_0=52.156160556 +lon_0=5.387638889 +k=0.9999079 +x_0=155000 +y_0=463000 +ellps=bessel

The only reason we created nl_nsgi_naptrans2018.gtx is that PROJ4-style strings in older PROJ versions (that did not yet support GeoTIFF) needed it:

+proj=sterea +lat_0=52.156160556 +lon_0=5.387638889 +k=0.9999079 +x_0=155000 +y_0=463000 +ellps=bessel +nadgrids=nl_nsgi_rdtrans2018.gsb +wktext +geoidgrids=nl_nsgi_naptrans2018.gtx +no_defs

With PROJ 6 and newer this grid is no longer needed for PROJ4-style strings either:

+proj=sterea +lat_0=52.156160556 +lon_0=5.387638889 +k=0.9999079 +x_0=155000 +y_0=463000 +ellps=bessel +nadgrids=nl_nsgi_rdtrans2018.tif +geoidgrids=nl_nsgi_nlgeo2018.tif +geoid_crs=WGS84 +type=crs

So the conversion from VDatum (.gtx) to GeoTIFF (.tif) was never needed for nl_nsgi_naptrans2018.gtx, but should we keep it now is there?

Jochem



Disclaimer:
De inhoud van deze e-mail is vertrouwelijk en uitsluitend bestemd voor de geadresseerde(n).
Gebruik, openbaarmaking, vermenigvuldiging, verspreiding en/of verstrekking van deze informatie aan derden is niet toegestaan.
Op al onze producten en diensten zijn onze algemene leveringsvoorwaarden van toepassing
[https://www.kadaster.nl/algemene-leveringsvoorwaarden].

Disclaimer:
This email and any files transmitted with it are confidential and intended solely for the use of the individual or entity to whom they are addressed.
If you are not the intended recipient, you are notified that disclosing, copying, distributing or taking any action in reliance on the contents of this information is strictly prohibited.
Our general terms and conditions of delivery apply to all our products and services
[https://www.kadaster.com/general-terms-and-conditions].
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20240425/5b89ec19/attachment-0001.htm>

From even.rouault at spatialys.com  Thu Apr 25 08:14:20 2024
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 25 Apr 2024 17:14:20 +0200
Subject: [PROJ] Is your the geoid model from your country in PROJ?
In-Reply-To: <ab18ada2-17f3-462e-a6ac-09aef625bc8c@spatialys.com>
References: <CADRrdKvMVzCLtCo_XRJ73i54Jt-sVAO0wHt4cVdCsLTwGXGu7g@mail.gmail.com>
 <AM0P192MB04820B06EBAB7CD11706A49FEF112@AM0P192MB0482.EURP192.PROD.OUTLOOK.COM>
 <ab18ada2-17f3-462e-a6ac-09aef625bc8c@spatialys.com>
Message-ID: <0513eb24-81e5-4d09-83c3-cb4feae7b255@spatialys.com>

I've just removed it from the CDN

Le 23/04/2024 ? 14:37, Even Rouault via PROJ a ?crit?:
>
> We use to keep old grids on the CDN even when they are removed in a 
> later version of PROJ-data. That way people things will still work for 
> people that use an older PROJ version
>
> Are we completely sure that nobody no longer use 
> nl_nsgi_naptrans2018.tif ?
>
> Le 23/04/2024 ? 13:18, Lesparre, Jochem via PROJ a ?crit?:
>>
>> I noticed that CDN still contains the from VDatum (gtx) to GeoTIFF 
>> (tif) converted geoid grid 
>> https://cdn.proj.org/nl_nsgi_naptrans2018.tif for the Netherlands, 
>> although it isn?t listed in https://cdn.proj.org/nl_nsgi_README.txt 
>> ?I thought I removed that grid from PROJ when I corrected the 
>> metadata of the other GeoTIFF grids for the Netherlands, but 
>> apparently I missed something. It doesn?t make sense to distribute 
>> that grid as GeoTIFF, because it is only usable for PROJ versions 
>> that did not yet support GeoTIFF.
>>
>> Can someone help to get the GeoTIFF version removed completely?
>>
>> Jochem
>>
>>
>>
>> Disclaimer:
>> De inhoud van deze e-mail is vertrouwelijk en uitsluitend bestemd 
>> voor de geadresseerde(n).
>> Gebruik, openbaarmaking, vermenigvuldiging, verspreiding en/of 
>> verstrekking van deze informatie aan derden is niet toegestaan.
>> Op al onze producten en diensten zijn onze algemene 
>> leveringsvoorwaarden van toepassing
>> [https://www.kadaster.nl/algemene-leveringsvoorwaarden].
>>
>> Disclaimer:
>> This email and any files transmitted with it are confidential and 
>> intended solely for the use of the individual or entity to whom they 
>> are addressed.
>> If you are not the intended recipient, you are notified that 
>> disclosing, copying, distributing or taking any action in reliance on 
>> the contents of this information is strictly prohibited.
>> Our general terms and conditions of delivery apply to all our 
>> products and services
>> [https://www.kadaster.com/general-terms-and-conditions].
>>
>> _______________________________________________
>> PROJ mailing list
>> PROJ at lists.osgeo.org
>> https://lists.osgeo.org/mailman/listinfo/proj
> -- 
> http://www.spatialys.com
> My software is free, but my time generally not.
>
> _______________________________________________
> PROJ mailing list
> PROJ at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/proj

-- 
http://www.spatialys.com
My software is free, but my time generally not.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20240425/69cd2234/attachment.htm>

From even.rouault at spatialys.com  Thu Apr 25 12:15:17 2024
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 25 Apr 2024 21:15:17 +0200
Subject: [PROJ] Is your the geoid model from your country in PROJ?
In-Reply-To: <0513eb24-81e5-4d09-83c3-cb4feae7b255@spatialys.com>
References: <CADRrdKvMVzCLtCo_XRJ73i54Jt-sVAO0wHt4cVdCsLTwGXGu7g@mail.gmail.com>
 <AM0P192MB04820B06EBAB7CD11706A49FEF112@AM0P192MB0482.EURP192.PROD.OUTLOOK.COM>
 <ab18ada2-17f3-462e-a6ac-09aef625bc8c@spatialys.com>
 <0513eb24-81e5-4d09-83c3-cb4feae7b255@spatialys.com>
Message-ID: <4919b44f-71c3-4dcb-942f-0b8a02be65ab@spatialys.com>

I thought I was going to regret it: it broke "projsync --all", at least 
in the context of build GDAL master docker images (it shouldn't in 
theory, but in practice it does, and I don't have time to investigate 
that at the moment).? So I've re-uploaded the file to the CDN to the 
version it was at 
https://github.com/OSGeo/PROJ-data/blob/0531fe9dbc818beb156df75eb5b3a8cac0278ef0/nl_nsgi/nl_nsgi_naptrans2018.tif

Le 25/04/2024 ? 17:14, Even Rouault via PROJ a ?crit?:
>
> I've just removed it from the CDN
>
> Le 23/04/2024 ? 14:37, Even Rouault via PROJ a ?crit?:
>>
>> We use to keep old grids on the CDN even when they are removed in a 
>> later version of PROJ-data. That way people things will still work 
>> for people that use an older PROJ version
>>
>> Are we completely sure that nobody no longer use 
>> nl_nsgi_naptrans2018.tif ?
>>
>> Le 23/04/2024 ? 13:18, Lesparre, Jochem via PROJ a ?crit?:
>>>
>>> I noticed that CDN still contains the from VDatum (gtx) to GeoTIFF 
>>> (tif) converted geoid grid 
>>> https://cdn.proj.org/nl_nsgi_naptrans2018.tif for the Netherlands, 
>>> although it isn?t listed in https://cdn.proj.org/nl_nsgi_README.txt 
>>> ?I thought I removed that grid from PROJ when I corrected the 
>>> metadata of the other GeoTIFF grids for the Netherlands, but 
>>> apparently I missed something. It doesn?t make sense to distribute 
>>> that grid as GeoTIFF, because it is only usable for PROJ versions 
>>> that did not yet support GeoTIFF.
>>>
>>> Can someone help to get the GeoTIFF version removed completely?
>>>
>>> Jochem
>>>
>>>
>>>
>>> Disclaimer:
>>> De inhoud van deze e-mail is vertrouwelijk en uitsluitend bestemd 
>>> voor de geadresseerde(n).
>>> Gebruik, openbaarmaking, vermenigvuldiging, verspreiding en/of 
>>> verstrekking van deze informatie aan derden is niet toegestaan.
>>> Op al onze producten en diensten zijn onze algemene 
>>> leveringsvoorwaarden van toepassing
>>> [https://www.kadaster.nl/algemene-leveringsvoorwaarden].
>>>
>>> Disclaimer:
>>> This email and any files transmitted with it are confidential and 
>>> intended solely for the use of the individual or entity to whom they 
>>> are addressed.
>>> If you are not the intended recipient, you are notified that 
>>> disclosing, copying, distributing or taking any action in reliance 
>>> on the contents of this information is strictly prohibited.
>>> Our general terms and conditions of delivery apply to all our 
>>> products and services
>>> [https://www.kadaster.com/general-terms-and-conditions].
>>>
>>> _______________________________________________
>>> PROJ mailing list
>>> PROJ at lists.osgeo.org
>>> https://lists.osgeo.org/mailman/listinfo/proj
>> -- 
>> http://www.spatialys.com
>> My software is free, but my time generally not.
>>
>> _______________________________________________
>> PROJ mailing list
>> PROJ at lists.osgeo.org
>> https://lists.osgeo.org/mailman/listinfo/proj
> -- 
> http://www.spatialys.com
> My software is free, but my time generally not.
>
> _______________________________________________
> PROJ mailing list
> PROJ at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/proj

-- 
http://www.spatialys.com
My software is free, but my time generally not.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20240425/8ab3ce00/attachment.htm>

From even.rouault at spatialys.com  Thu Apr 25 13:16:05 2024
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 25 Apr 2024 22:16:05 +0200
Subject: [PROJ] Is your the geoid model from your country in PROJ?
In-Reply-To: <4919b44f-71c3-4dcb-942f-0b8a02be65ab@spatialys.com>
References: <CADRrdKvMVzCLtCo_XRJ73i54Jt-sVAO0wHt4cVdCsLTwGXGu7g@mail.gmail.com>
 <AM0P192MB04820B06EBAB7CD11706A49FEF112@AM0P192MB0482.EURP192.PROD.OUTLOOK.COM>
 <ab18ada2-17f3-462e-a6ac-09aef625bc8c@spatialys.com>
 <0513eb24-81e5-4d09-83c3-cb4feae7b255@spatialys.com>
 <4919b44f-71c3-4dcb-942f-0b8a02be65ab@spatialys.com>
Message-ID: <533275e7-1c96-4195-9377-61f84faf370b@spatialys.com>

I figured it out. The files_removed.geojson file at 
https://github.com/OSGeo/PROJ-data/blob/master/files_removed.geojson 
lacked a "version_removed" property, which caused the final 
files.geojson file used by projsync to also lack it. And without the 
information of the version where a file has been removed, projsync is 
conservative and tries to download it since it doesn't know if it might 
be useful or not.

I've fixed it in 
https://github.com/OSGeo/PROJ-data/commit/5e84d7936226f70442f1360077ffafbf1dea2f9a 
, also adding consistency checks so we properly fill metadata when 
removing a file

But the bottom line is that we can't just remove a file from the CDN 
without breaking projsync of older PROJ versions. We might remove it one 
day when we are reasonably confident that nobody longer used a PROJ 
version that uses a PROJ.data that is lower than the version where the 
file was removed. But that's more a 5+ years horizon to be on the safe side

Le 25/04/2024 ? 21:15, Even Rouault via PROJ a ?crit?:
>
> I thought I was going to regret it: it broke "projsync --all", at 
> least in the context of build GDAL master docker images (it shouldn't 
> in theory, but in practice it does, and I don't have time to 
> investigate that at the moment).? So I've re-uploaded the file to the 
> CDN to the version it was at 
> https://github.com/OSGeo/PROJ-data/blob/0531fe9dbc818beb156df75eb5b3a8cac0278ef0/nl_nsgi/nl_nsgi_naptrans2018.tif
>
> Le 25/04/2024 ? 17:14, Even Rouault via PROJ a ?crit?:
>>
>> I've just removed it from the CDN
>>
>> Le 23/04/2024 ? 14:37, Even Rouault via PROJ a ?crit?:
>>>
>>> We use to keep old grids on the CDN even when they are removed in a 
>>> later version of PROJ-data. That way people things will still work 
>>> for people that use an older PROJ version
>>>
>>> Are we completely sure that nobody no longer use 
>>> nl_nsgi_naptrans2018.tif ?
>>>
>>> Le 23/04/2024 ? 13:18, Lesparre, Jochem via PROJ a ?crit?:
>>>>
>>>> I noticed that CDN still contains the from VDatum (gtx) to GeoTIFF 
>>>> (tif) converted geoid grid 
>>>> https://cdn.proj.org/nl_nsgi_naptrans2018.tif for the Netherlands, 
>>>> although it isn?t listed in https://cdn.proj.org/nl_nsgi_README.txt 
>>>> ?I thought I removed that grid from PROJ when I corrected the 
>>>> metadata of the other GeoTIFF grids for the Netherlands, but 
>>>> apparently I missed something. It doesn?t make sense to distribute 
>>>> that grid as GeoTIFF, because it is only usable for PROJ versions 
>>>> that did not yet support GeoTIFF.
>>>>
>>>> Can someone help to get the GeoTIFF version removed completely?
>>>>
>>>> Jochem
>>>>
>>>>
>>>>
>>>> Disclaimer:
>>>> De inhoud van deze e-mail is vertrouwelijk en uitsluitend bestemd 
>>>> voor de geadresseerde(n).
>>>> Gebruik, openbaarmaking, vermenigvuldiging, verspreiding en/of 
>>>> verstrekking van deze informatie aan derden is niet toegestaan.
>>>> Op al onze producten en diensten zijn onze algemene 
>>>> leveringsvoorwaarden van toepassing
>>>> [https://www.kadaster.nl/algemene-leveringsvoorwaarden].
>>>>
>>>> Disclaimer:
>>>> This email and any files transmitted with it are confidential and 
>>>> intended solely for the use of the individual or entity to whom 
>>>> they are addressed.
>>>> If you are not the intended recipient, you are notified that 
>>>> disclosing, copying, distributing or taking any action in reliance 
>>>> on the contents of this information is strictly prohibited.
>>>> Our general terms and conditions of delivery apply to all our 
>>>> products and services
>>>> [https://www.kadaster.com/general-terms-and-conditions].
>>>>
>>>> _______________________________________________
>>>> PROJ mailing list
>>>> PROJ at lists.osgeo.org
>>>> https://lists.osgeo.org/mailman/listinfo/proj
>>> -- 
>>> http://www.spatialys.com
>>> My software is free, but my time generally not.
>>>
>>> _______________________________________________
>>> PROJ mailing list
>>> PROJ at lists.osgeo.org
>>> https://lists.osgeo.org/mailman/listinfo/proj
>> -- 
>> http://www.spatialys.com
>> My software is free, but my time generally not.
>>
>> _______________________________________________
>> PROJ mailing list
>> PROJ at lists.osgeo.org
>> https://lists.osgeo.org/mailman/listinfo/proj
> -- 
> http://www.spatialys.com
> My software is free, but my time generally not.
>
> _______________________________________________
> PROJ mailing list
> PROJ at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/proj

-- 
http://www.spatialys.com
My software is free, but my time generally not.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20240425/a8305f04/attachment.htm>

From j1 at jimenezshaw.com  Fri Apr 26 07:28:06 2024
From: j1 at jimenezshaw.com (Javier Jimenez Shaw)
Date: Fri, 26 Apr 2024 16:28:06 +0200
Subject: [PROJ] stripVerticalComponent vs demoteTo2D
Message-ID: <CADRrdKvMQZTyLXCx5CRms4jbhP3rqeoZ1Ak_3srcj4JhMur7Gw@mail.gmail.com>

Hi

In the class CRS I see two methods: stripVerticalComponent vs demoteTo2D
The implementations are different. But, is there any practical difference
in the result?
(Except that demoteTo2D is looking in the database in case there is an
equivalent definition there to assign an id, and that you can change the
name)

Thanks.
.___ ._ ..._ .. . ._.  .___ .. __ . _. . __..  ... .... ._ .__
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20240426/07ce0adf/attachment-0001.htm>

From even.rouault at spatialys.com  Fri Apr 26 08:02:14 2024
From: even.rouault at spatialys.com (Even Rouault)
Date: Fri, 26 Apr 2024 17:02:14 +0200
Subject: [PROJ] stripVerticalComponent vs demoteTo2D
In-Reply-To: <CADRrdKvMQZTyLXCx5CRms4jbhP3rqeoZ1Ak_3srcj4JhMur7Gw@mail.gmail.com>
References: <CADRrdKvMQZTyLXCx5CRms4jbhP3rqeoZ1Ak_3srcj4JhMur7Gw@mail.gmail.com>
Message-ID: <ee3ef852-cb8d-49c6-85b5-e2a5c61c2be3@spatialys.com>

Javier,

Embarrassingly, probably just the result of me having forgotten 
stripVerticalComponent() existed when demoteTo2D() was needed. I've just 
issued https://github.com/OSGeo/PROJ/pull/4127 
"CRS::stripVerticalComponent(): Redirect it to demoteTo2D(std::string(), 
nullptr)"

Even

Le 26/04/2024 ? 16:28, Javier Jimenez Shaw via PROJ a ?crit?:
> Hi
>
> In the class CRS I see two methods: stripVerticalComponent vs demoteTo2D
> The implementations are different. But, is there any practical 
> difference in the result?
> (Except that demoteTo2D is looking in the database in case there is an 
> equivalent definition there to assign an id, and that you can change 
> the name)
>
> Thanks.
> .___ ._ ..._ .. . ._.? .___ .. __ . _. . __..? ... .... ._ .__
>
> _______________________________________________
> PROJ mailing list
> PROJ at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/proj

-- 
http://www.spatialys.com
My software is free, but my time generally not.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20240426/ff56a4c9/attachment.htm>

