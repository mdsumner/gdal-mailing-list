From cech.karel at gmail.com  Mon Dec  4 04:20:37 2006
From: cech.karel at gmail.com (karel cech)
Date: Mon, 4 Dec 2006 13:20:37 +0100
Subject: [Proj] UTM ED50 to ETRS89 datum shift problem
Message-ID: <f651020d0612040420t3a886ebehb0c48980498b3549@mail.gmail.com>

Hi list,
I have a problem with changing datum with cs2cs using 7 parameter
shift from ED50/UTM30 to ETRS89. The result differs a lot from
transformation results made by Carthographic Institute of Valencia
(they work with ESRI and ERMapper)
My test point has following coordinates (ED50/UTM30, EPSG:23030)
720931.9
4376574.85
What I would like to obtain is aproximatly this (ETRS89, EPSG:25830):
720821.51
4376365.31
However, cs2cs gives me
720748.93
4376357.47

The 7 parameters are defined by spanish institutions.

The debug output from cs2cs (proj 4.4.9.):

cs2cs -v +proj=utm +zone=30 +ellps=intl
+towgs84=-131.0320,-100.2510,-163.3540,1.2438,0.0195,1.1436,9.3900
+units=m +to +proj=utm +ellps=GRS80 +zone=30 +units=m -r <<EOF
> 720931.9
> 4376574.85
> EOF
pj_open_lib(proj_def.dat): call
fopen(/usr/local/proj4/share/proj/proj_def.dat) - succeeded
pj_open_lib(proj_def.dat): call
fopen(/usr/local/proj4/share/proj/proj_def.dat) - succeeded
# ---- From Coordinate System ----
#Universal Transverse Mercator (UTM)
#       Cyl, Sph
#       zone= south
# +proj=utm +zone=30 +ellps=intl
# +towgs84=-131.0320,-100.2510,-163.3540,1.2438,0.0195,1.1436,9.3900
# +units=m
# ---- To Coordinate System ----
#Universal Transverse Mercator (UTM)
#       Cyl, Sph
#       zone= south
# +proj=utm +ellps=GRS80 +zone=30 +units=m
-67.69  720748.93 175.19
-102.91 4376357.47 82.19

I am sure have missed something or misunderstood proj. For, example,
according to manual, using 7parameters shift provides the option
+towgs84, but, I don't output to wgs84.. Do you use +towgs84 in similar tasks?

Thank's in advance for any ideas,
Karel


From jagoncal at fc.up.pt  Mon Dec  4 07:43:44 2006
From: jagoncal at fc.up.pt (=?ISO-8859-1?Q?Jos=E9_Alberto_Gon=E7alves?=)
Date: Mon, 04 Dec 2006 15:43:44 +0000
Subject: [Proj] UTM ED50 to ETRS89 datum shift problem
In-Reply-To: <f651020d0612040420t3a886ebehb0c48980498b3549@mail.gmail.com>
References: <f651020d0612040420t3a886ebehb0c48980498b3549@mail.gmail.com>
Message-ID: <45744230.8030204@fc.up.pt>

It seems that your input is not correct. You must input one point per 
line, with x and y separated by space or tab.
I didn't check the command line.

Jose' Gonçalves




karel cech wrote:

> Hi list,
> I have a problem with changing datum with cs2cs using 7 parameter
> shift from ED50/UTM30 to ETRS89. The result differs a lot from
> transformation results made by Carthographic Institute of Valencia
> (they work with ESRI and ERMapper)
> My test point has following coordinates (ED50/UTM30, EPSG:23030)
> 720931.9
> 4376574.85
> What I would like to obtain is aproximatly this (ETRS89, EPSG:25830):
> 720821.51
> 4376365.31
> However, cs2cs gives me
> 720748.93
> 4376357.47
>
> The 7 parameters are defined by spanish institutions.
>
> The debug output from cs2cs (proj 4.4.9.):
>
> cs2cs -v +proj=utm +zone=30 +ellps=intl
> +towgs84=-131.0320,-100.2510,-163.3540,1.2438,0.0195,1.1436,9.3900
> +units=m +to +proj=utm +ellps=GRS80 +zone=30 +units=m -r <<EOF
>
>> 720931.9
>> 4376574.85
>> EOF
>
> pj_open_lib(proj_def.dat): call
> fopen(/usr/local/proj4/share/proj/proj_def.dat) - succeeded
> pj_open_lib(proj_def.dat): call
> fopen(/usr/local/proj4/share/proj/proj_def.dat) - succeeded
> # ---- From Coordinate System ----
> #Universal Transverse Mercator (UTM)
> #       Cyl, Sph
> #       zone= south
> # +proj=utm +zone=30 +ellps=intl
> # +towgs84=-131.0320,-100.2510,-163.3540,1.2438,0.0195,1.1436,9.3900
> # +units=m
> # ---- To Coordinate System ----
> #Universal Transverse Mercator (UTM)
> #       Cyl, Sph
> #       zone= south
> # +proj=utm +ellps=GRS80 +zone=30 +units=m
> -67.69  720748.93 175.19
> -102.91 4376357.47 82.19
>
> I am sure have missed something or misunderstood proj. For, example,
> according to manual, using 7parameters shift provides the option
> +towgs84, but, I don't output to wgs84.. Do you use +towgs84 in 
> similar tasks?
>
> Thank's in advance for any ideas,
> Karel
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj




From cech.karel at gmail.com  Mon Dec  4 09:32:34 2006
From: cech.karel at gmail.com (karel cech)
Date: Mon, 4 Dec 2006 18:32:34 +0100
Subject: [Proj] UTM ED50 to ETRS89 datum shift problem
In-Reply-To: <45744230.8030204@fc.up.pt>
References: <f651020d0612040420t3a886ebehb0c48980498b3549@mail.gmail.com>
	<45744230.8030204@fc.up.pt>
Message-ID: <f651020d0612040932r590741edxaa9256730f74255d@mail.gmail.com>

Jose,
thanks a lot, what a mistake...
Now I have only 5m error in northing and 2m in easting which is OK for
my purpose I think.
720827.53 4376363.70

On 12/4/06, José Alberto Gonçalves <jagoncal at fc.up.pt> wrote:
> It seems that your input is not correct. You must input one point per
> line, with x and y separated by space or tab.
> I didn't check the command line.
>
> Jose' Gonçalves
>
>
>
>
> karel cech wrote:
>
> > Hi list,
> > I have a problem with changing datum with cs2cs using 7 parameter
> > shift from ED50/UTM30 to ETRS89. The result differs a lot from
> > transformation results made by Carthographic Institute of Valencia
> > (they work with ESRI and ERMapper)
> > My test point has following coordinates (ED50/UTM30, EPSG:23030)
> > 720931.9
> > 4376574.85
> > What I would like to obtain is aproximatly this (ETRS89, EPSG:25830):
> > 720821.51
> > 4376365.31
> > However, cs2cs gives me
> > 720748.93
> > 4376357.47
> >
> > The 7 parameters are defined by spanish institutions.
> >
> > The debug output from cs2cs (proj 4.4.9.):
> >
> > cs2cs -v +proj=utm +zone=30 +ellps=intl
> > +towgs84=-131.0320,-100.2510,-163.3540,1.2438,0.0195,1.1436,9.3900
> > +units=m +to +proj=utm +ellps=GRS80 +zone=30 +units=m -r <<EOF
> >
> >> 720931.9
> >> 4376574.85
> >> EOF
> >
> > pj_open_lib(proj_def.dat): call
> > fopen(/usr/local/proj4/share/proj/proj_def.dat) - succeeded
> > pj_open_lib(proj_def.dat): call
> > fopen(/usr/local/proj4/share/proj/proj_def.dat) - succeeded
> > # ---- From Coordinate System ----
> > #Universal Transverse Mercator (UTM)
> > #       Cyl, Sph
> > #       zone= south
> > # +proj=utm +zone=30 +ellps=intl
> > # +towgs84=-131.0320,-100.2510,-163.3540,1.2438,0.0195,1.1436,9.3900
> > # +units=m
> > # ---- To Coordinate System ----
> > #Universal Transverse Mercator (UTM)
> > #       Cyl, Sph
> > #       zone= south
> > # +proj=utm +ellps=GRS80 +zone=30 +units=m
> > -67.69  720748.93 175.19
> > -102.91 4376357.47 82.19
> >
> > I am sure have missed something or misunderstood proj. For, example,
> > according to manual, using 7parameters shift provides the option
> > +towgs84, but, I don't output to wgs84.. Do you use +towgs84 in
> > similar tasks?
> >
> > Thank's in advance for any ideas,
> > Karel
> > _______________________________________________
> > Proj mailing list
> > Proj at lists.maptools.org
> > http://lists.maptools.org/mailman/listinfo/proj
>
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
>



From ovv at hetnet.nl  Mon Dec  4 14:14:28 2006
From: ovv at hetnet.nl (Oscar van Vlijmen)
Date: Mon, 04 Dec 2006 23:14:28 +0100
Subject: [Proj] UTM ED50 to ETRS89 datum shift problem
In-Reply-To: <f651020d0612040420t3a886ebehb0c48980498b3549@mail.gmail.com>
Message-ID: <C19A5C54.8FAA%ovv@hetnet.nl>

> From: "karel cech"
> Date: Mon, 4 Dec 2006 13:20:37 +0100
> Subject: [Proj] UTM ED50 to ETRS89 datum shift problem
> 
> Hi list,
> I have a problem with changing datum with cs2cs using 7 parameter
> shift from ED50/UTM30 to ETRS89. The result differs a lot from
> transformation results made by Carthographic Institute of Valencia
> (they work with ESRI and ERMapper)
> My test point has following coordinates (ED50/UTM30, EPSG:23030)
> 720931.9
> 4376574.85
> What I would like to obtain is aproximatly this (ETRS89, EPSG:25830):
> 720821.51
> 4376365.31
> However, cs2cs gives me
> 720748.93
> 4376357.47
> 
> The 7 parameters are defined by spanish institutions.
> 
> The debug output from cs2cs (proj 4.4.9.):
> 
> cs2cs -v +proj=utm +zone=30 +ellps=intl
> +towgs84=-131.0320,-100.2510,-163.3540,1.2438,0.0195,1.1436,9.3900
> +units=m +to +proj=utm +ellps=GRS80 +zone=30 +units=m -r <<EOF

....

It is possible that your transformation parameters were for the coordinate
frame rotation model. If I negate the rotation angles to force them to
position vector rotations, I get with my stuff:
x=720821.512; y=4376365.309
which seems to be spot on.
So, try:
+towgs84=-131.0320,-100.2510,-163.3540,-1.2438,-0.0195,-1.1436,9.3900




From cech.karel at gmail.com  Tue Dec  5 02:38:05 2006
From: cech.karel at gmail.com (karel cech)
Date: Tue, 5 Dec 2006 11:38:05 +0100
Subject: [Proj] UTM ED50 to ETRS89 datum shift problem
In-Reply-To: <C19A5C54.8FAA%ovv@hetnet.nl>
References: <f651020d0612040420t3a886ebehb0c48980498b3549@mail.gmail.com>
	<C19A5C54.8FAA%ovv@hetnet.nl>
Message-ID: <f651020d0612050238i38b014d6rf9d648edf6e400c2@mail.gmail.com>

On 12/4/06, Oscar van Vlijmen <ovv at hetnet.nl> wrote:
> > From: "karel cech"
> > Date: Mon, 4 Dec 2006 13:20:37 +0100
> > Subject: [Proj] UTM ED50 to ETRS89 datum shift problem
> >
> > Hi list,
> > I have a problem with changing datum with cs2cs using 7 parameter
> > shift from ED50/UTM30 to ETRS89. The result differs a lot from
> > transformation results made by Carthographic Institute of Valencia
> > (they work with ESRI and ERMapper)
> > My test point has following coordinates (ED50/UTM30, EPSG:23030)
> > 720931.9
> > 4376574.85
> > What I would like to obtain is aproximatly this (ETRS89, EPSG:25830):
> > 720821.51
> > 4376365.31
> > However, cs2cs gives me
> > 720748.93
> > 4376357.47
> >
> > The 7 parameters are defined by spanish institutions.
> >
> > The debug output from cs2cs (proj 4.4.9.):
> >
> > cs2cs -v +proj=utm +zone=30 +ellps=intl
> > +towgs84=-131.0320,-100.2510,-163.3540,1.2438,0.0195,1.1436,9.3900
> > +units=m +to +proj=utm +ellps=GRS80 +zone=30 +units=m -r <<EOF
>
> ....
>
> It is possible that your transformation parameters were for the coordinate
> frame rotation model. If I negate the rotation angles to force them to
> position vector rotations, I get with my stuff:
> x=720821.512; y=4376365.309
> which seems to be spot on.
> So, try:
> +towgs84=-131.0320,-100.2510,-163.3540,-1.2438,-0.0195,-1.1436,9.3900
>

Definitely.
Thanks Oscar and Jose,
Best Regards, Karel


From sena at hurd.homeunix.org  Tue Dec  5 04:00:36 2006
From: sena at hurd.homeunix.org (Sergey Spiridonov)
Date: Tue, 05 Dec 2006 13:00:36 +0100
Subject: [Proj] patch: move geod functions to proj library and create API to
 use it
Message-ID: <45755F64.3070700@hurd.homeunix.org>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hi,

Patch in attachment can be applied to proj-4.5.0. To apply the patch:

tar xzf proj-4.5.0.tgz
cd proj-4.5.0
patch -p1 <../proj-4.5.0-geod_api.patch

Following functions were added:


GEODESIC_T *GEOD_init(int, char **, GEODESIC_T *geodesic);
GEODESIC_T *GEOD_init_plus(const char *args, GEODESIC_T *geodesic);

They work the same way as proj_init and proj_init_plus, except that they
accept additional parameter GEODESIC_T *geodesic.

If geodesic is 0, memory for GEODESIC_T will be allocated and pointer to
allocated memory will be returned.

Functions geodetic_for, geod_inv, geod_pre are changed to accept pointer
to the GEODESIC_T. All global variables are moved to this structure.


Functions geod_for, geod_inv, geod_pre become members of the proj library.

I also include changes to Makefile.in, but may be it is better to
regenerate it again (or even exclude from distribution as it is
generated file).

Following 2 functions are not included into the patch, they just make
usage of the geod functions convinient.


void
geod_fwd(GEODESIC_T *GEODESIC, double lon1, double lat1, double S,
double az, double *lon2, double *lat2)
 {
   GEODESIC->p1.u = lat1;
   GEODESIC->p1.v = lon1;

   al12 = az;
   GEODESIC->DIST = S; //* GEODESIC->FR_METER;
   geod_pre(GEODESIC);
   geod_for(GEODESIC);

   *lat2 = GEODESIC->p2.u;
   *lon2 = GEODESIC->p2.v;
 }


int
geod_rev(GEODESIC_T *GEODESIC, double lon1, double lat1, double lon2,
double lat2, double *S, double *az)
{
   GEODESIC->p1.u = lat1;
   GEODESIC->p1.v = lon1;
   GEODESIC->p2.u = lat2;
   GEODESIC->p2.v = lon2;
   int ret = geod_inv(GEODESIC);

   if(al12 < 0)
   {
     al12 += TWOPI;
   }
   *az = al12;
   *S = GEODESIC->DIST; // * GEODESIC->TO_METER;
   return ret;
}

Hope it will be useful.
- --
Best regards, Sergey Spiridonov

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.5 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFFdV9kJ3NEeIx4r3YRAl2CAKCCDk8Zou1HxDk16fGeO0Hr9o5TzACeL9MI
GYsiBHY5okHWoD/7v1BZhpc=
=R1ND
-----END PGP SIGNATURE-----
-------------- next part --------------
A non-text attachment was scrubbed...
Name: proj-4.5.0-geod_api.patch
Type: text/x-patch
Size: 25746 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20061205/22d4c252/attachment.bin>

From Mikael.Rittri at carmenta.se  Tue Dec  5 04:53:22 2006
From: Mikael.Rittri at carmenta.se (Mikael Rittri)
Date: Tue, 5 Dec 2006 13:53:22 +0100
Subject: [Proj] Insignificant difference between Swiss and Hungarian Oblique
	Mercator?
Message-ID: <FAF6E56B26D2044696772EBE89B153513351F3@posty.carmenta.se>

Hello,
I think I have implemented the Hungary EOV projection, which is a
generalization
of the Swiss Oblique Mercator (+proj=somerc).  In the Hungarian version,
you
can specify a normal parallel, distinct from the central one.  The
_normal_ 
parallel gives the center of the first step of the double projection
(ellipsoid -> sphere), while the _central_ parallel gives the center 
of the second step (sphere -> oblique cylinder).  

I've modified the code of the PROJ.4 somerc, to cover the Hungarian
usage as well, but I am rather surprised: the effect of having 
normal parallel != central parallel is about 0.01 millimeters.  

Yet, to quote Molnar and Timar,
http://www.fomi.hu/honlap/magyar/szaklap/2002/03/mar3.pdf ,
"its normal parallel slightly but intentionally differs ..." [from the
central one].

But I cannot understand the intention, if the difference in projected
coordinates 
is so small.  (And I don't read Hungarian; only the abstract is in
English).

I've read on this list that PROJ.4 users do use +proj=somerc for
Hungary,
but I thought the approximation would be worse.  Just to rule out the 
possibility that I have made a silly mistake: could anyone confirm that
the approximation error is about 0.01 millimeters?

Best regards,
  --  Mikael Rittri 

Hungary EOV specification: http://lazarus.elte.hu/gb/geodez/geodind.htm
(chapter 2 and 9).

My test points used the projected coordinates roughly in the four
corners of 
Hungary, which I unprojected with and without the distinct normal
parallel.
The differences were:
Easting Northing   Difference 
400000, 0        -> 0.01350 mm
400000, 400000   -> 0.01399 mm
900000, 0        -> 0.01350 mm 
900000, 400000   -> 0.01399 mm



From warmerdam at pobox.com  Tue Dec  5 09:17:28 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue, 05 Dec 2006 12:17:28 -0500
Subject: [Proj] patch: move geod functions to proj library and create
	API to use it
In-Reply-To: <45755F64.3070700@hurd.homeunix.org>
References: <45755F64.3070700@hurd.homeunix.org>
Message-ID: <4575A9A8.4010904@pobox.com>

Sergey Spiridonov wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
> 
> Hi,
> 
> Patch in attachment can be applied to proj-4.5.0. To apply the patch:

Sergey,

I'm interested in applying this change, but I'd appreciate if you could
file the patch and description in bugzilla so it will be available when
I get to this issue.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org



From sena at hurd.homeunix.org  Tue Dec  5 08:52:21 2006
From: sena at hurd.homeunix.org (Sergey Spiridonov)
Date: Tue, 05 Dec 2006 17:52:21 +0100
Subject: [Proj] Re: patch: move geod functions to proj library and create
 API to use it
In-Reply-To: <4575A9A8.4010904@pobox.com>
References: <45755F64.3070700@hurd.homeunix.org> <4575A9A8.4010904@pobox.com>
Message-ID: <el4845$tgn$1@sea.gmane.org>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hi, Frank

Frank Warmerdam wrote:

> I'm interested in applying this change, but I'd appreciate if you could
> file the patch and description in bugzilla so it will be available when
> I get to this issue.

http://bugzilla.remotesensing.org/show_bug.cgi?id=1378

- --
Best regards, Sergey Spiridonov
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.5 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD4DBQFFdaPFJ3NEeIx4r3YRAvWfAJiF0NCbuGXxL17cXLeA+h3zI79GAKCAmCI8
OA7FFjwBdreHb670ET3kCw==
=79vg
-----END PGP SIGNATURE-----



From ovv at hetnet.nl  Wed Dec  6 05:00:09 2006
From: ovv at hetnet.nl (Oscar van Vlijmen)
Date: Wed, 06 Dec 2006 14:00:09 +0100
Subject: [Proj] Insignificant difference between Swiss and Hungarian
	Oblique Mercator?
Message-ID: <C19C7D69.9034%ovv@hetnet.nl>

I didn't receive Mikael Rittri's message with the subject:
  [Proj] Insignificant difference between Swiss and
  Hungarian Oblique Mercator?
dated 2006-12-05
But I found it lurking in the archives. Of course, I could have accidentally
deleted the received message myself. In case others have missed it too: the
complete message is copied below.

As for the Hungarian EOV projection: I haven't seen any official test points
yet, so it is not clear if what I am doing is correct.
But the near-official formulae from the Department of Cartography and
Geoinformatics, Eötvös University, Budapest
<http://lazarus.elte.hu/gb/geodez/geodind.htm>
give for a
lat = 48; lon = 22;
an "x", "y" of:
299283.5538, 870209.6285 m

Monár Gábor & Timár Gábor give in an article to be found at:
<http://www.fomi.hu/internet/magyar/szaklap/2002/03/mar3.pdf>
an approximation for EOV with an oblique Mercator.
If I understand the parameters correctly:
ellipsoid: GRS67
lat0 = "47d 08m 39.8174s"; lonc = "19d 02m 54.8584s";
alfac = 90; gamma = 90;
k0 = 0.99993; x0 = -9370549.28432; y0 = 200000.00114;
set no_offset flag
omerc(lat,lon,lat0,lonc,alfac,gamma,k0,x0,y0);
Result: x = 870209.5387; y = 299283.5505 m
This differs by 9.0 cm and 3.3 mm with the correct values.
The authors state however that in the horizontal direction this
approximation is better than 0.17 mm.
Probably I didn't interpret the parameters correctly?

Another approximation with the Swiss omerc projection, where mr. Rittri
refers to, has never been discussed on the maptools list, but on the
r-sig-geo list.
<http://www.mail-archive.com/r-sig-geo at stat.math.ethz.ch/msg00600.html>
and <.../msg00601.html>
In my understanding the parameters are:
ellipsoid: GRS67
lat0 = 47.14439372222222; lon0 = 19.04857177777778;
x0 = 650000; y0 = 200000; k0 = 0.99993;
somerc(lat,lon,lat0,lon0,x0,y0,k0);
Result: x = 870209.6286; y = 299283.5528 m
Differences with the Hungarian values: 1.0 mm, 0.1 mm.

By the way, the PROJ.4 epsg init #23700 is WRONG, because k0 is not given.

By the road: somerc doesn't use an alpha as external parameter.


Possible conclusions:
* Don't use PROJ.4 epsg init #23700.
* The omerc approximation from Gábor is either too coarse or not easily
understandable.
* The somerc approximation as published seems very good, but probably not
within 0.014 mm as mr. Rittri seems to indicate.



ORIGINAL MESSAGE:

Mikael Rittri Mikael.Rittri at carmenta.se
Tue Dec 5 07:53:22 EST 2006

Hello,
I think I have implemented the Hungary EOV projection, which is a
generalization
of the Swiss Oblique Mercator (+proj=somerc).  In the Hungarian version,
you
can specify a normal parallel, distinct from the central one.  The
_normal_ 
parallel gives the center of the first step of the double projection
(ellipsoid -> sphere), while the _central_ parallel gives the center
of the second step (sphere -> oblique cylinder).

I've modified the code of the PROJ.4 somerc, to cover the Hungarian
usage as well, but I am rather surprised: the effect of having
normal parallel != central parallel is about 0.01 millimeters.

Yet, to quote Molnar and Timar,
http://www.fomi.hu/honlap/magyar/szaklap/2002/03/mar3.pdf ,
"its normal parallel slightly but intentionally differs ..." [from the
central one].

But I cannot understand the intention, if the difference in projected
coordinates 
is so small.  (And I don't read Hungarian; only the abstract is in
English).

I've read on this list that PROJ.4 users do use +proj=somerc for
Hungary,
but I thought the approximation would be worse.  Just to rule out the
possibility that I have made a silly mistake: could anyone confirm that
the approximation error is about 0.01 millimeters?

Best regards,
  --  Mikael Rittri

Hungary EOV specification: http://lazarus.elte.hu/gb/geodez/geodind.htm
(chapter 2 and 9).

My test points used the projected coordinates roughly in the four
corners of 
Hungary, which I unprojected with and without the distinct normal
parallel.
The differences were:
Easting Northing   Difference
400000, 0        -> 0.01350 mm
400000, 400000   -> 0.01399 mm
900000, 0        -> 0.01350 mm
900000, 400000   -> 0.01399 mm





From haristeas at gmail.com  Wed Dec  6 13:44:19 2006
From: haristeas at gmail.com (Andreas T)
Date: Wed, 6 Dec 2006 23:44:19 +0200
Subject: [Proj] GGRS87 TO WGS84 PROBLEM(?)
Message-ID: <cefb8cd70612061344y1b0e08r50049f2a0a5c3813@mail.gmail.com>

Hi all,

I have trouble trying to reproject a point from greek grid to WGS84.

I use as my starting coordinate system the standard greek grid system
(GGRS87). As found on the web page
http://cvs.gis.umn.edu/cgi-bin/viewcvs/mapserver_docs/proj.html?rev=1.2#GGRS87%20/%20Greek%20Grid
the parameters of this system are:
    proj=tmerc
    lat_0=0.000000000
    lon_0=24.000000000
    k=0.999600
    x_0=500000.000
    y_0=0.000
    ellps=GRS80
    towgs84=-199.87,74.79,246.62,0,0,0,0
    units=m
    no_defs
Here, I will inform that the greek system has its borders on
Xmin = 80000
Xmax = 1050000
Ymin = 3760000
Ymax = 4660000

Supposing that these params are official and accepted enough, I step over to
the tranformation from this system (GGRS87) to WGS84. To do the
tranformation I use phpMapscript and its projectionobj.
 So we have the following code:

[CODE]
// Projections declaration
$projInObj=ms_newprojectionobj ("proj=tmerc,ellps=GRS80,towgs84=-199.87,
74.79,246.62,0,0,0,0,units=m,lon_0=24,k=0.9996,x_0=500000,no_defs")
$projOutObj=ms_newprojectionobj("proj=latlong,ellps=WGS84,DATUM=WGS84,no_defs");

// Shape to be reprojected
$myshape = ms_newpointobj();
$myshape->setXY(552000, 4098077);

// Some code to confirm initial values
print_r($myshape);
echo "<p />";

$myshape->project($projInObj, $projOutObj);

// Code to get the final values
print_r($myshape);
[/CODE]

The expected result (according to very reliable software like ArcGIS and
others...) is:
lon=24,351076881,lat=37,014812887
Though! the result that I get from mapscript is:
lon=24.585568772,lat=37.028433901

Again it seems to a small difference but the truth is that we have to deal
with a very large difference on the results!

I did test the tranformation with different values. I provide some triads of
input and output:
<triad 1>
Input:                X=100000, Y=4000000
Expected:         lon:19,334046546,lat:36,035407643
mapscript gave: lon:19.560466687 lat:36.063361179
</triad 1>

<triad 2>
Input:                X=400000, Y=4200000
Expected:         lon:22,514890564,lat:37,564089629
mapscript gave: lon:22.862809496,lat:37.943105553
</triad 2>

<triad 3>
Input:                X=700000, Y=4400000
Expected:         lon:26,200754084,lat:39,434436875
mapscript gave: lon:26.334654875,lat:39.727476986
</triad 3>

<triad 4>
Input:                X=1000000, Y=4600000
Expected:         lon:29,585420281,lat:41,235432698
mapscript gave: lon:29.980956617,lat:41.396983529
</triad 4>

I can't relize any systematic error. The only thing that can mention by a
first look is that I get bad results. So, I ask: Do I do something wrong or
are there any limitations on the PROJ or the mapscript that I don't know?

Thanks on advance

Andreas Trantidis
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20061206/cdd67af9/attachment.html>

From roger.loweth at gmail.com  Wed Dec  6 20:46:29 2006
From: roger.loweth at gmail.com (Roger Loweth)
Date: Thu, 7 Dec 2006 13:46:29 +0900
Subject: [Proj] Proj.4 and MSys
Message-ID: <a5c7268d0612062046v293a7308u621bd9f8d4314a89@mail.gmail.com>

Hi,
I am trying to use proj.4 inside the rxvt terminal that comes with MSys.
I compiled proj.4 under MinGW/MSys and it compiled cleanly.
When I run the proj.4 programs, I can run (for example) cs2cs -ld OK.
If I run (for example) cs2cs +init=epsg:4326 +to +init=epsg:4203
and then enter a pair of coordinates in stdin I get no response.
Has anyone else come across this?
It all works OK in cmd.exe - is this a problem with rxvt perhaps?

Thanks, Roger

E  roger.loweth at gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20061207/524edfe0/attachment.html>

From Mikael.Rittri at carmenta.se  Fri Dec  8 01:11:56 2006
From: Mikael.Rittri at carmenta.se (Mikael Rittri)
Date: Fri, 8 Dec 2006 10:11:56 +0100
Subject: [Proj] Insignificant difference between Swiss and
	HungarianOblique Mercator?
In-Reply-To: <C19C7D69.9034%ovv@hetnet.nl>
Message-ID: <FAF6E56B26D2044696772EBE89B153513F6CBB@posty.carmenta.se>

Many thanks for noticing my letter, and replying.  I think I didn't receive my letter from the list, either.  Strange.

I don't have much to add to your conclusions, but just for the record, I tried your test point with my implementation.  What I have done is to extend somerc with a lat_normal, which may differ from lat_0.  If I do not use lat_normal, it will default to lat_0, and I can reproduce your results for somerc:
        x = 870209.628639 m; y = 299283.552765 m
When I set lat_normal to 47.166666666666666667, to emulate Hungary EOV, I get 
        x = 870209.628632 m; y = 299283.552768 m
with 
        dx = 0.0065 mm; dy = 0.0028 mm (difference from somerc).  
but 
        dx = 0.1 mm; dy = 1.0 mm (difference from Oscar van Vlijmen's test result). 

Possibly, my code is _mathematically_ equivalent to the Hungary EOV, but not _numerically_, for some reason.  Oh well, it is nice know that the error is small.  On the other hand, my extension of somerc with lat_normal does not improve anything. 

  Best regards,
     Mikael 

-----Original Message-----
From: proj-bounces at lists.maptools.org [mailto:proj-bounces at lists.maptools.org] On Behalf Of Oscar van Vlijmen
Sent: den 6 december 2006 14:00
To: PROJ list maptools
Subject: Re: [Proj] Insignificant difference between Swiss and HungarianOblique Mercator?

I didn't receive Mikael Rittri's message with the subject:
  [Proj] Insignificant difference between Swiss and
  Hungarian Oblique Mercator?
dated 2006-12-05
But I found it lurking in the archives. Of course, I could have accidentally deleted the received message myself. In case others have missed it too: the complete message is copied below.

As for the Hungarian EOV projection: I haven't seen any official test points yet, so it is not clear if what I am doing is correct.
But the near-official formulae from the Department of Cartography and Geoinformatics, Eötvös University, Budapest <http://lazarus.elte.hu/gb/geodez/geodind.htm>
give for a
lat = 48; lon = 22;
an "x", "y" of:
299283.5538, 870209.6285 m

Monár Gábor & Timár Gábor give in an article to be found at:
<http://www.fomi.hu/internet/magyar/szaklap/2002/03/mar3.pdf>
an approximation for EOV with an oblique Mercator.
If I understand the parameters correctly:
ellipsoid: GRS67
lat0 = "47d 08m 39.8174s"; lonc = "19d 02m 54.8584s"; alfac = 90; gamma = 90; k0 = 0.99993; x0 = -9370549.28432; y0 = 200000.00114; set no_offset flag omerc(lat,lon,lat0,lonc,alfac,gamma,k0,x0,y0);
Result: x = 870209.5387; y = 299283.5505 m This differs by 9.0 cm and 3.3 mm with the correct values.
The authors state however that in the horizontal direction this approximation is better than 0.17 mm.
Probably I didn't interpret the parameters correctly?

Another approximation with the Swiss omerc projection, where mr. Rittri refers to, has never been discussed on the maptools list, but on the r-sig-geo list.
<http://www.mail-archive.com/r-sig-geo at stat.math.ethz.ch/msg00600.html>
and <.../msg00601.html>
In my understanding the parameters are:
ellipsoid: GRS67
lat0 = 47.14439372222222; lon0 = 19.04857177777778; x0 = 650000; y0 = 200000; k0 = 0.99993; somerc(lat,lon,lat0,lon0,x0,y0,k0);
Result: x = 870209.6286; y = 299283.5528 m Differences with the Hungarian values: 1.0 mm, 0.1 mm.

By the way, the PROJ.4 epsg init #23700 is WRONG, because k0 is not given.

By the road: somerc doesn't use an alpha as external parameter.


Possible conclusions:
* Don't use PROJ.4 epsg init #23700.
* The omerc approximation from Gábor is either too coarse or not easily understandable.
* The somerc approximation as published seems very good, but probably not within 0.014 mm as mr. Rittri seems to indicate.

ORIGINAL MESSAGE:
[--- removed by Mikael ---]
_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj



From ovv at hetnet.nl  Fri Dec  8 02:28:13 2006
From: ovv at hetnet.nl (Oscar van Vlijmen)
Date: Fri, 08 Dec 2006 11:28:13 +0100
Subject: [Proj] GGRS87 TO WGS84 PROBLEM(?)
In-Reply-To: <cefb8cd70612061344y1b0e08r50049f2a0a5c3813@mail.gmail.com>
Message-ID: <C19EFCCD.90DD%ovv@hetnet.nl>

From: "Andreas T"
Date: Wed, 6 Dec 2006 23:44:19 +0200
Subject: [Proj] GGRS87 TO WGS84 PROBLEM(?)

> I have trouble trying to reproject a point from greek grid to WGS84.
> ....

> Supposing that these params are official and accepted enough,
> ....
I can't find better ones at the moment, so one might assume they're correct.

> ....
> [CODE]
> // Projections declaration
> $projInObj=ms_newprojectionobj
> ("proj=tmerc,ellps=GRS80,towgs84=-199.87,74.79,246.62,0,0,0,0,units=m,
> lon_0=24,k=0.9996,x_0=500000,no_defs")
> $projOutObj=ms_newprojectionobj(
> "proj=latlong,ellps=WGS84,DATUM=WGS84,no_defs");
> // Shape to be reprojected
> $myshape = ms_newpointobj();
> $myshape->setXY(552000, 4098077);
> ...
> The expected result (according to very reliable software like ArcGIS and
> others...) is:
> lon=24,351076881,lat=37,014812887
> Though! the result that I get from mapscript is:
> lon=24.585568772,lat=37.028433901

>...
> I can't relize any systematic error.
>...

This is a tough problem indeed! I have no clue.
Going from x, y = 552000, 4098077 through Transverse Mercator in the GGRS87
system should produce lat, lon = 37.027448, 24.584634 deg. A geocentric
shift as mentioned should produce lat, lon = 37.030039, 24.586333.
The ArcGIS values seem very unlikely; on the GRS80 globe they are nearly 21
kilometers away from the regular TM values. Datumshifting from GRS80 to
WGS84 cannot result in such large differences; the ellipsoids are nearly the
same and the cartesian shifts are less than 250 meters.





From cjmce at lsu.edu  Fri Dec  8 08:20:32 2006
From: cjmce at lsu.edu (Clifford J Mugnier)
Date: Fri, 8 Dec 2006 10:20:32 -0600
Subject: [Proj] GGRS87 TO WGS84 PROBLEM(?)
Message-ID: <OFC1D1110F.7B1DC901-ON8625723E.0059C541-8625723E.0059C54F@lsu.edu>





Are you certain about the "FROM" coordinate system?  The Hatt Azimuthal
Equidistant used to be the common system used for Greece, and inadvertenly
using that system will indeed produce spurious results.

C. Mugnier
LOUISIANA STATE UNIVERSITY
---------------------------------
From: "Andreas T"
Date: Wed, 6 Dec 2006 23:44:19 +0200
Subject: [Proj] GGRS87 TO WGS84 PROBLEM(?)

> I have trouble trying to reproject a point from greek grid to WGS84.
> ....

> Supposing that these params are official and accepted enough,
> ....
I can't find better ones at the moment, so one might assume they're
correct.

> ....
> [CODE]
> // Projections declaration
> $projInObj=ms_newprojectionobj
> ("proj=tmerc,ellps=GRS80,towgs84=-199.87,74.79,246.62,0,0,0,0,units=m,
> lon_0=24,k=0.9996,x_0=500000,no_defs")
> $projOutObj=ms_newprojectionobj(
> "proj=latlong,ellps=WGS84,DATUM=WGS84,no_defs");
> // Shape to be reprojected
> $myshape = ms_newpointobj();
> $myshape->setXY(552000, 4098077);
> ...
> The expected result (according to very reliable software like ArcGIS and
> others...) is:
> lon=24,351076881,lat=37,014812887
> Though! the result that I get from mapscript is:
> lon=24.585568772,lat=37.028433901

>...
> I can't relize any systematic error.
>...

This is a tough problem indeed! I have no clue.
Going from x, y = 552000, 4098077 through Transverse Mercator in the GGRS87
system should produce lat, lon = 37.027448, 24.584634 deg. A geocentric
shift as mentioned should produce lat, lon = 37.030039, 24.586333.
The ArcGIS values seem very unlikely; on the GRS80 globe they are nearly 21
kilometers away from the regular TM values. Datumshifting from GRS80 to
WGS84 cannot result in such large differences; the ellipsoids are nearly
the
same and the cartesian shifts are less than 250 meters.



_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj



From gdt at ir.bbn.com  Sat Dec  9 17:37:30 2006
From: gdt at ir.bbn.com (Greg Troxel)
Date: Sat, 09 Dec 2006 20:37:30 -0500
Subject: [Proj] preferred documentation
Message-ID: <rmipsasil9h.fsf@fnord.ir.bbn.com>

I'm the maintainer of the pkgsrc entries for proj and associated
documentation.

Currently, misc/proj-docs packages the contents of
ftp://ftp.remotesensing.org/proj/proj-pdf-docs.tar.gz

The new documentation renders better, and is said to have the same
content.

So, I wonder if the 4 old files should be moved to old_docs, the new
ones promoted, and proj-pdf-docs-1.1.tar.gz created with the 4 new
files.  (I say 1.1 because pkgsrc has called the old file 1.0 for want
of a version number.)



From gdt at ir.bbn.com  Sat Dec  9 18:14:42 2006
From: gdt at ir.bbn.com (Greg Troxel)
Date: Sat, 09 Dec 2006 21:14:42 -0500
Subject: [Proj] datum shift files confusing
Message-ID: <rmi4ps47azx.fsf@fnord.ir.bbn.com>

The datum shift files in the ftp server are confusing.  The top page
says to use proj-datumgrid-1.3.zip, but doesn't point out that both

  proj-nad27-1.2.tar.gz
  proj-nadus-1.0.tar.gz

are superceded by proj-datumgrid-1.3.  This is particularly
unintuitive since .tar.gz changed to zip.

On inspection, I concluded that the diff from proj-nadus-10 to
proj-nad27-1.2 resulted in:
  addition of ntv1_can.dat
  addition of null.llv

Going from proj-nad27-1.2 to proj-datumgrid-1.3 resulted in:
  addition of nzgd2kgrid0005.gsb
  changing of README to clarify extent of provided files.

I think it would help to
  provide proj-datumgrid-1.3.tar.gz
  add in parens at end of description of datumgrids
  "(supercedes and extends proj-nadus and nad27)"

The FAQ refers to proj-nad27-1.1 still.

I've updated pkgsrc to use proj-datumgrid-1.3, but thought I'd share
what I figured out in case it's helpful to someone.


From warmerdam at pobox.com  Sat Dec  9 20:32:39 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sat, 09 Dec 2006 23:32:39 -0500
Subject: [Proj] datum shift files confusing
In-Reply-To: <rmi4ps47azx.fsf@fnord.ir.bbn.com>
References: <rmi4ps47azx.fsf@fnord.ir.bbn.com>
Message-ID: <457B8DE7.9020808@pobox.com>

Greg Troxel wrote:
> I think it would help to
>   provide proj-datumgrid-1.3.tar.gz
>   add in parens at end of description of datumgrids
>   "(supercedes and extends proj-nadus and nad27)"

Greg,

I'm not sure the point of referring to older versions of the
file on the index.html page, since it is unlikely that most folks
will ever see them if just fetching things from the index page links.

> The FAQ refers to proj-nad27-1.1 still.

I've updated this to refer to the latest file.

Thanks for the suggestions, even if I only acted on half of them.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org



From warmerdam at pobox.com  Sat Dec  9 20:45:08 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sat, 09 Dec 2006 23:45:08 -0500
Subject: [Proj] preferred documentation
In-Reply-To: <rmipsasil9h.fsf@fnord.ir.bbn.com>
References: <rmipsasil9h.fsf@fnord.ir.bbn.com>
Message-ID: <457B90D4.8040808@pobox.com>

Greg Troxel wrote:
> I'm the maintainer of the pkgsrc entries for proj and associated
> documentation.
> 
> Currently, misc/proj-docs packages the contents of
> ftp://ftp.remotesensing.org/proj/proj-pdf-docs.tar.gz
> 
> The new documentation renders better, and is said to have the same
> content.
> 
> So, I wonder if the 4 old files should be moved to old_docs, the new
> ones promoted, and proj-pdf-docs-1.1.tar.gz created with the 4 new
> files.  (I say 1.1 because pkgsrc has called the old file 1.0 for want
> of a version number.)

Greg,

I'm not sure now why I was differentiating between the "old" and "new"
pdf files.  I have blown away the old ones, and promoted the files from
the new_docs directory into the main directory.  I also blew away
proj-pdf-docs.tar.gz and created a proj-pdf-docs.zip with the new pdfs.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org



From gdt at ir.bbn.com  Sun Dec 10 06:09:17 2006
From: gdt at ir.bbn.com (Greg Troxel)
Date: Sun, 10 Dec 2006 09:09:17 -0500
Subject: [Proj] preferred documentation
In-Reply-To: <457B90D4.8040808@pobox.com> (Frank Warmerdam's message of "Sat\, 
	09 Dec 2006 23\:45\:08 -0500")
References: <rmipsasil9h.fsf@fnord.ir.bbn.com> <457B90D4.8040808@pobox.com>
Message-ID: <rmiodqb6dwy.fsf@fnord.ir.bbn.com>


Frank Warmerdam <warmerdam at pobox.com> writes:

> Greg Troxel wrote:
>> I'm the maintainer of the pkgsrc entries for proj and associated
>> documentation.
>>
>> So, I wonder if the 4 old files should be moved to old_docs, the new
>> ones promoted, and proj-pdf-docs-1.1.tar.gz created with the 4 new
>> files.  (I say 1.1 because pkgsrc has called the old file 1.0 for want
>> of a version number.)

> I'm not sure now why I was differentiating between the "old" and "new"
> pdf files.  I have blown away the old ones, and promoted the files from
> the new_docs directory into the main directory.  I also blew away
> proj-pdf-docs.tar.gz and created a proj-pdf-docs.zip with the new pdfs.

Getting rid of the old sounds just fine.

Could you rename the file to proj-pdf-docs-1.1.zip?  While I realize
many people who just download and read them don't care if there's a
version, packaging systems need a version number.  If you don't
provide one, they have to make one up, and then numbers will be
inconsistent across systems and could even go backwards if you ever
assign a number in the future.  Also, someone might reasonably expect
that proj-pdf-docs.zip is the same content as proj-pdf-docs.tar.gz,
just bundled differently, but that's not true.

I suggest 1.1 only because pkgsrc previously called the unnumbered
documentation 1.0.  Perhaps in the future there will be a merge/update
if someone finds enough Copious Spare Time.

Packaging systems are also sensitive to changing the contents of a
file without changing the version number; they typically record hashes
of files and have local caching of fetched "distfiles".

It would be nice to have a proj-pdf-docs-1.1.tar.gz, too, to avoid
forcing unzip as a dependency.  I realize that you wish to provide a
zip so that Windows users won't have to be able to deal with tar and
gzip, and with docs in .tar.gz also they'd match the sources.

Sorry if I'm seeming difficult -- as a packaging system maintainer
I've found that these seemingly minor points make a difference in both
the amount of effort and the quality of result over time.

Thanks for your work maintaining the distribution; I recently used
proj to convert from WGS84 to Massachusetts state place (NAD1983) for
plotting tracks on MassGIS orthophotos.

    Thanks,
    Greg

-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 185 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20061210/66fd94f5/attachment.sig>

From warmerdam at pobox.com  Mon Dec 11 07:48:19 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon, 11 Dec 2006 10:48:19 -0500
Subject: [Proj] preferred documentation
In-Reply-To: <rmiodqb6dwy.fsf@fnord.ir.bbn.com>
References: <rmipsasil9h.fsf@fnord.ir.bbn.com> <457B90D4.8040808@pobox.com>
	<rmiodqb6dwy.fsf@fnord.ir.bbn.com>
Message-ID: <457D7DC3.80600@pobox.com>

Greg Troxel wrote:
> Could you rename the file to proj-pdf-docs-1.1.zip?  While I realize
> many people who just download and read them don't care if there's a
> version, packaging systems need a version number.  If you don't
> provide one, they have to make one up, and then numbers will be
> inconsistent across systems and could even go backwards if you ever
> assign a number in the future.  Also, someone might reasonably expect
> that proj-pdf-docs.zip is the same content as proj-pdf-docs.tar.gz,
> just bundled differently, but that's not true.

Greg,

I hate assigning versions to things that have nothing to do with
the corresponding software release version.  Inevitably people will
ask where to find proj-pdf-docs-4.5.0, as already happens on occasion
with the versioned grid shift files.

> Sorry if I'm seeming difficult -- as a packaging system maintainer
> I've found that these seemingly minor points make a difference in both
> the amount of effort and the quality of result over time.

I appreciate the feedback, and I do aim to do at least some things
to streamline life for packagers.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org



From porath at web.de  Tue Dec 12 07:54:21 2006
From: porath at web.de (porath at web.de)
Date: Tue, 12 Dec 2006 16:54:21 +0100
Subject: [Proj] converting epsg 25832 to epsg 31467
Message-ID: <1453568408@web.de>

Hi list members,

i want to transform coordinates from epsg 25832 to epsg 31467. I don't really know about whats going on behind the scenes of proj, so i tried the following:

cs2cs +init=epsg:25832 +to +init=epsg:31467 <<EOF
32536852 5690425
EOF

cs2cs returns "*       * 0.00" for my coordinate. What am i doing wrong? I expect "3536939 5692262 0.00".

I also tried to use the projection parameters instead of the epsg codes with the same result:

cs2cs +proj=utm +zone=32 +ellps=GRS80 +units=m +no_defs +to +proj=tmerc +ellps=bessel +lat_0=0 +lon_0=9 +k=1.000000 +x_0=3500000 +y_0=0 +datum=potsdam +units=m +no_defs <<EOF
>32536852 5690425
> EOF
*       * 0.00

Best thanks for your help.

Holger
_______________________________________________________________________
Viren-Scan für Ihren PC! Jetzt für jeden. Sofort, online und kostenlos.
Gleich testen! http://www.pc-sicherheit.web.de/freescan/?mc=022222




From ovv at hetnet.nl  Tue Dec 12 13:04:52 2006
From: ovv at hetnet.nl (Oscar van Vlijmen)
Date: Tue, 12 Dec 2006 22:04:52 +0100
Subject: [Proj] converting epsg 25832 to epsg 31467
In-Reply-To: <1453568408@web.de>
Message-ID: <C1A4D804.92B0%ovv@hetnet.nl>

> From: porath-web.de
> Date: Tue, 12 Dec 2006 16:54:21 +0100
> Subject: [Proj] converting epsg 25832 to epsg 31467

> i want to transform coordinates from epsg 25832 to epsg 31467. I don't really
> know about whats going on behind the scenes of proj, so i tried the following:
> 
> cs2cs +init=epsg:25832 +to +init=epsg:31467 <<EOF
> 32536852 5690425
> EOF
> cs2cs returns "*       * 0.00" for my coordinate. What am i doing wrong? I
> expect "3536939 5692262 0.00".

First of all it would be convenient to drop the zone number in the x, so use
536852 instead of 32536852.
Then: perform an explicit datum transformation from the lat,lon obtained on
GRS80 to lat,lon on Bessel 1841. I used the ArcGIS set DHDN_To_ETRS_1989_3.
Mind the direction; the parameters are from DHDN to ETRS - which is close
enough to GRS80. The rotation model is the same as cs2cs does: position
vector.
Description of the set:
dx=597.1; dy=71.4; dz=412.1; rx=0.894; ry=0.068; rz=-1.563; ds=7.58;
Units in meters, arcseconds, ppm.
After datum transform, project with TM.

My results (some decimals dropped in the display, not in the calculation):

Start with x=536852; y=5690425;
Inverse project: lat,lon on GRS80 = 51.363889, 9.529338 deg
Datumtransform to Bessel: lat,lon = 51.365190, 9.530488, h = -45.879 m
Project to TM: 3536941.34, 5692262.52
Expected values: 3536939 5692262
Differences probably due to rounding or a slightly different parameter set.

How to perform this procedure on the cs2cs command line?
Please read the manual or ask mr. Warmerdam to write an extensive tutorial
with 200 boilerplate examples (this would reduce the traffic in the maptools
and other lists some non-vanishing amount!)





From porath at web.de  Wed Dec 13 00:08:26 2006
From: porath at web.de (porath at web.de)
Date: Wed, 13 Dec 2006 09:08:26 +0100
Subject: [Proj] converting epsg 25832 to epsg 31467
Message-ID: <1455267254@web.de>

>Oscar van Vlijmen ovv at hetnet.nl wrote:
>
>First of all it would be convenient to drop the zone number in the x, so use
>536852 instead of 32536852.
>Then: perform an explicit datum transformation from the lat,lon obtained on
>GRS80 to lat,lon on Bessel 1841. I used the ArcGIS set DHDN_To_ETRS_1989_3.
>Mind the direction; the parameters are from DHDN to ETRS - which is close
>enough to GRS
80. The rotation model is the same as cs2cs does: position
>vector.
>Description of the set:
>dx=597.1; dy=71.4; dz=412.1; rx=0.894; ry=0.068; rz=-1.563; ds=7.58;
>Units in meters, arcseconds, ppm.
>After datum transform, project with TM.
>
>My results (some decimals dropped in the display, not in the calculation):
>
>Start with x=536852; y=5690425;
>Inverse project: lat,lon on GRS80 = 51.363889, 9.529338 deg
>Datumtransform to Bessel: lat,lon = 51.365190, 9.530488, h = -45.879 m
>Project to TM: 3536941.34, 5692262.52
>Expected values: 3536939 5692262
>Differences probably due to rounding or a slightly different parameter set.
>
>How to perform this procedure on the cs2cs command line?
>Please read the manual or ask mr. Warmerdam to write an extensive tutorial
>with 200 boilerplate examples (this would reduce the traffic in the maptools
>and other lists some non-vanishing amount!)

Oscar,

thank you very very much for the basic information that the zone nubmer 32 is in x and that i have to drop it. Now my cs2cs call works fine:
cs2cs +init=epsg:25832 +to +init=epsg:31467 <<EOF
> 536852 5690425
> EOF
3536938.82      5692264.88 1.20


I was working on this problem for many hours. I am a newbie regarding coordinate transformation as you can see. Again: Thank you.

Greetings to the netherlands,

Holger
______________________________________________________________________________
"Ein Herz für Kinder" - Ihre Spende hilft! Aktion: www.deutschlandsegelt.de
Unser Dankeschön: Ihr Name auf dem Segel der 1. deutschen America's Cup-Yacht!




From haristeas at gmail.com  Thu Dec 14 04:23:38 2006
From: haristeas at gmail.com (Andreas T)
Date: Thu, 14 Dec 2006 14:23:38 +0200
Subject: [Proj] Re: GGRS87 TO WGS84 PROBLEM(?)
Message-ID: <cefb8cd70612140423x49d1ae9cydcfb4983f0d40776@mail.gmail.com>

Hi all again,

As exposed on my previous mail about the transformation FROM GGRS87 TO WGS84
we have to deal with a real problem of PROJ. Furthermore, in addition to the
tests exposed on my first mail, I inform you that the conversion is also
problematic even if we use degrees as initial values (using the same datum
of course --GGRS87--).
I want to ask if the transformation FROM GGRS87 TO WGS84 is isolated or if
we have to deal with a more general problem with Transverse Mercator
systems.
If not then is there a possible solution for this particular problem other
than writing the transformations for this particular system my self from
scratch?

Can any of the more experienced users of me of PROJ, please, answer to these
questions? I suppose that the problem exposed is valuable for the project
itself.

Thanks on advance

Andreas Trantidis
e-labs
map-enhanced Web applications
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20061214/e1833953/attachment.html>

From EMiller at dfg.ca.gov  Thu Dec 14 08:56:24 2006
From: EMiller at dfg.ca.gov (Eric Miller)
Date: Thu, 14 Dec 2006 08:56:24 -0800
Subject: [Proj] Re: GGRS87 TO WGS84 PROBLEM(?)
In-Reply-To: <cefb8cd70612140423x49d1ae9cydcfb4983f0d40776@mail.gmail.com>
References: <cefb8cd70612140423x49d1ae9cydcfb4983f0d40776@mail.gmail.com>
Message-ID: <458111CC.95FD.00E4.0@dfg.ca.gov>

I don't think there is any problem with PROJ4 or ESRI's products.  I
compared the output of both and they agree exactly to at least 6 decimal
places.  I think you probably did something wrong initially and didn't
realize it.

METHOD:

1. Create a dBase table with fields X and Y with the following values:
X, Y
100000,4000000
400000,4200000
700000,4400000
1000000,4600000

2.  Open the table with ArcMap.
3.  Define an "X Y" event theme from the table selecting the "Greek
Grid" as the coordinate system.
4.  "Export" the event theme as a shapefile using the event themes
defined coordinate system.
5.  From ArcToolbox, "project" the shapefile from "Greek Grid" to WGS84
lat/long.  Select the GGRS_1987_To_WGS_1984 datum transformation (the
only choice).
6.  Add the projected shapefile to ArcMap.
7.  Open the shapefile's attribute table.
8.  Add the double precision fields "longitude" and "latitude"
9.  Calculate the values of the longitude and latitude fields using the
follow "advanced" method:
(a) longitude
Pre-Logic VBA Script Code
------------------------------
Dim pPoint as IPoint
Set pPoint = [Shape]
-----------------------------
longitude = pPoint.X
(b) latitude
Pre-Logic VBA Script Code
------------------------------
Dim pPoint as IPoint
Set pPoint = [Shape]
-----------------------------
latitude = pPoint.Y

10.  The attribute table of the projected shapefile should now look
like:
x	y	longitude	latitude
100000	4000000	19.561249	36.065025
400000	4200000	22.863594	37.944697
700000	4400000	26.335437	39.728994
1000000	4600000	29.981731	41.398427

11.  Compare to cs2cs
$> cs2cs -f "%.6f" +proj=tmerc +lon_0=24 +k=.9996 +x_0=500000
+towgs84=-199.87,74.79,246.62 +ellps=GRS80 +to +proj=latlong
+datum=WGS84
100000 4000000
19.561249       36.065025 13.179308
400000 4200000
22.863594       37.944697 29.319636
700000 4400000
26.335437       39.728994 45.376183
1000000 4600000
29.981731       41.398427 61.249505

Case closed.
-- 

Eric G. Miller
Staff Programmer
CA Dept. of Fish & Game


>>> On 12/14/2006 at 4:23 AM, "Andreas T" <haristeas at gmail.com> wrote:
> Hi all again,
> 
> As exposed on my previous mail about the transformation FROM GGRS87
TO WGS84
> we have to deal with a real problem of PROJ. Furthermore, in addition
to the
> tests exposed on my first mail, I inform you that the conversion is
also
> problematic even if we use degrees as initial values (using the same
datum
> of course --GGRS87--).
> I want to ask if the transformation FROM GGRS87 TO WGS84 is isolated
or if
> we have to deal with a more general problem with Transverse Mercator
> systems.
> If not then is there a possible solution for this particular problem
other
> than writing the transformations for this particular system my self
from
> scratch?
> 
> Can any of the more experienced users of me of PROJ, please, answer
to these
> questions? I suppose that the problem exposed is valuable for the
project
> itself.
> 
> Thanks on advance
> 
> Andreas Trantidis
> e-labs
> map-enhanced Web applications


From haristeas at gmail.com  Thu Dec 14 09:39:35 2006
From: haristeas at gmail.com (Andreas T)
Date: Thu, 14 Dec 2006 19:39:35 +0200
Subject: [Proj] GGRS87 TO WGS84 PROBLEM(?)
Message-ID: <cefb8cd70612140939y1e044993h56fd68e6ff57082f@mail.gmail.com>

Thank you Mr. Eric Miller,

I really appreciate your help. I followed your instructions and everything
worked fine.

Though, I still take bad results using the phpMapscript enhanced version of
proj, but I understand that this is not a problem of proj (of course)! Is
problem with the php enhancement. So OK...

Thanks again
Andreas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20061214/ec29d920/attachment.html>

From volpicelli at oato.inaf.it  Thu Dec 14 13:34:31 2006
From: volpicelli at oato.inaf.it (Antonio)
Date: Thu, 14 Dec 2006 22:34:31 +0100
Subject: [Proj] rectObj Class
Message-ID: <4581C367.3090403@oato.inaf.it>

Hi All,
I am using rectObj class in C# . When I create a new instance it aspect 
5 parameters.
The last one is int imageunits.
First of all: What kinds of value I have to set for this parameter.
And I tried to set it at 1 (one) but didn't compile.
The documentation page about rectObj say that the constructor needs 4 
parameters.
Is there any one that know what happen and what I could do?

Thanks

Antonio

-- 
/-------------------------------------------------------\
       PLEASE WARNING: E-mail is CHANGED
             volpicelli at oato.inaf.it
/-------------------------------------------------------\



From volpicelli at oato.inaf.it  Thu Dec 14 13:39:25 2006
From: volpicelli at oato.inaf.it (Antonio)
Date: Thu, 14 Dec 2006 22:39:25 +0100
Subject: [Proj] Aitoff projection
Message-ID: <4581C48D.9060308@oato.inaf.it>


Do you know if tha Aitoff projection is supported in the current Proj 
4.4.9 release?
and if so, what kinds of parameters I need to put in my mapfile.

Thanks

Antonio

-- 
/-------------------------------------------------------\
       PLEASE WARNING: E-mail is CHANGED
             volpicelli at oato.inaf.it
/-------------------------------------------------------\



From nhv at cape.com  Thu Dec 14 14:51:08 2006
From: nhv at cape.com (Norman Vine)
Date: Thu, 14 Dec 2006 17:51:08 -0500
Subject: [Proj] Aitoff projection
In-Reply-To: <4581C48D.9060308@oato.inaf.it>
Message-ID: <200612142251.kBEMp1SI025026@smtp11.cape.com>

Antonio writes:
> 
> Do you know if tha Aitoff projection is supported in the current Proj
> 4.4.9 release?

Yes

> and if so, what kinds of parameters I need to put in my mapfile.

I think this should work

"+proj=aitoff +lon_0=XXX"

Where lon_0 is central meridean of desired map

HTH

Norman



From karpi.lists at email.cz  Fri Dec 15 02:02:52 2006
From: karpi.lists at email.cz (karpi)
Date: Fri, 15 Dec 2006 11:02:52 +0100
Subject: [Proj] epsg 41001
Message-ID: <20061215100252.GA15885@alnagon.karneval.cz>


Hello,
I found sometimes some strange epsg, which are not defined in
/usr/share/proj/epsg distributed with proj (4.4.9)

especially epsg:41001, for example there:
http://chignik.berkeley.edu/google/wms236.js

I would ask you if im able define it on my own and how to proceed
                                    thanks for any response

-- 
karpi
http://gismaster.liberix.cz




From cech.karel at gmail.com  Fri Dec 15 03:43:31 2006
From: cech.karel at gmail.com (karel cech)
Date: Fri, 15 Dec 2006 12:43:31 +0100
Subject: [Proj] epsg 41001
In-Reply-To: <20061215100252.GA15885@alnagon.karneval.cz>
References: <20061215100252.GA15885@alnagon.karneval.cz>
Message-ID: <f651020d0612150343v4ef3fafvb86611b369e7ed88@mail.gmail.com>

Karpi,
if epsg:41001 were a simple mercator projection, as it appears i.e. at
http://mailman-viper.python-hosting.com/pipermail/users/2006-June/000023.html
and also in http://locative.us/freemap/gdal/data/cubewerx_extra.wkt

i would put this line
<41001> +proj=tmerc +ellps=WGS84 +units=m +no_defs  <>
to your proj epsg file (mine is /usr/local/proj4/share/proj/epsg),
although I am not sure about the +units argument.
You may need to insert a line to your spatial_ref_sys table, if using postgis.

Best regards,
Karel

On 12/15/06, karpi <karpi.lists at email.cz> wrote:
>
> Hello,
> I found sometimes some strange epsg, which are not defined in
> /usr/share/proj/epsg distributed with proj (4.4.9)
>
> especially epsg:41001, for example there:
> http://chignik.berkeley.edu/google/wms236.js
>
> I would ask you if im able define it on my own and how to proceed
>                                     thanks for any response
>
> --
> karpi
> http://gismaster.liberix.cz
>
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
>


From volpicelli at oato.inaf.it  Fri Dec 15 07:16:03 2006
From: volpicelli at oato.inaf.it (Antonio)
Date: Fri, 15 Dec 2006 16:16:03 +0100
Subject: [Proj] Aitoff projection
In-Reply-To: <200612142251.kBEMp1SI025026@smtp11.cape.com>
References: <200612142251.kBEMp1SI025026@smtp11.cape.com>
Message-ID: <4582BC33.4000707@oato.inaf.it>

Hi Norman ,
Thanks .
So now I am able to use Aitoff proj when I draw a polygon shapefile but
I am not able, mapserver doesn't respond me more, to draw a grid ( 
graticule) on that.
I defined an other layer named "GRID" , I want superimpose this layer to 
the polygon layer. Here is the layer definition. Is it correct?
Sorry I am new of mapserv/proj and relative staff.

Thanks

LAYER
   NAME "GRID"
   METADATA
     "DESCRIPTION" "Grid"
   END
   TYPE LINE
   STATUS ON
   CLASS
     NAME "Graticule"
     COLOR 123 123 123
     LABEL
       COLOR  255 0 0
       OUTLINECOLOR 255 255 255          
     END
  END
  PROJECTION
        "proj=aitoff"
        "lon_0=00d"
  END
  GRID
    LABELFORMAT DDMM
    MAXARCS 10
    MAXINTERVAL 10
    MAXSUBDIVIDE 2
  END
END # Layer GRID

Norman Vine wrote:
> Antonio writes:
>   
>> Do you know if tha Aitoff projection is supported in the current Proj
>> 4.4.9 release?
>>     
>
> Yes
>
>   
>> and if so, what kinds of parameters I need to put in my mapfile.
>>     
>
> I think this should work
>
> "+proj=aitoff +lon_0=XXX"
>
> Where lon_0 is central meridean of desired map
>
> HTH
>
> Norman
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
>   

-- 
/-------------------------------------------------------\
       PLEASE WARNING: E-mail is CHANGED
             volpicelli at oato.inaf.it
/-------------------------------------------------------\

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20061215/44c07803/attachment.html>

From Christian.Strobl at dlr.de  Fri Dec 22 07:52:49 2006
From: Christian.Strobl at dlr.de (Christian.Strobl at dlr.de)
Date: Fri, 22 Dec 2006 16:52:49 +0100
Subject: [Proj] building proj-4.5.0 for ubuntu 6.06 - PROBLEMS HAVE OCCURED
Message-ID: <AC78B6BABBC9A74C95028F87A0EACF79270203@exbe04.intra.dlr.de>

 

hi all,
 
i want to compile proj-4.5.0 for ubuntu 6.06. with make check i get the
following error message

============================================
Running ./testntv2 using ../src/cs2cs:
============================================
doing tests into file ntv2_out, please wait diff ntv2_out with
ntv2_out.dist
3,6c3,6
< 82d00'00.000"W 42d00'00.000"N 0.0     82dW    42d0'0.000003"N 0.000
< 82d00'01.000"W 42d00'00.000"N 0.0     82d0'1"W        42d0'0.000003"N
0.000
< 82d00'02.000"W 42d00'00.000"N 0.0     82d0'2"W        42d0'0.000003"N
0.000
< 84d00'00.000"W 42d00'00.000"N 0.0     84dW    42d0'0.000003"N 0.000
---
> 82d00'00.000"W 42d00'00.000"N 0.0     81d59'59.61037"W
42d0'0.1602"N 0.000
> 82d00'01.000"W 42d00'00.000"N 0.0     82d0'0.610403"W 42d0'0.160204"N
0.000
> 82d00'02.000"W 42d00'00.000"N 0.0     82d0'1.610436"W 42d0'0.160209"N
0.000
> 84d00'00.000"W 42d00'00.000"N 0.0     83d59'59.85928"W
42d0'0.18003"N 0.000
9,11c9,11
< 99d00'00.000"W 65d00'00.000"N 0.0     99dW    65d0'0.000003"N 0.000
< 111d00'00.000"W 46d00'00.000"N 0.0    111dW   46d0'0.000003"N 0.000
< 111d00'00.000"W 47d30'00.000"N 0.0    111dW   47d30'0.000003"N 0.000
---
> 99d00'00.000"W 65d00'00.000"N 0.0     99d0'1.58847"W  65d0'1.34815"N
0.000
> 111d00'00.000"W 46d00'00.000"N 0.0    111d0'3.15487"W 45d59'59.75279"N
0.000
> 111d00'00.000"W 47d30'00.000"N 0.0    111d0'2.7989"W  47d29'59.9896"N
0.000

PROBLEMS HAVE OCCURED
test file ntv2_out saved

make[2]: *** [check-local] Error 100
make[2]: Leaving directory `/usr/src/proj-4.5.0/nad'
make[1]: *** [check-am] Error 2
make[1]: Leaving directory `/usr/src/proj-4.5.0/nad'
make: *** [check-recursive] Error 1


ignoring that and continuing with make and make install works fine at a
first glance. 

is that make check message anything i have to get worried about. 

greetings from munich and merry christmas christian





From NGignac at odpem.org.jm  Fri Dec 22 10:56:31 2006
From: NGignac at odpem.org.jm (NGignac at odpem.org.jm)
Date: Fri, 22 Dec 2006 13:56:31 -0500
Subject: [Proj] Jamaica Projection...
Message-ID: <OFD564C373.92DCF6CD-ON0525724C.0067D2FC-0525724C.00680CFE@odpem.org.jm>


Is it possible to add this new Jamaican Projection in the project?

See this link for more details on the projection:
http://www.jamaicancaves.org/jad2001.htm

Thanks.

Nicolas
GIS Development Officer
CUSO Representative (www.cuso.ca)
Office of Disaster Preparedness and Emergency Management (ODPEM:
www.odpem.org.jm)
ngignac at odpem.org.jm or gignacnic at gmail.com



From warmerdam at pobox.com  Fri Dec 22 11:41:06 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri, 22 Dec 2006 14:41:06 -0500
Subject: [Proj] Jamaica Projection...
In-Reply-To: <OFD564C373.92DCF6CD-ON0525724C.0067D2FC-0525724C.00680CFE@odpem.org.jm>
References: <OFD564C373.92DCF6CD-ON0525724C.0067D2FC-0525724C.00680CFE@odpem.org.jm>
Message-ID: <458C34D2.2080004@pobox.com>

NGignac at odpem.org.jm wrote:
> Is it possible to add this new Jamaican Projection in the project?
> 
> See this link for more details on the projection:
> http://www.jamaicancaves.org/jad2001.htm

Nicolas,

I am not aware of a corresponding EPSG code for JAD2001, but you can
represent it in PROJ.4 with the following definition:

   +proj=lcc +lat_1=18 +lat_2=18 +lon_0=77W +lat_0=18 \
             +x_0=750000 +y_0=650000 +datum=WGS84

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org



From warmerdam at pobox.com  Fri Dec 22 11:43:44 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri, 22 Dec 2006 14:43:44 -0500
Subject: [Proj] building proj-4.5.0 for ubuntu 6.06 - PROBLEMS HAVE OCCURED
In-Reply-To: <AC78B6BABBC9A74C95028F87A0EACF79270203@exbe04.intra.dlr.de>
References: <AC78B6BABBC9A74C95028F87A0EACF79270203@exbe04.intra.dlr.de>
Message-ID: <458C3570.1030704@pobox.com>

Christian.Strobl at dlr.de wrote:
>  
> 
> hi all,
>  
> i want to compile proj-4.5.0 for ubuntu 6.06. with make check i get the
> following error message
> 
> ============================================
> Running ./testntv2 using ../src/cs2cs:
> ============================================

Christian,

The problem is that you don't have the NTv2 datum shift files, which
require some special steps to acquire and last I check were not
redistributable.  Really this test likely shouldn't even be in the
distribution since it often confuses people.  Just disregard testntv2
errors.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org



From zoltans at geograph.co.za  Thu Dec 28 08:54:55 2006
From: zoltans at geograph.co.za (Zoltan Szecsei)
Date: Thu, 28 Dec 2006 18:54:55 +0200
Subject: [Proj] Cape & Hartebeeshoek94 datums
Message-ID: <4593F6DF.2060900@geograph.co.za>

Hi,
I'm using:
cs2cs +proj=latlong +ellps=clrk80  +to +proj=latlong +ellps=WGS84
19.5 -34.5
19d30'E 34d29'49.424"S 0.288


to convert some coords but the resulting values seem incorrect.
Is it because I need (somehow?) to specify the datums?

I've checked out proj -ld and it doesn't show up.

Can I get the result in decimal degrees to about 9 or 10 places?

I am new to proj, so please could someone assist by showing me what I am 
doing wrong, or how to get the Cape & Haartebeeshoek94 datums into the 
equation.

Thanks,
Zoltan.



-- 

===========================================
Geograph (Pty) Ltd.
P.O. Box 31255, Tokai 7966, South Africa.

B3-106 Tokai Village, cnr Vans/Tokai Rds,
Tokai 7945, Western Cape, South Africa.

Tel: +27-21-7154329  Mobile: +27-83-6004028
Fax: +27-86-6115323
===========================================




From jagoncal at fc.up.pt  Thu Dec 28 09:42:27 2006
From: jagoncal at fc.up.pt (=?ISO-8859-1?Q?Jos=E9_Alberto_Gon=E7alves?=)
Date: Thu, 28 Dec 2006 17:42:27 +0000
Subject: [Proj] Cape & Hartebeeshoek94 datums
In-Reply-To: <4593F6DF.2060900@geograph.co.za>
References: <4593F6DF.2060900@geograph.co.za>
Message-ID: <45940203.806@fc.up.pt>

With respect to the output in decimal degrees you can use the -f control
followed by a C format string:

cs2cs -f "%.9f" ....


Regards


Jose' Gonçalves



Zoltan Szecsei wrote:

> Can I get the result in decimal degrees to about 9 or 10 places?




From catchall at geograph.co.za  Thu Dec 28 12:39:28 2006
From: catchall at geograph.co.za (Zoltan Szecsei)
Date: Thu, 28 Dec 2006 22:39:28 +0200
Subject: [Proj] Cape & Hartebeeshoek94 datums
In-Reply-To: <45940203.806@fc.up.pt>
References: <4593F6DF.2060900@geograph.co.za> <45940203.806@fc.up.pt>
Message-ID: <45942B80.7050200@geograph.co.za>

José Alberto Gonçalves wrote:
> With respect to the output in decimal degrees you can use the -f control
> followed by a C format string:
>
> cs2cs -f "%.9f" ....
>

:-)   -  thank you.


>
> Regards
>
>
> Jose' Gonçalves
>
>
>
> Zoltan Szecsei wrote:
>
>> Can I get the result in decimal degrees to about 9 or 10 places?
>
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj


-- 

===========================================
Geograph (Pty) Ltd.
P.O. Box 31255, Tokai 7966, South Africa.

B3-106 Tokai Village, cnr Vans/Tokai Rds,
Tokai 7945, Western Cape, South Africa.

Tel: +27-21-7154329  Mobile: +27-83-6004028
Fax: +27-86-6115323
===========================================




From ovv at hetnet.nl  Fri Dec 29 03:18:12 2006
From: ovv at hetnet.nl (Oscar van Vlijmen)
Date: Fri, 29 Dec 2006 12:18:12 +0100
Subject: [Proj] Cape & Hartebeeshoek94 datums
In-Reply-To: <4593F6DF.2060900@geograph.co.za>
Message-ID: <C1BAB804.9935%ovv@hetnet.nl>

> From: Zoltan Szecsei
> Date: Thu, 28 Dec 2006 18:54:55 +0200
> Subject: [Proj] Cape & Hartebeeshoek94 datums
> 
> Hi,
> I'm using:
> cs2cs +proj=latlong +ellps=clrk80  +to +proj=latlong +ellps=WGS84
> 19.5 -34.5
> 19d30'E 34d29'49.424"S 0.288
> to convert some coords but the resulting values seem incorrect.
> Is it because I need (somehow?) to specify the datums?
> I've checked out proj -ld and it doesn't show up.
> Can I get the result in decimal degrees to about 9 or 10 places?
> I am new to proj, so please could someone assist by showing me what I am
> doing wrong, or how to get the Cape & Haartebeeshoek94 datums into the
> equation.

If there is no datum definition available for cs2cs, you can provide one
yourself. One part is the ellipsoid designation of source and target, the
other part, missing in your equation, is the datum transformation. In the
case of Cape -> Hartebeesthoek94 there is an official, simple geocentric
shift known for the whole area:
dx = -134 m, dy = -110 m, dz = -292 m
<http://w3sli.wcape.gov.za/Surveys/Mapping/wgs84.htm>
with an accuracy of 15 m (so 9 or 10 decimals are a bit silly).
For higher accuracy: ask the Chief Directorate Surveys & Mapping for local
parameters.
The 3 shift parameters mentioned above are the first 3 parameters in the
cs2cs +towgs84 set. How to construct a cs2cs command line? Read the manual
or wait for a decent tutorial.
Should you want to project the Hartebeesthoek coordinates, note that the
coordinate system in the transversal mercator projection is south-west
oriented, so you may need to juggle with some signs (+/-).




From mfinn at usgs.gov  Thu Dec 28 09:46:48 2006
From: mfinn at usgs.gov (Michael P Finn)
Date: Thu, 28 Dec 2006 11:46:48 -0600
Subject: [Proj] PostDoc positions available: USGS Center of Excellence for
 Geospatial Information Science
Message-ID: <OF81E89AD8.EA1AAAFD-ON86257252.00602535-86257252.0061ABA3@usgs.gov>

With apologies for any cross-postings you may receive....Lynn Usery and 
Mike Finn



Job announcement: 

The U.S. Geological Survey (USGS) Center of Excellence for Geospatial 
Information Science (CEGIS) has two post doctoral appointments available 
in the Rolla, Missouri office. The appointments must be filled through the 
National Research Council (NRC) Research Associateship program. For 
application instructions, forms, and process, interested candidates should 
access the NRC web site at: 

http://www7.nationalacademies.org/rap/Cover_Page_Application_Information_links.html 


The specific opportunity is posted at: 

http://nrc58.nas.edu/pgasurvey/data/aobooks/rapbooks.asp?mode=rodetail&roid=42147&pcd=906102 



The description of the announcement follows. 


USGS is supporting the development of a number of research projects in 
geospatial information science through the Center of Excellence for 
Geospatial Information Science (CEGIS). Several Research Associates will 
be hired to support the CEGIS mission, which includes a series of broad 
goals to address specific questions of relevance to the science mission of 
the USGS. 
GIScience includes the science behind the traditional mapping disciplines 
of surveying, aerial photographic interpretation, photogrammetry, remote 
sensing, and cartography. It also encompasses a broader scope of issues 
related to the modeling and representation of geographic data, phenomena, 
and processes; human cognition of geographic information; the analysis and 
use of uncertainty; spatial analysis and modeling, including geographic 
information systems (GIS); scale sensitivities; geographic ontologies; 
visualization; and other similar topics. 
Specific topics currently being investigated by CEGIS researchers include 
(1) information fusion, visualization, and ontology for The National Map, 
specifically addressing automated data integration and generalization; (2) 
analyzing and developing rapid map projection for large raster datasets 
over the Web using parallel and grid computing; and (3) fractal and 
variogram methods to analyze scale and resolution effects on geospatial 
data. 
Associates may propose work complementing the currently ongoing research 
or address the broader research goals and questions of GIScience. All 
areas of this research opportunity will support theoretical and technical 
development. The Associate will be responsible for supporting the 
principal investigator with the theoretical development and supervising 
the computer implementation of the theory by a team of programmers and 
technicians. Associates are expected to develop their own approaches to 
both theoretical developments and implementation strategies to provide 
breadth to the scientific endeavor. Publication of results in 
peer-reviewed journals is considered a part of the responsibilities of the 
project team including Associates. 





E. Lynn Usery
Research Geographer
Center of Excellence for Geospatial Information Science
U.S. Geological Survey
1400 Independence Rd.
Rolla, MO  65401-2502

Ph.  573-308-3837
Fax 573-308-3652
Email: usery at usgs.gov
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20061228/42051086/attachment.html>

