From Heiko.Klein at met.no  Tue Mar  1 00:32:24 2011
From: Heiko.Klein at met.no (Heiko Klein)
Date: Tue, 01 Mar 2011 09:32:24 +0100
Subject: [Proj] Adding ETRS89 datum to proj?
Message-ID: <4D6CAF18.4000607@met.no>

Hi,

the ETRS89 datum gets more and more important for Europeans, since it is 
a EU / INSPIRE proposal to use that datum for all data. I've seen the 
discussion about the ETRS89 datum definition for the EPSG codes on 
http://trac.osgeo.org/proj/ticket/11

Wouldn't it be a good idea to add the ETRS89 datum to 'proj -ld'? I 
usually only use the +datum parameter, if any, but have never used 
'towgs' before.


I haven't worked so much with the proj code, but as far as I can see, 
adding the 'ETRS89' datum would just require a line like

"ETRS89","towgs84=0,0,0","GRS80", "European Terrestrial Reference System 
1989",

in http://trac.osgeo.org/proj/browser/trunk/proj/src/pj_datums.c

Best regards,

Heiko


From ari.jolma at gmail.com  Tue Mar  1 03:46:09 2011
From: ari.jolma at gmail.com (Ari Jolma)
Date: Tue, 01 Mar 2011 13:46:09 +0200
Subject: [Proj] Adding ETRS89 datum to proj?
In-Reply-To: <4D6CAF18.4000607@met.no>
References: <4D6CAF18.4000607@met.no>
Message-ID: <4D6CDC81.1060404@gmail.com>

Heiko and others on the list,

See also this: http://trac.osgeo.org/proj/ticket/15

Ari

On 03/01/2011 10:32 AM, Heiko Klein wrote:
> Hi,
>
> the ETRS89 datum gets more and more important for Europeans, since it is
> a EU / INSPIRE proposal to use that datum for all data. I've seen the
> discussion about the ETRS89 datum definition for the EPSG codes on
> http://trac.osgeo.org/proj/ticket/11
>
> Wouldn't it be a good idea to add the ETRS89 datum to 'proj -ld'? I
> usually only use the +datum parameter, if any, but have never used
> 'towgs' before.
>
>
> I haven't worked so much with the proj code, but as far as I can see,
> adding the 'ETRS89' datum would just require a line like
>
> "ETRS89","towgs84=0,0,0","GRS80", "European Terrestrial Reference System
> 1989",
>
> in http://trac.osgeo.org/proj/browser/trunk/proj/src/pj_datums.c
>
> Best regards,
>
> Heiko
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj



From noorcs22 at gmail.com  Wed Mar  2 09:03:52 2011
From: noorcs22 at gmail.com (Mustafa646)
Date: Wed, 2 Mar 2011 09:03:52 -0800 (PST)
Subject: [Proj] GeoServer does not read Native SRS
Message-ID: <1299085432766-6081774.post@n2.nabble.com>

I publish a shapefile on Geoserver. The projection defined in this shapefile
is SWEREF 99 1800. but i dont have .prj file. When i publish this shapefile,
Geoserver could not read Native srs. What should i do so that geoserver read
its native srs ?

my second question is:

Actually i want to display this shapefile over google map as WFS layer
because i want to featch features. so, for displaying over google map, what
native srs should be shapefile in ?

regards/

--
View this message in context: http://osgeo-org.1803224.n2.nabble.com/GeoServer-does-not-read-Native-SRS-tp6081774p6081774.html
Sent from the PROJ.4 mailing list archive at Nabble.com.


From warmerdam at pobox.com  Wed Mar  2 09:43:15 2011
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed, 02 Mar 2011 12:43:15 -0500
Subject: [Proj] GeoServer does not read Native SRS
In-Reply-To: <1299085432766-6081774.post@n2.nabble.com>
References: <1299085432766-6081774.post@n2.nabble.com>
Message-ID: <4D6E81B3.2010801@pobox.com>

On 11-03-02 12:03 PM, Mustafa646 wrote:
> I publish a shapefile on Geoserver. The projection defined in this shapefile
> is SWEREF 99 1800. but i dont have .prj file. When i publish this shapefile,
> Geoserver could not read Native srs. What should i do so that geoserver read
> its native srs ?

Mustafa,

This question should naturally be asked on a GeoServer related email list.

> my second question is:
>
> Actually i want to display this shapefile over google map as WFS layer
> because i want to featch features. so, for displaying over google map, what
> native srs should be shapefile in ?

It would clearly be convenient if it was in the google mercator projection.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From roger at opq.se  Wed Mar  2 23:50:33 2011
From: roger at opq.se (Roger Oberholtzer)
Date: Thu, 03 Mar 2011 08:50:33 +0100
Subject: [Proj] GeoServer does not read Native SRS
In-Reply-To: <4D6E81B3.2010801@pobox.com>
References: <1299085432766-6081774.post@n2.nabble.com>
	<4D6E81B3.2010801@pobox.com>
Message-ID: <1299138633.15334.21.camel@acme.pacific>

On Wed, 2011-03-02 at 12:43 -0500, Frank Warmerdam wrote:
> On 11-03-02 12:03 PM, Mustafa646 wrote:
> > I publish a shapefile on Geoserver. The projection defined in this shapefile
> > is SWEREF 99 1800. but i dont have .prj file. When i publish this shapefile,
> > Geoserver could not read Native srs. What should i do so that geoserver read
> > its native srs ?
> 
> Mustafa,
> 
> This question should naturally be asked on a GeoServer related email list.
> 
> > my second question is:
> >
> > Actually i want to display this shapefile over google map as WFS layer
> > because i want to featch features. so, for displaying over google map, what
> > native srs should be shapefile in ?
> 
> It would clearly be convenient if it was in the google mercator projection.

Just curious: We have a Trimble receiver that collects WGS84 lat/longs.
We convert these into a KML file - not changing from WGS84. When we view
these in Google Earth, everything looks fine. This is for data collected
in Europe and North Africa.

Am I missing something?



Yours sincerely,

Roger Oberholtzer

OPQ Systems / Ramböll RST

Office: Int +46 10-615 60 20
Mobile: Int +46 70-815 1696
roger.oberholtzer at ramboll.se
________________________________________

Ramböll Sverige AB
Krukmakargatan 21
P.O. Box 17009
SE-104 62 Stockholm, Sweden
www.rambollrst.se



From thy at 42.dk  Wed Mar  2 23:53:45 2011
From: thy at 42.dk (Kristian Thy)
Date: Thu, 3 Mar 2011 08:53:45 +0100
Subject: [Proj] GeoServer does not read Native SRS
In-Reply-To: <1299138633.15334.21.camel@acme.pacific>
References: <1299085432766-6081774.post@n2.nabble.com>
	<4D6E81B3.2010801@pobox.com>
	<1299138633.15334.21.camel@acme.pacific>
Message-ID: <20110303075345.GJ1218@42.dk>

On Thu, Mar 03, Roger Oberholtzer wrote:
> On Wed, 2011-03-02 at 12:43 -0500, Frank Warmerdam wrote:
> > On 11-03-02 12:03 PM, Mustafa646 wrote:
> > > Actually i want to display this shapefile over google map as WFS layer
> > > because i want to featch features. so, for displaying over google map, what
> > > native srs should be shapefile in ?
> > 
> > It would clearly be convenient if it was in the google mercator projection.
> 
> Just curious: We have a Trimble receiver that collects WGS84 lat/longs.
> We convert these into a KML file - not changing from WGS84. When we view
> these in Google Earth, everything looks fine. This is for data collected
> in Europe and North Africa.
> 
> Am I missing something?

Yes :)

Google Maps uses a planar projection. Google Earth displays the data on
a sphere, obviating the need for projection.

\\kristian
-- 
... et nemo ex vobis interrogat me: »Quo vadis?«


From roger at opq.se  Thu Mar  3 00:17:02 2011
From: roger at opq.se (Roger Oberholtzer)
Date: Thu, 03 Mar 2011 09:17:02 +0100
Subject: [Proj] GeoServer does not read Native SRS
In-Reply-To: <20110303075345.GJ1218@42.dk>
References: <1299085432766-6081774.post@n2.nabble.com>
	<4D6E81B3.2010801@pobox.com> <1299138633.15334.21.camel@acme.pacific>
	<20110303075345.GJ1218@42.dk>
Message-ID: <1299140222.15334.41.camel@acme.pacific>

On Thu, 2011-03-03 at 08:53 +0100, Kristian Thy wrote:
> On Thu, Mar 03, Roger Oberholtzer wrote:
> > On Wed, 2011-03-02 at 12:43 -0500, Frank Warmerdam wrote:
> > > On 11-03-02 12:03 PM, Mustafa646 wrote:
> > > > Actually i want to display this shapefile over google map as WFS layer
> > > > because i want to featch features. so, for displaying over google map, what
> > > > native srs should be shapefile in ?
> > > 
> > > It would clearly be convenient if it was in the google mercator projection.
> > 
> > Just curious: We have a Trimble receiver that collects WGS84 lat/longs.
> > We convert these into a KML file - not changing from WGS84. When we view
> > these in Google Earth, everything looks fine. This is for data collected
> > in Europe and North Africa.
> > 
> > Am I missing something?
> 
> Yes :)
> 
> Google Maps uses a planar projection. Google Earth displays the data on
> a sphere, obviating the need for projection.

In fact, I think KML files are expected to be in WGS84. So I suspect
google do the grunt work of making this data fit in the context when
things are displayed.


Yours sincerely,

Roger Oberholtzer

OPQ Systems / Ramböll RST

Office: Int +46 10-615 60 20
Mobile: Int +46 70-815 1696
roger.oberholtzer at ramboll.se
________________________________________

Ramböll Sverige AB
Krukmakargatan 21
P.O. Box 17009
SE-104 62 Stockholm, Sweden
www.rambollrst.se



From noorcs22 at gmail.com  Thu Mar  3 02:35:56 2011
From: noorcs22 at gmail.com (Mustafa646)
Date: Thu, 3 Mar 2011 02:35:56 -0800 (PST)
Subject: [Proj] How I solve Projection Problem ?
Message-ID: <1299148556196-6084310.post@n2.nabble.com>

I have some shapefiles with projection "SWEREF 99 1800 (EPSG:3006)". I tried
to display these shapefiles over Google Map by changing projection from
EPSG:3006 to EPSG:4326 by using command ogr2ogr. The conversion was
successful. When i compare these shapefiles (original and converted) in
MapWindow (GIS software for viewing and editing shapefiles). There was a
difference in shape between the two. The converted file was streatches in
width. thats why, it could not display over Google map. I could not
understand, why this happen ? 

can anybody explain why this happen ?. OR can anybody suggest me another way
to convert the projection ?

 

--
View this message in context: http://osgeo-org.1803224.n2.nabble.com/How-I-solve-Projection-Problem-tp6084310p6084310.html
Sent from the PROJ.4 mailing list archive at Nabble.com.


From noorcs22 at gmail.com  Thu Mar  3 02:58:35 2011
From: noorcs22 at gmail.com (Mustafa646)
Date: Thu, 3 Mar 2011 02:58:35 -0800 (PST)
Subject: [Proj] How I solve Projection Problem ?
In-Reply-To: <1299148556196-6084310.post@n2.nabble.com>
References: <1299148556196-6084310.post@n2.nabble.com>
Message-ID: <1299149915863-6084370.post@n2.nabble.com>

I have some shapefiles with projection "SWEREF 99 1800 (EPSG:3011)". I tried
to display these shapefiles over Google Map by changing projection from
EPSG:3011 to EPSG:4326 by using command ogr2ogr. The conversion was
successful. When i compare these shapefiles (original and converted) in
MapWindow (GIS software for viewing and editing shapefiles). There was a
difference in shape between the two. The converted file was streatches in
width. thats why, it could not display over Google map. I could not
understand, why this happen ? 

can anybody explain why this happen ?. OR can anybody suggest me another way
to convert the projection ? 



--
View this message in context: http://osgeo-org.1803224.n2.nabble.com/How-I-solve-Projection-Problem-tp6084310p6084370.html
Sent from the PROJ.4 mailing list archive at Nabble.com.


From jrepetto at free.fr  Thu Mar  3 03:15:33 2011
From: jrepetto at free.fr (Jean-Claude Repetto)
Date: Thu, 03 Mar 2011 12:15:33 +0100
Subject: [Proj] How I solve Projection Problem ?
In-Reply-To: <1299149915863-6084370.post@n2.nabble.com>
References: <1299148556196-6084310.post@n2.nabble.com>
	<1299149915863-6084370.post@n2.nabble.com>
Message-ID: <4D6F7855.3010909@free.fr>

Le 03/03/2011 11:58, Mustafa646 a écrit :
> I have some shapefiles with projection "SWEREF 99 1800 (EPSG:3011)". I tried
> to display these shapefiles over Google Map by changing projection from
> EPSG:3011 to EPSG:4326 by using command ogr2ogr. The conversion was
> successful. When i compare these shapefiles (original and converted) in
> MapWindow (GIS software for viewing and editing shapefiles). There was a
> difference in shape between the two. The converted file was streatches in
> width. thats why, it could not display over Google map. I could not
> understand, why this happen ?
>
> can anybody explain why this happen ?. OR can anybody suggest me another way
> to convert the projection ?
>

The projection of "Google Maps" is EPSG:3857 (Pseudo-Mercator), not 
EPSG:4326.


From roger at opq.se  Thu Mar  3 03:50:33 2011
From: roger at opq.se (Roger Oberholtzer)
Date: Thu, 03 Mar 2011 12:50:33 +0100
Subject: [Proj] ogr2ogr to convert KML files into ESRI Shapefiles?
Message-ID: <1299153033.31987.11.camel@acme.pacific>

As the subject says, I am trying to convert  KML files into ESRI
Shapefiles. I use a command like this:

	ogr2ogr -f "ESRI Shapefile" rst31_tyid2_2.shp rst31_tyid2_2.kml

I get the following error:

ERROR 1: Attempt to write non-point (LINESTRING) geometry to point shapefile.
ERROR 1: Terminating translation prematurely after failed
translation of layer DATA from RST (use -skipfailures to skip errors)

Indeed the kml file does have a <linestring/> component. It is a path
defined by WGS84 latitudes, longitudes and altitudes. I'm sensing this
is a problem for shapefiles. Is there a reasonable solution?


Yours sincerely,

Roger Oberholtzer

OPQ Systems / Ramböll RST

Office: Int +46 10-615 60 20
Mobile: Int +46 70-815 1696
roger.oberholtzer at ramboll.se
________________________________________

Ramböll Sverige AB
Krukmakargatan 21
P.O. Box 17009
SE-104 62 Stockholm, Sweden
www.rambollrst.se



From thy at 42.dk  Thu Mar  3 06:03:32 2011
From: thy at 42.dk (Kristian Thy)
Date: Thu, 3 Mar 2011 15:03:32 +0100
Subject: [Proj] How I solve Projection Problem ?
In-Reply-To: <4D6F7855.3010909@free.fr>
References: <1299148556196-6084310.post@n2.nabble.com>
	<1299149915863-6084370.post@n2.nabble.com>
	<4D6F7855.3010909@free.fr>
Message-ID: <20110303140332.GK1218@42.dk>

On Thu, Mar 03, Jean-Claude Repetto wrote:
> Le 03/03/2011 11:58, Mustafa646 a écrit :
> > can anybody explain why this happen ?. OR can anybody suggest me another way
> > to convert the projection ?
> 
> The projection of "Google Maps" is EPSG:3857 (Pseudo-Mercator), not 
> EPSG:4326.

... as Mikael Rittri also told Mustafa on February 22 here on this list.
At least there was no shouting this time.

\\kristian
-- 
... et nemo ex vobis interrogat me: »Quo vadis?«


From warmerdam at pobox.com  Thu Mar  3 07:48:35 2011
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu, 03 Mar 2011 10:48:35 -0500
Subject: [Proj] ogr2ogr to convert KML files into ESRI Shapefiles?
In-Reply-To: <1299153033.31987.11.camel@acme.pacific>
References: <1299153033.31987.11.camel@acme.pacific>
Message-ID: <4D6FB853.4020201@pobox.com>

On 11-03-03 06:50 AM, Roger Oberholtzer wrote:
> As the subject says, I am trying to convert  KML files into ESRI
> Shapefiles. I use a command like this:
>
> 	ogr2ogr -f "ESRI Shapefile" rst31_tyid2_2.shp rst31_tyid2_2.kml
>
> I get the following error:
>
> ERROR 1: Attempt to write non-point (LINESTRING) geometry to point shapefile.
> ERROR 1: Terminating translation prematurely after failed
> translation of layer DATA from RST (use -skipfailures to skip errors)
>
> Indeed the kml file does have a<linestring/>  component. It is a path
> defined by WGS84 latitudes, longitudes and altitudes. I'm sensing this
> is a problem for shapefiles. Is there a reasonable solution?

Roger,

This question would be better addressed to the GDAL/OGR mailing list
(gdal-dev at lists.osgeo.org).  I imagine the problem is that the kml file
has a mixture of geometry types in it, perhaps points and lines?  Shapefiles
can only hold one type of geometry - in the above case likely established
by the first geometry written to the file.

You will need to do something like:

   ogr2ogr out_points.shp your.kml -skipfailures -nlt point
   ogr2ogr out_lines.shp your.kml -skipfailures -nlt linestring
   ogr2ogr out_poly.shp your.kml -skipfailures -nlt polygon

Good luck,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From EMiller at dfg.ca.gov  Thu Mar  3 08:09:47 2011
From: EMiller at dfg.ca.gov (Eric Miller)
Date: Thu, 3 Mar 2011 08:09:47 -0800
Subject: [Proj] ogr2ogr to convert KML files into ESRI Shapefiles?
In-Reply-To: <1299153033.31987.11.camel@acme.pacific>
References: <1299153033.31987.11.camel@acme.pacific>
Message-ID: <4D6F4CCB.95FD.00E4.0@dfg.ca.gov>

Shapefiles are written with one geometry type.   I suspect there are
additional options for ogr2ogr to specify the geometry type for the
shapefile.  If you want both point and line features, you'll probably
need two shapefiles.  You might want to read
http://gdal.org/ogr/drv_shapefile.html and
http://trac.osgeo.org/gdal/wiki/FAQVector#HowdoItranslateamixedgeometryfiletoshapefileformat
.
-- 

Eric G. Miller
Staff Programmer
CA Dept. of Fish & Game


>>> On 3/3/2011 at 3:50 AM, Roger Oberholtzer <roger at opq.se> wrote:
> As the subject says, I am trying to convert  KML files into ESRI
> Shapefiles. I use a command like this:
> 
> 	ogr2ogr -f "ESRI Shapefile" rst31_tyid2_2.shp rst31_tyid2_2.kml
> 
> I get the following error:
> 
> ERROR 1: Attempt to write non-point (LINESTRING) geometry to point 
> shapefile.
> ERROR 1: Terminating translation prematurely after failed
> translation of layer DATA from RST (use -skipfailures to skip
errors)
> 
> Indeed the kml file does have a <linestring/> component. It is a
path
> defined by WGS84 latitudes, longitudes and altitudes. I'm sensing
this
> is a problem for shapefiles. Is there a reasonable solution?
> 
> 
> Yours sincerely,
> 
> Roger Oberholtzer
> 
> OPQ Systems / Ramböll RST
> 
> Office: Int +46 10-615 60 20
> Mobile: Int +46 70-815 1696
> roger.oberholtzer at ramboll.se 
> ________________________________________
> 
> Ramböll Sverige AB
> Krukmakargatan 21
> P.O. Box 17009
> SE-104 62 Stockholm, Sweden
> www.rambollrst.se 
> 
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org 
> http://lists.maptools.org/mailman/listinfo/proj



From charles.karney at sri.com  Sun Mar  6 09:09:59 2011
From: charles.karney at sri.com (Karney, Charles)
Date: Sun, 6 Mar 2011 12:09:59 -0500
Subject: [Proj] Tobler's translation of Lambert
Message-ID: <A2A1310793A19942B3F8923D69C78D7A90903E7D42@MALIBU.sarnoff.internal>

> From: Paul B. Anderson [pbander at cavtel.net]
> Sent: Sunday, November 15, 2009 13:22
> 
> One of the books in my personal library is:
> J. H. Lambert,
> Notes and Comments on the Composition of Terrestrial and Celestial Maps,
> Translated and Introduced by Waldo R. Tobler, 1972
> 
> Published by the University of Michigan,
> Department of Geography
> Ann Arbor, Michigan 48104
> 
> Dr. Tobler gave me the copy I have, and I have no idea where one could
> find another.

ESRI press has reprinted this translation.  This is completely
re-typeset -- no more hand-drawn symbols, and pasted in equations.  So
even if you have the original 1972 version, you might consider buying
the new version.  See

http://www.geog.ucsb.edu/events/department-news/825/tobler-s-translation-of-lambert-s-writings-re-published-by-esri-press/
http://www.amazon.com/Notes-Comments-Composition-Terrestrial-Celestial/dp/1589482816

-- 
Charles Karney <charles.karney at sri.com>
SRI International, Princeton, NJ 08543-5300

Tel: +1 609 734 2312
Fax: +1 609 734 2662


From noorcs22 at gmail.com  Thu Mar 17 04:07:31 2011
From: noorcs22 at gmail.com (Mustafa646)
Date: Thu, 17 Mar 2011 04:07:31 -0700 (PDT)
Subject: [Proj] Need Coordinates conversion tool ?
Message-ID: <1300360051409-6180461.post@n2.nabble.com>

I have coordinates in textfile with projection SWREFF99 1800. I need to
convert them into WGS84. Can anybody tell me some tool to convert them ?

OR any online conversion facility ?



--
View this message in context: http://osgeo-org.1803224.n2.nabble.com/Need-Coordinates-conversion-tool-tp6180461p6180461.html
Sent from the PROJ.4 mailing list archive at Nabble.com.


From jrepetto at free.fr  Thu Mar 17 05:28:25 2011
From: jrepetto at free.fr (Jean-Claude Repetto)
Date: Thu, 17 Mar 2011 13:28:25 +0100
Subject: [Proj] Need Coordinates conversion tool ?
In-Reply-To: <1300360051409-6180461.post@n2.nabble.com>
References: <1300360051409-6180461.post@n2.nabble.com>
Message-ID: <4D81FE69.9010005@free.fr>

Le 17/03/2011 12:07, Mustafa646 a écrit :
> I have coordinates in textfile with projection SWREFF99 1800. I need to
> convert them into WGS84. Can anybody tell me some tool to convert them ?

You can use cs2cs :
http://proj.maptools.org/man_cs2cs.html

Jean-Claude


From jagoncal at gmail.com  Thu Mar 17 05:33:45 2011
From: jagoncal at gmail.com (=?ISO-8859-1?Q?Jose_Gon=E7alves?=)
Date: Thu, 17 Mar 2011 12:33:45 +0000
Subject: [Proj] Need Coordinates conversion tool ?
In-Reply-To: <1300360051409-6180461.post@n2.nabble.com>
References: <1300360051409-6180461.post@n2.nabble.com>
Message-ID: <AANLkTimgDYXBxBgK2DLXhQ-4ePW707Xu0x=s8hqprZnN@mail.gmail.com>

I suppose you refer to this system:

http://spatialreference.org/ref/epsg/3011/

You can transform to WGS84 geographic coordinates using program cs2cs :

cs2cs +init=epsg:3011 +to +init=epsg:4326


Regards

José Gonçalves





2011/3/17 Mustafa646 <noorcs22 at gmail.com>

> I have coordinates in textfile with projection SWREFF99 1800. I need to
> convert them into WGS84. Can anybody tell me some tool to convert them ?
>
> OR any online conversion facility ?
>
>
>
> --
> View this message in context:
> http://osgeo-org.1803224.n2.nabble.com/Need-Coordinates-conversion-tool-tp6180461p6180461.html
> Sent from the PROJ.4 mailing list archive at Nabble.com.
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20110317/627f22d3/attachment.html>

From vinicius.carvalho at ericsson.com  Wed Mar 23 04:57:40 2011
From: vinicius.carvalho at ericsson.com (Vinicius Carvalho)
Date: Wed, 23 Mar 2011 12:57:40 +0100
Subject: [Proj] Compiling on Solaris 10 x86
Message-ID: <681CC7166A59104C998F55FBFA1649E314E4A88E2C@ESESSCMS0362.eemea.ericsson.se>

Hi There! I'm trying to compile and install this library on a Solaris 10 x86 server. Needed for the PostGIS install.

So, I ran ./configure and everything went ok, but gmake is throwing an error:

Making all in src
make[1]: Entering directory `/tmp/proj-4.7.0/src'
make  all-am
make[2]: Entering directory `/tmp/proj-4.7.0/src'
/bin/bash ../libtool --tag=CC   --mode=link gcc  -g -O2 -no-undefined -version-info 6:6:6  -o libproj.la -rpath /usr/local/lib PJ_aeqd.lo PJ_gnom.lo PJ_laea.lo PJ_mod_ster.lo PJ_nsper.lo PJ_nzmg.lo PJ_ortho.lo PJ_stere.lo PJ_sterea.lo PJ_aea.lo PJ_bipc.lo PJ_bonne.lo PJ_eqdc.lo PJ_imw_p.lo PJ_krovak.lo PJ_lcc.lo PJ_poly.lo PJ_rpoly.lo PJ_sconics.lo proj_rouss.lo PJ_cass.lo PJ_cc.lo PJ_cea.lo PJ_eqc.lo PJ_gall.lo PJ_labrd.lo PJ_lsat.lo PJ_merc.lo PJ_mill.lo PJ_ocea.lo PJ_omerc.lo PJ_somerc.lo PJ_tcc.lo PJ_tcea.lo PJ_tmerc.lo PJ_airy.lo PJ_aitoff.lo PJ_august.lo PJ_bacon.lo PJ_chamb.lo PJ_hammer.lo PJ_lagrng.lo PJ_larr.lo PJ_lask.lo PJ_nocol.lo PJ_ob_tran.lo PJ_oea.lo PJ_tpeqd.lo PJ_vandg.lo PJ_vandg2.lo PJ_vandg4.lo PJ_wag7.lo PJ_lcca.lo PJ_geos.lo PJ_boggs.lo PJ_collg.lo PJ_crast.lo PJ_denoy.lo PJ_eck1.lo PJ_eck2.lo PJ_eck3.lo PJ_eck4.lo PJ_eck5.lo PJ_fahey.lo PJ_fouc_s.lo PJ_gins8.lo PJ_gstmerc.lo PJ_gn_sinu.lo PJ_goode.lo PJ_hatano.lo PJ_loxim.lo PJ_mbt_fps.lo PJ_mbtfpp.lo PJ_mbtfpq.lo PJ_moll.lo PJ_nell.lo PJ_nell_h.lo PJ_putp2.lo PJ_putp3.lo PJ_putp4p.lo PJ_putp5.lo PJ_putp6.lo PJ_robin.lo PJ_sts.lo PJ_urm5.lo PJ_urmfps.lo PJ_wag2.lo PJ_wag3.lo PJ_wink1.lo PJ_wink2.lo pj_latlong.lo pj_geocent.lo aasincos.lo adjlon.lo bch2bps.lo bchgen.lo biveval.lo dmstor.lo mk_cheby.lo pj_auth.lo pj_deriv.lo pj_ell_set.lo pj_ellps.lo pj_errno.lo pj_factors.lo pj_fwd.lo pj_init.lo pj_inv.lo pj_list.lo pj_malloc.lo pj_mlfn.lo pj_msfn.lo proj_mdist.lo pj_open_lib.lo pj_param.lo pj_phi2.lo pj_pr_list.lo pj_qsfn.lo pj_strerrno.lo pj_tsfn.lo pj_units.lo pj_zpoly1.lo rtodms.lo vector1.lo pj_release.lo pj_gauss.lo nad_cvt.lo nad_init.lo nad_intr.lo emess.lo pj_apply_gridshift.lo pj_datums.lo pj_datum_set.lo pj_transform.lo geocent.lo pj_utils.lo pj_gridinfo.lo pj_gridlist.lo jniproj.lo pj_mutex.lo pj_initcache.lo  -lm
rm -fr  .libs/libproj.so .libs/libproj.so.0 .libs/libproj.so.0.6.6
gcc -shared -Wl,-h -Wl,libproj.so.0 -o .libs/libproj.so.0.6.6  .libs/PJ_aeqd.o .libs/PJ_gnom.o .libs/PJ_laea.o .libs/PJ_mod_ster.o .libs/PJ_nsper.o .libs/PJ_nzmg.o .libs/PJ_ortho.o .libs/PJ_stere.o .libs/PJ_sterea.o .libs/PJ_aea.o .libs/PJ_bipc.o .libs/PJ_bonne.o .libs/PJ_eqdc.o .libs/PJ_imw_p.o .libs/PJ_krovak.o .libs/PJ_lcc.o .libs/PJ_poly.o .libs/PJ_rpoly.o .libs/PJ_sconics.o .libs/proj_rouss.o .libs/PJ_cass.o .libs/PJ_cc.o .libs/PJ_cea.o .libs/PJ_eqc.o .libs/PJ_gall.o .libs/PJ_labrd.o .libs/PJ_lsat.o .libs/PJ_merc.o .libs/PJ_mill.o .libs/PJ_ocea.o .libs/PJ_omerc.o .libs/PJ_somerc.o .libs/PJ_tcc.o .libs/PJ_tcea.o .libs/PJ_tmerc.o .libs/PJ_airy.o .libs/PJ_aitoff.o .libs/PJ_august.o .libs/PJ_bacon.o .libs/PJ_chamb.o .libs/PJ_hammer.o .libs/PJ_lagrng.o .libs/PJ_larr.o .libs/PJ_lask.o .libs/PJ_nocol.o .libs/PJ_ob_tran.o .libs/PJ_oea.o .libs/PJ_tpeqd.o .libs/PJ_vandg.o .libs/PJ_vandg2.o .libs/PJ_vandg4.o .libs/PJ_wag7.o .libs/PJ_lcca.o .libs/PJ_geos.o .libs/PJ_boggs.o .libs/PJ_collg.o .libs/PJ_crast.o .libs/PJ_denoy.o .libs/PJ_eck1.o .libs/PJ_eck2.o .libs/PJ_eck3.o .libs/PJ_eck4.o .libs/PJ_eck5.o .libs/PJ_fahey.o .libs/PJ_fouc_s.o .libs/PJ_gins8.o .libs/PJ_gstmerc.o .libs/PJ_gn_sinu.o .libs/PJ_goode.o .libs/PJ_hatano.o .libs/PJ_loxim.o .libs/PJ_mbt_fps.o .libs/PJ_mbtfpp.o .libs/PJ_mbtfpq.o .libs/PJ_moll.o .libs/PJ_nell.o .libs/PJ_nell_h.o .libs/PJ_putp2.o .libs/PJ_putp3.o .libs/PJ_putp4p.o .libs/PJ_putp5.o .libs/PJ_putp6.o .libs/PJ_robin.o .libs/PJ_sts.o .libs/PJ_urm5.o .libs/PJ_urmfps.o .libs/PJ_wag2.o .libs/PJ_wag3.o .libs/PJ_wink1.o .libs/PJ_wink2.o .libs/pj_latlong.o .libs/pj_geocent.o .libs/aasincos.o .libs/adjlon.o .libs/bch2bps.o .libs/bchgen.o .libs/biveval.o .libs/dmstor.o .libs/mk_cheby.o .libs/pj_auth.o .libs/pj_deriv.o .libs/pj_ell_set.o .libs/pj_ellps.o .libs/pj_errno.o .libs/pj_factors.o .libs/pj_fwd.o .libs/pj_init.o .libs/pj_inv.o .libs/pj_list.o .libs/pj_malloc.o .libs/pj_mlfn.o .libs/pj_msfn.o .libs/proj_mdist.o .libs/pj_open_lib.o .libs/pj_param.o .libs/pj_phi2.o .libs/pj_pr_list.o .libs/pj_qsfn.o .libs/pj_strerrno.o .libs/pj_tsfn.o .libs/pj_units.o .libs/pj_zpoly1.o .libs/rtodms.o .libs/vector1.o .libs/pj_release.o .libs/pj_gauss.o .libs/nad_cvt.o .libs/nad_init.o .libs/nad_intr.o .libs/emess.o .libs/pj_apply_gridshift.o .libs/pj_datums.o .libs/pj_datum_set.o .libs/pj_transform.o .libs/geocent.o .libs/pj_utils.o .libs/pj_gridinfo.o .libs/pj_gridlist.o .libs/jniproj.o .libs/pj_mutex.o .libs/pj_initcache.o  -lm -lc
(cd .libs && rm -f libproj.so.0 && ln -s libproj.so.0.6.6 libproj.so.0)
(cd .libs && rm -f libproj.so && ln -s libproj.so.0.6.6 libproj.so)
false cru .libs/libproj.a  PJ_aeqd.o PJ_gnom.o PJ_laea.o PJ_mod_ster.o PJ_nsper.o PJ_nzmg.o PJ_ortho.o PJ_stere.o PJ_sterea.o PJ_aea.o PJ_bipc.o PJ_bonne.o PJ_eqdc.o PJ_imw_p.o PJ_krovak.o PJ_lcc.o PJ_poly.o PJ_rpoly.o PJ_sconics.o proj_rouss.o PJ_cass.o PJ_cc.o PJ_cea.o PJ_eqc.o PJ_gall.o PJ_labrd.o PJ_lsat.o PJ_merc.o PJ_mill.o PJ_ocea.o PJ_omerc.o PJ_somerc.o PJ_tcc.o PJ_tcea.o PJ_tmerc.o PJ_airy.o PJ_aitoff.o PJ_august.o PJ_bacon.o PJ_chamb.o PJ_hammer.o PJ_lagrng.o PJ_larr.o PJ_lask.o PJ_nocol.o PJ_ob_tran.o PJ_oea.o PJ_tpeqd.o PJ_vandg.o PJ_vandg2.o PJ_vandg4.o PJ_wag7.o PJ_lcca.o PJ_geos.o PJ_boggs.o PJ_collg.o PJ_crast.o PJ_denoy.o PJ_eck1.o PJ_eck2.o PJ_eck3.o PJ_eck4.o PJ_eck5.o PJ_fahey.o PJ_fouc_s.o PJ_gins8.o PJ_gstmerc.o PJ_gn_sinu.o PJ_goode.o PJ_hatano.o PJ_loxim.o PJ_mbt_fps.o PJ_mbtfpp.o PJ_mbtfpq.o PJ_moll.o PJ_nell.o PJ_nell_h.o PJ_putp2.o PJ_putp3.o PJ_putp4p.o PJ_putp5.o PJ_putp6.o PJ_robin.o PJ_sts.o PJ_urm5.o PJ_urmfps.o PJ_wag2.o PJ_wag3.o PJ_wink1.o PJ_wink2.o pj_latlong.o pj_geocent.o aasincos.o adjlon.o bch2bps.o bchgen.o biveval.o dmstor.o mk_cheby.o pj_auth.o pj_deriv.o pj_ell_set.o pj_ellps.o pj_errno.o pj_factors.o pj_fwd.o pj_init.o pj_inv.o pj_list.o pj_malloc.o pj_mlfn.o pj_msfn.o proj_mdist.o pj_open_lib.o pj_param.o pj_phi2.o pj_pr_list.o pj_qsfn.o pj_strerrno.o pj_tsfn.o pj_units.o pj_zpoly1.o rtodms.o vector1.o pj_release.o pj_gauss.o nad_cvt.o nad_init.o nad_intr.o emess.o pj_apply_gridshift.o pj_datums.o pj_datum_set.o pj_transform.o geocent.o pj_utils.o pj_gridinfo.o pj_gridlist.o jniproj.o pj_mutex.o pj_initcache.o
make[2]: *** [libproj.la] Error 1
make[2]: Leaving directory `/tmp/proj-4.7.0/src'
make[1]: *** [all] Error 2
make[1]: Leaving directory `/tmp/proj-4.7.0/src'
gmake: *** [all-recursive] Error 1

Any ideas on how can I build it?

PS: I'm pretty new to solaris, I'm used with linux environments, but that's my first compilation on solaris boxes.

Regards




-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20110323/a7473f34/attachment.html>

From warmerdam at pobox.com  Wed Mar 23 07:05:16 2011
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed, 23 Mar 2011 10:05:16 -0400
Subject: [Proj] Compiling on Solaris 10 x86
In-Reply-To: <681CC7166A59104C998F55FBFA1649E314E4A88E2C@ESESSCMS0362.eemea.ericsson.se>
References: <681CC7166A59104C998F55FBFA1649E314E4A88E2C@ESESSCMS0362.eemea.ericsson.se>
Message-ID: <4D89FE1C.5050200@pobox.com>

On 11-03-23 07:57 AM, Vinicius Carvalho wrote:
> Hi There! I'm trying to compile and install this library on a Solaris 10 x86
> server. Needed for the PostGIS install.
> So, I ran ./configure and everything went ok, but gmake is throwing an error:
...
> (cd .libs && rm -f libproj.so.0 && ln -s libproj.so.0.6.6 libproj.so.0)
> (cd .libs && rm -f libproj.so && ln -s libproj.so.0.6.6 libproj.so)
> false cru .libs/libproj.a PJ_aeqd.o PJ_gnom.o PJ_laea.o PJ_mod_ster.o
> PJ_nsper.o PJ_nzmg.o PJ_ortho.o PJ_stere.o PJ_sterea.o PJ_aea.o PJ_bipc.o

Vinicius,

I'm not sure why it is happening, but it seems that configure selected "false"
as the "ar" command on your system.  It looks like predefining the AR
environment variable may operate as a clue to configure about what archive
command to use.  Try:

export AR=/bin/ar
./configure

and check what "ac_ct_AR" is set to in src/Makefile.

It might also be a problem with libtool since I presume libtool is
actually intercepting in the ar command.

Good luck,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From vinicius.carvalho at ericsson.com  Wed Mar 23 07:12:08 2011
From: vinicius.carvalho at ericsson.com (Vinicius Carvalho)
Date: Wed, 23 Mar 2011 15:12:08 +0100
Subject: [Proj] Compiling on Solaris 10 x86
In-Reply-To: <4D89FE1C.5050200@pobox.com>
References: <681CC7166A59104C998F55FBFA1649E314E4A88E2C@ESESSCMS0362.eemea.ericsson.se>
	<4D89FE1C.5050200@pobox.com>
Message-ID: <681CC7166A59104C998F55FBFA1649E314E4A88FD0@ESESSCMS0362.eemea.ericsson.se>

Thanks a million Frank. That did trick. I found that ar is actually located at /usr/xpg4/bin (Have no idea what that dir is though :P)

Regards 

-----Original Message-----
From: proj-bounces at lists.maptools.org [mailto:proj-bounces at lists.maptools.org] On Behalf Of Frank Warmerdam
Sent: 23 March 2011 14:05
To: PROJ.4 and general Projections Discussions
Subject: Re: [Proj] Compiling on Solaris 10 x86

On 11-03-23 07:57 AM, Vinicius Carvalho wrote:
> Hi There! I'm trying to compile and install this library on a Solaris 
> 10 x86 server. Needed for the PostGIS install.
> So, I ran ./configure and everything went ok, but gmake is throwing an error:
...
> (cd .libs && rm -f libproj.so.0 && ln -s libproj.so.0.6.6 
> libproj.so.0) (cd .libs && rm -f libproj.so && ln -s libproj.so.0.6.6 
> libproj.so) false cru .libs/libproj.a PJ_aeqd.o PJ_gnom.o PJ_laea.o 
> PJ_mod_ster.o PJ_nsper.o PJ_nzmg.o PJ_ortho.o PJ_stere.o PJ_sterea.o 
> PJ_aea.o PJ_bipc.o

Vinicius,

I'm not sure why it is happening, but it seems that configure selected "false"
as the "ar" command on your system.  It looks like predefining the AR environment variable may operate as a clue to configure about what archive command to use.  Try:

export AR=/bin/ar
./configure

and check what "ac_ct_AR" is set to in src/Makefile.

It might also be a problem with libtool since I presume libtool is actually intercepting in the ar command.

Good luck,
-- 
---------------------------------------+--------------------------------
---------------------------------------+------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj


From c.castellazzi at niwa.co.nz  Sun Mar 27 17:26:58 2011
From: c.castellazzi at niwa.co.nz (Claire Castellazzi)
Date: Mon, 28 Mar 2011 13:26:58 +1300
Subject: [Proj] New Zealand Map grid projection
References: <4D8A02E202000044000049AD@gwia.niwa.co.nz>
	<4D908CA20200004400004A62@gwia.niwa.co.nz>
Message-ID: <4D908CA20200004400004A62@gwia.niwa.co.nz>


Hi, 

I've got a problem with the results of the NZMG projection.  
Using proj 4.7.1 (23 sept 2009), I got : 
>proj -I +proj=nzmg 
#2864916.8 6160570.9 
#177d8'19.853"E39d41'14.816"S 

But when I check my results with the Land Information New Zealand (LINZ)

http://www.linz.govt.nz/geodetic/conversion-coordinates/online-conversion-service/converter/index.aspx 
I got : 
# New Zealand Map Grid Northing Easting : 6160570.9 2864916.8         
# World Geodetic System 1984 Latitude Longitude : 39 41 08.483 S 177 08 20.625 E 

That is more than 6 minutes difference in Latitude !... 
Both seems to use the same datum NZGD49. 
I doubt that LINZ could be wrong... 
So may be I did something wrong ? 

Thanks for any help. 
Claire 
Please consider the environment before printing this email.

NIWA is the trading name of the National Institute of Water & Atmospheric Research Ltd.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20110328/775a8385/attachment.html>

From warmerdam at pobox.com  Sun Mar 27 18:25:29 2011
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sun, 27 Mar 2011 21:25:29 -0400
Subject: [Proj] New Zealand Map grid projection
In-Reply-To: <4D908CA20200004400004A62@gwia.niwa.co.nz>
References: <4D8A02E202000044000049AD@gwia.niwa.co.nz>
	<4D908CA20200004400004A62@gwia.niwa.co.nz>
	<4D908CA20200004400004A62@gwia.niwa.co.nz>
Message-ID: <4D8FE389.9030102@pobox.com>

On 11-03-27 08:26 PM, Claire Castellazzi wrote:
> Hi,
>
>
> I've got a problem with the results of the NZMG projection.
>
> Using proj 4.7.1 (23 sept 2009), I got :
>
>  >proj -I +proj=nzmg
>
> #2864916.8 6160570.9
>
> #177d8'19.853"E39d41'14.816"S
>
>
> But when I check my results with the Land Information New Zealand (LINZ)
>
> /_http://www.linz.govt.nz/geodetic/conversion-coordinates/online-conversion-service/converter/index.aspx_/
>
>
> I got :
>
> # New Zealand Map Grid Northing Easting : 6160570.9 2864916.8
>
> # World Geodetic System 1984 Latitude Longitude : 39 41 08.483 S 177 08 20.625 E

Claire,

Above you did not specify a datum for your NZMG projection and by default
the proj command is not changing datum.  What you want, apparently is:

cs2cs +proj=nzmg +datum=nzgd49 +to +proj=latlong +datum=WGS84
2864916.8 6160570.9
177d8'20.573"E	39d41'8.543"S 18.928

Things are still off by a fraction of a second, but much closer than you
were getting.  Note that the internal definition of +datum=nzgd49 is

   +ellps=intl +towgs84=59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993

I don't know what definition LINZ uses for NZGD49 - perhaps something
more accurate or even a grid shift based file?

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From hamish_b at yahoo.com  Sun Mar 27 18:32:11 2011
From: hamish_b at yahoo.com (Hamish)
Date: Sun, 27 Mar 2011 18:32:11 -0700 (PDT)
Subject: [Proj] New Zealand Map grid projection
Message-ID: <524843.39202.qm@web110008.mail.gq1.yahoo.com>

Claire wrote:
> I've got a problem with the results of the NZMG projection.
> Using proj 4.7.1 (23 sept 2009), I got :    
>       >proj -I +proj=nzmg    
>    
>      #2864916.8 6160570.9    
>      #177d8'19.853"E39d41'14.816"S    
>    
>   But when I check my results with the Land Information New Zealand (LINZ)
...
>      I got :    
>
>      That is more than 6 minutes difference in Latitude !...    
>      Both seems to use the same datum NZGD49.    


Hiya Claire, hope you are enjoying being back on dry land! :-)


The `proj` program does not apply datum shifts, you need to use `cs2cs`
instead.

the expanded version looks like:

cs2cs +proj=nzmg +datum=nzgd49 +lat_0=-41.0 +lon_0=173.0  +x_0=2510000 +y_0=6023150 +a=6378388 +rf=297 +no_defs +nadgrids=nzgd2kgrid0005.gsb +to_meter=1.0  +to +proj=longlat +datum=wgs84

a shorter version looks like
 cs2cs +init=epsg:27200 +nadgrids=nzgd2kgrid0005.gsb  +to  +init:epsg=4326


Also if working on/near land* you'll want to use the NTv2 distortion grid,
not the 3 or 7 term +towgs84 parameters. Make sure that both sides of the
"+to" include a +datum definition.

(* don't use NZMG out of view of a trig station if you can help it, it
goes a bit wonky offshore)


regards,
Hamish
(Otago)



      


From hamish_b at yahoo.com  Sun Mar 27 18:39:09 2011
From: hamish_b at yahoo.com (Hamish)
Date: Sun, 27 Mar 2011 18:39:09 -0700 (PDT)
Subject: [Proj] New Zealand Map grid projection
In-Reply-To: <4D8FE389.9030102@pobox.com>
Message-ID: <735980.55660.qm@web110008.mail.gq1.yahoo.com>

Frank:
> I don't know what definition LINZ uses for NZGD49 - perhaps
> something more accurate or even a grid shift based file?

there is a single 3 term and a single 7 term covering the entire country,
but a copy of LINZ's grid file can be found here:
  http://download.osgeo.org/proj/nzgd2kgrid0005.gsb
:)

(technically that's for NZGD49 -> NZGK2k IIRC, but that's just GRS80 vs WGS84
so beyond what is meaningful for NZMG (sub-meter) & near enough)


Hamish



      


From geoff at tritonimaginginc.com  Mon Mar 28 11:44:52 2011
From: geoff at tritonimaginginc.com (Geoff Shipton)
Date: Mon, 28 Mar 2011 11:44:52 -0700
Subject: [Proj] PROJ4 7 parameter datum shift Beijing 1954
Message-ID: <051a01cbed78$3a8f9d60$afaed820$@com>

Greetings to all,

 

I am looking for some assistance with a problem we have using the PROJ4
libraries, I am not a programmer neither am I geodesist  however I know
enough to be dangerous! Please bear with me


 

We have a customer in Shanghai China that is uses something he refers to as
the Shanghai Local projection.

 

It is built on Beijing 1954 and uses that datum, the 7 parameter shift he
gives are as follows:

 

TX:          170.076

TY:          154.924

TZ:          97.308

RX:         1.666408

RY:          0.872624

RZ:          -8.648183

K:            0.00000186

 

The Ellipsoid is Krassovsky 1940

 

The local coordinate system parameters are TM:

 

CM: 121.46716061

Scale: 1.0

False Eastings: 0

False Northings: -34587140.589

 

I constructed the following PROJ4 string:

 

+proj=tmerc +lat_0=0 +lon_0=121.46716061 +k=1 +x_0=0 +y_0=-3457140.589
+ellps=krass
+towgs84=170.0760,154.9240,97.3080,1.6664,0.8726,-8.6482,0.00000186 +units=m
+no_defs

 

However I am not getting the correct results, for example.

WGS84 coordinate

31° 17' 27.50965" N          121° 35' 54.41138" E        13.7729

Should give Shanghai Local coordinate

12501.0727E       6164.1228N

 

However the position from PROJ4 is:

12953.30E            6042.97N

 

We very rarely need to invoke this type of transformation so its quite
possible something is awry with our code, but I sure would appreciate any
thoughts on the problem.

 

Geoff Shipton,
Triton Imaging Inc.
Customer Support.
Capitola CA.
geoff at tritonimaginginc.com

The information contained in this message may be privileged or confidential
information intended solely for the use of the addressee(s).  Any views or
opinions presented in this communication do not necessarily represent those
of Triton Imaging, Inc.  If the reader of this message is not the intended
recipient, you are hereby notified that any dissemination, distribution or
copying of this communication is strictly prohibited.  If you have received
this communication in error, please immediately notify me and you are hereby
instructed to delete all electronic copies and destroy all printed copies.

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20110328/250de912/attachment.html>

From ndzinn at comcast.net  Mon Mar 28 12:11:00 2011
From: ndzinn at comcast.net (Noel Zinn (cc))
Date: Mon, 28 Mar 2011 14:11:00 -0500
Subject: [Proj] PROJ4 7 parameter datum shift Beijing 1954
In-Reply-To: <051a01cbed78$3a8f9d60$afaed820$@com>
References: <051a01cbed78$3a8f9d60$afaed820$@com>
Message-ID: <68FAE9320B4840878E7A780F14224A37@NoelHmPC>

First thing to try is to reverse the signs of the three rotations.  I believe that proj.4 uses a “position vector” rotation sense.  This may be a “coordinate frame” transformation.  Judging from the RZ value and the differences in Eastings, this might work (but I haven’t run the numbers).  -Noel

Noel Zinn, Principal, Hydrometronics LLC
+1-832-539-1472 (office), +1-281-221-0051 (cell)
noel.zinn at hydrometronics.com (email)
http://www.hydrometronics.com (website)


From: Geoff Shipton 
Sent: Monday, March 28, 2011 1:44 PM
To: proj at lists.maptools.org 
Subject: [Proj] PROJ4 7 parameter datum shift Beijing 1954

Greetings to all,

 

I am looking for some assistance with a problem we have using the PROJ4 libraries, I am not a programmer neither am I geodesist – however I know enough to be dangerous! Please bear with me…

 

We have a customer in Shanghai China that is uses something he refers to as the Shanghai Local projection.

 

It is built on Beijing 1954 and uses that datum, the 7 parameter shift he gives are as follows:

 

TX:          170.076

TY:          154.924

TZ:          97.308

RX:         1.666408

RY:          0.872624

RZ:          -8.648183

K:            0.00000186

 

The Ellipsoid is Krassovsky 1940

 

The local coordinate system parameters are TM:

 

CM: 121.46716061

Scale: 1.0

False Eastings: 0

False Northings: -34587140.589

 

I constructed the following PROJ4 string:

 

+proj=tmerc +lat_0=0 +lon_0=121.46716061 +k=1 +x_0=0 +y_0=-3457140.589 +ellps=krass +towgs84=170.0760,154.9240,97.3080,1.6664,0.8726,-8.6482,0.00000186 +units=m +no_defs

 

However I am not getting the correct results, for example.

WGS84 coordinate

31° 17' 27.50965" N          121° 35' 54.41138" E        13.7729

Should give Shanghai Local coordinate

12501.0727E       6164.1228N

 

However the position from PROJ4 is:

12953.30E            6042.97N

 

We very rarely need to invoke this type of transformation so it’s quite possible something is awry with our code, but I sure would appreciate any thoughts on the problem.

 

Geoff Shipton,
Triton Imaging Inc.
Customer Support.
Capitola CA.
geoff at tritonimaginginc.com

The information contained in this message may be privileged or confidential information intended solely for the use of the addressee(s).  Any views or opinions presented in this communication do not necessarily represent those of Triton Imaging, Inc.  If the reader of this message is not the intended recipient, you are hereby notified that any dissemination, distribution or copying of this communication is strictly prohibited.  If you have received this communication in error, please immediately notify me and you are hereby instructed to delete all electronic copies and destroy all printed copies.

 



--------------------------------------------------------------------------------
_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20110328/2de4cd5c/attachment.html>

From c.castellazzi at niwa.co.nz  Mon Mar 28 13:58:20 2011
From: c.castellazzi at niwa.co.nz (Claire Castellazzi)
Date: Tue, 29 Mar 2011 09:58:20 +1300
Subject: [Proj] New Zealand Map grid projection
In-Reply-To: <524843.39202.qm@web110008.mail.gq1.yahoo.com>
References: <524843.39202.qm@web110008.mail.gq1.yahoo.com>
Message-ID: <4D91AD3C0200004400004AA8@gwia.niwa.co.nz>


Hi Hamish (funny to hear from you here!), Hi Frank,  

Thanks a lot for your help. 
I'm sorry, I'm a neophyte with proj in particular, and geodesic in general, 
and unfortunately, something is still bothering me... 

Actually, I need to convert my coordinates into utm60 and I was trying to use cs2cs.  
(cs2cs +proj=nzmg +to +proj=utm +south +zone=60) 
It was not working so I went step by step, using proj to have a look what was going on... 
I thought that the usual datums where associated to each projection as standard parameters... 

Well, now that I understand that you actually need to specify your datum if you want the datum shift to be performed,  
I still have a problem : 
  
> cs2cs +proj=nzmg +datum=nzgd49 +lat_0=-41.0 +lon_0=173.0  +x_0=2510000 +y_0=6023150 +a=6378388 +rf=297 +no_defs +nadgrids=nzgd2kgrid0005.gsb +to_meter=1.0  +to +proj=utm +zone=60 +south +datum=wgs84 

   Using to definition: proj=utm zone=60 south datum=wgs84 
   Rel. 4.7.1, 23 September 2009 
   <cs2cs>:  
    projection initialization failure 
    cause: unknown elliptical parameter name 
    program abnormally terminated 

The same command with output in latlon +datum=wgs84, gives the same error... 
    Using to definition: proj=longlat datum=wgs84  
    Rel. 4.7.1, 23 September 2009 
    <cs2cs>:  
     projection initialization failure 
     cause: unknown elliptical parameter name 
     program abnormally terminated 


Thanks for any help. 
Claire 


PS : Hamish, I know that NZMG is not the best choice, specially offshore, but it's not my choice...  
The data comes from MED and  has been labeled only with NZMG.  
And I need to put it in the Landmark soft Seisvision, where I'm using the projection UTM60S to builds my maps... 
And yes, I feel much better on land !...  

Please consider the environment before printing this email.

NIWA is the trading name of the National Institute of Water & Atmospheric Research Ltd.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20110329/7fa51af9/attachment.html>

From warmerdam at pobox.com  Mon Mar 28 14:30:12 2011
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon, 28 Mar 2011 17:30:12 -0400
Subject: [Proj] New Zealand Map grid projection
In-Reply-To: <4D91AD3C0200004400004AA8@gwia.niwa.co.nz>
References: <524843.39202.qm@web110008.mail.gq1.yahoo.com>
	<4D91AD3C0200004400004AA8@gwia.niwa.co.nz>
Message-ID: <4D90FDE4.8020800@pobox.com>

On 11-03-28 04:58 PM, Claire Castellazzi wrote:

> I still have a problem :
>
>  > cs2cs +proj=nzmg +datum=nzgd49 +lat_0=-41.0 +lon_0=173.0 +x_0=2510000
> +y_0=6023150 +a=6378388 +rf=297 +no_defs +nadgrids=nzgd2kgrid0005.gsb
> +to_meter=1.0 +to +proj=utm +zone=60 +south +datum=wgs84
>
>
> Using to definition: proj=utm zone=60 south datum=wgs84

Claire,

I believe the problem is that PROJ.4 names are case sensitive, and
WGS84 needs to be in capitals.  Try +proj=utm +zone=60 +south +datum=WGS84

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From c.castellazzi at niwa.co.nz  Mon Mar 28 14:50:36 2011
From: c.castellazzi at niwa.co.nz (Claire Castellazzi)
Date: Tue, 29 Mar 2011 10:50:36 +1300
Subject: [Proj] New Zealand Map grid projection
In-Reply-To: <4D90FDE4.8020800@pobox.com>
References: <524843.39202.qm@web110008.mail.gq1.yahoo.com>
	<4D91AD3C0200004400004AA8@gwia.niwa.co.nz> <4D90FDE4.8020800@pobox.com>
Message-ID: <4D91B97C0200004400004ABE@gwia.niwa.co.nz>


Hi Frank, 

Thanks, You're right, it is case sensitive and it now gives a result with +datum=WGS84. 
But the result is wrong...  
The result is actually the same as without specifying the datum, so I guess the datum shift has not been performed...
 
$ cs2cs +proj=nzmg +datum=nzgd49 +lat_0=-41.0 +lon_0=173.0  +x_0=2510000 +y_0=6023150 +a=6378388 +rf=297 +no_defs +nadgrids=nzgd2kgrid0005.gsb +to_meter=1.0  +to +proj=utm +zone=60 +south +datum=WGS84 
2864916.8 6160570.9 
511905.895606922.76 0.00 

Without any datum : $ cs2cs +proj=nzmg +to +proj=utm +zone=60 +south 
2864916.8 6160570.9 
511905.89   5606922.76 0.00 

The right answer (from LINZ) should be : 
511924.6   5607118.0  


I even tried : 

$ cs2cs +proj=nzmg +datum=nzgd49 +lat_0=-41.0 +lon_0=173.0  +x_0=2510000 +y_0=6023150 +a=6378388 +rf=297 +no_defs +nadgrids=nzgd2kgrid0005.gsb +to_meter=1.0  +to +proj=utm +zone=60 +south +datum=WGS84 +lat_0=0.0 +lon_0=177.0 +x_0=500000 +y_0=10000000 +a=6378137 +rf=298.257223563 +to_meters=1.0 
2864916.8 6160570.9 
511905.895606922.76 0.00 


So what's wrong ?... 
Please... 

Thanks. 
Claire 








>>> Frank Warmerdam <warmerdam at pobox.com> 3/29/2011 10:30 AM >>>
On 11-03-28 04:58 PM, Claire Castellazzi wrote:

> I still have a problem :
>
>  > cs2cs +proj=nzmg +datum=nzgd49 +lat_0=-41.0 +lon_0=173.0 +x_0=2510000
> +y_0=6023150 +a=6378388 +rf=297 +no_defs +nadgrids=nzgd2kgrid0005.gsb
> +to_meter=1.0 +to +proj=utm +zone=60 +south +datum=wgs84
>
>
> Using to definition: proj=utm zone=60 south datum=wgs84

Claire,

I believe the problem is that PROJ.4 names are case sensitive, and
WGS84 needs to be in capitals.  Try +proj=utm +zone=60 +south +datum=WGS84

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj

Please consider the environment before printing this email.

NIWA is the trading name of the National Institute of Water & Atmospheric Research Ltd.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20110329/6f55aba5/attachment.html>

From hamish_b at yahoo.com  Mon Mar 28 15:11:56 2011
From: hamish_b at yahoo.com (Hamish)
Date: Mon, 28 Mar 2011 15:11:56 -0700 (PDT)
Subject: [Proj] New Zealand Map grid projection
Message-ID: <935389.70476.qm@web110008.mail.gq1.yahoo.com>

> The result is actually the same as without specifying the
> datum, so I guess the datum shift has not been performed...
>  
>      $ cs2cs +proj=nzmg +datum=nzgd49 +lat_0=-41.0 +lon_0=173.0
> +x_0=2510000 +y_0=6023150 +a=6378388 +rf=297 +no_defs
> +nadgrids=nzgd2kgrid0005.gsb +to_meter=1.0  +to +proj=utm
> +zone=60 +south +datum=WGS84    

does /usr/share/proj/nzgd2kgrid0005.gsb exist on your system?

proj4 tends to fail silently sometimes..


Hamish



      


From jagoncal at gmail.com  Mon Mar 28 16:40:51 2011
From: jagoncal at gmail.com (=?ISO-8859-1?Q?Jose_Gon=E7alves?=)
Date: Tue, 29 Mar 2011 00:40:51 +0100
Subject: [Proj] PROJ4 7 parameter datum shift Beijing 1954
In-Reply-To: <051a01cbed78$3a8f9d60$afaed820$@com>
References: <051a01cbed78$3a8f9d60$afaed820$@com>
Message-ID: <AANLkTinH-za4_HXnx-aZVuenZZTdOymx_8uJd+uxjHS+@mail.gmail.com>

Geoff
The scale factor (the difference to 1) in +towgs84 should be in ppm. You
should have +towgs84=....,1.86.
I tried your command line and the results were the ones you give. However if
you don't consider the datum transformtion, just the projection, and apply
it to those geographic coordinates you get something very close to the
result you expect (less than 1 meter distance):

proj +proj=tmerc +lat_0=0 +lon_0=121.46716061 +k=1 +x_0=0 +y_0=-3457140.589
+ellps=krass
121d35'54.41138"E 31d17'27.50965"N
12500.45        6163.65

Probably your test point is in the local datum and not WGS84.

Regards

José Gonçalves





2011/3/28 Geoff Shipton <geoff at tritonimaginginc.com>

> Greetings to all,
>
>
>
> I am looking for some assistance with a problem we have using the PROJ4
> libraries, I am not a programmer neither am I geodesist – however I know
> enough to be dangerous! Please bear with me…
>
>
>
> We have a customer in Shanghai China that is uses something he refers to as
> the Shanghai Local projection.
>
>
>
> It is built on Beijing 1954 and uses that datum, the 7 parameter shift he
> gives are as follows:
>
>
>
> TX:          170.076
>
> TY:          154.924
>
> TZ:          97.308
>
> RX:         1.666408
>
> RY:          0.872624
>
> RZ:          -8.648183
>
> K:            0.00000186
>
>
>
> The Ellipsoid is Krassovsky 1940
>
>
>
> The local coordinate system parameters are TM:
>
>
>
> CM: 121.46716061
>
> Scale: 1.0
>
> False Eastings: 0
>
> False Northings: -34587140.589
>
>
>
> I constructed the following PROJ4 string:
>
>
>
> +proj=tmerc +lat_0=0 +lon_0=121.46716061 +k=1 +x_0=0 +y_0=-3457140.589
> +ellps=krass
> +towgs84=170.0760,154.9240,97.3080,1.6664,0.8726,-8.6482,0.00000186 +units=m
> +no_defs
>
>
>
> However I am not getting the correct results, for example.
>
> WGS84 coordinate
>
> 31° 17' 27.50965" N          121° 35' 54.41138" E        13.7729
>
> Should give Shanghai Local coordinate
>
> 12501.0727E       6164.1228N
>
>
>
> However the position from PROJ4 is:
>
> 12953.30E            6042.97N
>
>
>
> We very rarely need to invoke this type of transformation so it’s quite
> possible something is awry with our code, but I sure would appreciate any
> thoughts on the problem.
>
>
>
> Geoff Shipton,
> Triton Imaging Inc.
> Customer Support.
> Capitola CA.
> geoff at tritonimaginginc.com
>
> The information contained in this message may be privileged or confidential
> information intended solely for the use of the addressee(s).  Any views or
> opinions presented in this communication do not necessarily represent those
> of Triton Imaging, Inc.  If the reader of this message is not the intended
> recipient, you are hereby notified that any dissemination, distribution or
> copying of this communication is strictly prohibited.  If you have received
> this communication in error, please immediately notify me and you are hereby
> instructed to delete all electronic copies and destroy all printed copies.
>
>
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20110329/16b8ec63/attachment.html>

From hamish_b at yahoo.com  Mon Mar 28 17:00:03 2011
From: hamish_b at yahoo.com (Hamish)
Date: Mon, 28 Mar 2011 17:00:03 -0700 (PDT)
Subject: [Proj] New Zealand Map grid projection
Message-ID: <566199.60212.qm@web110006.mail.gq1.yahoo.com>

Claire wrote:
> The result is actually the same as without specifying the
> datum, so I guess the datum shift has not been performed...
>
>  $ cs2cs +proj=nzmg +datum=nzgd49 +lat_0=-41.0 +lon_0=173.0  +x_0=2510000 +y_0=6023150 +a=6378388 +rf=297 +no_defs +nadgrids=nzgd2kgrid0005.gsb +to_meter=1.0  +to +proj=utm +zone=60 +south +datum=WGS84    
>      2864916.8 6160570.9    
>      511905.89 5606922.76 0.00    

that's strange, the same command for me that gives the correct result,
511924.57	5607117.97 0.00

(proj 4.7.1 on debian/stable)


> The right answer (from LINZ) should be :    
> 511924.6   5607118.0	  

hmm, I get close to that:

$ cs2cs +proj=nzmg +datum=nzgd49 +to +proj=utm +zone=60 +south +datum=WGS84
2864916.8 6160570.9
511923.33	5607116.10 18.93

(`cs2cs -ld` shows default 7-term transform will be used with nzgd49)


# using the grid file I match LINZ's result:
$ cs2cs +proj=nzmg +datum=nzgd49 +nadgrids=nzgd2kgrid0005.gsb \
    +to +proj=utm +zone=60 +south +datum=WGS84
2864916.8 6160570.9
511924.57	5607117.97 0.00

# the 7-term transform is identical to the default (as expected):
$ cs2cs +proj=nzmg +datum=nzgd49 +towgs84=59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993 \
    +to +proj=utm +zone=60 +south +datum=WGS84
2864916.8 6160570.9
511923.33	5607116.10 18.93

# the 3-term transform is nearby too:
$ cs2cs +proj=nzmg +datum=nzgd49 +towgs84=54.400,-20.100,183.100 \
    +to +proj=utm +zone=60 +south +datum=WGS84
2864916.8 6160570.9
511923.55	5607117.97 54.31


also be careful you don't fall off the eastern edge of the grid
file, as I recall that's not very far off the East Cape, so if
the data goes far off east perhaps it is better to use the 7-term
transform throughout.


??,
Hamish



      


From c.castellazzi at niwa.co.nz  Mon Mar 28 17:33:54 2011
From: c.castellazzi at niwa.co.nz (Claire Castellazzi)
Date: Tue, 29 Mar 2011 13:33:54 +1300
Subject: [Proj] New Zealand Map grid projection
In-Reply-To: <935389.70476.qm@web110008.mail.gq1.yahoo.com>
References: <935389.70476.qm@web110008.mail.gq1.yahoo.com>
Message-ID: <4D91DFC20200004400004B1A@gwia.niwa.co.nz>


Hi Hamish, 

It's fixed ! Thanks a lot for your help ! 

I have two computers running proj. Mine and a remote one. The remote one doesn't have the  
nzgd2kgrid0005.gsb file, so that's what it was.  

My computer does have the file  /usr/share/proj/nzgd2kgrid0005.gsb, but it was giving 0 as a result... 

$cs2cs +proj=nzmg +datum=nzgd49 +lat_0=-41.0 +lon_0=173.0  +x_0=2510000 +y_0=6023150 +a=6378388 +rf=297 +no_defs +nadgrids=nzgd2kgrid0005.gsb +to_meter=1.0  +to +proj=utm +zone=60 +south +datum=WGS84 
2864916.8 6160570.9 
 0.000 

So I tried : 

cs2cs +proj=nzmg +datum=nzgd49 +lat_0=-41.0 +lon_0=173.0  +x_0=2510000 +y_0=6023150 +a=6378388 +rf=297 +no_defs +nadgrids=nzgd2kgrid0005.gsb +to_meter=1.0  +to +proj=utm +zone=60 +south +datum=WGS84 -v 
# ---- From Coordinate System ---- 
#New Zealand Map Grid 
#fixed Earth 
# +proj=nzmg +datum=nzgd49 +lat_0=-41.0 +lon_0=173.0 +x_0=2510000 +y_0=6023150 
# +a=6378388 +rf=297 +no_defs +nadgrids=nzgd2kgrid0005.gsb +to_meter=1.0 
# +ellps=intl 
#--- following specified but NOT used 
# +towgs84=59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993 
# ---- To Coordinate System ---- 
#Universal Transverse Mercator (UTM) 
#Cyl, Sph 
#zone= south 
# +proj=utm +zone=60 +south +datum=WGS84 +ellps=WGS84 +towgs84=0,0,0 



There was just some wrong path associated with the proj I was using... It's working well now... 
Thanks again. 
Cheers 
Claire 

Please consider the environment before printing this email.

NIWA is the trading name of the National Institute of Water & Atmospheric Research Ltd.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20110329/2369f37f/attachment.html>

From vidit.uiet at gmail.com  Tue Mar 29 02:32:51 2011
From: vidit.uiet at gmail.com (VIDIT KUSHWAHA)
Date: Tue, 29 Mar 2011 15:02:51 +0530
Subject: [Proj] unable to install proj.4 on fedora Linux
Message-ID: <AANLkTik_En76T52tGnL617UyRFu9i=+oEaBe17ZWSc3e@mail.gmail.com>

Hi

I am new to proj4. I tried to install proj.4 4.7 on fedora
linux. Configure command works fine without giving any error. But when I
give make command error occurs. output of make is given below:

[root at localhost proj-4.7.0]# make

Making all in src

make[1]: Entering directory `/root/Desktop/gis/proj-4.7.0/src'

make  all-am

make[2]: Entering directory `/root/Desktop/gis/proj-4.7.0/src'

make[2]: Leaving directory `/root/Desktop/gis/proj-4.7.0/src'

make[1]: Leaving directory `/root/Desktop/gis/proj-4.7.0/src'

Making all in man

make[1]: Entering directory `/root/Desktop/gis/proj-4.7.0/man'

Making all in man1

make[2]: Entering directory `/root/Desktop/gis/proj-4.7.0/man/man1'

make[2]: Nothing to be done for `all'.

make[2]: Leaving directory `/root/Desktop/gis/proj-4.7.0/man/man1'

Making all in man3

make[2]: Entering directory `/root/Desktop/gis/proj-4.7.0/man/man3'

make[2]: Nothing to be done for `all'.

make[2]: Leaving directory `/root/Desktop/gis/proj-4.7.0/man/man3'

make[2]: Entering directory `/root/Desktop/gis/proj-4.7.0/man'

make[2]: Nothing to be done for `all-am'.

make[2]: Leaving directory `/root/Desktop/gis/proj-4.7.0/man'

make[1]: Leaving directory `/root/Desktop/gis/proj-4.7.0/man'

Making all in nad

make[1]: Entering directory `/root/Desktop/gis/proj-4.7.0/nad'

make[1]: *** No rule to make target `GL27', needed by `all-am'.  Stop.

make[1]: Leaving directory `/root/Desktop/gis/proj-4.7.0/nad'

make: *** [all-recursive] Error 1
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20110329/660ef855/attachment.html>

From warmerdam at pobox.com  Tue Mar 29 07:39:32 2011
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue, 29 Mar 2011 10:39:32 -0400
Subject: [Proj] unable to install proj.4 on fedora Linux
In-Reply-To: <AANLkTik_En76T52tGnL617UyRFu9i=+oEaBe17ZWSc3e@mail.gmail.com>
References: <AANLkTik_En76T52tGnL617UyRFu9i=+oEaBe17ZWSc3e@mail.gmail.com>
Message-ID: <4D91EF24.6040406@pobox.com>

On 11-03-29 05:32 AM, VIDIT KUSHWAHA wrote:
> Hi
>
> I am new to proj4. I tried to install proj.4 4.7 on fedora
> linux. Configure command works fine without giving any error. But when I give
> make command error occurs. output of make is given below:
>
...
> Making all in nad
>
> make[1]: Entering directory `/root/Desktop/gis/proj-4.7.0/nad'
>
> make[1]: *** No rule to make target `GL27', needed by `all-am'.Stop.

Vidit,

I inspected proj-4.7.0.tar.gz and it has this file in the nad directory.
Do you have it?  On the download server I did:

warmerdam at xblade13:/osgeo/download/proj$ tar tzvf proj-4.7.0.tar.gz |grep GL27
-rw-r--r-- 501/501         694 2008-10-18 09:08 proj-4.7.0/nad/GL27

This is one of few upper case files.  Any chance you are doing this on a
filesystem that does not preserve case?

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From mkennedy2 at earthlink.net  Tue Mar 29 20:14:53 2011
From: mkennedy2 at earthlink.net (Melita Kennedy)
Date: Tue, 29 Mar 2011 20:14:53 -0700 (GMT-07:00)
Subject: [Proj] Proj Digest, Vol 82, Issue 7
Message-ID: <21604600.1301454894057.JavaMail.root@elwamui-karabash.atl.sa.earthlink.net>




-----Original Message-----

>Date: Mon, 28 Mar 2011 11:44:52 -0700
>From: "Geoff Shipton" <geoff at tritonimaginginc.com>
>Subject: [Proj] PROJ4 7 parameter datum shift Beijing 1954
>To: <proj at lists.maptools.org>
> 
>It is built on Beijing 1954 and uses that datum, the 7 parameter shift he
>gives are as follows:
>
>TX:          170.076
>TY:          154.924
>TZ:          97.308
>RX:         1.666408
>RY:          0.872624
>RZ:          -8.648183
>K:            0.00000186


Geoff, 

In addition to changing the signs of the rotation parameters as Noel suggested, also convert the K: 0.00000186 to ppm, 1.86 and try that. 

A lesser possibility is that the directionality is wrong and these parameters convert from WGS84 to Beijing 1954. 

Melita 



From vidit.uiet at gmail.com  Tue Mar 29 22:42:13 2011
From: vidit.uiet at gmail.com (VIDIT KUSHWAHA)
Date: Wed, 30 Mar 2011 11:12:13 +0530
Subject: [Proj] Proj Digest, Vol 82, Issue 9
In-Reply-To: <mailman.3.1301418002.3307.proj@lists.maptools.org>
References: <mailman.3.1301418002.3307.proj@lists.maptools.org>
Message-ID: <AANLkTinsGCvVroa2aF7d3e+7dDD9FnuJFLLTGL-FTXkS@mail.gmail.com>

hi
Frank Warmerdam,

thanks for ur help.......GL27 file was there..........actually the name of
file GL27 , IGNF (inside nad folder ) was in lower case....thats why it waas
not able to find it .

thaks again...

bbye
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20110330/9547f9e2/attachment.html>

