From jonathan at t3rra.com  Wed Jan  4 19:08:24 2023
From: jonathan at t3rra.com (Jonathan Johansen)
Date: Thu, 5 Jan 2023 13:08:24 +1000
Subject: [PROJ] Interface to PROJ from C#
Message-ID: <CALFvv1=TteQ53XTFybAaoyMZ3LRZTR3O-OxMNS8nuZLjmohQcQ@mail.gmail.com>

Hi all!

I'm trying to use PROJ 9.1.1 in my C# Windows project, but am not having
any success. A friend has tried to use it from EasyGIS, but ran into an
issue. So I thought I'd try SharpProj (https://github.com/AmpScm/SharpProj),
but I ran into https://github.com/AmpScm/SharpProj/issues/25. So I thought
why not try to use the win DLL directly myself? So I got the 64 bit OSGeo4W
from https://proj.org/install.html#windows, and grabbed all of the DLLs in
the bin folder, and have put them into my project. But it throws a similar
error:
>'Unable to load DLL 'proj_9_1.dll' or one of its dependencies: The
specified module could not be found.
So I thought I'd try to build the DLLS myself and use them. So I've got the
9.1.1 source code, installed cmake, started going through the first
tutorial, and am trying. I'm not familiar with Linux, and I'm building on
Windows (I see one entry in the mailing list from June 2022 about windows),
so this is probably not going to be easy. Anyway, when trying to build it,
I get this:

>D:\Downloads\proj_build>cmake ../proj-9.1.1
-- Selecting Windows SDK version 10.0.19041.0 to target Windows 10.0.19045.
-- Requiring C++11
-- Requiring C++11 - done
-- Requiring C99
-- Requiring C99 - done
-- Configuring PROJ:
-- PROJ_VERSION                   = 9.1.1
-- PROJ_ABI_VERSION               = 9_1
CMake Warning at cmake/ProjConfig.cmake:48 (message):
  Autoconf's D:/Downloads/proj-9.1.1/src/proj_config.h may interfere with
  this CMake build.  Run 'make distclean' in the source directory before
  CMake's build.
Call Stack (most recent call first):
  CMakeLists.txt:127 (include)

-- nlohmann/json: internal
CMake Error at CMakeLists.txt:176 (message):
  sqlite3 binary not found!

CMake Error at CMakeLists.txt:181 (message):
  sqlite3 dependency not found!

CMake Error at CMakeLists.txt:187 (message):
  sqlite3 >= 3.11 required!

CMake Error at C:/Program
Files/CMake/share/cmake-3.25/Modules/FindPackageHandleStandardArgs.cmake:230
(message):
  Could NOT find TIFF (missing: TIFF_LIBRARY TIFF_INCLUDE_DIR)
Call Stack (most recent call first):
  C:/Program
Files/CMake/share/cmake-3.25/Modules/FindPackageHandleStandardArgs.cmake:600
(_FPHSA_FAILURE_MESSAGE)
  C:/Program Files/CMake/share/cmake-3.25/Modules/FindTIFF.cmake:124
(FIND_PACKAGE_HANDLE_STANDARD_ARGS)
  CMakeLists.txt:198 (find_package)

-- Configuring incomplete, errors occurred!
See also "D:/Downloads/proj-9.1.1/CMakeFiles/CMakeOutput.log".

I have copied the sqlite3.exe and .dll from OSGeo4W into both folders, and
it still doesn't think sqlite is there. I'll keep going through cmake
tutorials to try to understand how I can satisfy it, but any help is
appreciated - even better if SharpProj can be made to work. At this point I
am a bit sad as I'm in over my head. I can supply a basic project trying to
use the OSGeo4W DLLs too, if you'd like to look at that.

Thanks so much for reading to this point!

*Jonathan Johansen*
M: 0438 922 553 <0438922553>
E: jonathan at t3rra.com
W: http://www.t3rra.com/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20230105/96a1518a/attachment.htm>

From bert at qqmail.nl  Thu Jan  5 04:31:15 2023
From: bert at qqmail.nl (Bert Huijben)
Date: Thu, 5 Jan 2023 13:31:15 +0100
Subject: [PROJ] Interface to PROJ from C#
In-Reply-To: <CALFvv1=TteQ53XTFybAaoyMZ3LRZTR3O-OxMNS8nuZLjmohQcQ@mail.gmail.com>
References: <CALFvv1=TteQ53XTFybAaoyMZ3LRZTR3O-OxMNS8nuZLjmohQcQ@mail.gmail.com>
Message-ID: <003d01d92101$9a943b70$cfbcb250$@qqmail.nl>

When I tried to use proj from C# a few years back I created a wrapper library SharpProj (https://github.com/AmpScm/SharpProj.git)

 ?

All sourcecode and buildscripts that work for me are in the repository, but I?m guessing you can just use NuGet and use the latest proj directly with some of the sample code from there.

 ?

 ?

The easiest way to build proj yourself on Windows is current most likely using vcpkg. That helps building proj and all its dependencies.

 ?

               Bert

 ?

From: PROJ <proj-bounces at lists.osgeo.org> On Behalf Of Jonathan Johansen
Sent: Thursday, January 5, 2023 4:08 AM
To: proj at lists.osgeo.org
Subject: [PROJ] Interface to PROJ from C#

 ?

Hi all!

 ?

I'm trying to use PROJ 9.1.1 in my C# Windows project, but am not having any success. A friend has tried to use it from EasyGIS, but ran into an issue. So I thought I'd try SharpProj (https://github.com/AmpScm/SharpProj), but I ran into ?https://github.com/AmpScm/SharpProj/issues/25. So I thought why not try to use the win DLL directly myself? So I got the 64 bit ?OSGeo4W from ?https://proj.org/install.html#windows, and grabbed all of the DLLs in the bin folder, and have put them into my project. But it throws a similar error:

>'Unable to load DLL 'proj_9_1.dll' or one of its dependencies: The specified module could not be found.

So I thought I'd try to build the DLLS myself and use them. So I've got the 9.1.1 source code, installed cmake, started going through the first tutorial, and am trying. I'm not familiar with Linux, and I'm building on Windows (I see one entry in the mailing list from June 2022 about windows), so this is probably not going to be easy. Anyway, when trying to build it, I get this:

 ?

>D:\Downloads\proj_build>cmake ../proj-9.1.1
-- Selecting Windows SDK version 10.0.19041.0 to target Windows 10.0.19045.
-- Requiring C++11
-- Requiring C++11 - done
-- Requiring C99
-- Requiring C99 - done
-- Configuring PROJ:
-- PROJ_VERSION  ?  ?  ?  ?  ?  ?  ?  ?  ? = 9.1.1
-- PROJ_ABI_VERSION  ?  ?  ?  ?  ?  ?  ? = 9_1
CMake Warning at cmake/ProjConfig.cmake:48 (message):
 ? Autoconf's D:/Downloads/proj-9.1.1/src/proj_config.h may interfere with
 ? this CMake build. ? Run 'make distclean' in the source directory before
 ? CMake's build.
Call Stack (most recent call first):
 ? CMakeLists.txt:127 (include)

-- nlohmann/json: internal
CMake Error at CMakeLists.txt:176 (message):
 ? sqlite3 binary not found!

CMake Error at CMakeLists.txt:181 (message):
 ? sqlite3 dependency not found!

CMake Error at CMakeLists.txt:187 (message):
 ? sqlite3 >= 3.11 required!

CMake Error at C:/Program Files/CMake/share/cmake-3.25/Modules/FindPackageHandleStandardArgs.cmake:230 (message):
 ? Could NOT find TIFF (missing: TIFF_LIBRARY TIFF_INCLUDE_DIR)
Call Stack (most recent call first):
 ? C:/Program Files/CMake/share/cmake-3.25/Modules/FindPackageHandleStandardArgs.cmake:600 (_FPHSA_FAILURE_MESSAGE)
 ? C:/Program Files/CMake/share/cmake-3.25/Modules/FindTIFF.cmake:124 (FIND_PACKAGE_HANDLE_STANDARD_ARGS)
 ? CMakeLists.txt:198 (find_package)

-- Configuring incomplete, errors occurred!
See also "D:/Downloads/proj-9.1.1/CMakeFiles/CMakeOutput.log".

 ?

I have copied the sqlite3.exe and .dll from ?OSGeo4W into both folders, and it still doesn't think sqlite is there. I'll keep going through cmake tutorials to try to understand how I can satisfy it, but any help is appreciated - even better if SharpProj can be made to work. At this point I am a bit sad as I'm in over my head. I can supply a basic project trying to use the ?OSGeo4W DLLs too, if you'd like to look at that.

 ?

Thanks so much for reading to this point!

 ?

Jonathan Johansen


M:   <tel:0438922553> 0438 922 553


E:  jonathan at t3rra.com <mailto:jonathan at t3rra.com> 
W:  http://www.t3rra.com/

 ?

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20230105/9f235272/attachment.htm>

From even.rouault at spatialys.com  Thu Jan  5 07:27:50 2023
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 5 Jan 2023 16:27:50 +0100
Subject: [PROJ] Bumping SONAME for PROJ 9.2 for changes in PJ_LOG_LEVEL ?
Message-ID: <830f59e8-2e9d-2a3f-7f65-1169d6e00773@spatialys.com>

Hi,

asking feedback of the PSC regarding a point of 
https://github.com/OSGeo/PROJ/pull/3535

I've added a new PJ_LOG_WARNING level in the public PJ_LOG_LEVEL 
enumeration. Ideally this level should be between PJ_LOG_ERROR and 
PJ_LOG_DEBUG, but the first is assigned integer value 1 and the later 2. 
So there's no room to make it fit naturally

In the current state of the PR, I've allocated PJ_LOG_WARNING=10, and 
added an helper function that enables to logically compare log levels. 
But I recognize that's a bit convoluted.

I'd be leaning towards the following: for PROJ 9.2, modify PJ_LOG_LEVEL 
as below (letting some space if the need for new values arise in the 
future), and bump the SONAME version number from 25 to 26 to acknowledge 
the ABI breakage (but keep the PROJ 9.2 "user" version number to reflect 
this is mostly a transparent change that shouldn't require more than 
rebuilding software against modified proj.h)

typedef enum PJ_LOG_LEVEL {
 ??? PJ_LOG_NONE? = 0,
 ??? PJ_LOG_ERROR = 10,
 ??? PJ_LOG_WARNING = 20,
 ??? PJ_LOG_DEBUG = 30,
 ??? PJ_LOG_TRACE = 40,
 ??? PJ_LOG_TELL? = 50,
 ??? PJ_LOG_DEBUG_MAJOR = PJ_LOG_DEBUG, /* for proj_api.h compatibility */
 ??? PJ_LOG_DEBUG_MINOR = PJ_LOG_TRACE? /* for proj_api.h compatibility */
} PJ_LOG_LEVEL;

(Just realizing that some command line utilities, like cct that can take 
-v, -vv, -vvv to adjust the verbosity level will have to be adjusted as 
there will no longer be a direct mapping between the number of 
repetitions and the value of PJ_LOG_LEVEL, but that's OK)

Even

-- 
http://www.spatialys.com
My software is free, but my time generally not.


From gdt at lexort.com  Thu Jan  5 07:52:07 2023
From: gdt at lexort.com (Greg Troxel)
Date: Thu, 05 Jan 2023 10:52:07 -0500
Subject: [PROJ] Bumping SONAME for PROJ 9.2 for changes in PJ_LOG_LEVEL ?
In-Reply-To: <830f59e8-2e9d-2a3f-7f65-1169d6e00773@spatialys.com> (Even
 Rouault's message of "Thu, 5 Jan 2023 16:27:50 +0100")
References: <830f59e8-2e9d-2a3f-7f65-1169d6e00773@spatialys.com>
Message-ID: <rmia62x0yjc.fsf@s1.lexort.com>

Even Rouault <even.rouault at spatialys.com> writes:

> I'd be leaning towards the following: for PROJ 9.2, modify
> PJ_LOG_LEVEL as below (letting some space if the need for new values
> arise in the future), and bump the SONAME version number from 25 to 26
> to acknowledge the ABI breakage (but keep the PROJ 9.2 "user" version
> number to reflect this is mostly a transparent change that shouldn't
> require more than rebuilding software against modified proj.h)

My quick reaction is that ABI breaks shouldn't happen in minor releases,
so if you do an ABI break, it should be 10.0.

enum values shouldn't be compared outside the abstraction boundary, so
your helper seems ok, and less total pain than an ABI break.

From peter.townsend at maplarge.com  Thu Jan  5 08:50:56 2023
From: peter.townsend at maplarge.com (Peter Townsend)
Date: Thu, 5 Jan 2023 10:50:56 -0600
Subject: [PROJ] Interface to PROJ from C#
In-Reply-To: <003d01d92101$9a943b70$cfbcb250$@qqmail.nl>
References: <CALFvv1=TteQ53XTFybAaoyMZ3LRZTR3O-OxMNS8nuZLjmohQcQ@mail.gmail.com>
 <003d01d92101$9a943b70$cfbcb250$@qqmail.nl>
Message-ID: <CAMQBGmXbHW1AesmuLegWmHLOs9CFuQrdD8hx+Y7Qr68XHFwOdg@mail.gmail.com>

I unfortunately can't just give away what I did, but I wrote my own C#
wrapper for proj.

I followed the instructions on the webpage over here:
https://proj.org/install.html#building-on-windows-with-vcpkg-and-visual-studio-2017-or-2019

If you didn't put vcpkg at c:\dev\vcpkg, just make a symlink and it should
work fine. Just be sure to run all related vcpkg install commands from the
original directory.

To build debug vs release, I use these commands in the x64 Native Tools
command prompt:
cmake -DBUILD_SHARED_LIBS=ON
-DCMAKE_TOOLCHAIN_FILE=C:\dev\vcpkg\scripts\buildsystems\vcpkg.cmake ..
cmake --build . --config Debug -j 8

cmake -DBUILD_SHARED_LIBS=ON
-DCMAKE_TOOLCHAIN_FILE=C:\dev\vcpkg\scripts\buildsystems\vcpkg.cmake ..
cmake --build . --config Release -j 8

Beyond that, I forked the regular proj repo to add/modify a few things, and
I have a C# wrapper DLL that handles the P/Invoke calls. Additionally, we
generate a pair of internal Nuget packages. One contains the dll references
only. It'll put the following DLLs in runtimes/win-x64/native:
jpeg62.dll, libcurl.dll, "proj dll output from the build", "my custom C
proj dll", lzma.dll, sqlite3.dll, tiff.dll, and zlib1.dll.

Similarly we've got a linux equivalent that does runtimes/linux-x64 and
linux-arm64.

The second nuget package is the proj.db and friends that appear in the data
folder after building proj: alaska, BETA2007.gsb, conus, egm96_15.gtx,
GL27, ITRF2000, MD, nad27, nad83, ntf_r93.gsb, ntv1_can.dat, ntv2_0.gsb,
proj.db, and proj.ini. When I create a proj context object, I make sure to
give it their path via SetSearchPaths.

You don't necessarily need nuget packages if you do a post build copy step
or something along those lines.

In my custom C++ code I made a whole set of methods to ensure that all
strings are CoTaskMemAlloc'd so they happily marshal to the .NET world. It
was a bit of a pain to do, but I don't get random crashes dealing with
strings anymore. I also added methods for instantiating certain unmanaged
objects so I can get at their memory address.

In the C# wrapper, I set up a system like this. I have ProjObjects and
ProjHandles whose main job is to make sure everything gets disposed
properly. The only hitch is dealing with the default ProjContext and making
sure not to ever kill that.

public abstract class ProjObject : IDisposable {

private bool isDisposed;
public bool IsDisposed { get => isDisposed; }

public void Dispose() {
if (this.isDisposed)
return;

this.DisposeCore();
this.isDisposed = true;
}
protected virtual void DisposeCore() { }
}

public abstract class ProjHandleObject<T> : ProjObject,
IProjHandleObject<T> where T : ProjSafeHandle {

protected readonly T handle;
internal T Handle => handle;
T IProjHandleObject<T>.Handle => handle;

public IntPtr UnsafeAddress => Handle.DangerousGetHandle();

public virtual bool IsValid => !handle.IsInvalid;

internal ProjHandleObject(T handle) => this.handle = handle ?? throw new
ArgumentNullException(nameof(handle));

protected override void DisposeCore() {
this.handle.Dispose();

base.DisposeCore();
}

}

public interface IProjObject : IDisposable {

bool IsDisposed { get; }
bool IsValid { get; }

}
internal interface IProjHandleObject<T> : IProjObject where T :
ProjSafeHandle {


T Handle { get; }

}

public abstract class ProjSafeHandle : SafeHandle {

public override bool IsInvalid => handle.ToInt64() == 0;

protected ProjSafeHandle() : base(IntPtr.Zero, true) { }
protected ProjSafeHandle(bool ownsHandle) : base(IntPtr.Zero, ownsHandle) {
}

}

Here's an actual sample object w/ handle:
public class ProjTypesArray : ProjHandleObject<ProjTypesArrayHandle> {

private readonly int length;
public int Length => length;

[System.Diagnostics.DebuggerStepThrough]
internal ProjTypesArray(ProjTypesArrayHandle handle, int length) :
base(handle) {
this.length = length;
}

}

public class ProjTypesArrayHandle : ProjSafeHandle {

[System.Diagnostics.DebuggerStepThrough]
internal ProjTypesArrayHandle() { }

protected override bool ReleaseHandle() {
//No other verification other than it doesn't die.
Api.ProjProxy.Iso.CrsList.projproxy_destroy_unmanaged_pj_types_array(this.handle);
return true;
}

}

PInvoke call looks like this:
[DllImport(PROJ_PROXY_DLL, EntryPoint =
"projproxy_create_unmanaged_pj_types_array", CallingConvention =
CallingConvention.Cdecl)]
public extern static ProjTypesArrayHandle
projproxy_create_unmanaged_pj_types_array(PJ_TYPE[] types, long typesCount);

On Thu, Jan 5, 2023 at 6:31 AM Bert Huijben <bert at qqmail.nl> wrote:

> When I tried to use proj from C# a few years back I created a wrapper
> library SharpProj (https://github.com/AmpScm/SharpProj.git)
>
>
>
> All sourcecode and buildscripts that work for me are in the repository,
> but I?m guessing you can just use NuGet and use the latest proj directly
> with some of the sample code from there.
>
>
>
>
>
> The easiest way to build proj yourself on Windows is current most likely
> using vcpkg. That helps building proj and all its dependencies.
>
>
>
>                Bert
>
>
>
> *From:* PROJ <proj-bounces at lists.osgeo.org> *On Behalf Of *Jonathan
> Johansen
> *Sent:* Thursday, January 5, 2023 4:08 AM
> *To:* proj at lists.osgeo.org
> *Subject:* [PROJ] Interface to PROJ from C#
>
>
>
> Hi all!
>
>
>
> I'm trying to use PROJ 9.1.1 in my C# Windows project, but am not having
> any success. A friend has tried to use it from EasyGIS, but ran into an
> issue. So I thought I'd try SharpProj (https://github.com/AmpScm/SharpProj),
> but I ran into https://github.com/AmpScm/SharpProj/issues/25. So I
> thought why not try to use the win DLL directly myself? So I got the 64
> bit OSGeo4W from https://proj.org/install.html#windows, and grabbed all
> of the DLLs in the bin folder, and have put them into my project. But it
> throws a similar error:
>
> >'Unable to load DLL 'proj_9_1.dll' or one of its dependencies: The
> specified module could not be found.
>
> So I thought I'd try to build the DLLS myself and use them. So I've got
> the 9.1.1 source code, installed cmake, started going through the first
> tutorial, and am trying. I'm not familiar with Linux, and I'm building on
> Windows (I see one entry in the mailing list from June 2022 about windows),
> so this is probably not going to be easy. Anyway, when trying to build it,
> I get this:
>
>
>
> >D:\Downloads\proj_build>cmake ../proj-9.1.1
> -- Selecting Windows SDK version 10.0.19041.0 to target Windows 10.0.19045.
> -- Requiring C++11
> -- Requiring C++11 - done
> -- Requiring C99
> -- Requiring C99 - done
> -- Configuring PROJ:
> -- PROJ_VERSION                   = 9.1.1
> -- PROJ_ABI_VERSION               = 9_1
> CMake Warning at cmake/ProjConfig.cmake:48 (message):
>   Autoconf's D:/Downloads/proj-9.1.1/src/proj_config.h may interfere with
>   this CMake build.  Run 'make distclean' in the source directory before
>   CMake's build.
> Call Stack (most recent call first):
>   CMakeLists.txt:127 (include)
>
> -- nlohmann/json: internal
> CMake Error at CMakeLists.txt:176 (message):
>   sqlite3 binary not found!
>
> CMake Error at CMakeLists.txt:181 (message):
>   sqlite3 dependency not found!
>
> CMake Error at CMakeLists.txt:187 (message):
>   sqlite3 >= 3.11 required!
>
> CMake Error at C:/Program
> Files/CMake/share/cmake-3.25/Modules/FindPackageHandleStandardArgs.cmake:230
> (message):
>   Could NOT find TIFF (missing: TIFF_LIBRARY TIFF_INCLUDE_DIR)
> Call Stack (most recent call first):
>   C:/Program
> Files/CMake/share/cmake-3.25/Modules/FindPackageHandleStandardArgs.cmake:600
> (_FPHSA_FAILURE_MESSAGE)
>   C:/Program Files/CMake/share/cmake-3.25/Modules/FindTIFF.cmake:124
> (FIND_PACKAGE_HANDLE_STANDARD_ARGS)
>   CMakeLists.txt:198 (find_package)
>
> -- Configuring incomplete, errors occurred!
> See also "D:/Downloads/proj-9.1.1/CMakeFiles/CMakeOutput.log".
>
>
>
> I have copied the sqlite3.exe and .dll from OSGeo4W into both folders, and
> it still doesn't think sqlite is there. I'll keep going through cmake
> tutorials to try to understand how I can satisfy it, but any help is
> appreciated - even better if SharpProj can be made to work. At this point I
> am a bit sad as I'm in over my head. I can supply a basic project trying to
> use the OSGeo4W DLLs too, if you'd like to look at that.
>
>
>
> Thanks so much for reading to this point!
>
>
>
> *Jonathan Johansen*
>
> M: 0438 922 553 <0438922553>
>
> E: jonathan at t3rra.com
> W: http://www.t3rra.com/
>
>
> _______________________________________________
> PROJ mailing list
> PROJ at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/proj
>


-- 
Peter Townsend
Senior Software Developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20230105/21a16d9e/attachment.htm>

From JasonD at TheTranstecGroup.com  Thu Jan  5 12:27:07 2023
From: JasonD at TheTranstecGroup.com (Jason Dick)
Date: Thu, 5 Jan 2023 14:27:07 -0600
Subject: [PROJ] Interface to PROJ from C#
In-Reply-To: <mailman.15.1672948802.24984.proj@lists.osgeo.org>
References: <mailman.15.1672948802.24984.proj@lists.osgeo.org>
Message-ID: <1ef5ce56-0ac7-e4cd-1893-6b519b310e7b@TheTranstecGroup.com>

An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20230105/eb1f8ff4/attachment.htm>

From runette at gmail.com  Fri Jan  6 02:07:06 2023
From: runette at gmail.com (Paul Harwood)
Date: Fri, 6 Jan 2023 10:07:06 +0000
Subject: [PROJ] Interface to PROJ from C#
In-Reply-To: <1ef5ce56-0ac7-e4cd-1893-6b519b310e7b@TheTranstecGroup.com>
References: <mailman.15.1672948802.24984.proj@lists.osgeo.org>
 <1ef5ce56-0ac7-e4cd-1893-6b519b310e7b@TheTranstecGroup.com>
Message-ID: <CAE8nN5O2iWp7VuUS1eKWd_MouQoiWaPX0--WWN=QTq2zogJW2w@mail.gmail.com>

HI

Might I politely suggest that you should think about asking effective
questions? It is not clear from this what you are actually asking.

My interpretation is that the vcpkg thing is not the question (so it would
be nice if that was not the start of the email - it is FYI info).

It looks like you are asking for help with PInvoke and Proj in C#. That is
not going to be an easy ask - since it is not a supported environment in
Proj and PInvoke is at best a dark art.

It is not clear from the question if proj_create_crs_to_crs is a method
that works or one that does not work. If it does not work - what is the
problem/error message?

As a general note - what I do since I do not want to have an unsupported
Pinvoke interface is to use GDAL. This has supported C# bindings and does
expose at least some of the Proj functionality as the OSR ABI. Not an ideal
solution but workable and supported.

On Thu, 5 Jan 2023 at 20:27, Jason Dick <JasonD at thetranstecgroup.com> wrote:

> I used vcpkg. I used the instructions from the web site:
>
> https://proj.org/install.html
>
> It did take me awhile to get it working because I needed to customize the
> process. But now that the DLL is built by default, that's less necessary.
>
> I only use a handful of functions and there are some that I didn't know
> how to convert to C#. Here's an example of one import that I use.
>
> private const String ProjDLL = "proj.dll";
>
> // PJ *proj_create_crs_to_crs(PJ_CONTEXT *ctx, const char *source_crs,
> const char *target_crs, PJ_AREA *area)
> [DllImport(ProjDLL, CallingConvention = CallingConvention.Cdecl, CharSet =
> CharSet.Ansi, BestFitMapping = false, ThrowOnUnmappableChar = true)]
> private static extern IntPtr proj_create_crs_to_crs(IntPtr ctx, String
> source_crs, String target_crs, IntPtr area);
> _______________________________________________
> PROJ mailing list
> PROJ at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/proj
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20230106/329a129d/attachment.htm>

From runette at gmail.com  Fri Jan  6 03:48:43 2023
From: runette at gmail.com (Paul Harwood)
Date: Fri, 6 Jan 2023 11:48:43 +0000
Subject: [PROJ] Interface to PROJ from C#
In-Reply-To: <CAE8nN5O2iWp7VuUS1eKWd_MouQoiWaPX0--WWN=QTq2zogJW2w@mail.gmail.com>
References: <mailman.15.1672948802.24984.proj@lists.osgeo.org>
 <1ef5ce56-0ac7-e4cd-1893-6b519b310e7b@TheTranstecGroup.com>
 <CAE8nN5O2iWp7VuUS1eKWd_MouQoiWaPX0--WWN=QTq2zogJW2w@mail.gmail.com>
Message-ID: <CAE8nN5ORWVTjrgEABwBkY=iRZTXpWFiiWz1uQoeix5Wia45FAQ@mail.gmail.com>

I might have to apologize - I did not spot this was a continuation of a
previous email chain :) I don't know why the context was lost

On Fri, 6 Jan 2023 at 10:07, Paul Harwood <runette at gmail.com> wrote:

> HI
>
> Might I politely suggest that you should think about asking effective
> questions? It is not clear from this what you are actually asking.
>
> My interpretation is that the vcpkg thing is not the question (so it would
> be nice if that was not the start of the email - it is FYI info).
>
> It looks like you are asking for help with PInvoke and Proj in C#. That is
> not going to be an easy ask - since it is not a supported environment in
> Proj and PInvoke is at best a dark art.
>
> It is not clear from the question if proj_create_crs_to_crs is a method
> that works or one that does not work. If it does not work - what is the
> problem/error message?
>
> As a general note - what I do since I do not want to have an unsupported
> Pinvoke interface is to use GDAL. This has supported C# bindings and does
> expose at least some of the Proj functionality as the OSR ABI. Not an ideal
> solution but workable and supported.
>
> On Thu, 5 Jan 2023 at 20:27, Jason Dick <JasonD at thetranstecgroup.com>
> wrote:
>
>> I used vcpkg. I used the instructions from the web site:
>>
>> https://proj.org/install.html
>>
>> It did take me awhile to get it working because I needed to customize the
>> process. But now that the DLL is built by default, that's less necessary.
>>
>> I only use a handful of functions and there are some that I didn't know
>> how to convert to C#. Here's an example of one import that I use.
>>
>> private const String ProjDLL = "proj.dll";
>>
>> // PJ *proj_create_crs_to_crs(PJ_CONTEXT *ctx, const char *source_crs,
>> const char *target_crs, PJ_AREA *area)
>> [DllImport(ProjDLL, CallingConvention = CallingConvention.Cdecl, CharSet
>> = CharSet.Ansi, BestFitMapping = false, ThrowOnUnmappableChar = true)]
>> private static extern IntPtr proj_create_crs_to_crs(IntPtr ctx, String
>> source_crs, String target_crs, IntPtr area);
>> _______________________________________________
>> PROJ mailing list
>> PROJ at lists.osgeo.org
>> https://lists.osgeo.org/mailman/listinfo/proj
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20230106/7d10d1cb/attachment.htm>

From howard at hobu.co  Fri Jan  6 13:26:44 2023
From: howard at hobu.co (Howard Butler)
Date: Fri, 6 Jan 2023 15:26:44 -0600
Subject: [PROJ] Motion: Nomination of Alan Snow to PROJ PSC
Message-ID: <4DBDD694-704E-448A-A880-38666D4C341C@hobu.co>

All,

I would like to nominate Alan Snow to the PROJ PSC. Alan is the lead developer of the pyproj library, and he has been very helpful in iterating many of the new features and APIs that PROJ has added as it has grown recently. pyproj has a substantial installed base, and it is a primary mechanism in which developers and users interact with PROJ. 

I would be excited for Alan to continue helping PROJ by formally joining the PSC to shape its direction going forward.

+1 

Howard

From knudsen.thomas at gmail.com  Fri Jan  6 13:52:13 2023
From: knudsen.thomas at gmail.com (Thomas Knudsen)
Date: Fri, 6 Jan 2023 22:52:13 +0100
Subject: [PROJ] Motion: Nomination of Alan Snow to PROJ PSC
In-Reply-To: <4DBDD694-704E-448A-A880-38666D4C341C@hobu.co>
References: <4DBDD694-704E-448A-A880-38666D4C341C@hobu.co>
Message-ID: <CAH0YoEPr3SPz5nQA15YjgQ86qOX1_2u9MCnhOMcYO1SEZyugnQ@mail.gmail.com>

+1

Thomas

Den fre. 6. jan. 2023 kl. 22.27 skrev Howard Butler <howard at hobu.co>:

> All,
>
> I would like to nominate Alan Snow to the PROJ PSC. Alan is the lead
> developer of the pyproj library, and he has been very helpful in iterating
> many of the new features and APIs that PROJ has added as it has grown
> recently. pyproj has a substantial installed base, and it is a primary
> mechanism in which developers and users interact with PROJ.
>
> I would be excited for Alan to continue helping PROJ by formally joining
> the PSC to shape its direction going forward.
>
> +1
>
> Howard
> _______________________________________________
> PROJ mailing list
> PROJ at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/proj
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20230106/1635682e/attachment.htm>

From even.rouault at spatialys.com  Fri Jan  6 13:59:40 2023
From: even.rouault at spatialys.com (Even Rouault)
Date: Fri, 6 Jan 2023 22:59:40 +0100
Subject: [PROJ] Motion: Nomination of Alan Snow to PROJ PSC
In-Reply-To: <4DBDD694-704E-448A-A880-38666D4C341C@hobu.co>
References: <4DBDD694-704E-448A-A880-38666D4C341C@hobu.co>
Message-ID: <245abcb5-ace0-0ac4-2b0c-a9f7019145a5@spatialys.com>

+1

Great addition!

Even

Le 06/01/2023 ? 22:26, Howard Butler a ?crit?:
> All,
>
> I would like to nominate Alan Snow to the PROJ PSC. Alan is the lead developer of the pyproj library, and he has been very helpful in iterating many of the new features and APIs that PROJ has added as it has grown recently. pyproj has a substantial installed base, and it is a primary mechanism in which developers and users interact with PROJ.
>
> I would be excited for Alan to continue helping PROJ by formally joining the PSC to shape its direction going forward.
>
> +1
>
> Howard
> _______________________________________________
> PROJ mailing list
> PROJ at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/proj

-- 
http://www.spatialys.com
My software is free, but my time generally not.


From schwehr at gmail.com  Fri Jan  6 14:47:50 2023
From: schwehr at gmail.com (Kurt Schwehr)
Date: Fri, 6 Jan 2023 14:47:50 -0800
Subject: [PROJ] Motion: Nomination of Alan Snow to PROJ PSC
In-Reply-To: <4DBDD694-704E-448A-A880-38666D4C341C@hobu.co>
References: <4DBDD694-704E-448A-A880-38666D4C341C@hobu.co>
Message-ID: <CACmBxytzGL4D-VW7R_7VcQTJSs==3R6wA=nOhyGK4VgrQxRhQg@mail.gmail.com>

+1 KurtS

On Fri, Jan 6, 2023 at 1:27 PM Howard Butler <howard at hobu.co> wrote:

> All,
>
> I would like to nominate Alan Snow to the PROJ PSC. Alan is the lead
> developer of the pyproj library, and he has been very helpful in iterating
> many of the new features and APIs that PROJ has added as it has grown
> recently. pyproj has a substantial installed base, and it is a primary
> mechanism in which developers and users interact with PROJ.
>
> I would be excited for Alan to continue helping PROJ by formally joining
> the PSC to shape its direction going forward.
>
> +1
>
> Howard
> _______________________________________________
> PROJ mailing list
> PROJ at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/proj
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20230106/311882e1/attachment.htm>

From kreve at sdfi.dk  Mon Jan  9 00:57:39 2023
From: kreve at sdfi.dk (Kristian Evers)
Date: Mon, 9 Jan 2023 08:57:39 +0000
Subject: [PROJ] Motion: Nomination of Alan Snow to PROJ PSC
In-Reply-To: <4DBDD694-704E-448A-A880-38666D4C341C@hobu.co>
References: <4DBDD694-704E-448A-A880-38666D4C341C@hobu.co>
Message-ID: <2fa3cac539bb412c85cbaa24db50290b@sdfi.dk>

Definitely a worthy addition the PSC!

+1

/Kristian

> -----Original Message-----
> From: PROJ <proj-bounces at lists.osgeo.org> On Behalf Of Howard Butler
> Sent: 6. januar 2023 22:27
> To: proj <proj at lists.osgeo.org>
> Subject: [PROJ] Motion: Nomination of Alan Snow to PROJ PSC
> 
> All,
> 
> I would like to nominate Alan Snow to the PROJ PSC. Alan is the lead
> developer of the pyproj library, and he has been very helpful in iterating
> many of the new features and APIs that PROJ has added as it has grown
> recently. pyproj has a substantial installed base, and it is a primary
> mechanism in which developers and users interact with PROJ.
> 
> I would be excited for Alan to continue helping PROJ by formally joining the
> PSC to shape its direction going forward.
> 
> +1
> 
> Howard
> _______________________________________________
> PROJ mailing list
> PROJ at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/proj

From howard at hobu.co  Mon Jan  9 06:29:13 2023
From: howard at hobu.co (Howard Butler)
Date: Mon, 9 Jan 2023 08:29:13 -0600
Subject: [PROJ] Motion: Nomination of Alan Snow to PROJ PSC
In-Reply-To: <2fa3cac539bb412c85cbaa24db50290b@sdfi.dk>
References: <4DBDD694-704E-448A-A880-38666D4C341C@hobu.co>
 <2fa3cac539bb412c85cbaa24db50290b@sdfi.dk>
Message-ID: <81CF9DCE-861A-4B45-B995-F80B351BF30E@hobu.co>

Declaring this one passed with +1's from Kristian, Kurt, Charles, Even, Thomas, and myself.

Merging https://github.com/OSGeo/PROJ/pull/3544 makes it as official as we can. 

Welcome!

Howard


> On Jan 9, 2023, at 2:57 AM, Kristian Evers via PROJ <proj at lists.osgeo.org> wrote:
> 
> Definitely a worthy addition the PSC!
> 
> +1
> 
> /Kristian
> 
>> -----Original Message-----
>> From: PROJ <proj-bounces at lists.osgeo.org> On Behalf Of Howard Butler
>> Sent: 6. januar 2023 22:27
>> To: proj <proj at lists.osgeo.org>
>> Subject: [PROJ] Motion: Nomination of Alan Snow to PROJ PSC
>> 
>> All,
>> 
>> I would like to nominate Alan Snow to the PROJ PSC. Alan is the lead
>> developer of the pyproj library, and he has been very helpful in iterating
>> many of the new features and APIs that PROJ has added as it has grown
>> recently. pyproj has a substantial installed base, and it is a primary
>> mechanism in which developers and users interact with PROJ.
>> 
>> I would be excited for Alan to continue helping PROJ by formally joining the
>> PSC to shape its direction going forward.
>> 
>> +1
>> 
>> Howard
>> _______________________________________________
>> PROJ mailing list
>> PROJ at lists.osgeo.org
>> https://lists.osgeo.org/mailman/listinfo/proj
> _______________________________________________
> PROJ mailing list
> PROJ at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/proj


From alansnow21 at gmail.com  Mon Jan  9 07:32:00 2023
From: alansnow21 at gmail.com (Alan Snow)
Date: Mon, 9 Jan 2023 09:32:00 -0600
Subject: [PROJ] Motion: Nomination of Alan Snow to PROJ PSC
In-Reply-To: <81CF9DCE-861A-4B45-B995-F80B351BF30E@hobu.co>
References: <4DBDD694-704E-448A-A880-38666D4C341C@hobu.co>
 <2fa3cac539bb412c85cbaa24db50290b@sdfi.dk>
 <81CF9DCE-861A-4B45-B995-F80B351BF30E@hobu.co>
Message-ID: <CAGybdFRGWL3E69WVfV-MsWoK333GZ560H+KpqAs8Hc9=hQK=UQ@mail.gmail.com>

I am both humbled and honored to be added to the PROJ PSC. The current team
along with the community has done great work creating a stable and powerful
software program. I look forward to future improvements and being a part of
making it happen.

On Mon, Jan 9, 2023, 8:29 AM Howard Butler <howard at hobu.co> wrote:

> Declaring this one passed with +1's from Kristian, Kurt, Charles, Even,
> Thomas, and myself.
>
> Merging https://github.com/OSGeo/PROJ/pull/3544 makes it as official as
> we can.
>
> Welcome!
>
> Howard
>
>
> > On Jan 9, 2023, at 2:57 AM, Kristian Evers via PROJ <
> proj at lists.osgeo.org> wrote:
> >
> > Definitely a worthy addition the PSC!
> >
> > +1
> >
> > /Kristian
> >
> >> -----Original Message-----
> >> From: PROJ <proj-bounces at lists.osgeo.org> On Behalf Of Howard Butler
> >> Sent: 6. januar 2023 22:27
> >> To: proj <proj at lists.osgeo.org>
> >> Subject: [PROJ] Motion: Nomination of Alan Snow to PROJ PSC
> >>
> >> All,
> >>
> >> I would like to nominate Alan Snow to the PROJ PSC. Alan is the lead
> >> developer of the pyproj library, and he has been very helpful in
> iterating
> >> many of the new features and APIs that PROJ has added as it has grown
> >> recently. pyproj has a substantial installed base, and it is a primary
> >> mechanism in which developers and users interact with PROJ.
> >>
> >> I would be excited for Alan to continue helping PROJ by formally
> joining the
> >> PSC to shape its direction going forward.
> >>
> >> +1
> >>
> >> Howard
> >> _______________________________________________
> >> PROJ mailing list
> >> PROJ at lists.osgeo.org
> >> https://lists.osgeo.org/mailman/listinfo/proj
> > _______________________________________________
> > PROJ mailing list
> > PROJ at lists.osgeo.org
> > https://lists.osgeo.org/mailman/listinfo/proj
>
> _______________________________________________
> PROJ mailing list
> PROJ at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/proj
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20230109/c0bd8012/attachment.htm>

From schwehr at gmail.com  Mon Jan  9 08:13:27 2023
From: schwehr at gmail.com (Kurt Schwehr)
Date: Mon, 9 Jan 2023 08:13:27 -0800
Subject: [PROJ] Motion: Nomination of Alan Snow to PROJ PSC
In-Reply-To: <CAGybdFRGWL3E69WVfV-MsWoK333GZ560H+KpqAs8Hc9=hQK=UQ@mail.gmail.com>
References: <4DBDD694-704E-448A-A880-38666D4C341C@hobu.co>
 <2fa3cac539bb412c85cbaa24db50290b@sdfi.dk>
 <81CF9DCE-861A-4B45-B995-F80B351BF30E@hobu.co>
 <CAGybdFRGWL3E69WVfV-MsWoK333GZ560H+KpqAs8Hc9=hQK=UQ@mail.gmail.com>
Message-ID: <CACmBxytt=u8CzY7H2Gso=U=NzQ4mcm4CAL8OzFN0N2dwsO-1=A@mail.gmail.com>

Welcome Alan!

I meant to reply on twitter long ago about how proj is used at Google, so
here are some of the things at the level I can mention starting with
pyproj.  Alan, Thanks for all your work on pyproj!

* Use of pyproj includes work on weather, flooding, wildfires, global
warming/environmental protection, earthquakes, RF spectrum, agriculture
(random order)
* Through gdal, it's Earth Engine for image import and export, Maps and
Earth satellite imagery
* There is also use of proj via R, goland, PostGIS (the public facing cloud
PostGIS offering)
* For straight proj, it's not much.


On Mon, Jan 9, 2023 at 7:32 AM Alan Snow <alansnow21 at gmail.com> wrote:

> I am both humbled and honored to be added to the PROJ PSC. The current
> team along with the community has done great work creating a stable and
> powerful software program. I look forward to future improvements and being
> a part of making it happen.
>
> On Mon, Jan 9, 2023, 8:29 AM Howard Butler <howard at hobu.co> wrote:
>
>> Declaring this one passed with +1's from Kristian, Kurt, Charles, Even,
>> Thomas, and myself.
>>
>> Merging https://github.com/OSGeo/PROJ/pull/3544 makes it as official as
>> we can.
>>
>> Welcome!
>>
>> Howard
>>
>>
>> > On Jan 9, 2023, at 2:57 AM, Kristian Evers via PROJ <
>> proj at lists.osgeo.org> wrote:
>> >
>> > Definitely a worthy addition the PSC!
>> >
>> > +1
>> >
>> > /Kristian
>> >
>> >> -----Original Message-----
>> >> From: PROJ <proj-bounces at lists.osgeo.org> On Behalf Of Howard Butler
>> >> Sent: 6. januar 2023 22:27
>> >> To: proj <proj at lists.osgeo.org>
>> >> Subject: [PROJ] Motion: Nomination of Alan Snow to PROJ PSC
>> >>
>> >> All,
>> >>
>> >> I would like to nominate Alan Snow to the PROJ PSC. Alan is the lead
>> >> developer of the pyproj library, and he has been very helpful in
>> iterating
>> >> many of the new features and APIs that PROJ has added as it has grown
>> >> recently. pyproj has a substantial installed base, and it is a primary
>> >> mechanism in which developers and users interact with PROJ.
>> >>
>> >> I would be excited for Alan to continue helping PROJ by formally
>> joining the
>> >> PSC to shape its direction going forward.
>> >>
>> >> +1
>> >>
>> >> Howard
>> >> _______________________________________________
>> >> PROJ mailing list
>> >> PROJ at lists.osgeo.org
>> >> https://lists.osgeo.org/mailman/listinfo/proj
>> > _______________________________________________
>> > PROJ mailing list
>> > PROJ at lists.osgeo.org
>> > https://lists.osgeo.org/mailman/listinfo/proj
>>
>> _______________________________________________
>> PROJ mailing list
>> PROJ at lists.osgeo.org
>> https://lists.osgeo.org/mailman/listinfo/proj
>>
> _______________________________________________
> PROJ mailing list
> PROJ at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/proj
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20230109/40b9a535/attachment-0001.htm>

From j1 at jimenezshaw.com  Fri Jan 13 06:28:12 2023
From: j1 at jimenezshaw.com (Javier Jimenez Shaw)
Date: Fri, 13 Jan 2023 15:28:12 +0100
Subject: [PROJ] Latitude of natural origin in Transverse Mercator
Message-ID: <CADRrdKsGvXkwBtWagy9k6+scb8A+Y2dXApXjNsdid46GQYzR_w@mail.gmail.com>

Hi

I have a question about Transverse Mercator.
What is the impact of the parameter "Latitude of natural origin", compared
with the "False Northing"? (apart from the fact that one is in degrees and
the other in meters)
Is there any difference on using a Latitude of natural origin of, let's
say, 40 degrees, or compute the equivalent False Northing?

Thanks.
Javier
.___ ._ ..._ .. . ._.  .___ .. __ . _. . __..  ... .... ._ .__
Entre dos pensamientos racionales
hay infinitos pensamientos irracionales.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20230113/a799e341/attachment.htm>

From gdt at lexort.com  Fri Jan 13 07:00:36 2023
From: gdt at lexort.com (Greg Troxel)
Date: Fri, 13 Jan 2023 10:00:36 -0500
Subject: [PROJ] Latitude of natural origin in Transverse Mercator
In-Reply-To: <CADRrdKsGvXkwBtWagy9k6+scb8A+Y2dXApXjNsdid46GQYzR_w@mail.gmail.com>
 (Javier Jimenez Shaw's message of "Fri, 13 Jan 2023 15:28:12 +0100")
References: <CADRrdKsGvXkwBtWagy9k6+scb8A+Y2dXApXjNsdid46GQYzR_w@mail.gmail.com>
Message-ID: <rmiwn5qxywb.fsf@s1.lexort.com>

Javier Jimenez Shaw <j1 at jimenezshaw.com> writes:

> I have a question about Transverse Mercator.
> What is the impact of the parameter "Latitude of natural origin", compared
> with the "False Northing"? (apart from the fact that one is in degrees and
> the other in meters)
> Is there any difference on using a Latitude of natural origin of, let's
> say, 40 degrees, or compute the equivalent False Northing?

Snyder's Album [1] says that TM uses the equator.  I had never heard of
latitude of natural origin.  Snyder's Manual [2] seems to align with
equator only but I may have missed it.

It seems like there is some more complicated definition of TM.
ESRI [3] lists but does not explain latitude of natural origin.

I would guess that latitude of natural origin means that some other
latitute is used as the place in lat/lon that maps to 0 (before adding
the false northing).  But, it's an ellipsoidal projection and I can't
convince myself that this is equivalent to a different false northing.

To me, it seems wrong or at best confusing to interchange these
parameters even if it is equivalent, as one seems to be about how the
projection is done and the other is just about moving numbers away from
0 so they won't be negative.

I am curious how you were led to latitude of natural origin.


[1] https://www.usgs.gov/publications/album-map-projections
[2] https://pubs.usgs.gov/pp/1395/report.pdf
[3] https://desktop.arcgis.com/en/arcmap/latest/map/projections/transverse-mercator.htm

From even.rouault at spatialys.com  Fri Jan 13 07:13:11 2023
From: even.rouault at spatialys.com (Even Rouault)
Date: Fri, 13 Jan 2023 16:13:11 +0100
Subject: [PROJ] Latitude of natural origin in Transverse Mercator
In-Reply-To: <CADRrdKsGvXkwBtWagy9k6+scb8A+Y2dXApXjNsdid46GQYzR_w@mail.gmail.com>
References: <CADRrdKsGvXkwBtWagy9k6+scb8A+Y2dXApXjNsdid46GQYzR_w@mail.gmail.com>
Message-ID: <3c8983c1-a700-df12-f724-bdedfb2f8c43@spatialys.com>

Hi Javier,

interesting. Quick numerical experimentation seems to confirm that they 
are "equivalent", as well as looking at the drawing of how the 
projection is built.

And looking at the maths of the approximate ellipsoidal forward method 
in src/projections/tmerc.cpp, one can see:

xy.y = P->k0 * (.... - Q->ml0 + ....... )

(the false northing value is added in generic PROJ code)

where

Q->ml0 = pj_mlfn(P->phi0, sin(P->phi0), cos(P->phi0), Q->en);

where pj_mlfn() computes the meridional distance (formula in src/mlfn.cpp)

So - P->k0 * Q->ml0 should be the value of the false northing equivalent 
to the effect of phi0. (I believe :-))

Also confirmed by the formula N=N0 +y(lam,phi) - k0 * m(phi0) of 
https://en.wikipedia.org/wiki/Transverse_Mercator_projection#Coordinates,_grids,_eastings_and_northings

Even

Le 13/01/2023 ? 15:28, Javier Jimenez Shaw a ?crit?:
> Hi
>
> I have a question about Transverse Mercator.
> What is the impact of the parameter "Latitude of natural origin", 
> compared with the "False Northing"? (apart from the fact that one is 
> in degrees and the other in meters)
> Is there any difference on using a Latitude of natural origin of, 
> let's say, 40 degrees, or compute the equivalent False Northing?
>
> Thanks.
> Javier
> .___ ._ ..._ .. . ._. .___ .. __ . _. . __..? ... .... ._ .__
> Entre dos pensamientos racionales
> hay infinitos pensamientos irracionales.
>
>
> _______________________________________________
> PROJ mailing list
> PROJ at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/proj

-- 
http://www.spatialys.com
My software is free, but my time generally not.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20230113/28668878/attachment.htm>

From charles.karney at gmail.com  Fri Jan 13 07:13:51 2023
From: charles.karney at gmail.com (Charles Karney)
Date: Fri, 13 Jan 2023 10:13:51 -0500
Subject: [PROJ] Latitude of natural origin in Transverse Mercator
In-Reply-To: <CADRrdKsGvXkwBtWagy9k6+scb8A+Y2dXApXjNsdid46GQYzR_w@mail.gmail.com>
References: <CADRrdKsGvXkwBtWagy9k6+scb8A+Y2dXApXjNsdid46GQYzR_w@mail.gmail.com>
Message-ID: <21236011-b56f-9b82-b603-b018cab9a756@karney.com>

These are two interchangeable ways of shifting the northing component of
the projected coordinate.  Mathematically they both do exactly the same
thing and there's nothing the matter with specifying both a latitude of
origin and false northing.  Indeed the Ordnance Survey grid system for
Britain specifies

  central longitude = -2 deg
  latitude of origin = 49 deg
  false northing = - -100 km

This means that a shift is added to the northing component to ensure
that the northing at latitude/longitude = (49 deg, -2 deg) is -100 km.


On 1/13/23 09:28, Javier Jimenez Shaw wrote:
> Hi
> 
> I have a question about Transverse Mercator.
> What is the impact of the parameter "Latitude of natural origin", 
> compared with the "False Northing"? (apart from the fact that one is in 
> degrees and the other in meters)
> Is there any difference on using a Latitude of natural origin of, let's 
> say, 40 degrees, or compute the equivalent False Northing?
> 
> Thanks.
> Javier
> .___ ._ ..._ .. . ._.? .___ .. __ . _. . __..? ... .... ._ .__
> Entre dos pensamientos racionales
> hay infinitos pensamientos irracionales.
> 
> 
> _______________________________________________
> PROJ mailing list
> PROJ at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/proj

From j1 at jimenezshaw.com  Fri Jan 13 08:45:36 2023
From: j1 at jimenezshaw.com (Javier Jimenez Shaw)
Date: Fri, 13 Jan 2023 17:45:36 +0100
Subject: [PROJ] Latitude of natural origin in Transverse Mercator
In-Reply-To: <21236011-b56f-9b82-b603-b018cab9a756@karney.com>
References: <CADRrdKsGvXkwBtWagy9k6+scb8A+Y2dXApXjNsdid46GQYzR_w@mail.gmail.com>
 <21236011-b56f-9b82-b603-b018cab9a756@karney.com>
Message-ID: <CADRrdKvh9_3KmNe3sTkdPmgtMz8_9=kJSv0bMPOpSS8HZT901A@mail.gmail.com>

Thanks Charles. That's very useful
.___ ._ ..._ .. . ._.  .___ .. __ . _. . __..  ... .... ._ .__
Entre dos pensamientos racionales
hay infinitos pensamientos irracionales.



On Fri, 13 Jan 2023 at 16:13, Charles Karney <charles.karney at gmail.com>
wrote:

> These are two interchangeable ways of shifting the northing component of
> the projected coordinate.  Mathematically they both do exactly the same
> thing and there's nothing the matter with specifying both a latitude of
> origin and false northing.  Indeed the Ordnance Survey grid system for
> Britain specifies
>
>   central longitude = -2 deg
>   latitude of origin = 49 deg
>   false northing = - -100 km
>
> This means that a shift is added to the northing component to ensure
> that the northing at latitude/longitude = (49 deg, -2 deg) is -100 km.
>
>
> On 1/13/23 09:28, Javier Jimenez Shaw wrote:
> > Hi
> >
> > I have a question about Transverse Mercator.
> > What is the impact of the parameter "Latitude of natural origin",
> > compared with the "False Northing"? (apart from the fact that one is in
> > degrees and the other in meters)
> > Is there any difference on using a Latitude of natural origin of, let's
> > say, 40 degrees, or compute the equivalent False Northing?
> >
> > Thanks.
> > Javier
> > .___ ._ ..._ .. . ._.  .___ .. __ . _. . __..  ... .... ._ .__
> > Entre dos pensamientos racionales
> > hay infinitos pensamientos irracionales.
> >
> >
> > _______________________________________________
> > PROJ mailing list
> > PROJ at lists.osgeo.org
> > https://lists.osgeo.org/mailman/listinfo/proj
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20230113/d584e3b4/attachment-0001.htm>

From j1 at jimenezshaw.com  Fri Jan 13 08:57:58 2023
From: j1 at jimenezshaw.com (Javier Jimenez Shaw)
Date: Fri, 13 Jan 2023 17:57:58 +0100
Subject: [PROJ] Latitude of natural origin in Transverse Mercator
In-Reply-To: <3c8983c1-a700-df12-f724-bdedfb2f8c43@spatialys.com>
References: <CADRrdKsGvXkwBtWagy9k6+scb8A+Y2dXApXjNsdid46GQYzR_w@mail.gmail.com>
 <3c8983c1-a700-df12-f724-bdedfb2f8c43@spatialys.com>
Message-ID: <CADRrdKs-Cj-y6XH6b=CH7YN3xGO3Rmfns7bbmr7dwLgTW_-B-w@mail.gmail.com>

Thanks Even.
I also reached the article in the Wikipedia, but I couldn't find the
meaning of "m" in "m(phi0)
Then I went to PROJ code. In the simplified version it was kind of clear
that they were equivalent, but got very confused with the notation, and
didn't know what is pj_mlfn (thanks for the tip). I downloaded "map
projections a working manual" from USGS, and the formulas are a bit
different, that confused me even more (I hope they are equivalent ;)
That pushed me to ask here.

Cheers.
.___ ._ ..._ .. . ._.  .___ .. __ . _. . __..  ... .... ._ .__
Entre dos pensamientos racionales
hay infinitos pensamientos irracionales.



On Fri, 13 Jan 2023 at 16:13, Even Rouault <even.rouault at spatialys.com>
wrote:

> Hi Javier,
>
> interesting. Quick numerical experimentation seems to confirm that they
> are "equivalent", as well as looking at the drawing of how the projection
> is built.
>
> And looking at the maths of the approximate ellipsoidal forward method in
> src/projections/tmerc.cpp, one can see:
>
> xy.y = P->k0 * (.... - Q->ml0 + ....... )
>
> (the false northing value is added in generic PROJ code)
>
> where
>
> Q->ml0 = pj_mlfn(P->phi0, sin(P->phi0), cos(P->phi0), Q->en);
>
> where pj_mlfn() computes the meridional distance (formula in src/mlfn.cpp)
>
> So - P->k0 * Q->ml0 should be the value of the false northing equivalent
> to the effect of phi0. (I believe :-))
>
> Also confirmed by the formula N=N0 +y(lam,phi) - k0 * m(phi0) of
> https://en.wikipedia.org/wiki/Transverse_Mercator_projection#Coordinates,_grids,_eastings_and_northings
>
> Even
> Le 13/01/2023 ? 15:28, Javier Jimenez Shaw a ?crit :
>
> Hi
>
> I have a question about Transverse Mercator.
> What is the impact of the parameter "Latitude of natural origin",
> compared with the "False Northing"? (apart from the fact that one is in
> degrees and the other in meters)
> Is there any difference on using a Latitude of natural origin of, let's
> say, 40 degrees, or compute the equivalent False Northing?
>
> Thanks.
> Javier
> .___ ._ ..._ .. . ._.  .___ .. __ . _. . __..  ... .... ._ .__
> Entre dos pensamientos racionales
> hay infinitos pensamientos irracionales.
>
>
> _______________________________________________
> PROJ mailing listPROJ at lists.osgeo.orghttps://lists.osgeo.org/mailman/listinfo/proj
>
> -- http://www.spatialys.com
> My software is free, but my time generally not.
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20230113/f9f8da4c/attachment.htm>

From j1 at jimenezshaw.com  Fri Jan 13 09:01:52 2023
From: j1 at jimenezshaw.com (Javier Jimenez Shaw)
Date: Fri, 13 Jan 2023 18:01:52 +0100
Subject: [PROJ] Latitude of natural origin in Transverse Mercator
In-Reply-To: <rmiwn5qxywb.fsf@s1.lexort.com>
References: <CADRrdKsGvXkwBtWagy9k6+scb8A+Y2dXApXjNsdid46GQYzR_w@mail.gmail.com>
 <rmiwn5qxywb.fsf@s1.lexort.com>
Message-ID: <CADRrdKtzcT3q2K2AeOtGxts5uKB7hgcxH0peOC9579W0EVnsHQ@mail.gmail.com>

Hi Greg

The latitude at origin is defined in the EPSG
https://epsg.org/coord-operation-method_9807/Transverse-Mercator.html
It is used in some systems, like in Argentina (with latitude -90) and as
Charles mentions in other answer, in "OSGB36 / British National Grid" (with
latitude 49)

Cheers,
.___ ._ ..._ .. . ._.  .___ .. __ . _. . __..  ... .... ._ .__
Entre dos pensamientos racionales
hay infinitos pensamientos irracionales.



On Fri, 13 Jan 2023 at 16:00, Greg Troxel <gdt at lexort.com> wrote:

> Javier Jimenez Shaw <j1 at jimenezshaw.com> writes:
>
> > I have a question about Transverse Mercator.
> > What is the impact of the parameter "Latitude of natural origin",
> compared
> > with the "False Northing"? (apart from the fact that one is in degrees
> and
> > the other in meters)
> > Is there any difference on using a Latitude of natural origin of, let's
> > say, 40 degrees, or compute the equivalent False Northing?
>
> Snyder's Album [1] says that TM uses the equator.  I had never heard of
> latitude of natural origin.  Snyder's Manual [2] seems to align with
> equator only but I may have missed it.
>
> It seems like there is some more complicated definition of TM.
> ESRI [3] lists but does not explain latitude of natural origin.
>
> I would guess that latitude of natural origin means that some other
> latitute is used as the place in lat/lon that maps to 0 (before adding
> the false northing).  But, it's an ellipsoidal projection and I can't
> convince myself that this is equivalent to a different false northing.
>
> To me, it seems wrong or at best confusing to interchange these
> parameters even if it is equivalent, as one seems to be about how the
> projection is done and the other is just about moving numbers away from
> 0 so they won't be negative.
>
> I am curious how you were led to latitude of natural origin.
>
>
> [1] https://www.usgs.gov/publications/album-map-projections
> [2] https://pubs.usgs.gov/pp/1395/report.pdf
> [3]
> https://desktop.arcgis.com/en/arcmap/latest/map/projections/transverse-mercator.htm
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20230113/046dde6e/attachment.htm>

From ronrussell902 at gmail.com  Fri Jan 13 09:16:33 2023
From: ronrussell902 at gmail.com (Ron Russell)
Date: Fri, 13 Jan 2023 17:16:33 +0000
Subject: [PROJ] Latitude of natural origin in Transverse Mercator
In-Reply-To: <21236011-b56f-9b82-b603-b018cab9a756@karney.com>
References: <CADRrdKsGvXkwBtWagy9k6+scb8A+Y2dXApXjNsdid46GQYzR_w@mail.gmail.com>
 <21236011-b56f-9b82-b603-b018cab9a756@karney.com>
Message-ID: <6bc6da16-658d-fb82-1869-400b1c213a97@gmail.com>

Note that the National Grid of Great Britain also includes a False 
Easting of 400km, to ensure that all coordinates in the system are positive.

There is also a Scale Factor on the Central Meridian (2 deg West) of 
0.9996012717 to reduce the scale distortion at the extremes of the 
projection. This means that the projected distance on the central 
meridian is slightly too small, there are two two lines where the local 
scale factor is 1.0 and outside these lines the lsf is greater that 1.0.

Regards,

Ron

Ron Russell
Tel : 01823 270308 email : ronrussell902 at gmail.com

On 13/01/2023 15:13, Charles Karney wrote:
> These are two interchangeable ways of shifting the northing component of
> the projected coordinate.? Mathematically they both do exactly the same
> thing and there's nothing the matter with specifying both a latitude of
> origin and false northing.? Indeed the Ordnance Survey grid system for
> Britain specifies
>
> ?central longitude = -2 deg
> ?latitude of origin = 49 deg
> ?false northing = - -100 km
>
> This means that a shift is added to the northing component to ensure
> that the northing at latitude/longitude = (49 deg, -2 deg) is -100 km.
>
>
> On 1/13/23 09:28, Javier Jimenez Shaw wrote:
>> Hi
>>
>> I have a question about Transverse Mercator.
>> What is the impact of the parameter "Latitude of natural origin", 
>> compared with the "False Northing"? (apart from the fact that one is 
>> in degrees and the other in meters)
>> Is there any difference on using a Latitude of natural origin of, 
>> let's say, 40 degrees, or compute the equivalent False Northing?
>>
>> Thanks.
>> Javier
>> .___ ._ ..._ .. . ._.? .___ .. __ . _. . __..? ... .... ._ .__
>> Entre dos pensamientos racionales
>> hay infinitos pensamientos irracionales.
>>
>>
>> _______________________________________________
>> PROJ mailing list
>> PROJ at lists.osgeo.org
>> https://lists.osgeo.org/mailman/listinfo/proj
> _______________________________________________
> PROJ mailing list
> PROJ at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/proj


From support at mnspoint.com  Sat Jan 14 05:28:06 2023
From: support at mnspoint.com (support at mnspoint.com)
Date: Sat, 14 Jan 2023 15:28:06 +0200
Subject: [PROJ] Latitude of natural origin in Transverse Mercator
In-Reply-To: <dc35332ba4fe98a95f29bb83e018c125@mnspoint.com>
References: <CADRrdKsGvXkwBtWagy9k6+scb8A+Y2dXApXjNsdid46GQYzR_w@mail.gmail.com>
 <dc35332ba4fe98a95f29bb83e018c125@mnspoint.com>
Message-ID: <d0fdcd30d58780f4b3ce0f509dd9b8cc@mnspoint.com>

Hello,

You have angular latitudes on the globe and eastings and northings on 
the resulting map plane. One should not mix them to stay out of trouble.

Janne.

-----------------------------------------------
Javier Jimenez Shaw kirjoitti 2023-01-13 16:28:
> Hi
> 
> I have a question about Transverse Mercator.
> What is the impact of the parameter "Latitude of natural origin",
> compared with the "False Northing"? (apart from the fact that one is
> in degrees and the other in meters)
> 
> Is there any difference on using a Latitude of natural origin of,
> let's say, 40 degrees, or compute the equivalent False Northing?
> 

From j1 at jimenezshaw.com  Fri Jan 20 11:11:01 2023
From: j1 at jimenezshaw.com (Javier Jimenez Shaw)
Date: Fri, 20 Jan 2023 20:11:01 +0100
Subject: [PROJ] about projinfo and --spatial-test
Message-ID: <CADRrdKtBTPgxnJFg7-VFOzrRUM0CwVmNUp-wDQewJWncTnjtXA@mail.gmail.com>

Hi

Inspecting the code of projinfo, I see a situation that may show the
message
"Note: using '--spatial-test intersects' would bring more relevant results".
Looking at the code, it happens only when using "--spatial-test" option
with "intersects" or default ("contains") both return 1 operation... but
different.
How is that possible? I would expect that "intersects" contains all in
"contains".

The code involved is this

        list = CoordinateOperationFactory::create()->createOperations(
            nnSourceCRS, nnTargetCRS, ctxt);
        if (!spatialCriterionExplicitlySpecified &&
            spatialCriterion ==
CoordinateOperationContext::SpatialCriterion::
                                    STRICT_CONTAINMENT) {
            try {
                ctxt->setSpatialCriterion(
                    CoordinateOperationContext::SpatialCriterion::
                        PARTIAL_INTERSECTION);
                auto list2 =
                    CoordinateOperationFactory::create()->createOperations(
                        nnSourceCRS, nnTargetCRS, ctxt);
                spatialCriterionPartialIntersectionResultCount =
list2.size();
                if (spatialCriterionPartialIntersectionResultCount == 1 &&
                    list.size() == 1 &&
                    list2[0]->nameStr() != list[0]->nameStr()) {
                    spatialCriterionPartialIntersectionMoreRelevant = true;
                }
            } catch (const std::exception &) {
            }
        }
....
        if (spatialCriterionPartialIntersectionMoreRelevant) {
           std::cout << "Note: using '--spatial-test intersects' would
bring "
                        "more relevant results."
                     << std::endl;
       }

Thanks
Javier
.___ ._ ..._ .. . ._.  .___ .. __ . _. . __..  ... .... ._ .__
Entre dos pensamientos racionales
hay infinitos pensamientos irracionales.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20230120/bdbb2baf/attachment.htm>

From even.rouault at spatialys.com  Fri Jan 20 11:15:19 2023
From: even.rouault at spatialys.com (Even Rouault)
Date: Fri, 20 Jan 2023 20:15:19 +0100
Subject: [PROJ] about projinfo and --spatial-test
In-Reply-To: <CADRrdKtBTPgxnJFg7-VFOzrRUM0CwVmNUp-wDQewJWncTnjtXA@mail.gmail.com>
References: <CADRrdKtBTPgxnJFg7-VFOzrRUM0CwVmNUp-wDQewJWncTnjtXA@mail.gmail.com>
Message-ID: <8cf23629-d4a2-7bc7-bb74-8320e340e6f2@spatialys.com>

Hi Javier,

which exact projinfo invokation did you use ?

(I'm not that surprised and remember having already seeing that. There 
are various heuristics and filtering that could cause this)

Even

Le 20/01/2023 ? 20:11, Javier Jimenez Shaw a ?crit?:
> Hi
>
> Inspecting the code of projinfo, I see a situation that may show the 
> message
> "Note: using '--spatial-test intersects' would bring more relevant 
> results".
> Looking at the code, it happens only when using "--spatial-test" 
> option with "intersects" or default ("contains") both return 1 
> operation... but different.
> How is that possible? I would expect that "intersects" contains all in 
> "contains".
>
> The code involved is this
>
> ? ? ? ? list = CoordinateOperationFactory::create()->createOperations(
> ? ? ? ? ? ? nnSourceCRS, nnTargetCRS, ctxt);
> ? ? ? ? if (!spatialCriterionExplicitlySpecified &&
> ? ? ? ? ? ? spatialCriterion == 
> CoordinateOperationContext::SpatialCriterion::
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? STRICT_CONTAINMENT) {
> ? ? ? ? ? ? try {
> ? ? ? ? ? ? ? ? ctxt->setSpatialCriterion(
> CoordinateOperationContext::SpatialCriterion::
> ? ? ? ? ? ? ? ? ? ? ? ? PARTIAL_INTERSECTION);
> ? ? ? ? ? ? ? ? auto list2 =
> CoordinateOperationFactory::create()->createOperations(
> ? ? ? ? ? ? ? ? ? ? ? ? nnSourceCRS, nnTargetCRS, ctxt);
> spatialCriterionPartialIntersectionResultCount = list2.size();
> ? ? ? ? ? ? ? ? if (spatialCriterionPartialIntersectionResultCount == 1 &&
> ? ? ? ? ? ? ? ? ? ? list.size() == 1 &&
> ? ? ? ? ? ? ? ? ? ? list2[0]->nameStr() != list[0]->nameStr()) {
> spatialCriterionPartialIntersectionMoreRelevant = true;
> ? ? ? ? ? ? ? ? }
> ? ? ? ? ? ? } catch (const std::exception &) {
> ? ? ? ? ? ? }
> ? ? ? ? }
> ....
> ??????? if (spatialCriterionPartialIntersectionMoreRelevant) {
> ? ? ? ???? std::cout << "Note: using '--spatial-test intersects' would 
> bring "
> ? ? ? ? ? ? ?? ? ? ? ?? "more relevant results."
> ? ? ? ? ? ? ? ? ?? ? << std::endl;
> ? ?? ? }
>
> Thanks
> Javier
> .___ ._ ..._ .. . ._.? .___ .. __ . _. . __..? ... .... ._ .__
> Entre dos pensamientos racionales
> hay infinitos pensamientos irracionales.
>
>
> _______________________________________________
> PROJ mailing list
> PROJ at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/proj

-- 
http://www.spatialys.com
My software is free, but my time generally not.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20230120/e8b4f2ac/attachment.htm>

From j1 at jimenezshaw.com  Fri Jan 20 11:51:43 2023
From: j1 at jimenezshaw.com (Javier Jimenez Shaw)
Date: Fri, 20 Jan 2023 20:51:43 +0100
Subject: [PROJ] about projinfo and --spatial-test
In-Reply-To: <8cf23629-d4a2-7bc7-bb74-8320e340e6f2@spatialys.com>
References: <CADRrdKtBTPgxnJFg7-VFOzrRUM0CwVmNUp-wDQewJWncTnjtXA@mail.gmail.com>
 <8cf23629-d4a2-7bc7-bb74-8320e340e6f2@spatialys.com>
Message-ID: <CADRrdKsQ_e9wCG3eDwMW=eJQCkdpp+RPsFMmw_0dRYaAD3kvmA@mail.gmail.com>

Thanks Even

Unfortunately I do not have any example. I was just reading the code of
projinfo to see how to get CoordinateOperations in C++.

.___ ._ ..._ .. . ._.  .___ .. __ . _. . __..  ... .... ._ .__
Entre dos pensamientos racionales
hay infinitos pensamientos irracionales.



On Fri, 20 Jan 2023 at 20:15, Even Rouault <even.rouault at spatialys.com>
wrote:

> Hi Javier,
>
> which exact projinfo invokation did you use ?
>
> (I'm not that surprised and remember having already seeing that. There are
> various heuristics and filtering that could cause this)
>
> Even
> Le 20/01/2023 ? 20:11, Javier Jimenez Shaw a ?crit :
>
> Hi
>
> Inspecting the code of projinfo, I see a situation that may show the
> message
> "Note: using '--spatial-test intersects' would bring more relevant
> results".
> Looking at the code, it happens only when using "--spatial-test" option
> with "intersects" or default ("contains") both return 1 operation... but
> different.
> How is that possible? I would expect that "intersects" contains all in
> "contains".
>
> The code involved is this
>
>         list = CoordinateOperationFactory::create()->createOperations(
>             nnSourceCRS, nnTargetCRS, ctxt);
>         if (!spatialCriterionExplicitlySpecified &&
>             spatialCriterion ==
> CoordinateOperationContext::SpatialCriterion::
>                                     STRICT_CONTAINMENT) {
>             try {
>                 ctxt->setSpatialCriterion(
>                     CoordinateOperationContext::SpatialCriterion::
>                         PARTIAL_INTERSECTION);
>                 auto list2 =
>                     CoordinateOperationFactory::create()->createOperations(
>                         nnSourceCRS, nnTargetCRS, ctxt);
>                 spatialCriterionPartialIntersectionResultCount =
> list2.size();
>                 if (spatialCriterionPartialIntersectionResultCount == 1 &&
>                     list.size() == 1 &&
>                     list2[0]->nameStr() != list[0]->nameStr()) {
>                     spatialCriterionPartialIntersectionMoreRelevant = true;
>                 }
>             } catch (const std::exception &) {
>             }
>         }
> ....
>         if (spatialCriterionPartialIntersectionMoreRelevant) {
>            std::cout << "Note: using '--spatial-test intersects' would
> bring "
>                         "more relevant results."
>                      << std::endl;
>        }
>
> Thanks
> Javier
> .___ ._ ..._ .. . ._.  .___ .. __ . _. . __..  ... .... ._ .__
> Entre dos pensamientos racionales
> hay infinitos pensamientos irracionales.
>
>
> _______________________________________________
> PROJ mailing listPROJ at lists.osgeo.orghttps://lists.osgeo.org/mailman/listinfo/proj
>
> -- http://www.spatialys.com
> My software is free, but my time generally not.
>
> _______________________________________________
> PROJ mailing list
> PROJ at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/proj
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20230120/e898d2eb/attachment-0001.htm>

From even.rouault at spatialys.com  Fri Jan 20 12:02:17 2023
From: even.rouault at spatialys.com (Even Rouault)
Date: Fri, 20 Jan 2023 21:02:17 +0100
Subject: [PROJ] about projinfo and --spatial-test
In-Reply-To: <CADRrdKsQ_e9wCG3eDwMW=eJQCkdpp+RPsFMmw_0dRYaAD3kvmA@mail.gmail.com>
References: <CADRrdKtBTPgxnJFg7-VFOzrRUM0CwVmNUp-wDQewJWncTnjtXA@mail.gmail.com>
 <8cf23629-d4a2-7bc7-bb74-8320e340e6f2@spatialys.com>
 <CADRrdKsQ_e9wCG3eDwMW=eJQCkdpp+RPsFMmw_0dRYaAD3kvmA@mail.gmail.com>
Message-ID: <831c08fb-9991-e647-f1da-baf0ce92cdb9@spatialys.com>

Ah, I read your message too fast. I see I added that in 
https://github.com/OSGeo/PROJ/commit/f50221ed6606a67ef0354cacd449f02aca3faba7. 
Unfortunately there is no corresponding test and my memories have 
obviously vanished. This is perhaps a situation where --spatial-test 
intersects would return a non-ballpark operation and without it a 
ballpark operation. Although I suspect this might be more subtle than that.

Le 20/01/2023 ? 20:51, Javier Jimenez Shaw a ?crit?:
> Thanks Even
>
> Unfortunately I do not have any example. I was just reading the code 
> of projinfo to see how to get CoordinateOperations in C++.
>
> .___ ._ ..._ .. . ._. .___ .. __ . _. . __..? ... .... ._ .__
> Entre dos pensamientos racionales
> hay infinitos pensamientos irracionales.
>
>
>
> On Fri, 20 Jan 2023 at 20:15, Even Rouault 
> <even.rouault at spatialys.com> wrote:
>
>     Hi Javier,
>
>     which exact projinfo invokation did you use ?
>
>     (I'm not that surprised and remember having already seeing that.
>     There are various heuristics and filtering that could cause this)
>
>     Even
>
>     Le 20/01/2023 ? 20:11, Javier Jimenez Shaw a ?crit?:
>>     Hi
>>
>>     Inspecting the code of projinfo, I see a situation that may show
>>     the message
>>     "Note: using '--spatial-test intersects' would bring more
>>     relevant results".
>>     Looking at the code, it happens only when using "--spatial-test"
>>     option with "intersects" or default ("contains") both return 1
>>     operation... but different.
>>     How is that possible? I would expect that "intersects" contains
>>     all in "contains".
>>
>>     The code involved is this
>>
>>     ? ? ? ? list =
>>     CoordinateOperationFactory::create()->createOperations(
>>     ? ? ? ? ? ? nnSourceCRS, nnTargetCRS, ctxt);
>>     ? ? ? ? if (!spatialCriterionExplicitlySpecified &&
>>     ? ? ? ? ? ? spatialCriterion ==
>>     CoordinateOperationContext::SpatialCriterion::
>>     STRICT_CONTAINMENT) {
>>     ? ? ? ? ? ? try {
>>     ? ? ? ? ? ? ? ? ctxt->setSpatialCriterion(
>>     CoordinateOperationContext::SpatialCriterion::
>>     ? ? ? ? ? ? ? ? ? ? ? ? PARTIAL_INTERSECTION);
>>     ? ? ? ? ? ? ? ? auto list2 =
>>     CoordinateOperationFactory::create()->createOperations(
>>     ? ? ? ? ? ? ? ? ? ? ? ? nnSourceCRS, nnTargetCRS, ctxt);
>>     spatialCriterionPartialIntersectionResultCount = list2.size();
>>     ? ? ? ? ? ? ? ? if
>>     (spatialCriterionPartialIntersectionResultCount == 1 &&
>>     ? ? ? ? ? ? ? ? ? ? list.size() == 1 &&
>>     ? ? ? ? ? ? ? ? ? ? list2[0]->nameStr() != list[0]->nameStr()) {
>>     spatialCriterionPartialIntersectionMoreRelevant = true;
>>     ? ? ? ? ? ? ? ? }
>>     ? ? ? ? ? ? } catch (const std::exception &) {
>>     ? ? ? ? ? ? }
>>     ? ? ? ? }
>>     ....
>>     ??????? if (spatialCriterionPartialIntersectionMoreRelevant) {
>>     ? ? ? ???? std::cout << "Note: using '--spatial-test intersects'
>>     would bring "
>>     ? ? ? ? ? ? ?? ? ? ? ?? "more relevant results."
>>     ? ? ? ? ? ? ? ? ?? ? << std::endl;
>>     ? ?? ? }
>>
>>     Thanks
>>     Javier
>>     .___ ._ ..._ .. . ._.? .___ .. __ . _. . __..? ... .... ._ .__
>>     Entre dos pensamientos racionales
>>     hay infinitos pensamientos irracionales.
>>
>>
>>     _______________________________________________
>>     PROJ mailing list
>>     PROJ at lists.osgeo.org
>>     https://lists.osgeo.org/mailman/listinfo/proj
>
>     -- 
>     http://www.spatialys.com
>     My software is free, but my time generally not.
>
>     _______________________________________________
>     PROJ mailing list
>     PROJ at lists.osgeo.org
>     https://lists.osgeo.org/mailman/listinfo/proj
>
-- 
http://www.spatialys.com
My software is free, but my time generally not.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20230120/6e914bfe/attachment.htm>

From runette at gmail.com  Sat Jan 21 00:08:40 2023
From: runette at gmail.com (Paul Harwood)
Date: Sat, 21 Jan 2023 08:08:40 +0000
Subject: [PROJ] Latitude of natural origin in Transverse Mercator
In-Reply-To: <d0fdcd30d58780f4b3ce0f509dd9b8cc@mnspoint.com>
References: <CADRrdKsGvXkwBtWagy9k6+scb8A+Y2dXApXjNsdid46GQYzR_w@mail.gmail.com>
 <dc35332ba4fe98a95f29bb83e018c125@mnspoint.com>
 <d0fdcd30d58780f4b3ce0f509dd9b8cc@mnspoint.com>
Message-ID: <CAE8nN5PiuGqfRM7VAr9hVmYtzHemHk7sxoefj7y6a-X_47_e_g@mail.gmail.com>

Whilst I have nothing like the mathematical knowledge or expertise of those
who have already answered, I have some experience of playing around with
this for an app that puts geographic entities into a VR space that needs
locally accurate cartesian coordinates using an engineering projection that
is TM with a local, arbitrary origin.

I would totally agree with Janne. If you want to avoid confusing yourself
and everyone around you and making hard-to-diagnose bugs - keep the input
coords of the origin in the input CRS.

Just thinking about the BNG case, although the False Northing is
mathematically the same as the Latitude of origin, the False Easting is not
the same the Central Longitude (since I would understand that the former is
already projected) and you would need to clearly understand if the units of
the False Northing are subject to the local scaling factors. All totally
mathematically possible, of course, but from a design, coding and
especially from a maintenance perspective a total nightmare.

Paul

On Sat, 14 Jan 2023 at 13:35, <support at mnspoint.com> wrote:

> Hello,
>
> You have angular latitudes on the globe and eastings and northings on
> the resulting map plane. One should not mix them to stay out of trouble.
>
> Janne.
>
> -----------------------------------------------
> Javier Jimenez Shaw kirjoitti 2023-01-13 16:28:
> > Hi
> >
> > I have a question about Transverse Mercator.
> > What is the impact of the parameter "Latitude of natural origin",
> > compared with the "False Northing"? (apart from the fact that one is
> > in degrees and the other in meters)
> >
> > Is there any difference on using a Latitude of natural origin of,
> > let's say, 40 degrees, or compute the equivalent False Northing?
> >
> _______________________________________________
> PROJ mailing list
> PROJ at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/proj
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20230121/a49e0a8c/attachment.htm>

From bashkim.idrizi at yahoo.com  Sun Jan 22 08:00:26 2023
From: bashkim.idrizi at yahoo.com (Bashkim IDRIZI)
Date: Sun, 22 Jan 2023 17:00:26 +0100
Subject: [PROJ] about request #3246 - defining second CRS for EPSG6316 with
 area extend EPSG1148 and transformation EPSG6206 within PROJ for North
 Macedonia
References: <07bd01d92e7a$a5a23860$f0e6a920$.ref@yahoo.com>
Message-ID: <07bd01d92e7a$a5a23860$f0e6a920$@yahoo.com>

[PROJ] about request #3246 - defining second CRS for EPSG6316 with area
extend EPSG1148 and transformation EPSG6206 within PROJ for North Macedonia

   

 

Dear all, 

 

The issue 3246 is open from July 2022. 

Main problem to be solved is separating EPSG 6316 into two separate CRS's
within PROJ, since it has two area extends
(https://epsg.org/crs_6316/MGI-1901-Balkans-zone-7.html?sessionkey=pvenyf6ze
2). 

Details are given in https://github.com/OSGeo/PROJ/issues/3246. 

 

I kindly ask You to assist in order to solve this problem. 

 

Kind regards, 

Bashkim. 

 

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20230122/a4e68ea8/attachment.htm>

From support at mnspoint.com  Mon Jan 23 00:35:47 2023
From: support at mnspoint.com (support at mnspoint.com)
Date: Mon, 23 Jan 2023 10:35:47 +0200
Subject: [PROJ] about request #3246 - defining second CRS for EPSG6316
 with area extend EPSG1148 and transformation EPSG6206 within PROJ for North
 Macedonia
In-Reply-To: <07bd01d92e7a$a5a23860$f0e6a920$@yahoo.com>
References: <07bd01d92e7a$a5a23860$f0e6a920$.ref@yahoo.com>
 <07bd01d92e7a$a5a23860$f0e6a920$@yahoo.com>
Message-ID: <4a0218ca0f321ade54b32a2e1458403f@mnspoint.com>

Dear,

"In QGIS 3.26.0 version, , in list of Coordinate Reference Systems 
(CRS), CRS with code EPSG 6316 doesn't cover area of North Macedonia. 
With this, North Macedonian CRS based on EPSG 6316 parameters cannot be 
used in QGIS. Situation should be same in all software which use proj 
and epsg databases for CRS?s."

No, we do not have this issue, since we do not limit the "area of use" 
of any projection-datum (the projection itself might have some 
singularities and limits, but that is usual near poles, etc.)

Janne.

---------------------------------------------------------------------
Bashkim IDRIZI via PROJ kirjoitti 2023-01-22 18:00:
> [PROJ] about request #3246 - defining second CRS for EPSG6316 with
> area extend EPSG1148 and transformation EPSG6206 within PROJ for North
> Macedonia
> 
> Dear all,
> 
> The issue 3246 is open from July 2022.
> 
> Main problem to be solved is separating EPSG 6316 into two separate
> CRS's within PROJ, since it has two area extends
> (https://epsg.org/crs_6316/MGI-1901-Balkans-zone-7.html?sessionkey=pvenyf6ze2).
> 
> 
> Details are given in https://github.com/OSGeo/PROJ/issues/3246.
> 
> I kindly ask You to assist in order to solve this problem.
> 
> Kind regards,
> 
> Bashkim.
> _______________________________________________
> PROJ mailing list
> PROJ at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/proj

From even.rouault at spatialys.com  Mon Jan 23 05:35:40 2023
From: even.rouault at spatialys.com (Even Rouault)
Date: Mon, 23 Jan 2023 14:35:40 +0100
Subject: [PROJ] about request #3246 - defining second CRS for EPSG6316
 with area extend EPSG1148 and transformation EPSG6206 within PROJ for North
 Macedonia
In-Reply-To: <07bd01d92e7a$a5a23860$f0e6a920$@yahoo.com>
References: <07bd01d92e7a$a5a23860$f0e6a920$.ref@yahoo.com>
 <07bd01d92e7a$a5a23860$f0e6a920$@yahoo.com>
Message-ID: <b80bf240-0849-1589-be9f-c3e6a1a212b6@spatialys.com>

Bashkim,

I've just submitted https://github.com/OSGeo/PROJ/pull/3588 so that code 
using PROJ API can retrieve multiple extents when there are. With that, 
QGIS should have the possibility to better use the metadata of 
EPSG:6316. Of course that will require changes in QGIS. But at that 
point, I don't think there are any more issues on PROJ side.

I've also submitted https://github.com/OSGeo/PROJ/pull/3587 so that PROJ 
do not report a +towgs84 string for EPSG:6316 (since there are multiple 
candidates, so we can't point a single good one).

Even

Le 22/01/2023 ? 17:00, Bashkim IDRIZI via PROJ a ?crit?:

> [PROJ] about request #3246 - defining second CRS for EPSG6316 with 
> area extend EPSG1148 and transformation EPSG6206 within PROJ for North 
> Macedonia
>
> Dear all,
>
> The issue 3246 is open from July 2022.
>
> Main problem to be solved is separating EPSG 6316 into two separate 
> CRS?s within PROJ, since it has two area extends 
> (https://epsg.org/crs_6316/MGI-1901-Balkans-zone-7.html?sessionkey=pvenyf6ze2). 
>
>
> Details are given in https://github.com/OSGeo/PROJ/issues/3246.
>
> I kindly ask You to assist in order to solve this problem.
>
> Kind regards,
>
> Bashkim.
>
>
> _______________________________________________
> PROJ mailing list
> PROJ at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/proj

-- 
http://www.spatialys.com
My software is free, but my time generally not.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20230123/5f4abc9e/attachment.htm>

From even.rouault at spatialys.com  Mon Jan 23 13:30:36 2023
From: even.rouault at spatialys.com (Even Rouault)
Date: Mon, 23 Jan 2023 22:30:36 +0100
Subject: [PROJ] Motion: whole code-base reformatting
Message-ID: <1e367aaf-0a93-391f-85f8-81e9954b01d2@spatialys.com>

Hi,

I guess this deserves formal PSC approval: 
https://github.com/OSGeo/PROJ/pull/3590

Basically this generalizes the formatting rules that have been applied 
to the code added since PROJ >= 6 to the rest of the code base and adds 
automation through pre-commit to apply those formatting rules at git 
commit time.

Starting with my +1

Even

-- 
http://www.spatialys.com
My software is free, but my time generally not.


From schwehr at gmail.com  Mon Jan 23 13:34:31 2023
From: schwehr at gmail.com (Kurt Schwehr)
Date: Mon, 23 Jan 2023 13:34:31 -0800
Subject: [PROJ] Motion: whole code-base reformatting
In-Reply-To: <1e367aaf-0a93-391f-85f8-81e9954b01d2@spatialys.com>
References: <1e367aaf-0a93-391f-85f8-81e9954b01d2@spatialys.com>
Message-ID: <CACmBxytUkX242n_0VhCpsfoV-Z1BmUEQMdP2LOHecLEQS0Mw2w@mail.gmail.com>

+1 KurtS

On Mon, Jan 23, 2023 at 1:30 PM Even Rouault <even.rouault at spatialys.com>
wrote:

> Hi,
>
> I guess this deserves formal PSC approval:
> https://github.com/OSGeo/PROJ/pull/3590
>
> Basically this generalizes the formatting rules that have been applied
> to the code added since PROJ >= 6 to the rest of the code base and adds
> automation through pre-commit to apply those formatting rules at git
> commit time.
>
> Starting with my +1
>
> Even
>
> --
> http://www.spatialys.com
> My software is free, but my time generally not.
>
> _______________________________________________
> PROJ mailing list
> PROJ at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/proj
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20230123/6d361abb/attachment.htm>

From alansnow21 at gmail.com  Mon Jan 23 14:01:10 2023
From: alansnow21 at gmail.com (Alan Snow)
Date: Mon, 23 Jan 2023 16:01:10 -0600
Subject: [PROJ] Motion: whole code-base reformatting
In-Reply-To: <CACmBxytUkX242n_0VhCpsfoV-Z1BmUEQMdP2LOHecLEQS0Mw2w@mail.gmail.com>
References: <1e367aaf-0a93-391f-85f8-81e9954b01d2@spatialys.com>
 <CACmBxytUkX242n_0VhCpsfoV-Z1BmUEQMdP2LOHecLEQS0Mw2w@mail.gmail.com>
Message-ID: <CAGybdFQB2nhC_RH1FKwUug+qs9ZqYMJ2Es9gprLu9=pUc6==FA@mail.gmail.com>

+1

On Mon, Jan 23, 2023, 3:34 PM Kurt Schwehr <schwehr at gmail.com> wrote:

> +1 KurtS
>
> On Mon, Jan 23, 2023 at 1:30 PM Even Rouault <even.rouault at spatialys.com>
> wrote:
>
>> Hi,
>>
>> I guess this deserves formal PSC approval:
>> https://github.com/OSGeo/PROJ/pull/3590
>>
>> Basically this generalizes the formatting rules that have been applied
>> to the code added since PROJ >= 6 to the rest of the code base and adds
>> automation through pre-commit to apply those formatting rules at git
>> commit time.
>>
>> Starting with my +1
>>
>> Even
>>
>> --
>> http://www.spatialys.com
>> My software is free, but my time generally not.
>>
>> _______________________________________________
>> PROJ mailing list
>> PROJ at lists.osgeo.org
>> https://lists.osgeo.org/mailman/listinfo/proj
>>
> _______________________________________________
> PROJ mailing list
> PROJ at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/proj
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20230123/38bbb8e2/attachment.htm>

From howard at hobu.co  Mon Jan 23 19:55:01 2023
From: howard at hobu.co (Howard Butler)
Date: Mon, 23 Jan 2023 21:55:01 -0600
Subject: [PROJ] Motion: whole code-base reformatting
In-Reply-To: <CAGybdFQB2nhC_RH1FKwUug+qs9ZqYMJ2Es9gprLu9=pUc6==FA@mail.gmail.com>
References: <1e367aaf-0a93-391f-85f8-81e9954b01d2@spatialys.com>
 <CACmBxytUkX242n_0VhCpsfoV-Z1BmUEQMdP2LOHecLEQS0Mw2w@mail.gmail.com>
 <CAGybdFQB2nhC_RH1FKwUug+qs9ZqYMJ2Es9gprLu9=pUc6==FA@mail.gmail.com>
Message-ID: <B04964E2-CCBF-490C-882F-B714426A15C8@hobu.co>

+1

> On Jan 23, 2023, at 4:01 PM, Alan Snow <alansnow21 at gmail.com> wrote:
> 
> +1
> 
> On Mon, Jan 23, 2023, 3:34 PM Kurt Schwehr <schwehr at gmail.com> wrote:
> +1 KurtS
> 
> On Mon, Jan 23, 2023 at 1:30 PM Even Rouault <even.rouault at spatialys.com> wrote:
> Hi,
> 
> I guess this deserves formal PSC approval: 
> https://github.com/OSGeo/PROJ/pull/3590
> 
> Basically this generalizes the formatting rules that have been applied 
> to the code added since PROJ >= 6 to the rest of the code base and adds 
> automation through pre-commit to apply those formatting rules at git 
> commit time.
> 
> Starting with my +1
> 
> Even
> 
> -- 
> http://www.spatialys.com
> My software is free, but my time generally not.
> 
> _______________________________________________
> PROJ mailing list
> PROJ at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/proj
> _______________________________________________
> PROJ mailing list
> PROJ at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/proj
> _______________________________________________
> PROJ mailing list
> PROJ at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/proj


From charles.karney at gmail.com  Tue Jan 24 03:05:43 2023
From: charles.karney at gmail.com (Charles Karney)
Date: Tue, 24 Jan 2023 06:05:43 -0500
Subject: [PROJ] Motion: whole code-base reformatting
In-Reply-To: <B04964E2-CCBF-490C-882F-B714426A15C8@hobu.co>
References: <1e367aaf-0a93-391f-85f8-81e9954b01d2@spatialys.com>
 <CACmBxytUkX242n_0VhCpsfoV-Z1BmUEQMdP2LOHecLEQS0Mw2w@mail.gmail.com>
 <CAGybdFQB2nhC_RH1FKwUug+qs9ZqYMJ2Es9gprLu9=pUc6==FA@mail.gmail.com>
 <B04964E2-CCBF-490C-882F-B714426A15C8@hobu.co>
Message-ID: <5cf54b30-85b5-47e2-86dc-6b0f8456c159@karney.com>

+1

On 1/23/23 22:55, Howard Butler wrote:
> +1
> 
>> On Jan 23, 2023, at 4:01 PM, Alan Snow <alansnow21 at gmail.com> wrote:
>>
>> +1
>>
>> On Mon, Jan 23, 2023, 3:34 PM Kurt Schwehr <schwehr at gmail.com> wrote:
>> +1 KurtS
>>
>> On Mon, Jan 23, 2023 at 1:30 PM Even Rouault <even.rouault at spatialys.com> wrote:
>> Hi,
>>
>> I guess this deserves formal PSC approval:
>> https://github.com/OSGeo/PROJ/pull/3590
>>
>> Basically this generalizes the formatting rules that have been applied
>> to the code added since PROJ >= 6 to the rest of the code base and adds
>> automation through pre-commit to apply those formatting rules at git
>> commit time.
>>
>> Starting with my +1
>>
>> Even
>>
>> -- 
>> http://www.spatialys.com
>> My software is free, but my time generally not.

From even.rouault at spatialys.com  Tue Jan 24 03:07:52 2023
From: even.rouault at spatialys.com (Even Rouault)
Date: Tue, 24 Jan 2023 12:07:52 +0100
Subject: [PROJ] Motion: whole code-base reformatting
In-Reply-To: <5cf54b30-85b5-47e2-86dc-6b0f8456c159@karney.com>
References: <1e367aaf-0a93-391f-85f8-81e9954b01d2@spatialys.com>
 <CACmBxytUkX242n_0VhCpsfoV-Z1BmUEQMdP2LOHecLEQS0Mw2w@mail.gmail.com>
 <CAGybdFQB2nhC_RH1FKwUug+qs9ZqYMJ2Es9gprLu9=pUc6==FA@mail.gmail.com>
 <B04964E2-CCBF-490C-882F-B714426A15C8@hobu.co>
 <5cf54b30-85b5-47e2-86dc-6b0f8456c159@karney.com>
Message-ID: <cc13167c-99b4-7804-d82c-2d959ad646b0@spatialys.com>

Ah just to note that for now I've excluded the geodesic.h/c files and 
associated tests imported from GeographicLib from the reformatting (as 
well as a few third-party vendored C++ headers)

Le 24/01/2023 ? 12:05, Charles Karney a ?crit?:
> +1
>
> On 1/23/23 22:55, Howard Butler wrote:
>> +1
>>
>>> On Jan 23, 2023, at 4:01 PM, Alan Snow <alansnow21 at gmail.com> wrote:
>>>
>>> +1
>>>
>>> On Mon, Jan 23, 2023, 3:34 PM Kurt Schwehr <schwehr at gmail.com> wrote:
>>> +1 KurtS
>>>
>>> On Mon, Jan 23, 2023 at 1:30 PM Even Rouault 
>>> <even.rouault at spatialys.com> wrote:
>>> Hi,
>>>
>>> I guess this deserves formal PSC approval:
>>> https://github.com/OSGeo/PROJ/pull/3590
>>>
>>> Basically this generalizes the formatting rules that have been applied
>>> to the code added since PROJ >= 6 to the rest of the code base and adds
>>> automation through pre-commit to apply those formatting rules at git
>>> commit time.
>>>
>>> Starting with my +1
>>>
>>> Even
>>>
>>> -- 
>>> http://www.spatialys.com
>>> My software is free, but my time generally not.
> _______________________________________________
> PROJ mailing list
> PROJ at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/proj

-- 
http://www.spatialys.com
My software is free, but my time generally not.


From knudsen.thomas at gmail.com  Tue Jan 24 04:19:21 2023
From: knudsen.thomas at gmail.com (Thomas Knudsen)
Date: Tue, 24 Jan 2023 13:19:21 +0100
Subject: [PROJ] Motion: whole code-base reformatting
In-Reply-To: <1e367aaf-0a93-391f-85f8-81e9954b01d2@spatialys.com>
References: <1e367aaf-0a93-391f-85f8-81e9954b01d2@spatialys.com>
Message-ID: <CAH0YoEPjw3uDn-9JstmJA73Wok6DYAcoBntMAgi35dEBGopynQ@mail.gmail.com>

+1

Den man. 23. jan. 2023 kl. 22.30 skrev Even Rouault <
even.rouault at spatialys.com>:

> Hi,
>
> I guess this deserves formal PSC approval:
> https://github.com/OSGeo/PROJ/pull/3590
>
> Basically this generalizes the formatting rules that have been applied
> to the code added since PROJ >= 6 to the rest of the code base and adds
> automation through pre-commit to apply those formatting rules at git
> commit time.
>
> Starting with my +1
>
> Even
>
> --
> http://www.spatialys.com
> My software is free, but my time generally not.
>
> _______________________________________________
> PROJ mailing list
> PROJ at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/proj
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20230124/29833d71/attachment-0001.htm>

From j1 at jimenezshaw.com  Tue Jan 24 04:23:46 2023
From: j1 at jimenezshaw.com (Javier Jimenez Shaw)
Date: Tue, 24 Jan 2023 13:23:46 +0100
Subject: [PROJ] Motion: whole code-base reformatting
In-Reply-To: <cc13167c-99b4-7804-d82c-2d959ad646b0@spatialys.com>
References: <1e367aaf-0a93-391f-85f8-81e9954b01d2@spatialys.com>
 <CACmBxytUkX242n_0VhCpsfoV-Z1BmUEQMdP2LOHecLEQS0Mw2w@mail.gmail.com>
 <CAGybdFQB2nhC_RH1FKwUug+qs9ZqYMJ2Es9gprLu9=pUc6==FA@mail.gmail.com>
 <B04964E2-CCBF-490C-882F-B714426A15C8@hobu.co>
 <5cf54b30-85b5-47e2-86dc-6b0f8456c159@karney.com>
 <cc13167c-99b4-7804-d82c-2d959ad646b0@spatialys.com>
Message-ID: <CADRrdKsLN-zOzhx0dtoNFB1qURNYueKMFr77jiJemrfDR+uuKw@mail.gmail.com>

Would it be a good idea to use the same clang-format version as in GDAL? I
think one is 10 and the other 15.

Cheers

On Tue, 24 Jan 2023, 12:07 Even Rouault, <even.rouault at spatialys.com> wrote:

> Ah just to note that for now I've excluded the geodesic.h/c files and
> associated tests imported from GeographicLib from the reformatting (as
> well as a few third-party vendored C++ headers)
>
> Le 24/01/2023 ? 12:05, Charles Karney a ?crit :
> > +1
> >
> > On 1/23/23 22:55, Howard Butler wrote:
> >> +1
> >>
> >>> On Jan 23, 2023, at 4:01 PM, Alan Snow <alansnow21 at gmail.com> wrote:
> >>>
> >>> +1
> >>>
> >>> On Mon, Jan 23, 2023, 3:34 PM Kurt Schwehr <schwehr at gmail.com> wrote:
> >>> +1 KurtS
> >>>
> >>> On Mon, Jan 23, 2023 at 1:30 PM Even Rouault
> >>> <even.rouault at spatialys.com> wrote:
> >>> Hi,
> >>>
> >>> I guess this deserves formal PSC approval:
> >>> https://github.com/OSGeo/PROJ/pull/3590
> >>>
> >>> Basically this generalizes the formatting rules that have been applied
> >>> to the code added since PROJ >= 6 to the rest of the code base and adds
> >>> automation through pre-commit to apply those formatting rules at git
> >>> commit time.
> >>>
> >>> Starting with my +1
> >>>
> >>> Even
> >>>
> >>> --
> >>> http://www.spatialys.com
> >>> My software is free, but my time generally not.
> > _______________________________________________
> > PROJ mailing list
> > PROJ at lists.osgeo.org
> > https://lists.osgeo.org/mailman/listinfo/proj
>
> --
> http://www.spatialys.com
> My software is free, but my time generally not.
>
> _______________________________________________
> PROJ mailing list
> PROJ at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/proj
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20230124/2f231b09/attachment.htm>

From kreve at sdfi.dk  Tue Jan 24 04:47:31 2023
From: kreve at sdfi.dk (Kristian Evers)
Date: Tue, 24 Jan 2023 12:47:31 +0000
Subject: [PROJ] Motion: whole code-base reformatting
In-Reply-To: <1e367aaf-0a93-391f-85f8-81e9954b01d2@spatialys.com>
References: <1e367aaf-0a93-391f-85f8-81e9954b01d2@spatialys.com>
Message-ID: <1a602d5ebe604157b6c7de59d3dd3fbf@sdfi.dk>

A very good initiative!

+1

/Kristian

-----Original Message-----
From: PROJ <proj-bounces at lists.osgeo.org> On Behalf Of Even Rouault
Sent: 23. januar 2023 22:31
To: proj <proj at lists.osgeo.org>
Subject: [PROJ] Motion: whole code-base reformatting

Hi,

I guess this deserves formal PSC approval: 
https://github.com/OSGeo/PROJ/pull/3590

Basically this generalizes the formatting rules that have been applied 
to the code added since PROJ >= 6 to the rest of the code base and adds 
automation through pre-commit to apply those formatting rules at git 
commit time.

Starting with my +1

Even

-- 
http://www.spatialys.com
My software is free, but my time generally not.

_______________________________________________
PROJ mailing list
PROJ at lists.osgeo.org
https://lists.osgeo.org/mailman/listinfo/proj

From even.rouault at spatialys.com  Tue Jan 24 05:54:18 2023
From: even.rouault at spatialys.com (Even Rouault)
Date: Tue, 24 Jan 2023 14:54:18 +0100
Subject: [PROJ] Motion: whole code-base reformatting
In-Reply-To: <CADRrdKsLN-zOzhx0dtoNFB1qURNYueKMFr77jiJemrfDR+uuKw@mail.gmail.com>
References: <1e367aaf-0a93-391f-85f8-81e9954b01d2@spatialys.com>
 <CACmBxytUkX242n_0VhCpsfoV-Z1BmUEQMdP2LOHecLEQS0Mw2w@mail.gmail.com>
 <CAGybdFQB2nhC_RH1FKwUug+qs9ZqYMJ2Es9gprLu9=pUc6==FA@mail.gmail.com>
 <B04964E2-CCBF-490C-882F-B714426A15C8@hobu.co>
 <5cf54b30-85b5-47e2-86dc-6b0f8456c159@karney.com>
 <cc13167c-99b4-7804-d82c-2d959ad646b0@spatialys.com>
 <CADRrdKsLN-zOzhx0dtoNFB1qURNYueKMFr77jiJemrfDR+uuKw@mail.gmail.com>
Message-ID: <368779b9-7ef4-4a6a-8444-4349365efed0@spatialys.com>

Good idea. I've just done that in follow-up commits. I feared 
significant changes in already formatted files, but actually the 
differences are limited

Even

Le 24/01/2023 ? 13:23, Javier Jimenez Shaw a ?crit?:
> Would it be a good idea to use the same clang-format version as in 
> GDAL? I think one is 10 and the other 15.
>
> Cheers
>
> On Tue, 24 Jan 2023, 12:07 Even Rouault, <even.rouault at spatialys.com> 
> wrote:
>
>     Ah just to note that for now I've excluded the geodesic.h/c files and
>     associated tests imported from GeographicLib from the reformatting
>     (as
>     well as a few third-party vendored C++ headers)
>
>     Le 24/01/2023 ? 12:05, Charles Karney a ?crit?:
>     > +1
>     >
>     > On 1/23/23 22:55, Howard Butler wrote:
>     >> +1
>     >>
>     >>> On Jan 23, 2023, at 4:01 PM, Alan Snow <alansnow21 at gmail.com>
>     wrote:
>     >>>
>     >>> +1
>     >>>
>     >>> On Mon, Jan 23, 2023, 3:34 PM Kurt Schwehr <schwehr at gmail.com>
>     wrote:
>     >>> +1 KurtS
>     >>>
>     >>> On Mon, Jan 23, 2023 at 1:30 PM Even Rouault
>     >>> <even.rouault at spatialys.com> wrote:
>     >>> Hi,
>     >>>
>     >>> I guess this deserves formal PSC approval:
>     >>> https://github.com/OSGeo/PROJ/pull/3590
>     >>>
>     >>> Basically this generalizes the formatting rules that have been
>     applied
>     >>> to the code added since PROJ >= 6 to the rest of the code base
>     and adds
>     >>> automation through pre-commit to apply those formatting rules
>     at git
>     >>> commit time.
>     >>>
>     >>> Starting with my +1
>     >>>
>     >>> Even
>     >>>
>     >>> --
>     >>> http://www.spatialys.com
>     >>> My software is free, but my time generally not.
>     > _______________________________________________
>     > PROJ mailing list
>     > PROJ at lists.osgeo.org
>     > https://lists.osgeo.org/mailman/listinfo/proj
>
>     -- 
>     http://www.spatialys.com
>     My software is free, but my time generally not.
>
>     _______________________________________________
>     PROJ mailing list
>     PROJ at lists.osgeo.org
>     https://lists.osgeo.org/mailman/listinfo/proj
>
-- 
http://www.spatialys.com
My software is free, but my time generally not.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20230124/c31bb36e/attachment.htm>

From even.rouault at spatialys.com  Thu Jan 26 08:19:03 2023
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 26 Jan 2023 17:19:03 +0100
Subject: [PROJ] Motion: whole code-base reformatting
In-Reply-To: <1e367aaf-0a93-391f-85f8-81e9954b01d2@spatialys.com>
References: <1e367aaf-0a93-391f-85f8-81e9954b01d2@spatialys.com>
Message-ID: <63423937-0bf3-344f-83f7-f94bfb330e17@spatialys.com>

Hi,

Motion passed with +1 from PSC members KurtS, AlanS, HowardB, CharlesK, 
ThomasK and me

Even

Le 23/01/2023 ? 22:30, Even Rouault a ?crit?:
> Hi,
>
> I guess this deserves formal PSC approval: 
> https://github.com/OSGeo/PROJ/pull/3590
>
> Basically this generalizes the formatting rules that have been applied 
> to the code added since PROJ >= 6 to the rest of the code base and 
> adds automation through pre-commit to apply those formatting rules at 
> git commit time.
>
> Starting with my +1
>
> Even
>
-- 
http://www.spatialys.com
My software is free, but my time generally not.


