From bram at terneuzen.com  Sat Mar  1 06:44:08 2008
From: bram at terneuzen.com (bram van hoeve)
Date: Sat, 01 Mar 2008 15:44:08 +0100
Subject: [Proj] modified EPSG 28992 parameters 
Message-ID: <47C96BB8.4020702@terneuzen.com>

In the epsg-list included in Proj-4.6.0 the 'to wgs'-parameter is 
missing for the Dutch RD srs 28992. This causes a misprojection for 
reprojected 28992-files of about 13 meters East and 80 meters North. 
This issue effects among others FWTools-2.0.3 and above.
Meanwhile the problem can be solved by adding the parameter below to the 
appropriate place at <28992> in the current epsg file:
+towgs84=565.2369,50.0087,465.658,-0.406857330322398,0.350732676542563,-1.8703473836068,4.0812   


Kind regards,
Bram     


From mfinn at usgs.gov  Sat Mar  1 13:01:43 2008
From: mfinn at usgs.gov (Michael P Finn)
Date: Sat, 1 Mar 2008 16:01:43 -0500
Subject: [Proj] Michael P Finn of the USGS/ National Geospatial Technical
 Operations Center is out of the office.
Message-ID: <OFA2D05E5A.55B579EF-ON852573FF.007383AD-852573FF.007383AE@usgs.gov>


I will be out of the office starting  03/01/2008 and will not return until
03/11/2008.

I will be unable to check e-mail regularly while I am out. If I can't
respond to your message while I am out, then I will when I return. If you
have anything that cannot wait, please contact my colleague, Dr. E. Lynn
Usery, at usery at usgs.gov.     Mike



From F.Buschman at geo.uu.nl  Wed Mar  5 03:03:12 2008
From: F.Buschman at geo.uu.nl (Frans Buschman)
Date: Wed, 05 Mar 2008 12:03:12 +0100
Subject: [Proj] geoid in Kalimantan, Indonesia
Message-ID: <47CE7DF0.7020902@geo.uu.nl>

Hello,

In a coastal region in East Kalimantan, Indonesia, we measured with a GPS promark3 system height differences of several water level gauges with respect to the WGS-84 ellipsoide and datum. The stations are about 30 km apart and we think that the precision of the measurements is within 10 cm. 

>From the water level gauges we want to see in what direction water should be flowing, so we want the want to derive the height differences with respect to a geoid. For Kalimantan no detailed geoid seems to exist, so I would like to convert measured height differences on the WGS-84 ellipsoide to height differences on a global geoid. Which geoid is best for this purpose and how can I make the conversion? Could you give an estimate of the error you make with this conversion?

Thanks!
Frans

-- 
______________________________________________________
Frans Buschman (PhD student)
Department of Physical Geography
Institute for Marine and Atmospheric Research Utrecht
Utrecht University
P.O. box 80.115 / Heidelberglaan 2
3508 TC Utrecht, the Netherlands
Room 211 in Jan Zonneveldvleugel
Phone: +31 - (0)30 2532778
Fax: +31 - (0)30 2531145
mail: f.buschman at geo.uu.nl
______________________________________________________



From cjmce at lsu.edu  Wed Mar  5 07:50:29 2008
From: cjmce at lsu.edu (Clifford J Mugnier)
Date: Wed, 5 Mar 2008 09:50:29 -0600
Subject: [Proj] geoid in Kalimantan, Indonesia
References: <47CE7DF0.7020902@geo.uu.nl>
Message-ID: <B597ADFC46B67741B18EA6AA13613FF7768759@email002.lsu.edu>

EGM96 is the best worldwide geoid available, but a Promark is a single-frequency receiver and is a poor candidate for the third component.  I would estimate the vertical accuracy at about plus or minus 1 to 2 meters at best.  A dual frequency receiver can get fairly reliable verticals because the two frequencies allow proper modeling of tropospheric effects - an impossibility with only a single frequency receiver.  A short baseline differential technique (less than one kilometer with two simultaneous Promarks) is used for construction work, but certainly not even close to 10 kilometers muchless 30!
 
Clifford J. Mugnier, C.P., C.M.S.
LSU Student ASCE Chapter Faculty Advisor
and
National Director (2006-2008),
Photogrammetric Applications Division
American Society for Photogrammetry and Remote Sensing 
and 
Chief of Geodesy,
CENTER FOR GEOINFORMATICS 
Department of Civil Engineering 
CEBA 3223A
LOUISIANA STATE UNIVERSITY 
Baton Rouge, LA  70803
Voice and Facsimile:  (225) 578-8536 [Academic] 
Voice and Facsimile:  (225) 578-4474 [Research] 
Honorary Life Member of the 
Louisiana Society of Professional Surveyors 
Member Emeritus of the ASPRS 
Member of the Americas Petroleum Survey Group
======================================================
http://www.asprs.org/resources/GRIDS/
======================================================

________________________________

From: proj-bounces at lists.maptools.org on behalf of Frans Buschman
Sent: Wed 05-Mar-08 05:03
To: proj at lists.maptools.org
Subject: [Proj] geoid in Kalimantan, Indonesia



Hello,

In a coastal region in East Kalimantan, Indonesia, we measured with a GPS promark3 system height differences of several water level gauges with respect to the WGS-84 ellipsoide and datum. The stations are about 30 km apart and we think that the precision of the measurements is within 10 cm.

>From the water level gauges we want to see in what direction water should be flowing, so we want the want to derive the height differences with respect to a geoid. For Kalimantan no detailed geoid seems to exist, so I would like to convert measured height differences on the WGS-84 ellipsoide to height differences on a global geoid. Which geoid is best for this purpose and how can I make the conversion? Could you give an estimate of the error you make with this conversion?

Thanks!
Frans

--
______________________________________________________
Frans Buschman (PhD student)
Department of Physical Geography
Institute for Marine and Atmospheric Research Utrecht
Utrecht University
P.O. box 80.115 / Heidelberglaan 2
3508 TC Utrecht, the Netherlands
Room 211 in Jan Zonneveldvleugel
Phone: +31 - (0)30 2532778
Fax: +31 - (0)30 2531145
mail: f.buschman at geo.uu.nl
______________________________________________________

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080305/49586970/attachment.html>

From AWilliams at rapidmap.com  Wed Mar  5 22:44:14 2008
From: AWilliams at rapidmap.com (Andrew Williams)
Date: Thu, 6 Mar 2008 17:44:14 +1100
Subject: [Proj] geoid in Kalimantan, Indonesia
In-Reply-To: <B597ADFC46B67741B18EA6AA13613FF7768759@email002.lsu.edu>
References: <47CE7DF0.7020902@geo.uu.nl>
	<B597ADFC46B67741B18EA6AA13613FF7768759@email002.lsu.edu>
Message-ID: <29C3A52E0876C94C97BD6443FA96F7332E9EE291F9@rms03.rapidmap.local>

Frans,
I tend to agree with Clifford. As a surveyor myself and having used the ProMark3's in anger I can say the manufacturers specifications leave the whole "accuracy depending on atmosphere" open to interpretation. When I read your post I assumed you'd performed a static differential survey with a pair of ProMarks to build a network including your tide gauges. If you have simply positioned your Promark above the tide gauge and observed for 20 or 30 minutes then your results are likely to be poor.

I have always used a rule of thumb that the vertical accuracy of a GPS is about 2.5-3 time worse than the quoted horizontal accuracy in RELATIVE terms. What you're trying to do is perform a gravity survey in ABSOLUTE terms. I've done countless surveys for irrigation over vast tracts of land. They key here is you need an accurate vertical geoidal model upon which to base your survey. Typically I've had the benefit of connecting to existing bench marks that were leveled with spirit or optical leveling techniques. Since both the spirit or optical levels are affected by gravity you have a great framework for basing your GPS survey.

Most of my work has been using Thales/Magellan DSNP Dual Frequency Long Range Kinematic GPS. They way we use this is to set up a base station in a convenient location.(Usually a high hill/mountain) within 40km of the job. There will be surveyors reading this saying I'm crazy, but believe me Thales mean LONG range kinematic.
Anyway I'd observe a network of previously established bench marks with Horizontal and vertical coordinates. That would establish my survey reference framework. After that any new or unknown points would then be coordinated relative to this framework.
In your case you may not have this network of existing "control". This is the challenge. I have transferred control using the above technique. What that means is as you survey points that are unknown as above they become "known". You can then pick up your equipment, transfer it to a convenient location closer to job site and use then new benchmarks as control for the new site.
This is not a job to be taken lightly. I'm also not too sure what the terrain is like in Kalimantan but I assume difficult to traverse.

From: proj-bounces at lists.maptools.org [mailto:proj-bounces at lists.maptools.org] On Behalf Of Clifford J Mugnier
Sent: Thursday, 6 March 2008 2:50 AM
To: PROJ.4 and general Projections Discussions
Subject: RE: [Proj] geoid in Kalimantan, Indonesia

EGM96 is the best worldwide geoid available, but a Promark is a single-frequency receiver and is a poor candidate for the third component.  I would estimate the vertical accuracy at about plus or minus 1 to 2 meters at best.  A dual frequency receiver can get fairly reliable verticals because the two frequencies allow proper modeling of tropospheric effects - an impossibility with only a single frequency receiver.  A short baseline differential technique (less than one kilometer with two simultaneous Promarks) is used for construction work, but certainly not even close to 10 kilometers muchless 30!

Clifford J. Mugnier, C.P., C.M.S.
LSU Student ASCE Chapter Faculty Advisor
and
National Director (2006-2008),
Photogrammetric Applications Division
American Society for Photogrammetry and Remote Sensing
and
Chief of Geodesy,
CENTER FOR GEOINFORMATICS
Department of Civil Engineering
CEBA 3223A
LOUISIANA STATE UNIVERSITY
Baton Rouge, LA  70803
Voice and Facsimile:  (225) 578-8536 [Academic]
Voice and Facsimile:  (225) 578-4474 [Research]
Honorary Life Member of the
Louisiana Society of Professional Surveyors
Member Emeritus of the ASPRS
Member of the Americas Petroleum Survey Group
======================================================
http://www.asprs.org/resources/GRIDS/<https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.ls>
======================================================

________________________________
From: proj-bounces at lists.maptools.org on behalf of Frans Buschman
Sent: Wed 05-Mar-08 05:03
To: proj at lists.maptools.org
Subject: [Proj] geoid in Kalimantan, Indonesia

Hello,

In a coastal region in East Kalimantan, Indonesia, we measured with a GPS promark3 system height differences of several water level gauges with respect to the WGS-84 ellipsoide and datum. The stations are about 30 km apart and we think that the precision of the measurements is within 10 cm.

>From the water level gauges we want to see in what direction water should be flowing, so we want the want to derive the height differences with respect to a geoid. For Kalimantan no detailed geoid seems to exist, so I would like to convert measured height differences on the WGS-84 ellipsoide to height differences on a global geoid. Which geoid is best for this purpose and how can I make the conversion? Could you give an estimate of the error you make with this conversion?

Thanks!
Frans

--
______________________________________________________
Frans Buschman (PhD student)
Department of Physical Geography
Institute for Marine and Atmospheric Research Utrecht
Utrecht University
P.O. box 80.115 / Heidelberglaan 2
3508 TC Utrecht, the Netherlands
Room 211 in Jan Zonneveldvleugel
Phone: +31 - (0)30 2532778
Fax: +31 - (0)30 2531145
mail: f.buschman at geo.uu.nl
______________________________________________________

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080306/c7031fc5/attachment.html>

From F.Buschman at geo.uu.nl  Fri Mar  7 01:00:09 2008
From: F.Buschman at geo.uu.nl (Frans Buschman)
Date: Fri, 07 Mar 2008 10:00:09 +0100
Subject: [Proj] RE: geoid in Kalimantan, Indonesia
In-Reply-To: <200803061702.m26H1eMf016994@duke.maptools.org>
References: <200803061702.m26H1eMf016994@duke.maptools.org>
Message-ID: <47D10419.80106@geo.uu.nl>

Hello again,

Thanks for your useful replies, Clifford and Andrew. The best geoid 
available is thus the EGM96 and I understand that this accuracy is at 
best 1 m vertically worldwide.
Indeed we did not have the luxury of having control sites and indeed it 
was difficult to decrease the spacing due to dense vegetation or 
mangrove swamps. We have just used two GPS promark 3 receivers 
simultaneously at locations maximally 30 km apart to measure the 
relative height differences. You mention that the vertical accuracy of 
this system over these distances is 1or 2 m at best. So, combining these 
errors it seems more reliable to average the tidal gauges and assume 
that they have the same mean level!

One question, out of curiosity, remains: we realised that the distances 
between the stations were long for this GPS promark 3 system, so we 
performed the measurements during the night since we assumed that the 
least ionospheric error would be made then. How much does this improve 
the accuracy?

Thanks again,
Frans


proj-request at lists.maptools.org wrote:
> Send Proj mailing list submissions to
> 	proj at lists.maptools.org
>
> To subscribe or unsubscribe via the World Wide Web, visit
> 	http://lists.maptools.org/mailman/listinfo/proj
> or, via email, send a message with subject or body 'help' to
> 	proj-request at lists.maptools.org
>
> You can reach the person managing the list at
> 	proj-owner at lists.maptools.org
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of Proj digest..."
>
>
> Today's Topics:
>
>    1. RE: geoid in Kalimantan, Indonesia (Andrew Williams)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Thu, 6 Mar 2008 17:44:14 +1100
> From: Andrew Williams <AWilliams at rapidmap.com>
> Subject: RE: [Proj] geoid in Kalimantan, Indonesia
> To: "PROJ.4 and general Projections Discussions"
> 	<proj at lists.maptools.org>
> Message-ID:
> 	<29C3A52E0876C94C97BD6443FA96F7332E9EE291F9 at rms03.rapidmap.local>
> Content-Type: text/plain; charset="us-ascii"
>
> Frans,
> I tend to agree with Clifford. As a surveyor myself and having used the ProMark3's in anger I can say the manufacturers specifications leave the whole "accuracy depending on atmosphere" open to interpretation. When I read your post I assumed you'd performed a static differential survey with a pair of ProMarks to build a network including your tide gauges. If you have simply positioned your Promark above the tide gauge and observed for 20 or 30 minutes then your results are likely to be poor.
>
> I have always used a rule of thumb that the vertical accuracy of a GPS is about 2.5-3 time worse than the quoted horizontal accuracy in RELATIVE terms. What you're trying to do is perform a gravity survey in ABSOLUTE terms. I've done countless surveys for irrigation over vast tracts of land. They key here is you need an accurate vertical geoidal model upon which to base your survey. Typically I've had the benefit of connecting to existing bench marks that were leveled with spirit or optical leveling techniques. Since both the spirit or optical levels are affected by gravity you have a great framework for basing your GPS survey.
>
> Most of my work has been using Thales/Magellan DSNP Dual Frequency Long Range Kinematic GPS. They way we use this is to set up a base station in a convenient location.(Usually a high hill/mountain) within 40km of the job. There will be surveyors reading this saying I'm crazy, but believe me Thales mean LONG range kinematic.
> Anyway I'd observe a network of previously established bench marks with Horizontal and vertical coordinates. That would establish my survey reference framework. After that any new or unknown points would then be coordinated relative to this framework.
> In your case you may not have this network of existing "control". This is the challenge. I have transferred control using the above technique. What that means is as you survey points that are unknown as above they become "known". You can then pick up your equipment, transfer it to a convenient location closer to job site and use then new benchmarks as control for the new site.
> This is not a job to be taken lightly. I'm also not too sure what the terrain is like in Kalimantan but I assume difficult to traverse.
>
> From: proj-bounces at lists.maptools.org [mailto:proj-bounces at lists.maptools.org] On Behalf Of Clifford J Mugnier
> Sent: Thursday, 6 March 2008 2:50 AM
> To: PROJ.4 and general Projections Discussions
> Subject: RE: [Proj] geoid in Kalimantan, Indonesia
>
> EGM96 is the best worldwide geoid available, but a Promark is a single-frequency receiver and is a poor candidate for the third component.  I would estimate the vertical accuracy at about plus or minus 1 to 2 meters at best.  A dual frequency receiver can get fairly reliable verticals because the two frequencies allow proper modeling of tropospheric effects - an impossibility with only a single frequency receiver.  A short baseline differential technique (less than one kilometer with two simultaneous Promarks) is used for construction work, but certainly not even close to 10 kilometers muchless 30!
>
> Clifford J. Mugnier, C.P., C.M.S.
> LSU Student ASCE Chapter Faculty Advisor
> and
> National Director (2006-2008),
> Photogrammetric Applications Division
> American Society for Photogrammetry and Remote Sensing
> and
> Chief of Geodesy,
> CENTER FOR GEOINFORMATICS
> Department of Civil Engineering
> CEBA 3223A
> LOUISIANA STATE UNIVERSITY
> Baton Rouge, LA  70803
> Voice and Facsimile:  (225) 578-8536 [Academic]
> Voice and Facsimile:  (225) 578-4474 [Research]
> Honorary Life Member of the
> Louisiana Society of Professional Surveyors
> Member Emeritus of the ASPRS
> Member of the Americas Petroleum Survey Group
> ======================================================
> http://www.asprs.org/resources/GRIDS/<https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir!
>  .asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.ls>
> ======================================================
>
> ________________________________
> From: proj-bounces at lists.maptools.org on behalf of Frans Buschman
> Sent: Wed 05-Mar-08 05:03
> To: proj at lists.maptools.org
> Subject: [Proj] geoid in Kalimantan, Indonesia
>
> Hello,
>
> In a coastal region in East Kalimantan, Indonesia, we measured with a GPS promark3 system height differences of several water level gauges with respect to the WGS-84 ellipsoide and datum. The stations are about 30 km apart and we think that the precision of the measurements is within 10 cm.
>
> >From the water level gauges we want to see in what direction water should be flowing, so we want the want to derive the height differences with respect to a geoid. For Kalimantan no detailed geoid seems to exist, so I would like to convert measured height differences on the WGS-84 ellipsoide to height differences on a global geoid. Which geoid is best for this purpose and how can I make the conversion? Could you give an estimate of the error you make with this conversion?
>
> Thanks!
> Frans
>
> --
> ______________________________________________________
> Frans Buschman (PhD student)
> Department of Physical Geography
> Institute for Marine and Atmospheric Research Utrecht
> Utrecht University
> P.O. box 80.115 / Heidelberglaan 2
> 3508 TC Utrecht, the Netherlands
> Room 211 in Jan Zonneveldvleugel
> Phone: +31 - (0)30 2532778
> Fax: +31 - (0)30 2531145
> mail: f.buschman at geo.uu.nl
> ______________________________________________________
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL: http://lists.maptools.org/pipermail/proj/attachments/20080306/c7031fc5/attachment-0001.html
>
> ------------------------------
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
>
> End of Proj Digest, Vol 46, Issue 4
> ***********************************
>   

-- 
______________________________________________________
Frans Buschman (PhD student)
Department of Physical Geography
Institute for Marine and Atmospheric Research Utrecht
Utrecht University
P.O. box 80.115 / Heidelberglaan 2
3508 TC Utrecht, the Netherlands
Room 211 in Jan Zonneveldvleugel
Phone: +31 - (0)30 2532778
Fax: +31 - (0)30 2531145
mail: f.buschman at geo.uu.nl
______________________________________________________





From cjmce at lsu.edu  Fri Mar  7 08:23:50 2008
From: cjmce at lsu.edu (Clifford J Mugnier)
Date: Fri, 7 Mar 2008 10:23:50 -0600
Subject: [Proj] RE: geoid in Kalimantan, Indonesia
References: <200803061702.m26H1eMf016994@duke.maptools.org>
	<47D10419.80106@geo.uu.nl>
Message-ID: <B597ADFC46B67741B18EA6AA13613FF7768763@email002.lsu.edu>

How much improvement on accuracy?  This is not quantifiable by rule of thumb.  Long practice in one locale with the ability to compare with classical control versus geoid quality, geoid fit, and geoid slope will yield estimators that come with experience.  For concrete comparisons and properly scaled error propagation analyses, we use dual-frequency receivers and we then are able to determine various improvements in accuracy with changes in the variables.
 
In the boondocks with single-frequency receivers and LONG baselines, you don't really have sufficient information to know what you don't know.  An estimator is the number of epochs observed and the ratio of fixed to float solutions.  Keep your fingers crossed.
 
Sorry.
 
Clifford J. Mugnier, C.P., C.M.S.
LSU Student ASCE Chapter Faculty Advisor
and
National Director (2006-2008),
Photogrammetric Applications Division
American Society for Photogrammetry and Remote Sensing 
and 
Chief of Geodesy,
CENTER FOR GEOINFORMATICS 
Department of Civil Engineering 
CEBA 3223A
LOUISIANA STATE UNIVERSITY 
Baton Rouge, LA  70803
Voice and Facsimile:  (225) 578-8536 [Academic] 
Voice and Facsimile:  (225) 578-4474 [Research] 
Honorary Life Member of the 
Louisiana Society of Professional Surveyors 
Member Emeritus of the ASPRS 
Member of the Americas Petroleum Survey Group
======================================================
http://www.asprs.org/resources/GRIDS/
======================================================

________________________________

From: proj-bounces at lists.maptools.org on behalf of Frans Buschman
Sent: Fri 07-Mar-08 03:00
To: proj at lists.maptools.org
Subject: [Proj] RE: geoid in Kalimantan, Indonesia



Hello again,

Thanks for your useful replies, Clifford and Andrew. The best geoid
available is thus the EGM96 and I understand that this accuracy is at
best 1 m vertically worldwide.
Indeed we did not have the luxury of having control sites and indeed it
was difficult to decrease the spacing due to dense vegetation or
mangrove swamps. We have just used two GPS promark 3 receivers
simultaneously at locations maximally 30 km apart to measure the
relative height differences. You mention that the vertical accuracy of
this system over these distances is 1or 2 m at best. So, combining these
errors it seems more reliable to average the tidal gauges and assume
that they have the same mean level!

One question, out of curiosity, remains: we realised that the distances
between the stations were long for this GPS promark 3 system, so we
performed the measurements during the night since we assumed that the
least ionospheric error would be made then. How much does this improve
the accuracy?

Thanks again,
Frans


proj-request at lists.maptools.org wrote:
> Send Proj mailing list submissions to
>       proj at lists.maptools.org
>
> To subscribe or unsubscribe via the World Wide Web, visit
>       http://lists.maptools.org/mailman/listinfo/proj
> or, via email, send a message with subject or body 'help' to
>       proj-request at lists.maptools.org
>
> You can reach the person managing the list at
>       proj-owner at lists.maptools.org
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of Proj digest..."
>
>
> Today's Topics:
>
>    1. RE: geoid in Kalimantan, Indonesia (Andrew Williams)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Thu, 6 Mar 2008 17:44:14 +1100
> From: Andrew Williams <AWilliams at rapidmap.com>
> Subject: RE: [Proj] geoid in Kalimantan, Indonesia
> To: "PROJ.4 and general Projections Discussions"
>       <proj at lists.maptools.org>
> Message-ID:
>       <29C3A52E0876C94C97BD6443FA96F7332E9EE291F9 at rms03.rapidmap.local>
> Content-Type: text/plain; charset="us-ascii"
>
> Frans,
> I tend to agree with Clifford. As a surveyor myself and having used the ProMark3's in anger I can say the manufacturers specifications leave the whole "accuracy depending on atmosphere" open to interpretation. When I read your post I assumed you'd performed a static differential survey with a pair of ProMarks to build a network including your tide gauges. If you have simply positioned your Promark above the tide gauge and observed for 20 or 30 minutes then your results are likely to be poor.
>
> I have always used a rule of thumb that the vertical accuracy of a GPS is about 2.5-3 time worse than the quoted horizontal accuracy in RELATIVE terms. What you're trying to do is perform a gravity survey in ABSOLUTE terms. I've done countless surveys for irrigation over vast tracts of land. They key here is you need an accurate vertical geoidal model upon which to base your survey. Typically I've had the benefit of connecting to existing bench marks that were leveled with spirit or optical leveling techniques. Since both the spirit or optical levels are affected by gravity you have a great framework for basing your GPS survey.
>
> Most of my work has been using Thales/Magellan DSNP Dual Frequency Long Range Kinematic GPS. They way we use this is to set up a base station in a convenient location.(Usually a high hill/mountain) within 40km of the job. There will be surveyors reading this saying I'm crazy, but believe me Thales mean LONG range kinematic.
> Anyway I'd observe a network of previously established bench marks with Horizontal and vertical coordinates. That would establish my survey reference framework. After that any new or unknown points would then be coordinated relative to this framework.
> In your case you may not have this network of existing "control". This is the challenge. I have transferred control using the above technique. What that means is as you survey points that are unknown as above they become "known". You can then pick up your equipment, transfer it to a convenient location closer to job site and use then new benchmarks as control for the new site.
> This is not a job to be taken lightly. I'm also not too sure what the terrain is like in Kalimantan but I assume difficult to traverse.
>
> From: proj-bounces at lists.maptools.org [mailto:proj-bounces at lists.maptools.org] On Behalf Of Clifford J Mugnier
> Sent: Thursday, 6 March 2008 2:50 AM
> To: PROJ.4 and general Projections Discussions
> Subject: RE: [Proj] geoid in Kalimantan, Indonesia
>
> EGM96 is the best worldwide geoid available, but a Promark is a single-frequency receiver and is a poor candidate for the third component.  I would estimate the vertical accuracy at about plus or minus 1 to 2 meters at best.  A dual frequency receiver can get fairly reliable verticals because the two frequencies allow proper modeling of tropospheric effects - an impossibility with only a single frequency receiver.  A short baseline differential technique (less than one kilometer with two simultaneous Promarks) is used for construction work, but certainly not even close to 10 kilometers muchless 30!
>
> Clifford J. Mugnier, C.P., C.M.S.
> LSU Student ASCE Chapter Faculty Advisor
> and
> National Director (2006-2008),
> Photogrammetric Applications Division
> American Society for Photogrammetry and Remote Sensing
> and
> Chief of Geodesy,
> CENTER FOR GEOINFORMATICS
> Department of Civil Engineering
> CEBA 3223A
> LOUISIANA STATE UNIVERSITY
> Baton Rouge, LA  70803
> Voice and Facsimile:  (225) 578-8536 [Academic]
> Voice and Facsimile:  (225) 578-4474 [Research]
> Honorary Life Member of the
> Louisiana Society of Professional Surveyors
> Member Emeritus of the ASPRS
> Member of the Americas Petroleum Survey Group
> ======================================================
> http://www.asprs.org/resources/GRIDS/<https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/red!
 ir!
>  .asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.ls>
> ======================================================
>
> ________________________________
> From: proj-bounces at lists.maptools.org on behalf of Frans Buschman
> Sent: Wed 05-Mar-08 05:03
> To: proj at lists.maptools.org
> Subject: [Proj] geoid in Kalimantan, Indonesia
>
> Hello,
>
> In a coastal region in East Kalimantan, Indonesia, we measured with a GPS promark3 system height differences of several water level gauges with respect to the WGS-84 ellipsoide and datum. The stations are about 30 km apart and we think that the precision of the measurements is within 10 cm.
>
> >From the water level gauges we want to see in what direction water should be flowing, so we want the want to derive the height differences with respect to a geoid. For Kalimantan no detailed geoid seems to exist, so I would like to convert measured height differences on the WGS-84 ellipsoide to height differences on a global geoid. Which geoid is best for this purpose and how can I make the conversion? Could you give an estimate of the error you make with this conversion?
>
> Thanks!
> Frans
>
> --
> ______________________________________________________
> Frans Buschman (PhD student)
> Department of Physical Geography
> Institute for Marine and Atmospheric Research Utrecht
> Utrecht University
> P.O. box 80.115 / Heidelberglaan 2
> 3508 TC Utrecht, the Netherlands
> Room 211 in Jan Zonneveldvleugel
> Phone: +31 - (0)30 2532778
> Fax: +31 - (0)30 2531145
> mail: f.buschman at geo.uu.nl
> ______________________________________________________
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL: http://lists.maptools.org/pipermail/proj/attachments/20080306/c7031fc5/attachment-0001.html
>
> ------------------------------
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
>
> End of Proj Digest, Vol 46, Issue 4
> ***********************************
>  

--
______________________________________________________
Frans Buschman (PhD student)
Department of Physical Geography
Institute for Marine and Atmospheric Research Utrecht
Utrecht University
P.O. box 80.115 / Heidelberglaan 2
3508 TC Utrecht, the Netherlands
Room 211 in Jan Zonneveldvleugel
Phone: +31 - (0)30 2532778
Fax: +31 - (0)30 2531145
mail: f.buschman at geo.uu.nl
______________________________________________________



_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080307/3f2df2f5/attachment.html>

From ckirchho at directmedia.de  Fri Mar  7 09:36:30 2008
From: ckirchho at directmedia.de (Christian Kirchhoff)
Date: Fri, 07 Mar 2008 18:36:30 +0100
Subject: [Proj] [delphi proj api]: Setting up TCoordinateTranslator
Message-ID: <47D17D1E.30706@directmedia.de>

Hello,

I'd like to use the Delphi PROJ API to translate coordinates. The 
coordinates come from GoogleMaps, thus are lat/lng values.

I want to match them to shapes from a shape file which I can read with 
the ShapeAPI. I have got the following information the the prj file of 
the shape:
PROJCS["Germany_Zone_3",GEOGCS["GCS_Deutsches_Hauptdreiecksnetz",DATUM["D_Deutsches_Hauptdreiecksnetz",SPHEROID["Bessel_1841",6377397.155,299.1528128]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Transverse_Mercator"],PARAMETER["False_Easting",3500000.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",9.0],PARAMETER["Scale_Factor",1.0],PARAMETER["Latitude_Of_Origin",0.0],UNIT["Meter",1.0]]

Therefore I thought that the TCoordinateTranslator I named "Proj" should 
be opened with:
Proj.Open('+proj=tmerc +ellps=bessel +lon_0=9 +x_0=3500000');

...but I am not very familiar/experienced yet.

Anyway I have test coordinates from GoogleMaps, e.g. (50.1056069418592, 
8.404541015625). The region this coodinates lay in as exactly the region 
that is covered by shapes in the shape file. The bounds of the shape 
file are, according to what the ShapeAPI returned:
( 3394468.028, 5504381.719,0.00,0.00) to ( 3424916.697, 
5537463.422,0.00,0.00)

But the translated Google coordinates are:
8451430,97 m, 1229074.77 m

Which is totally elsewhere.

My question is: Did I read the values from the shape's prj file wrong? 
Or did I use the wrong parameters when setting up the TCoordinateTranslator?

Any help for a better understanding of this matter would be greatly 
appreciated.

Regards,

Christian Kirchhoff
*Directmedia Publishing GmbH* · Möckernstraße 68 · 10965 Berlin
www.digitale-bibliothek.de
AG Berlin-Charlottenburg · HR B 58002 · USt.Id. DE173211737
Geschäftsführer: Ralf Szymanski · Erwin Jurschitza
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080307/269b601d/attachment.html>

From paul-grass at stjohnspoint.co.uk  Fri Mar  7 10:31:10 2008
From: paul-grass at stjohnspoint.co.uk (Paul Kelly)
Date: Fri, 7 Mar 2008 18:31:10 +0000 (GMT)
Subject: [Proj] [delphi proj api]: Setting up TCoordinateTranslator
In-Reply-To: <47D17D1E.30706@directmedia.de>
References: <47D17D1E.30706@directmedia.de>
Message-ID: <Pine.LNX.4.62.0803071827530.24814@vortex.ukshells.co.uk>

On Fri, 7 Mar 2008, Christian Kirchhoff wrote:

> Hello,
>
> I'd like to use the Delphi PROJ API to translate coordinates. The coordinates 
> come from GoogleMaps, thus are lat/lng values.
>
> I want to match them to shapes from a shape file which I can read with the 
> ShapeAPI. I have got the following information the the prj file of the shape:
> PROJCS["Germany_Zone_3",GEOGCS["GCS_Deutsches_Hauptdreiecksnetz",DATUM["D_Deutsches_Hauptdreiecksnetz",SPHEROID["Bessel_1841",6377397.155,299.1528128]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Transverse_Mercator"],PARAMETER["False_Easting",3500000.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",9.0],PARAMETER["Scale_Factor",1.0],PARAMETER["Latitude_Of_Origin",0.0],UNIT["Meter",1.0]]
>
> Therefore I thought that the TCoordinateTranslator I named "Proj" should be 
> opened with:
> Proj.Open('+proj=tmerc +ellps=bessel +lon_0=9 +x_0=3500000');
>
> ...but I am not very familiar/experienced yet.
>
> Anyway I have test coordinates from GoogleMaps, e.g. (50.1056069418592, 
> 8.404541015625). The region this coodinates lay in as exactly the region that 
> is covered by shapes in the shape file. The bounds of the shape file are, 
> according to what the ShapeAPI returned:
> ( 3394468.028, 5504381.719,0.00,0.00) to ( 3424916.697, 
> 5537463.422,0.00,0.00)
>
> But the translated Google coordinates are:
> 8451430,97 m, 1229074.77 m
>
> Which is totally elsewhere.
>
> My question is: Did I read the values from the shape's prj file wrong? Or did 
> I use the wrong parameters when setting up the TCoordinateTranslator?

I think you have passed the latitude and longitude values in the wrong 
order. It should be longitude first, followed by latitude. Here is quick 
test I did using your values and the cs2cs program that comes with PROJ.4:

cs2cs +proj=longlat +a=6377397.155 +rf=299.1528128 \
+towgs84=606.000,23.000,413.000 +to +proj=tmerc +lat_0=0 +lon_0=9 \
+k=1 +x_0=3500000 +y_0=0 +no_defs +a=6377397.155 +rf=299.1528128 \
+towgs84=606.000,23.000,413.000 +to_meter=1
8.404541015625 50.1056069418592
3457407.04      5552194.69 0.00
50.1056069418592 8.404541015625
8451430.97      1229074.77 0.00

Best regards,

Paul


From al001 at uni-koeln.de  Sat Mar  8 12:16:00 2008
From: al001 at uni-koeln.de (Irwin Scollar)
Date: Sat, 08 Mar 2008 21:16:00 +0100
Subject: [Proj] TCoordinateTranslator
In-Reply-To: <200803081703.m28H3CnB027442@duke.maptools.org>
References: <200803081703.m28H3CnB027442@duke.maptools.org>
Message-ID: <200803082016.m28KG7Ik005194@smtp-auth.uni-koeln.de>


>    1. [delphi proj api]: Setting up TCoordinateTranslator

Which version of Delphi has this?

Irwin Scollar 



From AWilliams at rapidmap.com  Mon Mar 10 17:03:33 2008
From: AWilliams at rapidmap.com (Andrew Williams)
Date: Tue, 11 Mar 2008 11:03:33 +1100
Subject: [Proj] RE: geoid in Kalimantan, Indonesia
In-Reply-To: <B597ADFC46B67741B18EA6AA13613FF7768763@email002.lsu.edu>
References: <200803061702.m26H1eMf016994@duke.maptools.org>
	<47D10419.80106@geo.uu.nl>
	<B597ADFC46B67741B18EA6AA13613FF7768763@email002.lsu.edu>
Message-ID: <29C3A52E0876C94C97BD6443FA96F7332E9EE29218@rms03.rapidmap.local>

Frans,
Again I agree with Clifford.

It sounds like you've been working your tail off in a hot, humid, muddy environment. I don't know what economics you're working with or if the opportunity has passed with but wouldn't it be easier to rent a set of dual frequency receivers and perform your survey?

Given the circumstances it seems that you've been incorrectly advised as to how this project could have been performed.

Of course the Promarks may have been the GPS's you had at the time, but in the scheme of things it's a "right tools for the job" approach as I assume the cost of getting your team on site is the greater cost.

From: proj-bounces at lists.maptools.org [mailto:proj-bounces at lists.maptools.org] On Behalf Of Clifford J Mugnier
Sent: Saturday, 8 March 2008 3:24 AM
To: PROJ.4 and general Projections Discussions
Subject: RE: [Proj] RE: geoid in Kalimantan, Indonesia

How much improvement on accuracy?  This is not quantifiable by rule of thumb.  Long practice in one locale with the ability to compare with classical control versus geoid quality, geoid fit, and geoid slope will yield estimators that come with experience.  For concrete comparisons and properly scaled error propagation analyses, we use dual-frequency receivers and we then are able to determine various improvements in accuracy with changes in the variables.

In the boondocks with single-frequency receivers and LONG baselines, you don't really have sufficient information to know what you don't know.  An estimator is the number of epochs observed and the ratio of fixed to float solutions.  Keep your fingers crossed.

Sorry.

Clifford J. Mugnier, C.P., C.M.S.
LSU Student ASCE Chapter Faculty Advisor
and
National Director (2006-2008),
Photogrammetric Applications Division
American Society for Photogrammetry and Remote Sensing
and
Chief of Geodesy,
CENTER FOR GEOINFORMATICS
Department of Civil Engineering
CEBA 3223A
LOUISIANA STATE UNIVERSITY
Baton Rouge, LA  70803
Voice and Facsimile:  (225) 578-8536 [Academic]
Voice and Facsimile:  (225) 578-4474 [Research]
Honorary Life Member of the
Louisiana Society of Professional Surveyors
Member Emeritus of the ASPRS
Member of the Americas Petroleum Survey Group
======================================================
http://www.asprs.org/resources/GRIDS/<https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.ls>
======================================================

________________________________
From: proj-bounces at lists.maptools.org on behalf of Frans Buschman
Sent: Fri 07-Mar-08 03:00
To: proj at lists.maptools.org
Subject: [Proj] RE: geoid in Kalimantan, Indonesia

Hello again,

Thanks for your useful replies, Clifford and Andrew. The best geoid
available is thus the EGM96 and I understand that this accuracy is at
best 1 m vertically worldwide.
Indeed we did not have the luxury of having control sites and indeed it
was difficult to decrease the spacing due to dense vegetation or
mangrove swamps. We have just used two GPS promark 3 receivers
simultaneously at locations maximally 30 km apart to measure the
relative height differences. You mention that the vertical accuracy of
this system over these distances is 1or 2 m at best. So, combining these
errors it seems more reliable to average the tidal gauges and assume
that they have the same mean level!

One question, out of curiosity, remains: we realised that the distances
between the stations were long for this GPS promark 3 system, so we
performed the measurements during the night since we assumed that the
least ionospheric error would be made then. How much does this improve
the accuracy?

Thanks again,
Frans


proj-request at lists.maptools.org wrote:
> Send Proj mailing list submissions to
>       proj at lists.maptools.org
>
> To subscribe or unsubscribe via the World Wide Web, visit
>       http://lists.maptools.org/mailman/listinfo/proj
> or, via email, send a message with subject or body 'help' to
>       proj-request at lists.maptools.org
>
> You can reach the person managing the list at
>       proj-owner at lists.maptools.org
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of Proj digest..."
>
>
> Today's Topics:
>
>    1. RE: geoid in Kalimantan, Indonesia (Andrew Williams)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Thu, 6 Mar 2008 17:44:14 +1100
> From: Andrew Williams <AWilliams at rapidmap.com>
> Subject: RE: [Proj] geoid in Kalimantan, Indonesia
> To: "PROJ.4 and general Projections Discussions"
>       <proj at lists.maptools.org>
> Message-ID:
>       <29C3A52E0876C94C97BD6443FA96F7332E9EE291F9 at rms03.rapidmap.local>
> Content-Type: text/plain; charset="us-ascii"
>
> Frans,
> I tend to agree with Clifford. As a surveyor myself and having used the ProMark3's in anger I can say the manufacturers specifications leave the whole "accuracy depending on atmosphere" open to interpretation. When I read your post I assumed you'd performed a static differential survey with a pair of ProMarks to build a network including your tide gauges. If you have simply positioned your Promark above the tide gauge and observed for 20 or 30 minutes then your results are likely to be poor.
>
> I have always used a rule of thumb that the vertical accuracy of a GPS is about 2.5-3 time worse than the quoted horizontal accuracy in RELATIVE terms. What you're trying to do is perform a gravity survey in ABSOLUTE terms. I've done countless surveys for irrigation over vast tracts of land. They key here is you need an accurate vertical geoidal model upon which to base your survey. Typically I've had the benefit of connecting to existing bench marks that were leveled with spirit or optical leveling techniques. Since both the spirit or optical levels are affected by gravity you have a great framework for basing your GPS survey.
>
> Most of my work has been using Thales/Magellan DSNP Dual Frequency Long Range Kinematic GPS. They way we use this is to set up a base station in a convenient location.(Usually a high hill/mountain) within 40km of the job. There will be surveyors reading this saying I'm crazy, but believe me Thales mean LONG range kinematic.
> Anyway I'd observe a network of previously established bench marks with Horizontal and vertical coordinates. That would establish my survey reference framework. After that any new or unknown points would then be coordinated relative to this framework.
> In your case you may not have this network of existing "control". This is the challenge. I have transferred control using the above technique. What that means is as you survey points that are unknown as above they become "known". You can then pick up your equipment, transfer it to a convenient location closer to job site and use then new benchmarks as control for the new site.
> This is not a job to be taken lightly. I'm also not too sure what the terrain is like in Kalimantan but I assume difficult to traverse.
>
> From: proj-bounces at lists.maptools.org [mailto:proj-bounces at lists.maptools.org] On Behalf Of Clifford J Mugnier
> Sent: Thursday, 6 March 2008 2:50 AM
> To: PROJ.4 and general Projections Discussions
> Subject: RE: [Proj] geoid in Kalimantan, Indonesia
>
> EGM96 is the best worldwide geoid available, but a Promark is a single-frequency receiver and is a poor candidate for the third component.  I would estimate the vertical accuracy at about plus or minus 1 to 2 meters at best.  A dual frequency receiver can get fairly reliable verticals because the two frequencies allow proper modeling of tropospheric effects - an impossibility with only a single frequency receiver.  A short baseline differential technique (less than one kilometer with two simultaneous Promarks) is used for construction work, but certainly not even close to 10 kilometers muchless 30!
>
> Clifford J. Mugnier, C.P., C.M.S.
> LSU Student ASCE Chapter Faculty Advisor
> and
> National Director (2006-2008),
> Photogrammetric Applications Division
> American Society for Photogrammetry and Remote Sensing
> and
> Chief of Geodesy,
> CENTER FOR GEOINFORMATICS
> Department of Civil Engineering
> CEBA 3223A
> LOUISIANA STATE UNIVERSITY
> Baton Rouge, LA  70803
> Voice and Facsimile:  (225) 578-8536 [Academic]
> Voice and Facsimile:  (225) 578-4474 [Research]
> Honorary Life Member of the
> Louisiana Society of Professional Surveyors
> Member Emeritus of the ASPRS
> Member of the Americas Petroleum Survey Group
> ======================================================
> http://www.asprs.org/resources/GRIDS/<https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/red!
 ir!
>  .asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.lsu.edu/exchweb/bin/redir.asp?URL=https://email.ls>
> ======================================================
>
> ________________________________
> From: proj-bounces at lists.maptools.org on behalf of Frans Buschman
> Sent: Wed 05-Mar-08 05:03
> To: proj at lists.maptools.org
> Subject: [Proj] geoid in Kalimantan, Indonesia
>
> Hello,
>
> In a coastal region in East Kalimantan, Indonesia, we measured with a GPS promark3 system height differences of several water level gauges with respect to the WGS-84 ellipsoide and datum. The stations are about 30 km apart and we think that the precision of the measurements is within 10 cm.
>
> >From the water level gauges we want to see in what direction water should be flowing, so we want the want to derive the height differences with respect to a geoid. For Kalimantan no detailed geoid seems to exist, so I would like to convert measured height differences on the WGS-84 ellipsoide to height differences on a global geoid. Which geoid is best for this purpose and how can I make the conversion? Could you give an estimate of the error you make with this conversion?
>
> Thanks!
> Frans
>
> --
> ______________________________________________________
> Frans Buschman (PhD student)
> Department of Physical Geography
> Institute for Marine and Atmospheric Research Utrecht
> Utrecht University
> P.O. box 80.115 / Heidelberglaan 2
> 3508 TC Utrecht, the Netherlands
> Room 211 in Jan Zonneveldvleugel
> Phone: +31 - (0)30 2532778
> Fax: +31 - (0)30 2531145
> mail: f.buschman at geo.uu.nl
> ______________________________________________________
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL: http://lists.maptools.org/pipermail/proj/attachments/20080306/c7031fc5/attachment-0001.html
>
> ------------------------------
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
>
> End of Proj Digest, Vol 46, Issue 4
> ***********************************
>

--
______________________________________________________
Frans Buschman (PhD student)
Department of Physical Geography
Institute for Marine and Atmospheric Research Utrecht
Utrecht University
P.O. box 80.115 / Heidelberglaan 2
3508 TC Utrecht, the Netherlands
Room 211 in Jan Zonneveldvleugel
Phone: +31 - (0)30 2532778
Fax: +31 - (0)30 2531145
mail: f.buschman at geo.uu.nl
______________________________________________________



_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080311/1b6f2f24/attachment.html>

From ckirchho at directmedia.de  Wed Mar 12 02:23:58 2008
From: ckirchho at directmedia.de (Christian Kirchhoff)
Date: Wed, 12 Mar 2008 10:23:58 +0100
Subject: [Proj] [delphi proj api]: Setting up TCoordinateTranslator
In-Reply-To: <Pine.LNX.4.62.0803071827530.24814@vortex.ukshells.co.uk>
References: <47D17D1E.30706@directmedia.de>
	<Pine.LNX.4.62.0803071827530.24814@vortex.ukshells.co.uk>
Message-ID: <47D7A12E.2060804@directmedia.de>

Hello Paul,

thanks very much, you are perfectly right. I wasn't paying enough 
attention to the order of parameters of the procedure Calc in one of the 
demos of the PROJ API. The Google API always wants the latitude fiorst, 
and that's what I was focussing on. But the procedure Calc (and the DLLs 
CalcForward as well) need the parameters vice versa.

Thanks for that help.

Best regards,

Christian
*Directmedia Publishing GmbH* · Möckernstraße 68 · 10965 Berlin
www.digitale-bibliothek.de
AG Berlin-Charlottenburg · HR B 58002 · USt.Id. DE173211737
Geschäftsführer: Ralf Szymanski · Erwin Jurschitza


Paul Kelly schrieb:
> On Fri, 7 Mar 2008, Christian Kirchhoff wrote:
>
>> Hello,
>>
>> I'd like to use the Delphi PROJ API to translate coordinates. The 
>> coordinates come from GoogleMaps, thus are lat/lng values.
>>
>> I want to match them to shapes from a shape file which I can read 
>> with the ShapeAPI. I have got the following information the the prj 
>> file of the shape:
>> PROJCS["Germany_Zone_3",GEOGCS["GCS_Deutsches_Hauptdreiecksnetz",DATUM["D_Deutsches_Hauptdreiecksnetz",SPHEROID["Bessel_1841",6377397.155,299.1528128]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Transverse_Mercator"],PARAMETER["False_Easting",3500000.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",9.0],PARAMETER["Scale_Factor",1.0],PARAMETER["Latitude_Of_Origin",0.0],UNIT["Meter",1.0]] 
>>
>>
>> Therefore I thought that the TCoordinateTranslator I named "Proj" 
>> should be opened with:
>> Proj.Open('+proj=tmerc +ellps=bessel +lon_0=9 +x_0=3500000');
>>
>> ...but I am not very familiar/experienced yet.
>>
>> Anyway I have test coordinates from GoogleMaps, e.g. 
>> (50.1056069418592, 8.404541015625). The region this coodinates lay in 
>> as exactly the region that is covered by shapes in the shape file. 
>> The bounds of the shape file are, according to what the ShapeAPI 
>> returned:
>> ( 3394468.028, 5504381.719,0.00,0.00) to ( 3424916.697, 
>> 5537463.422,0.00,0.00)
>>
>> But the translated Google coordinates are:
>> 8451430,97 m, 1229074.77 m
>>
>> Which is totally elsewhere.
>>
>> My question is: Did I read the values from the shape's prj file 
>> wrong? Or did I use the wrong parameters when setting up the 
>> TCoordinateTranslator?
>
> I think you have passed the latitude and longitude values in the wrong 
> order. It should be longitude first, followed by latitude. Here is 
> quick test I did using your values and the cs2cs program that comes 
> with PROJ.4:
>
> cs2cs +proj=longlat +a=6377397.155 +rf=299.1528128 \
> +towgs84=606.000,23.000,413.000 +to +proj=tmerc +lat_0=0 +lon_0=9 \
> +k=1 +x_0=3500000 +y_0=0 +no_defs +a=6377397.155 +rf=299.1528128 \
> +towgs84=606.000,23.000,413.000 +to_meter=1
> 8.404541015625 50.1056069418592
> 3457407.04      5552194.69 0.00
> 50.1056069418592 8.404541015625
> 8451430.97      1229074.77 0.00
>
> Best regards,
>
> Paul
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080312/ceb2b804/attachment.html>

From Jonathan_ARMSTRONG at rta.nsw.gov.au  Thu Mar 13 21:23:47 2008
From: Jonathan_ARMSTRONG at rta.nsw.gov.au (ARMSTRONG Jonathan)
Date: Fri, 14 Mar 2008 15:23:47 +1100
Subject: [Proj] Proj4 InitString for ISG
Message-ID: <CF95E76B4CDAA343A2F43638906536AE08EAC448@REDFX301.corp.rta.nsw.gov.au>

Is anybody able to provide me with the string to pass to proj4? I would
like to be able to transform coordinates to and from ISG, for all zones
relating to NSW, Australia (I think zone 56 is the main one). I've been
able to find the WKT, for zone 56/1 at least, which is:

 

PROJCS["AGD_1966_ISG_56_1",GEOGCS["GCS_Australian_1966",DATUM["D_Austral
ian_1966",SPHEROID["Australian",6378160.0,298.25]],PRIMEM["Greenwich",0.
0],UNIT["Degree",0.0174532925199433]],PROJECTION["Transverse_Mercator"],
PARAMETER["False_Easting",300000.0],PARAMETER["False_Northing",5000000.0
],PARAMETER["Central_Meridian",151.0],PARAMETER["Scale_Factor",0.99994],
PARAMETER["Latitude_Of_Origin",0.0],UNIT["Meter",1.0]]

 

Problem is, I'm not sure how to convert this to a proj4 init string.

 

Can anyone help please?

 

 


IMPORTANT NOTICE: This e-mail and any attachment to it are intended only to be read or used by the named addressee. It is confidential and may contain legally privileged information. No confidentiality or privilege is waived or lost by any mistaken transmission to you. The RTA is not responsible for any unauthorised alterations to this e-mail or attachment to it. Views expressed in this message are those of the individual sender, and are not necessarily the views of the RTA. If you receive this e-mail in error, please immediately delete it from your system and notify the sender. You must not disclose, copy or use any part of this e-mail if you are not the intended recipient.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080314/2c947ae0/attachment.html>

From AnthonyD at rocketmail.com  Thu Mar 13 22:21:25 2008
From: AnthonyD at rocketmail.com (Anthony Dunk)
Date: Fri, 14 Mar 2008 16:21:25 +1100 (EST)
Subject: [Proj] Proj4 InitString for ISG
In-Reply-To: <CF95E76B4CDAA343A2F43638906536AE08EAC448@REDFX301.corp.rta.nsw.gov.au>
Message-ID: <887776.15944.qm@web50812.mail.re2.yahoo.com>

Hi Jonathan,

The PROJ string is this for NSW ISG Zone 56/1:

+proj=tmerc +lat_0=0 +lon_0=151 +k=0.999940 +x_0=300000 +y_0=5000000 
+a=6378160 +rf=298.25

The datum for ISG is AGD66 I believe.

I hope this helps!

Cheers,
Anthony.

--- ARMSTRONG Jonathan <Jonathan_ARMSTRONG at rta.nsw.gov.au> wrote:

> Is anybody able to provide me with the string to pass to proj4? I
> would
> like to be able to transform coordinates to and from ISG, for all
> zones
> relating to NSW, Australia (I think zone 56 is the main one). I've
> been
> able to find the WKT, for zone 56/1 at least, which is:
> 
>  
> 
>
PROJCS["AGD_1966_ISG_56_1",GEOGCS["GCS_Australian_1966",DATUM["D_Austral
>
ian_1966",SPHEROID["Australian",6378160.0,298.25]],PRIMEM["Greenwich",0.
>
0],UNIT["Degree",0.0174532925199433]],PROJECTION["Transverse_Mercator"],
>
PARAMETER["False_Easting",300000.0],PARAMETER["False_Northing",5000000.0
>
],PARAMETER["Central_Meridian",151.0],PARAMETER["Scale_Factor",0.99994],
> PARAMETER["Latitude_Of_Origin",0.0],UNIT["Meter",1.0]]
> 
>  
> 
> Problem is, I'm not sure how to convert this to a proj4 init string.
> 
>  
> 
> Can anyone help please?
> 
>  
> 
>  
> 
> 
> IMPORTANT NOTICE: This e-mail and any attachment to it are intended
> only to be read or used by the named addressee. It is confidential
> and may contain legally privileged information. No confidentiality or
> privilege is waived or lost by any mistaken transmission to you. The
> RTA is not responsible for any unauthorised alterations to this
> e-mail or attachment to it. Views expressed in this message are those
> of the individual sender, and are not necessarily the views of the
> RTA. If you receive this e-mail in error, please immediately delete
> it from your system and notify the sender. You must not disclose,
> copy or use any part of this e-mail if you are not the intended
> recipient.
> > _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj


----
Save power, save the planet!


      Get the name you always wanted with the new y7mail email address.
www.yahoo7.com.au/y7mail




From martin.kofahl at uni-rostock.de  Mon Mar 17 01:00:07 2008
From: martin.kofahl at uni-rostock.de (Martin Kofahl)
Date: Mon, 17 Mar 2008 09:00:07 +0100
Subject: [Proj] wide char in pj_init_plus
Message-ID: <47DE2507.8000600@uni-rostock.de>

Hi,
I had some troubles making proj work on a windows mobile 6 device. 
Initialization failed because of I could not PInvoke pj_init_plus using 
CharSet.Ansi which is probably not supported in vs.net (only auto and 
unicode). I did add a function pj_init_plusW to pj_init.c for converting 
wchar* to char*, but isn't there another way in order to stay compatible?


	PJ * pj_init_plusW( const wchar_t *definition )
	{
	  char *defn_copy;
	  PJ   *result;

	  defn_copy = (char *) pj_malloc( wcslen(definition)+1 );
	  sprintf(defn_copy, "%S", definition);

	  result = pj_init_plus(defn_copy);

	  pj_dalloc( defn_copy );

	  return result;
	}


Martin


From emiller at dfg.ca.gov  Mon Mar 17 12:54:18 2008
From: emiller at dfg.ca.gov (Eric Miller)
Date: Mon, 17 Mar 2008 12:54:18 -0700
Subject: [Proj] wide char in pj_init_plus
Message-ID: <47DE69FA020000E4000156BF@dfgitb12.dfg>

I don't know about the mobile edition, but generally for PInvoke, adding Charset=Ansi to the attributes for your function definition is sufficient in .Net.

See, http://ftp.dfg.ca.gov/Public/BDB/Tools/proj4/csharp/proj_api.cs.txt

>>> Martin Kofahl <martin.kofahl at uni-rostock.de> 03/17/08 1:00 AM >>>
Hi,
I had some troubles making proj work on a windows mobile 6 device. 
Initialization failed because of I could not PInvoke pj_init_plus using 
CharSet.Ansi which is probably not supported in vs.net (only auto and 
unicode). I did add a function pj_init_plusW to pj_init.c for converting 
wchar* to char*, but isn't there another way in order to stay compatible?


	PJ * pj_init_plusW( const wchar_t *definition )
 
	  char *defn_copy;
	  PJ   *result;

	  defn_copy = (char *) pj_malloc( wcslen(definition)+1 );
	  sprintf(defn_copy, "%S", definition);

	  result = pj_init_plus(defn_copy);

	  pj_dalloc( defn_copy );

	  return result;
	}


Martin
_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj




From martin.kofahl at uni-rostock.de  Tue Mar 18 00:08:20 2008
From: martin.kofahl at uni-rostock.de (Martin Kofahl)
Date: Tue, 18 Mar 2008 08:08:20 +0100
Subject: [Proj] wide char in pj_init_plus
In-Reply-To: <47DE69FA020000E4000156BF@dfgitb12.dfg>
References: <47DE69FA020000E4000156BF@dfgitb12.dfg>
Message-ID: <47DF6A64.2050309@uni-rostock.de>

Thanks for the .net wrapper! However, according to 
http://msdn2.microsoft.com/de-de/library/system.runtime.interopservices.charset.aspx 
Charset.Ansi ist not available on .netcf, so this is more a general 
problem on windows mobile.

Martin


Eric Miller wrote:
> I don't know about the mobile edition, but generally for PInvoke,
> adding Charset=Ansi to the attributes for your function definition is
> sufficient in .Net.
> 
> See,
> http://ftp.dfg.ca.gov/Public/BDB/Tools/proj4/csharp/proj_api.cs.txt
> 
>>>> Martin Kofahl <martin.kofahl at uni-rostock.de> 03/17/08 1:00 AM
>>>> >>>
> Hi, I had some troubles making proj work on a windows mobile 6
> device. Initialization failed because of I could not PInvoke
> pj_init_plus using CharSet.Ansi which is probably not supported in
> vs.net (only auto and unicode). I did add a function pj_init_plusW to
> pj_init.c for converting wchar* to char*, but isn't there another way
> in order to stay compatible?
> 
> 
> PJ * pj_init_plusW( const wchar_t *definition )
> 
> char *defn_copy; PJ   *result;
> 
> defn_copy = (char *) pj_malloc( wcslen(definition)+1 ); 
> sprintf(defn_copy, "%S", definition);
> 
> result = pj_init_plus(defn_copy);
> 
> pj_dalloc( defn_copy );
> 
> return result; }
> 
> 
> Martin


From jeff at roqc.no  Tue Mar 18 12:45:50 2008
From: jeff at roqc.no (Jeff Huber)
Date: Tue, 18 Mar 2008 14:45:50 -0500
Subject: [Proj] towgs84 functionality
Message-ID: <47E01BEE.9070700@roqc.no>

I'm new to this, so here is a, hopefully, simple question.
Why don't I get a shift when I use towgs84 in the following:

invproj +proj=utm +ellps=krass +x_0=500000 +y_0=0 +lat_0=0 +lon_0=75 
+k=.9996
701176.9 7550769.7
79d48'58.181"E  67d59'57.701"N

Expected to get +79.8161616,     +67.9993614  so that one is OK

invproj +proj=tmerc +ellps=krass +towgs84=28,-130,-95 +x_0=500000 +y_0=0 
+lat_0=0 +lon_0=75 +k=.9996
701176.9 7550769.7
79d48'58.181"E  67d59'57.701"N

Expected to get +79.8149530,     +68.0000817  but did I get same answer 
as above

Am I using towgs84 incorrectly ?
Jeff



From warmerdam at pobox.com  Tue Mar 18 12:12:19 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue, 18 Mar 2008 15:12:19 -0400
Subject: [Proj] towgs84 functionality
In-Reply-To: <47E01BEE.9070700@roqc.no>
References: <47E01BEE.9070700@roqc.no>
Message-ID: <47E01413.6000204@pobox.com>

Jeff Huber wrote:
> I'm new to this, so here is a, hopefully, simple question.
> Why don't I get a shift when I use towgs84 in the following:
> 
> invproj +proj=utm +ellps=krass +x_0=500000 +y_0=0 +lat_0=0 +lon_0=75 
> +k=.9996
> 701176.9 7550769.7
> 79d48'58.181"E  67d59'57.701"N
> 
> Expected to get +79.8161616,     +67.9993614  so that one is OK
> 
> invproj +proj=tmerc +ellps=krass +towgs84=28,-130,-95 +x_0=500000 +y_0=0 
> +lat_0=0 +lon_0=75 +k=.9996
> 701176.9 7550769.7
> 79d48'58.181"E  67d59'57.701"N
> 
> Expected to get +79.8149530,     +68.0000817  but did I get same answer 
> as above

Jeff,

The invproj command converts between projected coordinates and geographic
coordinates *on the same datum*.  The towgs84 value is only used when you
change datums.   You can do that with the cs2cs command.

eg.

cs2cs +proj=utm +ellps=krass +x_0=500000 +y_0=0 +lat_0=0 +lon_0=75 \
       +k=.9996 +towgs84=28,-130,-95 \
       +to +proj=latlong +datum=WGS84

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org



From oliver.christen at camptocamp.com  Wed Mar 19 02:06:47 2008
From: oliver.christen at camptocamp.com (Oliver Christen)
Date: Wed, 19 Mar 2008 10:06:47 +0100
Subject: [Proj] projection adding request
Message-ID: <076C986EA0164A098ECE077831619F23@maunakea>

Hello,

I would like to know if there is a procedure to ask for a projection 
definition to be added to the epsg file distributed with the proj package.

Thank you in advance

Oliver Christen 



From jeff at roqc.no  Wed Mar 19 04:10:49 2008
From: jeff at roqc.no (Jeff Huber)
Date: Wed, 19 Mar 2008 06:10:49 -0500
Subject: [Proj] towgs84 functionality
In-Reply-To: <47E01BEE.9070700@roqc.no>
References: <47E01BEE.9070700@roqc.no>
Message-ID: <47E0F4B9.3020905@roqc.no>

Thanks You !



From glynn at gclements.plus.com  Wed Mar 19 18:57:27 2008
From: glynn at gclements.plus.com (Glynn Clements)
Date: Thu, 20 Mar 2008 01:57:27 +0000
Subject: [Proj] projection adding request
In-Reply-To: <076C986EA0164A098ECE077831619F23@maunakea>
References: <076C986EA0164A098ECE077831619F23@maunakea>
Message-ID: <18401.50311.194797.973523@cerise.gclements.plus.com>


Oliver Christen wrote:

> I would like to know if there is a procedure to ask for a projection 
> definition to be added to the epsg file distributed with the proj package.

Has the projection already been added to the EPSG database? If not,
you can submit a change request via:

	http://www.epsg.org/Comms/Comment.asp

-- 
Glynn Clements <glynn at gclements.plus.com>


From oliver.christen at camptocamp.com  Thu Mar 20 00:08:45 2008
From: oliver.christen at camptocamp.com (Oliver Christen)
Date: Thu, 20 Mar 2008 08:08:45 +0100
Subject: [Proj] projection adding request
References: <076C986EA0164A098ECE077831619F23@maunakea>
	<18401.50311.194797.973523@cerise.gclements.plus.com>
Message-ID: <3FABD847895345849ACB2F20D9F6393F@maunakea>

Thank you,
I will check there.

Kind regards
Oliver

>
> Oliver Christen wrote:
>
>> I would like to know if there is a procedure to ask for a projection
>> definition to be added to the epsg file distributed with the proj 
>> package.
>
> Has the projection already been added to the EPSG database? If not,
> you can submit a change request via:
>
> http://www.epsg.org/Comms/Comment.asp
>
> -- 
> Glynn Clements <glynn at gclements.plus.com>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
> 



From marco.pasetti at alice.it  Thu Mar 20 05:39:50 2008
From: marco.pasetti at alice.it (marco.pasetti at alice.it)
Date: Thu, 20 Mar 2008 13:39:50 +0100
Subject: [Proj] cs2cs usage
Message-ID: <FBCMMO01lMSGriY76H300022aa0@FBCMMO01.fbc.local>

Hi all,
 
I read cs2cs manual page, but I still have big doubts about it! quickly:
 
0. Preamble: I built PROJ.4 4.6 on windows using MinGW
 
1. Question 1: when I launch cs2cs from command line it executes the requested operation and then waits for others inputs... how can I quit, without the need of killing the process in task manager?
 
2. Question 2: I need to trasform single points from WGS84 (EPSG ID = 4326) to Gauss-Boaga Roma40 West (EPSG ID = 3003)
while ID=4326 determinates an univocal datum, to correctly define Gauss-Boaga Roma40 West I need to specify also +towgs84 parameters, retrieved by GRASS (creating a new location in GRASS using 3003 EPSG code, it asks for furthers options, suggesting the correct parameters to set):
the complete datum definition for Gauss-Boaga Roma40 West is as follows (from GRASS):
 
EPSG ID = 3003
Option 2
Used in Italy (Peninsular Part)
towgs84=-104.1,-49.1,-9.9,0.971,-2.917,0.714,-11.68
Accuracy 3-4m
 
how can I use cs2cs respecting the previous parameters?
I tried with cs2cs +init=epsg:4326 +to +init=epsg:3003
but I don't know how to set towgs84 parameters (and even if they are needed)
 
Thanks fo help
 
Marco
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080320/15c1e5c8/attachment.html>

From andrea.antonello at gmail.com  Thu Mar 20 06:33:36 2008
From: andrea.antonello at gmail.com (andrea antonello)
Date: Thu, 20 Mar 2008 14:33:36 +0100
Subject: [Proj] cs2cs usage
In-Reply-To: <FBCMMO01lMSGriY76H300022aa0@FBCMMO01.fbc.local>
References: <FBCMMO01lMSGriY76H300022aa0@FBCMMO01.fbc.local>
Message-ID: <116eb44a0803200633l7158a323l544515d67475ccec@mail.gmail.com>

> I read cs2cs manual page, but I still have big doubts about it! quickly:
>
> 0. Preamble: I built PROJ.4 4.6 on windows using MinGW
>
> 1. Question 1: when I launch cs2cs from command line it executes the
> requested operation and then waits for others inputs... how can I quit,
> without the need of killing the process in task manager?

I'm not sure about that. How do you execute it?

> 2. Question 2: I need to trasform single points from WGS84 (EPSG ID = 4326)
> to Gauss-Boaga Roma40 West (EPSG ID = 3003)
> while ID=4326 determinates an univocal datum, to correctly define
> Gauss-Boaga Roma40 West I need to specify also +towgs84 parameters,
> retrieved by GRASS (creating a new location in GRASS using 3003 EPSG code,
> it asks for furthers options, suggesting the correct parameters to set):
> the complete datum definition for Gauss-Boaga Roma40 West is as follows
> (from GRASS):
>
> EPSG ID = 3003
> Option 2
> Used in Italy (Peninsular Part)
> towgs84=-104.1,-49.1,-9.9,0.971,-2.917,0.714,-11.68
> Accuracy 3-4m
>
> how can I use cs2cs respecting the previous parameters?
> I tried with cs2cs +init=epsg:4326 +to +init=epsg:3003
> but I don't know how to set towgs84 parameters (and even if they are needed)

I guess they are very needed. Did you try to add  +towgs84=<your
commaseparated values> ?

Ciao
Andrea


> Thanks fo help
>
> Marco
>
> _______________________________________________
>  Proj mailing list
>  Proj at lists.maptools.org
>  http://lists.maptools.org/mailman/listinfo/proj
>


From marco.pasetti at alice.it  Thu Mar 20 07:22:32 2008
From: marco.pasetti at alice.it (marco.pasetti at alice.it)
Date: Thu, 20 Mar 2008 15:22:32 +0100
Subject: R: [Proj] cs2cs usage
References: <FBCMMO01lMSGriY76H300022aa0@FBCMMO01.fbc.local>
	<116eb44a0803200633l7158a323l544515d67475ccec@mail.gmail.com>
Message-ID: <FA8A693893F4CE4283B4473C79FA47D5025D979F@FBCMST06V02.fbc.local>

Hi Andrea,
 
>I'm not sure about that. How do you execute it?
 
from Windows terminal (cmd.exe)
 
>I guess they are very needed. Did you try to add  +towgs84=<your
>commaseparated values>?
 
I tried with:
 
cs2cs -v +init=epsg:4326 +to +init=epsg:3003 +towgs84=-104.1,-49.1,-9.9,0.971,-2.917,0.714,-11.68
 
reporting:
 
# ---- From Coordinate System ----
#Lat/long (Geodetic alias)
#
# +init=epsg:4326 +proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs
# +towgs84=0,0,0
#--- following specified but NOT used
# +ellps=WGS84
# ---- To Coordinate System ----
#Transverse Mercator
#       Cyl, Sph&Ell
# +init=epsg:3003 +towgs84=-104.1,-49.1,-9.9,0.971,-2.917,0.714,-11.68
# +proj=tmerc +lat_0=0 +lon_0=9 +k=0.9996 +x_0=1500000 +y_0=0 +ellps=intl
# +units=m +no_defs
 
then I entered the WGS84 point: 10°44'09,70E 45°45'12.00N as
 
10.73602778 45.75333333
 
I simply transformed x°y'z'' to D [° decimal format] using D = (x + y/60 + z/3600); is it correct?
 
BTW, I had the following result:
 
1635050.62      5068127.39 -45.30
 
now further questions:
 
1) what does "-45.30" mean?
 
2) I roughly checked the point on my GRASS-imported rasters (imported in the location created by GRASS using EPSG code 3003 and the previously mentioned towgs84 parameters), and it seems to "be" where I expected... but I cannot be sure! I know the region, and I *have* some conspicuous points to *use* (it's on lake garda, and there's a peak nearby the point of interest that is clearly visible from the raster map), but this procedure is fairly long to be called a *secure and precise check procedure* (that's why I used the word *roughly*)
 
Many thanks for your help
 
Marco
 
PS: buona Pasqua ;-)

________________________________

Da: proj-bounces at lists.maptools.org per conto di andrea antonello
Inviato: gio 20/03/2008 14.33
A: PROJ.4 and general Projections Discussions
Oggetto: Re: [Proj] cs2cs usage



> I read cs2cs manual page, but I still have big doubts about it! quickly:
>
> 0. Preamble: I built PROJ.4 4.6 on windows using MinGW
>
> 1. Question 1: when I launch cs2cs from command line it executes the
> requested operation and then waits for others inputs... how can I quit,
> without the need of killing the process in task manager?

I'm not sure about that. How do you execute it?

> 2. Question 2: I need to trasform single points from WGS84 (EPSG ID = 4326)
> to Gauss-Boaga Roma40 West (EPSG ID = 3003)
> while ID=4326 determinates an univocal datum, to correctly define
> Gauss-Boaga Roma40 West I need to specify also +towgs84 parameters,
> retrieved by GRASS (creating a new location in GRASS using 3003 EPSG code,
> it asks for furthers options, suggesting the correct parameters to set):
> the complete datum definition for Gauss-Boaga Roma40 West is as follows
> (from GRASS):
>
> EPSG ID = 3003
> Option 2
> Used in Italy (Peninsular Part)
> towgs84=-104.1,-49.1,-9.9,0.971,-2.917,0.714,-11.68
> Accuracy 3-4m
>
> how can I use cs2cs respecting the previous parameters?
> I tried with cs2cs +init=epsg:4326 +to +init=epsg:3003
> but I don't know how to set towgs84 parameters (and even if they are needed)

I guess they are very needed. Did you try to add  +towgs84=<your
commaseparated values> ?

Ciao
Andrea


> Thanks fo help
>
> Marco
>
> _______________________________________________
>  Proj mailing list
>  Proj at lists.maptools.org
>  http://lists.maptools.org/mailman/listinfo/proj
>
_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080320/4636308a/attachment.html>

From neteler at osgeo.org  Thu Mar 20 07:40:59 2008
From: neteler at osgeo.org (Markus Neteler)
Date: Thu, 20 Mar 2008 15:40:59 +0100
Subject: R: [Proj] cs2cs usage
In-Reply-To: <FA8A693893F4CE4283B4473C79FA47D5025D979F@FBCMST06V02.fbc.local>
References: <FBCMMO01lMSGriY76H300022aa0@FBCMMO01.fbc.local>
	<116eb44a0803200633l7158a323l544515d67475ccec@mail.gmail.com>
	<FA8A693893F4CE4283B4473C79FA47D5025D979F@FBCMST06V02.fbc.local>
Message-ID: <86782b610803200740x7a194eb9i37b3e992872c88cc@mail.gmail.com>

On Thu, Mar 20, 2008 at 3:22 PM,  <marco.pasetti at alice.it> wrote:
...
> then I entered the WGS84 point: 10°44'09,70E 45°45'12.00N as
>
> 10.73602778 45.75333333

You can also use this to do that transformation:

cs2cs -f "%.8f" +proj=latlong +datum=WGS84 \
      +to +proj=latlong +datum=WGS84
10d44'9.7"E 45d45'12"N

...
> 1635050.62      5068127.39 -45.30

I get the same result with my script here.


> now further questions:
>
> 1) what does "-45.30" mean?

You are changing the ellipsoid during this transformation.
So height will differ (-45.30meters less).


> 2) I roughly checked the point on my GRASS-imported rasters (imported in the
> location created by GRASS using EPSG code 3003 and the previously mentioned
> towgs84 parameters), and it seems to "be" where I expected... but I cannot
> be sure! I know the region, and I *have* some conspicuous points to *use*
> (it's on lake garda, and there's a peak nearby the point of interest that is
> clearly visible from the raster map), but this procedure is fairly long to
> be called a *secure and precise check procedure* (that's why I used the word
> *roughly*)

You need measured test points. I don't know if there are public test
points available for Italy...

Best,
Markus



From warmerdam at pobox.com  Thu Mar 20 07:49:02 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu, 20 Mar 2008 10:49:02 -0400
Subject: [Proj] cs2cs usage
In-Reply-To: <FBCMMO01lMSGriY76H300022aa0@FBCMMO01.fbc.local>
References: <FBCMMO01lMSGriY76H300022aa0@FBCMMO01.fbc.local>
Message-ID: <47E2795E.2010506@pobox.com>

marco.pasetti at alice.it wrote:
> Hi all,
>  
> I read cs2cs manual page, but I still have big doubts about it! quickly:
>  
> 0. Preamble: I built PROJ.4 4.6 on windows using MinGW
>  
> 1. Question 1: when I launch cs2cs from command line it executes the requested operation and then waits for others inputs... how can I quit, without the need of killing the process in task manager?

Marco,

You normally need to indicate "end of input" to terminate cs2cs.  On unix
this is done with control-D, on windows with control-Z.

> 2. Question 2: I need to trasform single points from WGS84 (EPSG ID = 4326) to Gauss-Boaga Roma40 West (EPSG ID = 3003)
> while ID=4326 determinates an univocal datum, to correctly define Gauss-Boaga Roma40 West I need to specify also +towgs84 parameters, retrieved by GRASS (creating a new location in GRASS using 3003 EPSG code, it asks for furthers options, suggesting the correct parameters to set):
> the complete datum definition for Gauss-Boaga Roma40 West is as follows (from GRASS):
>  
> EPSG ID = 3003
> Option 2
> Used in Italy (Peninsular Part)
> towgs84=-104.1,-49.1,-9.9,0.971,-2.917,0.714,-11.68
> Accuracy 3-4m
>  
> how can I use cs2cs respecting the previous parameters?
> I tried with cs2cs +init=epsg:4326 +to +init=epsg:3003
> but I don't know how to set towgs84 parameters (and even if they are needed)

The epsg:3003 definition looks like:

+proj=tmerc +lat_0=0 +lon_0=9 +k=0.9996 +x_0=1500000 +y_0=0 +ellps=intl 
+units=m +no_defs  <>

So you should use it directly and then add your towgs84 parameter.

eg.

cs2cs +init=epsg:4326 +to \
+proj=tmerc +lat_0=0 +lon_0=9 +k=0.9996 +x_0=1500000 +y_0=0 +ellps=intl \
+units=m +towgs84=-104.1,-49.1,-9.9,0.971,-2.917,0.714,-11.68 +no_defs

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org



From marco.pasetti at alice.it  Thu Mar 20 08:07:33 2008
From: marco.pasetti at alice.it (marco.pasetti at alice.it)
Date: Thu, 20 Mar 2008 16:07:33 +0100
Subject: R: [Proj] cs2cs usage
References: <FBCMMO01lMSGriY76H300022aa0@FBCMMO01.fbc.local>
	<47E2795E.2010506@pobox.com>
Message-ID: <FA8A693893F4CE4283B4473C79FA47D5025D97A0@FBCMST06V02.fbc.local>

Hi,
 
thanks you all for the precious help.
 
I entered both *versions* of the command:
 
cs2cs +init=epsg:4326 +to +proj=tmerc +lat_0=0 +lon_0=9 +k=0.9996 +x_0=1500000 +y_0=0 +ellps=intl +uni
ts=m +towgs84=-104.1,-49.1,-9.9,0.971,-2.917,0.714,-11.68 +no_defs
10.73602778 45.75333333
1635050.62      5068127.39 -45.30

cs2cs +init=epsg:4326 +to +init=epsg:3003 +towgs84=-104.1,-49.1,-9.9,0.971,-2.917,0.714,-11.68
10.73602778 45.75333333
1635050.62      5068127.39 -45.30
 
as you can see, the result it's the same, ...as it should be ;-)
 
Markus, because I'll work on Lombardia DEM rasters only using WGS84 *input points* (for r.horizon and r.sun2 computations), do you think that I should transform *all rasters* from the current projection to WGS84 projection?
 
About the *check-out procedure*, I fear I must trust the result as it is, I cannot see another solution :-( ....
 
Thanks
 
Marco
 
PS: Frank, thank you very much for CRTL+Z; it was really frustrating to kill the process every time!... ;-)
 

________________________________

Da: proj-bounces at lists.maptools.org per conto di Frank Warmerdam
Inviato: gio 20/03/2008 15.49
A: PROJ.4 and general Projections Discussions
Oggetto: Re: [Proj] cs2cs usage



marco.pasetti at alice.it wrote:
> Hi all,
> 
> I read cs2cs manual page, but I still have big doubts about it! quickly:
> 
> 0. Preamble: I built PROJ.4 4.6 on windows using MinGW
> 
> 1. Question 1: when I launch cs2cs from command line it executes the requested operation and then waits for others inputs... how can I quit, without the need of killing the process in task manager?

Marco,

You normally need to indicate "end of input" to terminate cs2cs.  On unix
this is done with control-D, on windows with control-Z.

> 2. Question 2: I need to trasform single points from WGS84 (EPSG ID = 4326) to Gauss-Boaga Roma40 West (EPSG ID = 3003)
> while ID=4326 determinates an univocal datum, to correctly define Gauss-Boaga Roma40 West I need to specify also +towgs84 parameters, retrieved by GRASS (creating a new location in GRASS using 3003 EPSG code, it asks for furthers options, suggesting the correct parameters to set):
> the complete datum definition for Gauss-Boaga Roma40 West is as follows (from GRASS):
> 
> EPSG ID = 3003
> Option 2
> Used in Italy (Peninsular Part)
> towgs84=-104.1,-49.1,-9.9,0.971,-2.917,0.714,-11.68
> Accuracy 3-4m
> 
> how can I use cs2cs respecting the previous parameters?
> I tried with cs2cs +init=epsg:4326 +to +init=epsg:3003
> but I don't know how to set towgs84 parameters (and even if they are needed)

The epsg:3003 definition looks like:

+proj=tmerc +lat_0=0 +lon_0=9 +k=0.9996 +x_0=1500000 +y_0=0 +ellps=intl
+units=m +no_defs  <>

So you should use it directly and then add your towgs84 parameter.

eg.

cs2cs +init=epsg:4326 +to \
+proj=tmerc +lat_0=0 +lon_0=9 +k=0.9996 +x_0=1500000 +y_0=0 +ellps=intl \
+units=m +towgs84=-104.1,-49.1,-9.9,0.971,-2.917,0.714,-11.68 +no_defs

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org <http://osgeo.org/> 

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080320/ab1f9396/attachment.html>

From bartvde at osgis.nl  Thu Mar 20 08:29:18 2008
From: bartvde at osgis.nl (Bart van den Eijnden (OSGIS))
Date: Thu, 20 Mar 2008 16:29:18 +0100
Subject: [Proj] from EPSG:28992 to EPSG:25832
Message-ID: <011671a105684838f0a4cc6d5a106450@145.50.39.11>

Hi list,

why is the conversion from EPSG:28992 to EPSG:25832 not very accurate?

The official calculator from agrs.nl gives the following:

Original system RD and NAP
X 196197,31
Y 390964,35

Target system UTM(ETRS89)
Zone 32
Northing 5710439,825
Easting 290464,836

This is what I get with PROJ 4.6:

cs2cs -f %.9f +proj=sterea +lat_0=52.15616055555555 +lon_0=5.38763888888889
+k=0.999908 +x_0=155000 +y_0=463000 +ellps=bessel +units=m
+towgs84=565.2369,50.0087,465.658,-0.406857330322398,0.350732676542563,-1.8703473836068,4.0812
+no_defs +to +proj=utm +zone=32 +ellps=GRS80 +units=m +no_defs
196197.31 390964.35
290505.483235725        5710539.888875010 0.000000000

Any ideas what could be causing this? Is there a correction grid involved (I
am no projections expert unfortunately ... ).

TIA.

Best regards,
Bart

--
Bart van den Eijnden
OSGIS, Open Source GIS
http://www.osgis.nl







From mkennedy2 at earthlink.net  Thu Mar 20 11:56:55 2008
From: mkennedy2 at earthlink.net (Melita Kennedy)
Date: Thu, 20 Mar 2008 11:56:55 -0700 (GMT-07:00)
Subject: [Proj] Re: from EPSG:28992 to EPSG:25832
Message-ID: <16765540.1206039415578.JavaMail.root@elwamui-rustique.atl.sa.earthlink.net>

Bart,

I haven't tried this, but try changing the signs of the rotation 
parameters of the datum transformation. 

The values as given appear to be for the "position vector" variant 
of a 7 parameter transformation. 

Melita

-----Original Message-----
>
>Date: Thu, 20 Mar 2008 16:29:18 +0100
>From: "Bart van den Eijnden (OSGIS)" <bartvde at osgis.nl>
>Subject: [Proj] from EPSG:28992 to EPSG:25832
>To: proj at lists.maptools.org
>
>Hi list,
>
>why is the conversion from EPSG:28992 to EPSG:25832 not very accurate?
>
>The official calculator from agrs.nl gives the following:
>
>Original system RD and NAP
>X 196197,31
>Y 390964,35
>
>Target system UTM(ETRS89)
>Zone 32
>Northing 5710439,825
>Easting 290464,836
>
>This is what I get with PROJ 4.6:
>
>cs2cs -f %.9f +proj=sterea +lat_0=52.15616055555555 +lon_0=5.38763888888889
>+k=0.999908 +x_0=155000 +y_0=463000 +ellps=bessel +units=m
>+towgs84=565.2369,50.0087,465.658,-0.406857330322398,0.350732676542563,-1.8703473836068,4.0812
>+no_defs +to +proj=utm +zone=32 +ellps=GRS80 +units=m +no_defs
>196197.31 390964.35
>290505.483235725        5710539.888875010 0.000000000
>
>Any ideas what could be causing this? Is there a correction grid involved (I
>am no projections expert unfortunately ... ).
>
>TIA.
>
>Best regards,
>Bart
>
>--
>Bart van den Eijnden
>OSGIS, Open Source GIS
>http://www.osgis.nl



From roger at opq.se  Thu Mar 20 12:33:41 2008
From: roger at opq.se (Roger Oberholtzer)
Date: Thu, 20 Mar 2008 20:33:41 +0100
Subject: [Proj] from EPSG:28992 to EPSG:25832
In-Reply-To: <011671a105684838f0a4cc6d5a106450@145.50.39.11>
References: <011671a105684838f0a4cc6d5a106450@145.50.39.11>
Message-ID: <1206041621.5630.7.camel@shark.ramboll.se>


On Thu, 2008-03-20 at 16:29 +0100, Bart van den Eijnden (OSGIS) wrote:
> Hi list,
> 
> why is the conversion from EPSG:28992 to EPSG:25832 not very accurate?
> 
> The official calculator from agrs.nl gives the following:
> 
> Original system RD and NAP
> X 196197,31
> Y 390964,35
> 
> Target system UTM(ETRS89)
> Zone 32
> Northing 5710439,825
> Easting 290464,836
> 
> This is what I get with PROJ 4.6:
> 
> cs2cs -f %.9f +proj=sterea +lat_0=52.15616055555555 +lon_0=5.38763888888889
> +k=0.999908 +x_0=155000 +y_0=463000 +ellps=bessel +units=m
> +towgs84=565.2369,50.0087,465.658,-0.406857330322398,0.350732676542563,-1.8703473836068,4.0812

I have this for converting to RD (I am converting from WGS84):

+towgs84=565.040,49.910,465.840,-0.40939,0.35971,-1.86849,4.0772

and my users are happy with the results. Not sure if this applies for
you. But it is all I can offer.


> +no_defs +to +proj=utm +zone=32 +ellps=GRS80 +units=m +no_defs
> 196197.31 390964.35
> 290505.483235725        5710539.888875010 0.000000000
> 
> Any ideas what could be causing this? Is there a correction grid involved (I
> am no projections expert unfortunately ... ).
> 
> TIA.
> 
> Best regards,
> Bart
> 
> --
> Bart van den Eijnden
> OSGIS, Open Source GIS
> http://www.osgis.nl
> 
> 
> 
> 
> 
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
-- 
Roger Oberholtzer

OPQ Systems / Ramböll RST
Ramböll Sverige AB
Kapellgränd 7
P.O. Box 4205
SE-102 65 Stockholm, Sweden

Tel: Int +46 8-615 60 20
Fax: Int +46 8-31 42 23



From marco.pasetti at alice.it  Thu Mar 20 14:26:45 2008
From: marco.pasetti at alice.it (Marco Pasetti)
Date: Thu, 20 Mar 2008 22:26:45 +0100
Subject: R: [Proj] cs2cs usage
In-Reply-To: <47E2795E.2010506@pobox.com>
References: <FBCMMO01lMSGriY76H300022aa0@FBCMMO01.fbc.local>
	<47E2795E.2010506@pobox.com>
Message-ID: <001501c88ad1$1932d9a0$0301a8c0@notebookmarco>

Hi all,

I forgot in the previous mails:

1) is there a way to *pass* the input latitude and longitude coordinates to
cs2cs command, without type them at command prompt?
2) can the cs2cs command write the *results* in an output file?

Thanks for all help,

Marco




From warmerdam at pobox.com  Thu Mar 20 14:52:41 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu, 20 Mar 2008 17:52:41 -0400
Subject: R: [Proj] cs2cs usage
In-Reply-To: <001501c88ad1$1932d9a0$0301a8c0@notebookmarco>
References: <FBCMMO01lMSGriY76H300022aa0@FBCMMO01.fbc.local>
	<47E2795E.2010506@pobox.com>
	<001501c88ad1$1932d9a0$0301a8c0@notebookmarco>
Message-ID: <47E2DCA9.5060704@pobox.com>

Marco Pasetti wrote:
> Hi all,
> 
> I forgot in the previous mails:
> 
> 1) is there a way to *pass* the input latitude and longitude coordinates to
> cs2cs command, without type them at command prompt?

Yes

> 2) can the cs2cs command write the *results* in an output file?

Yes

In particular cs2cs works as a filter.  It's input can be redirected from
a file, and it's output can be redirected to a file.

cs2cs {parameters}  < input.txt   > output.txt

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org



From marco.pasetti at alice.it  Thu Mar 20 15:08:59 2008
From: marco.pasetti at alice.it (Marco Pasetti)
Date: Thu, 20 Mar 2008 23:08:59 +0100
Subject: R: R: [Proj] cs2cs usage
In-Reply-To: <47E2DCA9.5060704@pobox.com>
References: <FBCMMO01lMSGriY76H300022aa0@FBCMMO01.fbc.local><47E2795E.2010506@pobox.com><001501c88ad1$1932d9a0$0301a8c0@notebookmarco>
	<47E2DCA9.5060704@pobox.com>
Message-ID: <001601c88ad6$ffaa1470$0301a8c0@notebookmarco>

Perfect!

Thanks a lot!

OT: do you remember some time ago, when we where talking about my winGRASS
building? You wrote:
> Note, I'm very helpful we will have an easy to use and fully featured
> WinGRASS build as part of OSGeo4W in the next few months.
> It might be that this can replace the hassle of building it yourself.

Well, I built and packed winGRASS-6.3.0RC5, with a brand new, completely
updated MSYS environment, and I also made a Windows self installer (with
tcl+tk and sqlite complete builds included)... and then a new GRASS Windows
Native Binary Building Guide...  but I'm sure you already know that,
winGRASS-6.3.0RC5 is hosted by osgeo.org ;-)) ...what I mean is just
...changes happen! ...and if they don't happen ...just let them happen ;-))

Thanks for your help

Happy Easter

Regards,

Marco

-----Messaggio originale-----
Da: proj-bounces at lists.maptools.org [mailto:proj-bounces at lists.maptools.org]
Per conto di Frank Warmerdam
Inviato: giovedì 20 marzo 2008 22.53
A: PROJ.4 and general Projections Discussions
Oggetto: Re: R: [Proj] cs2cs usage

Marco Pasetti wrote:
> Hi all,
> 
> I forgot in the previous mails:
> 
> 1) is there a way to *pass* the input latitude and longitude 
> coordinates to cs2cs command, without type them at command prompt?

Yes

> 2) can the cs2cs command write the *results* in an output file?

Yes

In particular cs2cs works as a filter.  It's input can be redirected from a
file, and it's output can be redirected to a file.

cs2cs {parameters}  < input.txt   > output.txt

Best regards,

-- 
---------------------------------------+--------------------------------
---------------------------------------+------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj




From roger at opq.se  Thu Mar 27 04:47:33 2008
From: roger at opq.se (Roger Oberholtzer)
Date: Thu, 27 Mar 2008 12:47:33 +0100
Subject: [Proj] SWEREF99?
Message-ID: <1206618455.24152.21.camel@acme.pacific>

Anyone  using SWEREF99 (the Swedish coordinate system to replace good
old RT90) with proj? Anyone know how to specify it for proj?

-- 
Roger Oberholtzer

OPQ Systems / Ramböll RST

Ramböll Sverige AB
Kapellgränd 7
P.O. Box 4205
SE-102 65 Stockholm, Sweden

Office: Int +46 8-615 60 20
Mobile: Int +46 70-815 1696



From support.mn at elisanet.fi  Fri Mar 28 02:18:36 2008
From: support.mn at elisanet.fi (support.mn at elisanet.fi)
Date: Fri, 28 Mar 2008 11:18:36 +0200 (EET)
Subject: [Proj] SWEREF99?
Message-ID: <3495033.161321206695917324.JavaMail.support.mn@elisanet.fi>

There seems to be EPSG 4619 as follows:

# epsg.pin:4619
# SWEREF99
proj=longlat
ellps=GRS80
towgs84=0,0,0,0,0,0,0
no_defs

See also:

http://spatialreference.org/ref/epsg/4619/

Regards: Janne.

------------------------------

Roger Oberholtzer <roger at opq.se> kirjoitti: 
> Anyone  using SWEREF99 (the Swedish coordinate system to replace good
> old RT90) with proj? Anyone know how to specify it for proj?
> 
> -- 
> Roger Oberholtzer
> 
> OPQ Systems / Ramböll RST
> 
> Ramböll Sverige AB
> Kapellgränd 7
> P.O. Box 4205
> SE-102 65 Stockholm, Sweden
> 
> Office: Int +46 8-615 60 20
> Mobile: Int +46 70-815 1696
> 
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
> 




From roger at opq.se  Fri Mar 28 06:46:51 2008
From: roger at opq.se (Roger Oberholtzer)
Date: Fri, 28 Mar 2008 14:46:51 +0100
Subject: [Proj] SWEREF99?
In-Reply-To: <3495033.161321206695917324.JavaMail.support.mn@elisanet.fi>
References: <3495033.161321206695917324.JavaMail.support.mn@elisanet.fi>
Message-ID: <1206712013.17476.42.camel@acme.pacific>

On Fri, 2008-03-28 at 11:18 +0200, support.mn at elisanet.fi wrote:
> There seems to be EPSG 4619 as follows:
> 
> # epsg.pin:4619
> # SWEREF99
> proj=longlat
> ellps=GRS80
> towgs84=0,0,0,0,0,0,0
> no_defs

Thanks. I have now found the information I was looking for, and I think
it should be:

+proj=tmerc +k=0.9996 +x_0=500000 +y_0=0 +lon_0=15.0 +lat_0=0.0
+towgs84=0,0,0,0,0,0,0 +no_defs

> See also:
> 
> http://spatialreference.org/ref/epsg/4619/

Their info is often incorrect. A better definition for this is at:

http://www.lantmateriet.se/templates/LMV_Page.aspx?id=4219&lang=EN

Using my settings, I match the SWEREF TM sample data (provided on that
page) exact.

-- 
Roger Oberholtzer

OPQ Systems / Ramböll RST

Ramböll Sverige AB
Kapellgränd 7
P.O. Box 4205
SE-102 65 Stockholm, Sweden

Office: Int +46 8-615 60 20
Mobile: Int +46 70-815 1696



From bartvde at osgis.nl  Fri Mar 28 10:22:20 2008
From: bartvde at osgis.nl (Bart van den Eijnden (OSGIS))
Date: Fri, 28 Mar 2008 18:22:20 +0100
Subject: [Proj] from EPSG:28992 to EPSG:25832
In-Reply-To: <011671a105684838f0a4cc6d5a106450@145.50.39.11>
References: <011671a105684838f0a4cc6d5a106450@145.50.39.11>
Message-ID: <47ED294C.9000307@osgis.nl>

An update on this issue after I had some contact with Jan Hartmann.

There is something strange going on in our opinion, the same command 
yields different results in PROJ 4.5 and 4.6. PROJ 4.5 is very close to 
the expected result.

PROJ 4.6:
cs2cs -f %.9f +proj=sterea +lat_0=52.15616055555555 
+lon_0=5.38763888888889 +k=0.999908 +x_0=155000 +y_0=463000 
+ellps=bessel +units=m 
+towgs84=565.2369,50.0087,465.658,-0.406857330322398,0.350732676542563,-1.8703473836068,4.0812 
+no_defs +to +proj=utm +zone=32 +ellps=GRS80 +units=m +no_defs
96197.31 390964.35
290505.483235725        5710539.888875010 0.000000000

PROJ 4.5:
290464.957702205        5710439.900326397 44.377755052

If Jan changes the ellipsoid of the UTM zone from GRS80 to WGS84 things 
are okay in PROJ 4.6.

Can somebody shed some light on this? Did something changes with the 
ellipsoids? How can different PROJ versions yield different results on 
the same command?

Best regards,
Bart

Bart van den Eijnden (OSGIS) wrote:
> Hi list,
>
> why is the conversion from EPSG:28992 to EPSG:25832 not very accurate?
>
> The official calculator from agrs.nl gives the following:
>
> Original system RD and NAP
> X 196197,31
> Y 390964,35
>
> Target system UTM(ETRS89)
> Zone 32
> Northing 5710439,825
> Easting 290464,836
>
> This is what I get with PROJ 4.6:
>
> cs2cs -f %.9f +proj=sterea +lat_0=52.15616055555555 +lon_0=5.38763888888889
> +k=0.999908 +x_0=155000 +y_0=463000 +ellps=bessel +units=m
> +towgs84=565.2369,50.0087,465.658,-0.406857330322398,0.350732676542563,-1.8703473836068,4.0812
> +no_defs +to +proj=utm +zone=32 +ellps=GRS80 +units=m +no_defs
> 196197.31 390964.35
> 290505.483235725        5710539.888875010 0.000000000
>
> Any ideas what could be causing this? Is there a correction grid involved (I
> am no projections expert unfortunately ... ).
>
> TIA.
>
> Best regards,
> Bart
>
> --
> Bart van den Eijnden
> OSGIS, Open Source GIS
> http://www.osgis.nl
>
>
>
>
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
>
>
>   


-- 
Bart van den Eijnden
OSGIS, Open Source GIS
bartvde at osgis.nl
http://www.osgis.nl



From warmerdam at pobox.com  Fri Mar 28 11:04:11 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri, 28 Mar 2008 14:04:11 -0400
Subject: [Proj] from EPSG:28992 to EPSG:25832
In-Reply-To: <47ED294C.9000307@osgis.nl>
References: <011671a105684838f0a4cc6d5a106450@145.50.39.11>
	<47ED294C.9000307@osgis.nl>
Message-ID: <47ED331B.30807@pobox.com>

Bart van den Eijnden (OSGIS) wrote:
> An update on this issue after I had some contact with Jan Hartmann.
> 
> There is something strange going on in our opinion, the same command 
> yields different results in PROJ 4.5 and 4.6. PROJ 4.5 is very close to 
> the expected result.
> 
> PROJ 4.6:
> cs2cs -f %.9f +proj=sterea +lat_0=52.15616055555555 
> +lon_0=5.38763888888889 +k=0.999908 +x_0=155000 +y_0=463000 
> +ellps=bessel +units=m 
> +towgs84=565.2369,50.0087,465.658,-0.406857330322398,0.350732676542563,-1.8703473836068,4.0812 
> +no_defs +to +proj=utm +zone=32 +ellps=GRS80 +units=m +no_defs
> 96197.31 390964.35
> 290505.483235725        5710539.888875010 0.000000000
> 
> PROJ 4.5:
> 290464.957702205        5710439.900326397 44.377755052
> 
> If Jan changes the ellipsoid of the UTM zone from GRS80 to WGS84 things 
> are okay in PROJ 4.6.
> 
> Can somebody shed some light on this? Did something changes with the 
> ellipsoids? How can different PROJ versions yield different results on 
> the same command?

Bart,

In PROJ 4.6.0 no datum shift is applied if either the source or
destination coordinate system have datum definitions.

I would suggest using

   +proj=utm +zone=32 +ellps=GRS80 +units=m +towgs84=0,0,0 +no_defs

for the output coordinate system.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org



From bartvde at osgis.nl  Fri Mar 28 11:37:02 2008
From: bartvde at osgis.nl (Bart van den Eijnden (OSGIS))
Date: Fri, 28 Mar 2008 19:37:02 +0100
Subject: [Proj] from EPSG:28992 to EPSG:25832
In-Reply-To: <47ED331B.30807@pobox.com>
References: <011671a105684838f0a4cc6d5a106450@145.50.39.11>
	<47ED294C.9000307@osgis.nl> <47ED331B.30807@pobox.com>
Message-ID: <47ED3ACE.5040701@osgis.nl>

Hi Frank,

thanks for this info, but this has quite some implications then or not?

We would need to change quite some entries in the epsg file if we want 
to get this right on a Mapserver WMS for instance.

Any insight into why this was changed?

Best regards,
Bart

Frank Warmerdam wrote:
> Bart van den Eijnden (OSGIS) wrote:
>> An update on this issue after I had some contact with Jan Hartmann.
>>
>> There is something strange going on in our opinion, the same command 
>> yields different results in PROJ 4.5 and 4.6. PROJ 4.5 is very close 
>> to the expected result.
>>
>> PROJ 4.6:
>> cs2cs -f %.9f +proj=sterea +lat_0=52.15616055555555 
>> +lon_0=5.38763888888889 +k=0.999908 +x_0=155000 +y_0=463000 
>> +ellps=bessel +units=m 
>> +towgs84=565.2369,50.0087,465.658,-0.406857330322398,0.350732676542563,-1.8703473836068,4.0812 
>> +no_defs +to +proj=utm +zone=32 +ellps=GRS80 +units=m +no_defs
>> 96197.31 390964.35
>> 290505.483235725        5710539.888875010 0.000000000
>>
>> PROJ 4.5:
>> 290464.957702205        5710439.900326397 44.377755052
>>
>> If Jan changes the ellipsoid of the UTM zone from GRS80 to WGS84 
>> things are okay in PROJ 4.6.
>>
>> Can somebody shed some light on this? Did something changes with the 
>> ellipsoids? How can different PROJ versions yield different results 
>> on the same command?
>
> Bart,
>
> In PROJ 4.6.0 no datum shift is applied if either the source or
> destination coordinate system have datum definitions.
>
> I would suggest using
>
>   +proj=utm +zone=32 +ellps=GRS80 +units=m +towgs84=0,0,0 +no_defs
>
> for the output coordinate system.
>
> Best regards,


-- 
Bart van den Eijnden
OSGIS, Open Source GIS
bartvde at osgis.nl
http://www.osgis.nl



From warmerdam at pobox.com  Fri Mar 28 11:57:53 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri, 28 Mar 2008 14:57:53 -0400
Subject: [Proj] from EPSG:28992 to EPSG:25832
In-Reply-To: <47ED3ACE.5040701@osgis.nl>
References: <011671a105684838f0a4cc6d5a106450@145.50.39.11>
	<47ED294C.9000307@osgis.nl> <47ED331B.30807@pobox.com>
	<47ED3ACE.5040701@osgis.nl>
Message-ID: <47ED3FB1.8010607@pobox.com>

Bart van den Eijnden (OSGIS) wrote:
> Hi Frank,
> 
> thanks for this info, but this has quite some implications then or not?
> 
> We would need to change quite some entries in the epsg file if we want 
> to get this right on a Mapserver WMS for instance.
> 
> Any insight into why this was changed?

Bart,

The old behavior was to do ellipse based conversions when no datum
information was available.  But this was causing frequent problems,
especially with spherical projections which are shifted very substantially
when moving to an ellipse (via transformation to/from geocentric coordinates).

It is possible that some epsg file entries should have towgs84=0,0,0
datum shift info added, but we already know that the epsg init file's
concept of datum shift values is very weak so I don't see that we are
in a noticably worse situation than we were, other than that it can
be a disruptive change.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org



From richard.greenwood at gmail.com  Fri Mar 28 13:00:12 2008
From: richard.greenwood at gmail.com (Richard Greenwood)
Date: Fri, 28 Mar 2008 14:00:12 -0600
Subject: [Proj] from EPSG:28992 to EPSG:25832
In-Reply-To: <47ED331B.30807@pobox.com>
References: <011671a105684838f0a4cc6d5a106450@145.50.39.11>
	<47ED294C.9000307@osgis.nl> <47ED331B.30807@pobox.com>
Message-ID: <ae9185aa0803281300r2d897800r528d1c79b0e9e229@mail.gmail.com>

On Fri, Mar 28, 2008 at 12:04 PM, Frank Warmerdam <warmerdam at pobox.com> wrote:

>  In PROJ 4.6.0 no datum shift is applied if either the source or
>  destination coordinate system have datum definitions.

I think that Frank meant to say if:

  In PROJ 4.6.0 no datum shift is applied if either the source or destination
  coordinate system DO NOT have datum definitions.

-- 
Richard Greenwood
richard.greenwood at gmail.com
www.greenwoodmap.com


From warmerdam at pobox.com  Fri Mar 28 13:24:36 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri, 28 Mar 2008 16:24:36 -0400
Subject: [Proj] from EPSG:28992 to EPSG:25832
In-Reply-To: <ae9185aa0803281300r2d897800r528d1c79b0e9e229@mail.gmail.com>
References: <011671a105684838f0a4cc6d5a106450@145.50.39.11>
	<47ED294C.9000307@osgis.nl> <47ED331B.30807@pobox.com>
	<ae9185aa0803281300r2d897800r528d1c79b0e9e229@mail.gmail.com>
Message-ID: <47ED5404.7050100@pobox.com>

Richard Greenwood wrote:
> On Fri, Mar 28, 2008 at 12:04 PM, Frank Warmerdam <warmerdam at pobox.com> wrote:
> 
>>  In PROJ 4.6.0 no datum shift is applied if either the source or
>>  destination coordinate system have datum definitions.
> 
> I think that Frank meant to say if:
> 
>   In PROJ 4.6.0 no datum shift is applied if either the source or destination
>   coordinate system DO NOT have datum definitions.


Rich,

Yes, that was indeed my intent.  I amaze myself sometimes with my ability
to write the exact opposite of what I mean.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org



