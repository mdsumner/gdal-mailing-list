From ovv at hetnet.nl  Tue Jul  1 04:24:01 2008
From: ovv at hetnet.nl (OvV_HN)
Date: Tue, 1 Jul 2008 13:24:01 +0200
Subject: [Proj] Help!!
In-Reply-To: <200806301415.29176.geraldi.evenden@gmail.com>
References: <200806301415.29176.geraldi.evenden@gmail.com>
Message-ID: <96DF4169F3A94D69BFFE7898CC64468E@PCHP>

From: "Gerald I. Evenden" <geraldi.evenden at gmail.com>
Sent: Monday, June 30, 2008 8:15 PM
Subject: [Proj] Help!!


>I have been trying to update libproj4 documentation and also keep the
> carto.bib file reasonably up to date.  But sometimes this gets to a bit
> difficult with some sources.
>
> I writing up proj=ftmerc, one of the 4 constant meridian scale transverse
> Mercator projection procedures I am at a loss to describe this source:
>
> www.lantmateriet.se/geodesi
>
> Unfortunately, it is *all* in Swedish and without a hint of who or what.
>
> Any hint as to what an appropriate reference entry would be would be 
> greatly
> appreciated.

For the functions used in ftmerc, the Swedish Landmäteriet is not the 
primary reference.
It would be interesting to know where these functions came from.
My theory: they percolated from Krüger (1912) through - among others - König 
& Weise (1951), to Hirvonen (1970).

I copied some of the older references from the Finnish JHS154 publication:

* Hirvonen, R.A., Matemaattinen Geodesia, Teknillisen korkeakoulun 
ylioppilas-kunta, Helsinki, 1972
* Hirvonen, R.A. The Use of Subroutines in Geodetic Computations, 
Maanmit-taus, 1970.
* Krüger L: Konforme Abbildung des Erdellipsoids in der Ebene, B. G. Teubner 
Verlag Leipzig 1912, pages 11-22
* König, R.; Weise, K. H.: Mathematische Grundlagen der höheren Geodäsie und 
Kartographie, Springer Verlag Berlin Göttingen Heidelberg, 1951

Remarkably, most papers describing the Italian Gauss-Boaga system, refer to 
Hirvonen.
Cliff Mugnier says in his Grids & Datums column about Italy that Boaga 
recasted (and truncated) the Gauss equations. This can also be inferred from 
a short biography of Giovanni Boaga at the IGM site:
http://www.igmi.org/istituto/scuola/boaga.php
IGM: Istituto Geografico Militare


Oscar van Vlijmen






From mikeo2106 at msn.com  Tue Jul  1 10:04:47 2008
From: mikeo2106 at msn.com (Michael Ossipoff)
Date: Tue, 1 Jul 2008 17:04:47 +0000
Subject: [Proj] Cylindrish projections. typo.
Message-ID: <BAY107-W48D355E326C97B6229C980A59E0@phx.gbl>



Here are several suggestions for terms to replace the adjective "pseudocylindrical":

1. Cylindrish
2. Cylindricalish
3. Generalized-Cylindrical
4. Cylindroid

If there's prejudice against the brief and clear "cylindrish", it's due to a prejudice against using a suffix from our own language, as oppposed to Latin or Greek, probably a carry-over from the days when all serious discussion was expected to be in Latin. 

In any case, if cylindrical projections are psuedocylindrical, then it's clear that "pseudocylindrical" is crying out for a name-change.

By the way, there was a typo in my most recent posting: When I said that cylindrish projections are linear, I of course meant cylindrish projections with equally-spaced parallels.

Mike Ossipoff



From mikeo2106 at msn.com  Tue Jul  1 10:32:15 2008
From: mikeo2106 at msn.com (Michael Ossipoff)
Date: Tue, 1 Jul 2008 17:32:15 +0000
Subject: [Proj] Re: Linear projections reply
Message-ID: <BAY107-W96126DB763670052CFFFFA59E0@phx.gbl>


(Line-format faults prevent me from using the ">" marks)

Dan Strebe:

You'd said:

Cylindric projections are a specialization of pseudocylindric.  Whether it is incorrect to call a cylindric projection  "pseudocylindric" is something best left to  those of uselessly  pedantic temperment.

I'd replied:

 Oh come on now, you're saying that no one should ever say anything about the merits of a term.

You replied:

I fail to see how my comment could be interpreted anywhere nearly so generally. 

I reply: 

Well, specifically, if ever there was a map projection term that needed a new name, it's "pseudocylindrical", when interpreted to encompass "cylindrical".

If there's some specific reason why it would be uselessly pedantic to suggest a better word for that particular term, you failed to tell it. We're talking about a prefix used in a way contrary to its otherwise universally-accepted meaning, making a self-contradictory usage.

You said:

This does not seem to be going anywhere. Good luck. 

I reply:

Well, it was a nonstarter when you posted your unexplained remark quoted at the beginning of this post. Good luck with what? You made a statement and I answered it. It isn't clear why you expected it to go somewhere after that.

Mike Ossipoff



From karl at kls2.com  Tue Jul  1 10:58:42 2008
From: karl at kls2.com (Karl Swartz)
Date: Tue, 1 Jul 2008 10:58:42 -0700
Subject: [Proj] Cylindrish projections. typo.
In-Reply-To: <BAY107-W48D355E326C97B6229C980A59E0@phx.gbl>
References: <BAY107-W48D355E326C97B6229C980A59E0@phx.gbl>
Message-ID: <20080701175842.GB90362@orion.kls2.com>

> Here are several suggestions for terms to replace the adjective
> "pseudocylindrical":

Another suggestion would be to retain a term that is in widespread usage
instead of inventing a new term that will result in confusion due to two
names for the same thing.  It may not be perfect, but if the best choice
always won we'd be typing on Dvorak keyboards and our VCRs would be Beta
instead of VHS.

 -- Karl


From mkennedy2 at earthlink.net  Tue Jul  1 11:04:53 2008
From: mkennedy2 at earthlink.net (Melita Kennedy)
Date: Tue, 1 Jul 2008 11:04:53 -0700 (GMT-07:00)
Subject: [Proj] Re: Help!!
Message-ID: <2630306.1214935493506.JavaMail.root@elwamui-wigeon.atl.sa.earthlink.net>

Hmmm, I went to an English version of the page on an automatic redirect. That page is listed below.

I would use 

Land Survey of Sweden. "Geodesy and GPS". Lantmäteriet (or repeat Land Survey of Sweden). Retrieved July 1, 2008 from http://www.lantmateriet.se/templates/LMV_Entrance.aspx?id=68. 

Melita


>Date: Mon, 30 Jun 2008 14:15:29 -0400
>From: "Gerald I. Evenden" <geraldi.evenden at gmail.com>
>Subject: [Proj] Help!!
>To: "PROJ.4 and general Projections Discussions"
>	<proj at lists.maptools.org>
>Message-ID: <200806301415.29176.geraldi.evenden at gmail.com>
>
>I have been trying to update libproj4 documentation and also keep the 
>carto.bib file reasonably up to date.  But sometimes this gets to a bit 
>difficult with some sources.
>
>I writing up proj=ftmerc, one of the 4 constant meridian scale transverse 
>Mercator projection procedures I am at a loss to describe this source:
>
>www.lantmateriet.se/geodesi
>
>Unfortunately, it is *all* in Swedish and without a hint of who or what.
>
>Any hint as to what an appropriate reference entry would be would be greatly 
>appreciated.
>
>
>Soapbox time again:
>Wikipedia has the following quote under the section linqua franca:
>"English is the current lingua franca of international business, science, 
>technology and aviation,"
>
>I am not trying to be chauvinistic about languages but it would be courteous 
>if non-English web site designers to include a section giving a summary of 
>the web site, owner and principle purpose in English.
>
>Thank-you
>Off soapbox.
>-- 
>The whole religious complexion of the modern world is due
>to the absence from Jerusalem of a lunatic asylum.
>-- Havelock Ellis (1859-1939)  British psychologist




From tutey at o2.pl  Tue Jul  1 12:21:47 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Tue, 01 Jul 2008 21:21:47 +0200
Subject: [Proj] bugfix PROJ.4 release?
In-Reply-To: <B597ADFC46B67741B18EA6AA13613FF7EC232D@email002.lsu.edu>
References: <48692BA3.8050803@o2.pl>	<200806301932.28048.geraldi.evenden@gmail.com>
	<B597ADFC46B67741B18EA6AA13613FF7EC232D@email002.lsu.edu>
Message-ID: <486A83CB.7070305@o2.pl>

> Gerald I. Evenden pisze:
Clifford J Mugnier pisze:

>> How about a little reality check folks.

> Ahem.

I can see these few decimal places in +k, +x_0, +y_0 parameters do make
a huge difference anyway. I identified 118 ESPG codes, which, due to the
issue [1], have a different representation in the epsg file in PROJ.4
4.5 and 4.6, *and* for which this difference results in coordinate
translation error of centimeters-decimeters. Is this really neglectable?


Details:

Test points were obtained from the EPSG dataset v6.15 [2] with the
following SQL query on the SRS's area-of-use boundaries:

SELECT coord_ref_sys_code, area_west_bound_lon, area_south_bound_lat
FROM epsg_coordinatereferencesystem, epsg_area WHERE
epsg_coordinatereferencesystem.area_of_use_code=epsg_area.area_code AND
epsg_coordinatereferencesystem.show_crs=1 AND
epsg_coordinatereferencesystem.deprecated=0;

This gave a list of points located in the SW corner of each SRS's area
of use. The list is attached as epsg_control_pts.txt.

The epsg files were extracted from PROJ.4 4.5 and 4.6 source code, and
named epsg.45, epsg.46, respectively.

The files were used as an input for the attached script,
proj-epsg_45vs46.sh. Its output is a self-explanatory csv file that one
can load into a spreadsheet or whatever and calculate the difference.
Most differences are none or smaller than 1 cm, some are huge but due to
a reason we don't care about here (a change in datum handling in GDAL,
which affected epsg_tr.py output used to generate the PROJ.4 epsg files)
and for some I can't calculate the difference easily (they are
un-projected CRSs and I don't know how to handle sexagimal numbers in a
spreadsheet).

Yet, in the end the difference for 118 remaining SRSs is greater than 1
cm with a maximum of 1.65 m. You can find this extract attached in an
ODS file.

All data mentioned available at [3].

[1]http://trac.osgeo.org/gdal/ticket/2036
[2]http://www.epsg.org/databases/Discv6_15sql-PosgreSql.html
[3]http://www.sieczka.org/tmp/proj_45_vs_46.zip

Maciek

-- 
Maciej Sieczka
www.sieczka.org


From geraldi.evenden at gmail.com  Tue Jul  1 13:31:17 2008
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Tue, 1 Jul 2008 16:31:17 -0400
Subject: [Proj] Re: Help!!
In-Reply-To: <2630306.1214935493506.JavaMail.root@elwamui-wigeon.atl.sa.earthlink.net>
References: <2630306.1214935493506.JavaMail.root@elwamui-wigeon.atl.sa.earthlink.net>
Message-ID: <200807011631.17948.geraldi.evenden@gmail.com>

The major thing I *totaly* missed is the little "Svenska|English" switch at 
the top of the page above the banner.

It should be a little larger for the dyslectics like myself, thank-you.  Of 
course, this is all due to my mother and grandmother rattling on about local 
gossip in Swedish and thus keeping me in the dark.

Google did a reasonable job but often flunks with technical vocabulary.

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939)  British psychologist


From strebe at aol.com  Tue Jul  1 15:14:53 2008
From: strebe at aol.com (strebe at aol.com)
Date: Tue, 01 Jul 2008 18:14:53 -0400
Subject: [Proj] Re: Linear projections reply
In-Reply-To: <BAY107-W96126DB763670052CFFFFA59E0@phx.gbl>
References: <BAY107-W96126DB763670052CFFFFA59E0@phx.gbl>
Message-ID: <8CAA9DF04A11357-E98-2310@webmail-nc07.sysops.aol.com>


 Mr. Ossipoff:

You seem to think a word's meaning and worth derive from fidelity to its etymological derivation rather than from its usage within a learned community. That philosophy fits within my notion of "uselessly pedantic", particularly since few words are etymologically "pure" — if any at all, depending on definitions.

In the interest of useful "pedantism", I advocate using words as precisely as the word allows through appeal to learned usage. Sometimes learned usage is strongly informed by etymological derivation. Sometimes it is not.

"Pseudocylindric" was never a "good" word etymologically. Pseudocylindric projections are not "false" cylindric projections, and the prefix is particularly ironic given that cylindric projections are a mathematical subset of pseudocylindric. Still, it's the extant word, and it carries a usefully precise meaning as measured by learned usage.

There isn't enough usage out there to conclude whether "pseudocylindric" is inclusive or exclusive of "cylindric", especially given the mathematical realities of the situation. But if and when the matter gets decided, that decision should not have been based on dead etymology. Indeed, it is no great burden if it never gets decided, since it's easy enough to make the distinction if needed. Nor is the community going to adopt a new word just for the purpose of achieving some useless etymological purity.

I doubt the majority of this list, including me, is interested in debates over the uselessly pedantic, so I won't comment further on the matter.



 Regards,
-- daan Strebe



 

-----Original Message-----
From: Michael Ossipoff <mikeo2106 at msn.com>
To: proj at lists.maptools.org
Sent: Tue, 1 Jul 2008 10:32 am
Subject: [Proj] Re: Linear projections reply











(Line-format faults prevent me from using the ">" marks)

Dan Strebe:

You'd said:

Cylindric projections are a specialization of pseudocylindric.  Whether it is 
incorrect to call a cylindric projection  "pseudocylindric" is something best 
left to  those of uselessly  pedantic temperment.

I'd replied:

 Oh come on now, you're saying that no one should ever say anything about the 
merits of a term.

You replied:

I fail to see how my comment could be interpreted anywhere nearly so generally. 

I reply: 

Well, specifically, if ever there was a map projection term that needed a new 
name, it's "pseudocylindrical", when interpreted to encompass "cylindrical".

If there's some specific reason why it would be uselessly pedantic to suggest a 
better word for that particular term, you failed to tell it. We're talking about 
a prefix used in a way contrary to its otherwise universally-accepted meaning, 
making a self-contradictory usage.

You said:

This does not seem to be going anywhere. Good luck. 

I reply:

Well, it was a nonstarter when you posted your unexplained remark quoted at the 
beginning of this post. Good luck with what? You made a statement and I answered 
it. It isn't clear why you expected it to go somewhere after that.

Mike Ossipoff

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj



 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080701/6a8e42a3/attachment.html>

From hamish_b at yahoo.com  Wed Jul  2 01:55:57 2008
From: hamish_b at yahoo.com (Hamish)
Date: Wed, 2 Jul 2008 01:55:57 -0700 (PDT)
Subject: [Proj] bugfix PROJ.4 release?
In-Reply-To: <486A83CB.7070305@o2.pl>
Message-ID: <340008.55095.qm@web45804.mail.sp1.yahoo.com>

Maciek wrote:
....
> The list is attached as epsg_control_pts.txt.
....
> The files were used as an input for the attached script,
> proj-epsg_45vs46.sh.

nothing attached to the email, perhaps this mailing list has been set up
to silently drop attachments? that is not an uncommon practice.


Hamish




      



From tutey at o2.pl  Wed Jul  2 03:41:49 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Wed, 02 Jul 2008 12:41:49 +0200
Subject: [Proj] bugfix PROJ.4 release?
In-Reply-To: <340008.55095.qm@web45804.mail.sp1.yahoo.com>
References: <340008.55095.qm@web45804.mail.sp1.yahoo.com>
Message-ID: <486B5B6D.4050507@o2.pl>

Hamish pisze:
> Maciek wrote:

>> The list is attached as epsg_control_pts.txt. .... The files were
>> used as an input for the attached script, proj-epsg_45vs46.sh.

> nothing attached to the email, perhaps this mailing list has been set
> up to silently drop attachments? that is not an uncommon practice.

Read at the bottom of my previous email please. I realised the
attachment would be too big all together after writing the whole thing,
thus I'm providing the data online, yet I have not modified the whole
message to reflect that - sorry.

Maciek

-- 
Maciej Sieczka
www.sieczka.org


From enxmabm at nottingham.ac.uk  Wed Jul  2 13:42:25 2008
From: enxmabm at nottingham.ac.uk (Mohamed Mohamed)
Date: Wed, 2 Jul 2008 21:42:25 +0100
Subject: [Proj] Long. Lat conversion to Cartesian coordinates
Message-ID: <F0FFAD0940A86C4B83ED724F06EC7600015587D3@VUIEXCH3.ad.nottingham.ac.uk>

Hi,
I have a file named asd.txt. This file contain longitudinal latitudinal
coordinates points. When I use proj +proj=poly asd.txt command. I got
the answer in the command line. However I want the answer to be sorted
in  a new file. 
Can any one help?



M.A.Bek
SChEME Department
Faculty of Engineering 
University of Nottingham 
Nottingham (NG7 2RD) UK 
Fax: 0044(0)115 951 4115

This message has been checked for viruses but the contents of an attachment
may still contain software viruses, which could damage your computer system:
you are advised to perform your own checks. Email communications with the
University of Nottingham may be monitored as permitted by UK legislation.




From jagoncal at gmail.com  Wed Jul  2 16:01:59 2008
From: jagoncal at gmail.com (=?ISO-8859-1?Q?Jose_Gon=E7alves?=)
Date: Thu, 3 Jul 2008 00:01:59 +0100
Subject: [Proj] Long. Lat conversion to Cartesian coordinates
In-Reply-To: <F0FFAD0940A86C4B83ED724F06EC7600015587D3@VUIEXCH3.ad.nottingham.ac.uk>
References: <F0FFAD0940A86C4B83ED724F06EC7600015587D3@VUIEXCH3.ad.nottingham.ac.uk>
Message-ID: <6a91fcb00807021601l384bfe98k18c5893b2b05c574@mail.gmail.com>

Use character > to redirect standard output (by default, the screen) to a
file:

proj +proj=poly asd.txt > out_file.txt


Regards


Jose'

2008/7/2 Mohamed Mohamed <enxmabm at nottingham.ac.uk>:

> Hi,
> I have a file named asd.txt. This file contain longitudinal latitudinal
> coordinates points. When I use proj +proj=poly asd.txt command. I got
> the answer in the command line. However I want the answer to be sorted
> in  a new file.
> Can any one help?
>
>
>
> M.A.Bek
> SChEME Department
> Faculty of Engineering
> University of Nottingham
> Nottingham (NG7 2RD) UK
> Fax: 0044(0)115 951 4115
>
> This message has been checked for viruses but the contents of an attachment
> may still contain software viruses, which could damage your computer
> system:
> you are advised to perform your own checks. Email communications with the
> University of Nottingham may be monitored as permitted by UK legislation.
>
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080703/e495b3b5/attachment.html>

From support.mn at elisanet.fi  Wed Jul  2 18:58:29 2008
From: support.mn at elisanet.fi (support.mn at elisanet.fi)
Date: Thu, 3 Jul 2008 04:58:29 +0300 (EEST)
Subject: [Proj] Long. Lat conversion to Cartesian coordinates
Message-ID: <7479194.2079441215050309877.JavaMail.support.mn@elisanet.fi>

Hello,

as somebody said, you should redirect the output to a text file using
the "> out_file.txt" at the end of the command line in WIndows
command console.

If you also need to sort that file based on some column, you can use
such a program as "EditPlus 3", which is an editor and it has a tool
that does the sorting. See:

http://www.editplus.com/

Regards: Janne

-----------------------------

> Hi,
> I have a file named asd.txt. This file contain longitudinal latitudinal
> coordinates points. When I use proj +proj=poly asd.txt command. I got
> the answer in the command line. However I want the answer to be sorted
> in  a new file. 
> Can any one help?
> 
> 
> 
> M.A.Bek
> SChEME Department
> Faculty of Engineering 
> University of Nottingham 
> Nottingham (NG7 2RD) UK 
> Fax: 0044(0)115 951 4115
> 
> This message has been checked for viruses but the contents of an attachment
> may still contain software viruses, which could damage your computer system:
> you are advised to perform your own checks. Email communications with the
> University of Nottingham may be monitored as permitted by UK legislation.
> 
> 
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
> 



From enxmabm at nottingham.ac.uk  Thu Jul  3 03:30:35 2008
From: enxmabm at nottingham.ac.uk (Mohamed Mohamed)
Date: Thu, 3 Jul 2008 11:30:35 +0100
Subject: [Proj] The date is not as expected
Message-ID: <F0FFAD0940A86C4B83ED724F06EC7600015587DE@VUIEXCH3.ad.nottingham.ac.uk>

I converted a data from longitudinal latitudinal coordinates to the
Cartesian coordinates using the command "proj +proj=poly
asd.txt>asd_out.txt"
Unfortunately the data is not as expected.

My data downloaded from USGS site with the following feature
The horizontal datum used is North American Datum of 1983.
The ellipsoid used is Geodetic Reference System 80.
The semi-major axis of the ellipsoid used is 6378137.000000.
The flattening of the ellipsoid used is 1/298.257222.
Did I miss some thing!!!!!

I guess I have to identify the datum or some thing like that.

Also I have anther data mainly in Africa and the datum is WGS 84. do I
need to identify the datum?

I need another sources to read from. Because I found the manual very
simple and not able to answer my questions.

Mohamed Ali  
malibec2005 at yahoo.com
Mob 00447912033240

SChEME Department
Faculty of Engineering 
University of Nottingham 
Nottingham (NG7 2RD) UK 
Fax: 0044(0)115 951 4115

This message has been checked for viruses but the contents of an attachment
may still contain software viruses, which could damage your computer system:
you are advised to perform your own checks. Email communications with the
University of Nottingham may be monitored as permitted by UK legislation.




From naiara at mail.utexas.edu  Thu Jul  3 14:17:04 2008
From: naiara at mail.utexas.edu (Naiara Pinto)
Date: Thu, 3 Jul 2008 14:17:04 -0700
Subject: [Proj] Installing Proj on a Mac
Message-ID: <9d4084070807031417u1788cf36u7fb8243b28714777@mail.gmail.com>

Dear all,

I have a question about a relatively simple thing..I need to install Proj on
a Mac. I tried two things:

1) donwload the tar file to /usr/local and do:
./configure
make
make install

2) download the tar file to a local folder /users/naiara/library and do:
mkdir proj
./configure --prefix=/users/naiara/library/proj
make
make install

Either way I didn't get any error messages, but when I type proj I get the
message "command not found". I suspect I might need to add an extra line to
my .bashrc file, but I am not sure what it should be. I have a Mac OS
10.4.11 and I am trying to install Proj 4.6.0. My real goal is to install
GDAL, so I am wondering what the best procedure is to make sure that GDAL
can link to Proj.

Any help would be greatly appreciated.

Thanks,

Naiara.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080703/5b1abeae/attachment.html>

From woklist at kyngchaos.com  Thu Jul  3 14:50:10 2008
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Thu, 3 Jul 2008 16:50:10 -0500
Subject: [Proj] Installing Proj on a Mac
In-Reply-To: <9d4084070807031417u1788cf36u7fb8243b28714777@mail.gmail.com>
References: <9d4084070807031417u1788cf36u7fb8243b28714777@mail.gmail.com>
Message-ID: <6E4F4CBE-3D1C-4DDF-8416-5A9704C3D869@kyngchaos.com>

Do you need unix-style libraries particularly?  I have a complete set  
of binaries for PROJ, GEOS, GDAL and a few others in OSX "framework"  
form. (plus most of the big GIS packages, linked to these frameworks)   
Link in my sig.

On OSX 10.4, I think the default PATH does not have /usr/local/bin,  
and certainly not some custom path in your home folder.  Edit your  
~/.bash_profile and add:

export PATH="/usr/local/bin:$PATH"

On Jul 3, 2008, at 4:17 PM, Naiara Pinto wrote:

> Dear all,
>
> I have a question about a relatively simple thing..I need to install  
> Proj on a Mac. I tried two things:
>
> 1) donwload the tar file to /usr/local and do:
> ./configure
> make
> make install
>
> 2) download the tar file to a local folder /users/naiara/library and  
> do:
> mkdir proj
> ./configure --prefix=/users/naiara/library/proj
> make
> make install
>
> Either way I didn't get any error messages, but when I type proj I  
> get the message "command not found". I suspect I might need to add  
> an extra line to my .bashrc file, but I am not sure what it should  
> be. I have a Mac OS 10.4.11 and I am trying to install Proj 4.6.0.  
> My real goal is to install GDAL, so I am wondering what the best  
> procedure is to make sure that GDAL can link to Proj.
>
> Any help would be greatly appreciated.
>
> Thanks,
>
> Naiara.
>
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

[Trillian]  What are you supposed to do WITH a maniacally depressed  
robot?

[Marvin]  You think you have problems?  What are you supposed to do if  
you ARE a maniacally depressed robot?  No, don't try and answer, I'm  
50,000 times more intelligent than you and even I don't know the  
answer...

- HitchHiker's Guide to the Galaxy




From caress at mbari.org  Thu Jul  3 15:00:42 2008
From: caress at mbari.org (David Caress)
Date: Thu, 3 Jul 2008 15:00:42 -0700
Subject: [Proj] Installing Proj on a Mac
In-Reply-To: <9d4084070807031417u1788cf36u7fb8243b28714777@mail.gmail.com>
References: <9d4084070807031417u1788cf36u7fb8243b28714777@mail.gmail.com>
Message-ID: <D18A778D-712E-482D-A938-7810922C51D0@mbari.org>

Naiara,

It is possible to install proj and GDAL on Mac OSX using the open  
source package manager fink:
	http://www.finkproject.org/

The finkcommander GUI application makes specifying and installing  
packages fairly painless. You may need to set fink to use "unstable"  
distributions to get the most recent releases.

I hope this helps,
Dave


Fink installs packages in /sw, so you will need to add /sw/bin to  
your path.

On Jul 3, 2008, at 2:17 PM, Naiara Pinto wrote:

> Dear all,
>
> I have a question about a relatively simple thing..I need to  
> install Proj on a Mac. I tried two things:
>
> 1) donwload the tar file to /usr/local and do:
> ./configure
> make
> make install
>
> 2) download the tar file to a local folder /users/naiara/library  
> and do:
> mkdir proj
> ./configure --prefix=/users/naiara/library/proj
> make
> make install
>
> Either way I didn't get any error messages, but when I type proj I  
> get the message "command not found". I suspect I might need to add  
> an extra line to my .bashrc file, but I am not sure what it should  
> be. I have a Mac OS 10.4.11 and I am trying to install Proj 4.6.0.  
> My real goal is to install GDAL, so I am wondering what the best  
> procedure is to make sure that GDAL can link to Proj.
>
> Any help would be greatly appreciated.
>
> Thanks,
>
> Naiara.
>
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj

----------------------------------------------------
David W. Caress
Senior Research Specialist

Monterey Bay Aquarium Research Institute
7700 Sandholdt Road
Moss Landing, CA 95039

caress at mbari.org
http://www.mbari.org/~caress/

Phone: 831-775-1775
Fax: 831-775-1620

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080703/ccf7108b/attachment.html>

From geraldi.evenden at gmail.com  Thu Jul  3 15:14:13 2008
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Thu, 3 Jul 2008 18:14:13 -0400
Subject: [Proj] Installing Proj on a Mac
In-Reply-To: <9d4084070807031417u1788cf36u7fb8243b28714777@mail.gmail.com>
References: <9d4084070807031417u1788cf36u7fb8243b28714777@mail.gmail.com>
Message-ID: <200807031814.13166.geraldi.evenden@gmail.com>

On Thursday 03 July 2008 5:17 pm, Naiara Pinto wrote:
> Dear all,
>
> I have a question about a relatively simple thing..I need to install Proj
> on a Mac. I tried two things:
>
> 1) donwload the tar file to /usr/local and do:
> ./configure
> make
> make install
>
> 2) download the tar file to a local folder /users/naiara/library and do:
> mkdir proj
> ./configure --prefix=/users/naiara/library/proj
> make
> make install
>
> Either way I didn't get any error messages, but when I type proj I get the
> message "command not found". I suspect I might need to add an extra line to
> my .bashrc file, but I am not sure what it should be. I have a Mac OS
> 10.4.11 and I am trying to install Proj 4.6.0. My real goal is to install
> GDAL, so I am wondering what the best procedure is to make sure that GDAL
> can link to Proj.
>
> Any help would be greatly appreciated.
>
> Thanks,
>
> Naiara.

cd to wherever the program proj resides and type:
./proj
You should get a proj usage error or something better than a system piss-off.

But the basic problem is the install has apparently not put the executable 
into a directory that is reference in your PATH environment.

Enter
echo $PATH
and see which directories are listed. For example on my machine:
 echo $PATH
/home/gie/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/bin/X11:/usr/games

If proj is not in one of those directory either put it there or modify PATH by 
adding the directory where it does reside.

In the old days you used to have to do a rehash but I doubt if that is the 
problem.

BTW: if you don't know it, the basic OS underlying the Apple is Unix---topped 
of with a horrid GUI.  Sorry for the soapbox but I had a laptop for a few 
years and finally gave it to #2 son.

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939)  British psychologist


From mikeo2106 at msn.com  Thu Jul  3 16:51:19 2008
From: mikeo2106 at msn.com (Michael Ossipoff)
Date: Thu, 3 Jul 2008 23:51:19 +0000
Subject: [Proj] Re: Cylindrish projections
In-Reply-To: <200807020900.m6290kmS004457@duke.maptools.org>
References: <200807020900.m6290kmS004457@duke.maptools.org>
Message-ID: <BAY107-W18A1AB89B305E78E4BBA06A5980@phx.gbl>



Dan Strebe:





You said:





> I doubt the majority of this list, including me, is interested in debates over the uselessly pedantic, so I won't comment further on the matter.


Yes, I thought you previously said that you were already done commenting on it :-)





Michael Ossipoff






From mikeo2106 at msn.com  Sat Jul  5 13:11:29 2008
From: mikeo2106 at msn.com (Michael Ossipoff)
Date: Sat, 5 Jul 2008 20:11:29 +0000
Subject: [Proj] Keep "pseudocylindirical"--with original definition. Add
 "cylindroid".
In-Reply-To: <BAY107-W537317CF103A443110E123A59A0@phx.gbl>
References: <BAY107-W537317CF103A443110E123A59A0@phx.gbl>
Message-ID: <BAY107-W3681F13DA4CD50DF1778F4A59A0@phx.gbl>


Dan Strebe said:

"Cylindric projections are a specialization of pseudocylindric."

...Then he said:

"There isn't enough usage out there to conclude whether "pseudocylindric" is inclusive or exclusive of "cylindric", especially given the mathematical realities of the situation."

Oh, so now we're saying that maybe cylindrical projections are _not_ psueudcylindrical, in widepread usage. Thank you. That would make a lot more sense.

This should be obvious: If the person who coined "pseudocylindrical" had intended for it to encompass "cylindrical", then s/he obviously wouldn't have chosen that word. I'm not suggesting dropping "pseudocylindrical". I'm merely suggesting not changing its meaning as a few seem to want to do.

Want a new meaning? Then how about a new word: "Cylindroid". Yes, I said that I prefer "Cylindrish", but "Cylindroid"'s use of "-oid" has more precedent.

A spere is a type of spheroid. A center is a type of centroid. And a cylindrical projection is a type of cylindroid projection.

If anyone doubts my statement about center and centroid, what do we mean when we speak of the center of a tabletop surface? We mean its area centroid. Other centroids could be calculated on the tabletop, such as the centroid of the centers of some coins placed on the table. The center of a plane or solid figure, as the term is usually used, is the area centroid or volume centroid of the figure.

So, as I said, for a cylindrical projection to be a type of cylindroid projection is well precedented and in keeping with previous usage.

And yes, "asteroid" and "trapezoid" aren't exactly like "spheroid" and "centroid" in the way that I've described. So "-oid" is used broadly, in more than one way. But, unlike with "-pseudo", there's nothing nonsensical or ridiculous, due to the meaning of "-oid", about a sphere being a kind of spheroid, a center being a kind of centroid, or a cylindrical projection being a kind of cylindroid projection.

Cylindroid projections include cylindrical and pseudocylindrical projections. 

I'm not proposing giving up "pseudocylindrical"; I'm only suggesting that it be used as intended, in its original meaning, rather than nonsensically extending it as sone would like to do.

Mike Ossipoff




From tutey at o2.pl  Mon Jul  7 04:03:13 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Mon, 07 Jul 2008 13:03:13 +0200
Subject: [Proj] bugfix PROJ.4 release?
In-Reply-To: <486A83CB.7070305@o2.pl>
References: <48692BA3.8050803@o2.pl>	<200806301932.28048.geraldi.evenden@gmail.com>	<B597ADFC46B67741B18EA6AA13613FF7EC232D@email002.lsu.edu>
	<486A83CB.7070305@o2.pl>
Message-ID: <4871F7F1.50907@o2.pl>

Maciej Sieczka pisze:

> I can see these few decimal places in +k, +x_0, +y_0 parameters do make
> a huge difference anyway. I identified 118 ESPG codes, which, due to the
> issue [1], have a different representation in the epsg file in PROJ.4
> 4.5 and 4.6, *and* for which this difference results in coordinate
> translation error of centimeters-decimeters.

Really nobody concerned? Or am I completely in error?

[1]http://trac.osgeo.org/gdal/ticket/2036

Maciek

-- 
Maciej Sieczka
www.sieczka.org


From Chris.Barker at noaa.gov  Mon Jul  7 11:38:19 2008
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Mon, 07 Jul 2008 11:38:19 -0700
Subject: [Proj] Installing Proj on a Mac
In-Reply-To: <6E4F4CBE-3D1C-4DDF-8416-5A9704C3D869@kyngchaos.com>
References: <9d4084070807031417u1788cf36u7fb8243b28714777@mail.gmail.com>
	<6E4F4CBE-3D1C-4DDF-8416-5A9704C3D869@kyngchaos.com>
Message-ID: <4872629B.7040603@noaa.gov>

William Kyngesburye wrote:
>  I have a complete set of 
> binaries for PROJ, GEOS, GDAL and a few others in OSX "framework" form. 

I highly recommend these.

William, would you consider having your Frameworks put links in to the 
executables in /usr/local/bin ? That might be handy. Or maybe link them 
all to one location in /Library/Frameworks, and then put that in the PATH.

For instance, I have:
# Setting PATH for GDAL Current
PATH="/Library/Frameworks/GDAL.framework/Versions/Current/Programs:${PATH}"

# Setting PATH for MapServer Current
PATH="/Library/Frameworks/MapServer.framework/Versions/Current/Programs:${PATH}"

in my .profile, but it's getting a bit tedious to keep adding each one. 
That's one thing I've always liked about *nix -- there are standard 
places to put stuff, so I don't need to add a bazillion things to my 
PATH, like I did in the DOS days. And symlinks let you have the best of 
both worlds!

-Chris


-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker at noaa.gov


From woklist at kyngchaos.com  Mon Jul  7 12:07:25 2008
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Mon, 7 Jul 2008 14:07:25 -0500
Subject: [Proj] Installing Proj on a Mac
In-Reply-To: <4872629B.7040603@noaa.gov>
References: <9d4084070807031417u1788cf36u7fb8243b28714777@mail.gmail.com>
	<6E4F4CBE-3D1C-4DDF-8416-5A9704C3D869@kyngchaos.com>
	<4872629B.7040603@noaa.gov>
Message-ID: <401C2DA9-343C-49C5-8234-2E8CBE87BCDE@kyngchaos.com>

On Jul 7, 2008, at 1:38 PM, Christopher Barker wrote:

> William Kyngesburye wrote:
>> I have a complete set of binaries for PROJ, GEOS, GDAL and a few  
>> others in OSX "framework" form.
>
> I highly recommend these.
>
> William, would you consider having your Frameworks put links in to  
> the executables in /usr/local/bin ? That might be handy. Or maybe  
> link them all to one location in /Library/Frameworks, and then put  
> that in the PATH.
>
Actually, I used to have scripts on the GDAL disk image to do this for  
GDAL (one for binaries, one for python scripts).  For something like  
GDAL it seemed a bit fragile - binary names could change, and programs  
may be added, especially with the python scripts.  And there are a lot  
of them.  And I had to also mention them in the uninstall instructions.

A good compromise could be symlinks for the other frameworks, where  
there are only 1 or 2 programs, and adding only the GDAL framework to  
the PATH.

One thing I do, to avoid excessive /usr/local usage (needs sudo and  
it's hidden), is have a ~/bin and add that to my PATH, where I put  
random binaries and scripts.  Create the symlinks there.  (Note: the  
framework path can be simplified by removing Versions/Current/ - there  
is a Programs symlink at the framework's top level.)

Personally, probably since I don't have a Unix background, I don't  
mind adding stuff to my PATH.


I suppose I could reinstate the scripts, but make them put the  
symlinks in the current dir - so just cd to the dir where you want  
them, then run the script (and run it with sudo for /usr/local/bin).


-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

All generalizations are dangerous, even this one.




From enxmabm at nottingham.ac.uk  Tue Jul  8 00:42:59 2008
From: enxmabm at nottingham.ac.uk (Mohamed Mohamed)
Date: Tue, 8 Jul 2008 08:42:59 +0100
Subject: [Proj] how to convert between long-lat-depth coordinates to
	Cartisian coordinates
In-Reply-To: <961195.23300.qm@web39707.mail.mud.yahoo.com>
References: <F0FFAD0940A86C4B83ED724F06EC7600015587B8@VUIEXCH3.ad.nottingham.ac.uk>
	<961195.23300.qm@web39707.mail.mud.yahoo.com>
Message-ID: <F0FFAD0940A86C4B83ED724F06EC760001558895@VUIEXCH3.ad.nottingham.ac.uk>

Hi,

I am new user of Proj.

I need to convert data from longitudinal,latitudes and depth coordinates
to the Cartesian Coordinates. My data downloaded from USGS site with the
following feature 

The horizontal datum used is North American Datum of 1983.

The ellipsoid used is Geodetic Reference System 80.

The semi-major axis of the ellipsoid used is 6378137.000000.

The flattening of the ellipsoid used is 1/298.257222.

 

Also I have anther data mainly in North Africa, Egypt, lake Manzala
(31.75 - 32.25 E longitudinal and 31.00 - 31.5 N latitudes) and the
datum is WGS 84. this time I have the Cartesian coordinate and I need to
convert the data to the Longitudinal latitudes and depth coordinate.

 

what is the command to use?

 

thanks for help.

 

 

M A  Bek

malibec2005 at yahoo.com
Mob 00447912033240

SChEME Department
Faculty of Engineering
University of Nottingham
Nottingham (NG7 2RD) UK
Fax: 0044(0)115 951 4115



This message has been checked for viruses but the contents of an attachment
may still contain software viruses, which could damage your computer system:
you are advised to perform your own checks. Email communications with the
University of Nottingham may be monitored as permitted by UK legislation.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080708/94f02704/attachment.html>

From support.mn at elisanet.fi  Tue Jul  8 01:21:15 2008
From: support.mn at elisanet.fi (support.mn at elisanet.fi)
Date: Tue, 8 Jul 2008 11:21:15 +0300 (EEST)
Subject: [Proj] how to convert between long-lat-depth coordinates to
	Cartisian coordinates
Message-ID: <11998212.1317351215505276621.JavaMail.support.mn@elisanet.fi>

> I need to convert data from longitudinal,latitudes and depth coordinates
> to the Cartesian Coordinates. what is the command to use?
> 

Are you using proj-4 as a library or just wanting to convert some coordinate
data file to projected coordinates?

There is the "cs2cs", wihich can be used to convert coordinates

http://proj.maptools.org/man_cs2cs.html

Basicly what ever, just follow the documentation that was included in the
proj-4 package.

Regards: Janne



From sscott at locationinc.com  Wed Jul  9 10:52:23 2008
From: sscott at locationinc.com (Shannon Scott)
Date: Wed, 09 Jul 2008 13:52:23 -0400
Subject: [Proj] Distance measured in Mercator projection
Message-ID: <4874FAD7.7080605@locationinc.com>

Hello,
Please forgive my ignorance, I know very  little about map projections.  
I apologize if this list is not the appropriate place to post this question.
If I understand correctly, in the Mercator projection, 1 unit of space 
is equal to 1 meter at the equator.
As you move away from the equator, the longitudinal lines are stretched 
to make the lat and long intersect at 90 degree angles.
How would I calculate the length in meters of 1 unit of space in the 
Mercator projection at a specific latitude?
Any advice of pointers are appreciated.
Thank you.
Shannon




From strebe at aol.com  Wed Jul  9 13:21:00 2008
From: strebe at aol.com (strebe at aol.com)
Date: Wed, 09 Jul 2008 16:21:00 -0400
Subject: [Proj] Re: Distance measured in Mercator projection
In-Reply-To: <4874FAD7.7080605@locationinc.com>
References: <4874FAD7.7080605@locationinc.com>
Message-ID: <8CAB0186FE63BA1-F64-317C@webmail-nd07.sysops.aol.com>


 
If you assume a spherical earth, the length of a meter on the Mercator equatorial aspect is

1m / cos (phi)


 
where phi is the latitude and "cos" is the cosine function. Be careful to set the calculator to degrees or else to convert the latitude to radians. The calculation is more complicated on an ellipsoidal earth.

Regards,
-- daan Strebe



 

-----Original Message-----
From: Shannon Scott <sscott at locationinc.com>
To: Proj at lists.maptools.org
Sent: Wed, 9 Jul 2008 10:52 am
Subject: [Proj] Distance measured in Mercator projection









Hello,?

Please forgive my ignorance, I know very  little about map projections.  
I apologize if this list is not the appropriate place to post this question.?

If I understand correctly, in the Mercator projection, 1 unit of space 
is equal to 1 meter at the equator.?

As you move away from the equator, the longitudinal lines are stretched 
to make the lat and long intersect at 90 degree angles.?

How would I calculate the length in meters of 1 unit of space in the 
Mercator projection at a specific latitude??

Any advice of pointers are appreciated.?

Thank you.?

Shannon?
?


_______________________________________________?

Proj mailing list?

Proj at lists.maptools.org?

http://lists.maptools.org/mailman/listinfo/proj?



 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080709/d8082c69/attachment.html>

From ed at mcnierney.com  Wed Jul  9 13:45:53 2008
From: ed at mcnierney.com (Ed McNierney)
Date: Wed, 9 Jul 2008 16:45:53 -0400
Subject: [Proj] Re: Distance measured in Mercator projection
In-Reply-To: <8CAB0186FE63BA1-F64-317C@webmail-nd07.sysops.aol.com>
Message-ID: <C49A9BC1.235AD%ed@mcnierney.com>

Shannon -

Your question implies you are only interested in measuring east/west distances, and Daan's answer is helpful for that purpose.  But that answer ONLY applies to measuring a line that runs due east/west.  A line running north/south, of the same length on the Earth as the east/west one, would be a different length on a Mercator projection.  If you wish to measure an arbitrary line on a Mercator projection you need to also take into account the angle of that line to the Equator (as well as the latitude, and whether you're assuming a spherical Earth).

This is one of the many reasons Mercator projections are most useful to 17th-century mariners.

    - Ed

Ed McNierney
205 Indian Hill Road
Groton, MA  01450
ed at mcnierney.com
+1 (978) 761-0049



On 7/9/08 4:21 PM, "strebe at aol.com" <strebe at aol.com> wrote:


If you assume a spherical earth, the length of a meter on the Mercator equatorial aspect is

1m / cos (phi)

where phi is the latitude and "cos" is the cosine function. Be careful to set the calculator to degrees or else to convert the latitude to radians. The calculation is more complicated on an ellipsoidal earth.

Regards,
-- daan Strebe


-----Original Message-----
From: Shannon Scott <sscott at locationinc.com>
To: Proj at lists.maptools.org
Sent: Wed, 9 Jul 2008 10:52 am
Subject: [Proj] Distance measured in Mercator projection

Hello,
Please forgive my ignorance, I know very  little about map projections.  I apologize if this list is not the appropriate place to post this question.
If I understand correctly, in the Mercator projection, 1 unit of space is equal to 1 meter at the equator.
As you move away from the equator, the longitudinal lines are stretched to make the lat and long intersect at 90 degree angles.
How would I calculate the length in meters of 1 unit of space in the Mercator projection at a specific latitude?
Any advice of pointers are appreciated.
Thank you.
Shannon

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj

________________________________
The Famous, the Infamous, the Lame - in your browser. Get the TMZ Toolbar Now <http://toolbar.aol.com/tmz/download.html?NCID=aolcmp00050000000014> !

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080709/55c332ef/attachment.html>

From strebe at aol.com  Wed Jul  9 14:26:08 2008
From: strebe at aol.com (strebe at aol.com)
Date: Wed, 09 Jul 2008 17:26:08 -0400
Subject: [Proj] Re: Distance measured in Mercator projection
In-Reply-To: <C49A9BC1.235AD%ed@mcnierney.com>
Message-ID: <8CAB02188E058D1-F64-3779@webmail-nd07.sysops.aol.com>


 


 Not so. The Mercator is conformal. The scale factor is the same in all directions at any particular point. For any cylindric projection other than Mercator, you use the same formula with the caveat noted by Mr. McNierney. But on Mercator the scale factor applies in all directions.

Regards,
-- daan Strebe



 

-----Original Message-----
From: Ed McNierney <ed at mcnierney.com>
To: PROJ.4 and general Projections Discussions <proj at lists.maptools.org>
Sent: Wed, 9 Jul 2008 1:45 pm
Subject: Re: [Proj] Re: Distance measured in Mercator projection













Shannon -



Your question implies you are only interested in measuring east/west distances, and Daan’s answer is helpful for that purpose.  But that answer ONLY applies to measuring a line that runs due east/west.  A line running north/south, of the same length on the Earth as the east/west one, would be a different length on a Mercator projection.  If you wish to measure an arbitrary line on a Mercator projection you need to also take into account the angle of that line to the Equator (as well as the latitude, and whether you’re assuming a spherical Earth).



This is one of the many reasons Mercator projections are most useful to 17th-century mariners.



    - Ed



Ed McNierney

205 Indian Hill Road

Groton, MA  01450

ed at mcnierney.com

+1 (978) 761-0049







On 7/9/08 4:21 PM, "strebe at aol.com" <strebe at aol.com> wrote:




 

If you assume a spherical eart
h, the length of a meter on the Mercator equatorial aspect is



1m / cos (phi)

 

where phi is the latitude and "cos" is the cosine function. Be careful to set the calculator to degrees or else to convert the latitude to radians. The calculation is more complicated on an ellipsoidal earth.



Regards,

-- daan Strebe



 

-----Original Message-----

From: Shannon Scott <sscott at locationinc.com>

To: Proj at lists.maptools.org

Sent: Wed, 9 Jul 2008 10:52 am

Subject: [Proj] Distance measured in Mercator projection



Hello, 

Please forgive my ignorance, I know very  little about map projections.  I apologize if this list is not the appropriate place to post this question. 

If I understand correctly, in the Mercator projection, 1 unit of space is equal to 1 meter at the equator. 

As you move away from the equator, the longitudinal lines are stretched to make the lat and long intersect at 90 degree angles. 

How would I calculate the length in meters of 1 unit of space in the Mercator projection at a specific latitude? 

Any advice of pointers are appreciated. 

Thank you. 

Shannon 

 

_______________________________________________ 

Proj mailing list 

Proj at lists.maptools.org 

http://lists.maptools.org/mailman/listinfo/proj 

 



The Famous, the Infamous, the Lame - in your browser. Get the TMZ Toolbar Now <http://toolbar.aol.com/tmz/download.html?NCID=aolcmp00050000000014> ! 






 





_______________________________________________
Proj mailing list=0
AProj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj



 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080709/19ae5716/attachment.html>

From ed at mcnierney.com  Wed Jul  9 14:40:19 2008
From: ed at mcnierney.com (Ed McNierney)
Date: Wed, 9 Jul 2008 17:40:19 -0400
Subject: [Proj] Re: Distance measured in Mercator projection
In-Reply-To: <8CAB02188E058D1-F64-3779@webmail-nd07.sysops.aol.com>
Message-ID: <C49AA883.235C5%ed@mcnierney.com>

Daan -

I think I am beginning to have more frequent "senior moments".  I do not know what caused me to overlook that important point, and thanks VERY much for the prompt correction!  Perhaps I've just been avoiding Mercator for too long <g>.

    - Ed

Ed McNierney
205 Indian Hill Road
Groton, MA  01450
ed at mcnierney.com
+1 (978) 761-0049



On 7/9/08 5:26 PM, "strebe at aol.com" <strebe at aol.com> wrote:


 Not so. The Mercator is conformal. The scale factor is the same in all directions at any particular point. For any cylindric projection other than Mercator, you use the same formula with the caveat noted by Mr. McNierney. But on Mercator the scale factor applies in all directions.

Regards,
-- daan Strebe


-----Original Message-----
From: Ed McNierney <ed at mcnierney.com>
To: PROJ.4 and general Projections Discussions <proj at lists.maptools.org>
Sent: Wed, 9 Jul 2008 1:45 pm
Subject: Re: [Proj] Re: Distance measured in Mercator projection

Shannon -

Your question implies you are only interested in measuring east/west distances, and Daan's answer is helpful for that purpose.  But that answer ONLY applies to measuring a line that runs due east/west.  A line running north/south, of the same length on the Earth as the east/west one, would be a different length on a Mercator projection.  If you wish to measure an arbitrary line on a Mercator projection you need to also take into account the angle of that line to the Equator (as well as the latitude, and whether you're assuming a spherical Earth).

This is one of the many reasons Mercator projections are most useful to 17th-century mariners.
    - Ed

Ed McNierney
205 Indian Hill Road
Groton, MA  01450
ed at mcnierney.com
+1 (978) 761-0049



On 7/9/08 4:21 PM, "strebe at aol.com" <strebe at aol.com> wrote:


If you assume a spherical earth, the length of a meter on the Mercator equatorial aspect is

1m / cos (phi)

where phi is the latitude and "cos" is the cosine function. Be careful to set the calculator to degrees or else to convert the latitude to radians. The calculation is more complicated on an ellipsoidal earth.

Regards,
-- daan Strebe


-----Original Message-----
From: Shannon Scott <sscott at locationinc.com>
To: Proj at lists.maptools.org
Sent: Wed, 9 Jul 2008 10:52 am
Subject: [Proj] Distance measured in Mercator projection

Hello,
Please forgive my ignorance, I know very  little about map projections.  I apologize if this list is not the appropriate place to post this question.
If I understand correctly, in the Mercator projection, 1 unit of space is equal to 1 meter at the equator.
As you move away from the equator, the longitudinal lines are stretched to make the lat and long intersect at 90 degree angles.
How would I calculate the length in meters of 1 unit of space in the Mercator projection at a specific latitude?
Any advice of pointers are appreciated.
Thank you.
Shannon

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj

________________________________
The Famous, the Infamous, the Lame - in your browser. Get the TMZ Toolbar Now <http://toolbar.aol.com/tmz/download.html?NCID=aolcmp00050000000014> !


_______________________________________________

Proj mailing list

Proj at lists.maptools.org

http://lists.maptools.org/mailman/listinfo/proj

________________________________
The Famous, the Infamous, the Lame - in your browser. Get the TMZ Toolbar Now <http://toolbar.aol.com/tmz/download.html?NCID=aolcmp00050000000014> !

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080709/102c0ef5/attachment.html>

From Chris.Barker at noaa.gov  Wed Jul  9 14:53:15 2008
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Wed, 09 Jul 2008 14:53:15 -0700
Subject: [Proj] Re: Distance measured in Mercator projection
In-Reply-To: <8CAB02188E058D1-F64-3779@webmail-nd07.sysops.aol.com>
References: <8CAB02188E058D1-F64-3779@webmail-nd07.sysops.aol.com>
Message-ID: <4875334B.5030805@noaa.gov>

strebe at aol.com wrote:
> Not so. The Mercator is conformal. The scale factor is the same in all 
> directions at any particular point.

yes, but it does change with latitude, so if you are measuring between 
two points that are very different (by some definition of very) in 
latitude, then the scale varies over that distance. If you use the 
latitude of the center of the line, you'll get pretty close, though.

If you're measuring really long distances, you're better off using 
spherical (or ellipsoidal) geometry.

Also note that a straight line on a Mercator projection is not a great 
circle so, for long distances, you need to be clear about what you mean 
by distance!

And as a note, the Mercator projection is pretty handy for 21st century 
navigators, too!

-Chris


-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker at noaa.gov


From ed at mcnierney.com  Wed Jul  9 20:59:59 2008
From: ed at mcnierney.com (Ed McNierney)
Date: Wed, 9 Jul 2008 23:59:59 -0400
Subject: [Proj] Re: Distance measured in Mercator projection
In-Reply-To: <4875334B.5030805@noaa.gov>
Message-ID: <C49B017F.2361E%ed@mcnierney.com>

Shannon -

First, let me apologize for trying to respond (twice) when I was too rushed to do so properly.

Since you say you're not very familiar with map projections, it might be helpful for you to describe a little bit more about what you're trying to do.  Daan's and Chris's comments are both correct but could be confusing to a novice; the scale factor at a single point is the same in all directions for a Mercator projection, but strictly speaking only at that point.  If you have another point in a different place, the scale factor at that point will be different from the first unless they're at exactly the same latitude.  So if you're measuring the distance between two points at a non-trivial distance apart, a 500-mile line will, for example, change length on a Mercator map depending on its angle with the Equator.  What I was trying to say in my first, poorly-worded reply, is that the set of points that are all 500 miles from a center point on a Mercator map will NOT form a circle on that map.

If your question really is, "How can I measure the great circle distance between two points given their Mercator coordinates" then that's rather tricky.  And it will depend on how far apart those two points are, and how accurate you need your answer to be.

You will find incredibly talented professional expertise on this list, but it's hard for people to answer the question you didn't ask.  If you can describe - in general terms, rather than specific ones - what you're trying to do and what questions you're trying to answer, that will make it easier.  If there are constraints on your solution (e.g. "I have to use Mercator so please don't suggest an alternative projection that would make the math easier") let us know as well.  Thanks.

    - Ed

Ed McNierney
205 Indian Hill Road
Groton, MA  01450
ed at mcnierney.com
+1 (978) 761-0049
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080709/53cdaa48/attachment.html>

From sscott at locationinc.com  Thu Jul 10 04:02:14 2008
From: sscott at locationinc.com (Shannon Scott)
Date: Thu, 10 Jul 2008 07:02:14 -0400
Subject: [Proj] Re: Distance measured in Mercator projection
In-Reply-To: <C49B017F.2361E%ed@mcnierney.com>
References: <C49B017F.2361E%ed@mcnierney.com>
Message-ID: <4875EC36.3010700@locationinc.com>

Thank you all for your comments.
1m / cos (phi) was the formula I was looking for.

We have an application that maps data based on a search radius ( ie 5 
miles around Chicago ).
The maps show the search radius. We had been using UTM for the maps, so 
I was able to plot the search radius with this piece of code:
<snip>
// convert miles to meters
bufdist = (miles * 1609.344);

// create circle
for (double i=0;i<360;i+=5) {
deltax = (Math.cos(i) * bufdist);
deltay = (Math.sin(i) * bufdist);
pntx = (centerPntx + deltax);
pnty = (centerPnty + deltay);
// plot point
}
</snip>

The maps have been converted to work as a google map overlay, so we need 
to use the Mercator projection.
I have modified the way the search radius is calculated:
<snip>
// convert miles to meters
bufdist = (miles * (Math.abs(1609.344 * (1/Math.cos(latrad)))));
</snip>

and everything looks good.
Thanks again.
Shannon


Ed McNierney wrote:
> Shannon -
>
> First, let me apologize for trying to respond (twice) when I was too 
> rushed to do so properly.
>
> Since you say you’re not very familiar with map projections, it might 
> be helpful for you to describe a little bit more about what you’re 
> trying to do. Daan’s and Chris’s comments are both correct but could 
> be confusing to a novice; the scale factor at a single point is the 
> same in all directions for a Mercator projection, but strictly 
> speaking only at that point. If you have another point in a different 
> place, the scale factor at that point will be different from the first 
> unless they’re at exactly the same latitude. So if you’re measuring 
> the distance between two points at a non-trivial distance apart, a 
> 500-mile line will, for example, change length on a Mercator map 
> depending on its angle with the Equator. What I was trying to say in 
> my first, poorly-worded reply, is that the set of points that are all 
> 500 miles from a center point on a Mercator map will NOT form a circle 
> on that map.
>
> If your question really is, “How can I measure the great circle 
> distance between two points given their Mercator coordinates” then 
> that’s rather tricky. And it will depend on how far apart those two 
> points are, and how accurate you need your answer to be.
>
> You will find incredibly talented professional expertise on this list, 
> but it’s hard for people to answer the question you didn’t ask. If you 
> can describe – in general terms, rather than specific ones – what 
> you’re trying to do and what questions you’re trying to answer, that 
> will make it easier. If there are constraints on your solution (e.g. 
> “I have to use Mercator so please don’t suggest an alternative 
> projection that would make the math easier”) let us know as well. Thanks.
>
> - Ed
>
> Ed McNierney
> 205 Indian Hill Road
> Groton, MA 01450
> ed at mcnierney.com
> +1 (978) 761-0049
> ------------------------------------------------------------------------
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj



From ed at mcnierney.com  Thu Jul 10 06:42:55 2008
From: ed at mcnierney.com (Ed McNierney)
Date: Thu, 10 Jul 2008 09:42:55 -0400
Subject: [Proj] Re: Distance measured in Mercator projection
In-Reply-To: <4875EC36.3010700@locationinc.com>
Message-ID: <C49B8A1F.2369A%ed@mcnierney.com>

Shannon -

Thanks for the info and update.  I am often found on a soapbox bemoaning the way that Google is persuading many folks to build bad maps, and in some cases to take maps working well and make them work less well, but I'll stay off that soapbox today ;-)

If your application is primarily interested in circles and distances on the order of 5 miles or so (or even 50 miles) then the errors in your Mercator distance measurement are unlikely to be of much importance to you.  At the latitude of Chicago, the scale factor at a point 50 miles further north or south (that is, about a degree of latitude north or south of 42 degrees North) is less than 2% different than the scale factor at the center point.  It sounds like you're not trying to do high-precision measurement so that's probably just fine but you should be aware that going to greater distances (or moving much further North) will increase the error.

    - Ed

Ed McNierney
205 Indian Hill Road
Groton, MA  01450
ed at mcnierney.com
+1 (978) 761-0049



On 7/10/08 7:02 AM, "Shannon Scott" <sscott at locationinc.com> wrote:

Thank you all for your comments.
1m / cos (phi) was the formula I was looking for.

We have an application that maps data based on a search radius ( ie 5
miles around Chicago ).
The maps show the search radius. We had been using UTM for the maps, so
I was able to plot the search radius with this piece of code:
<snip>
// convert miles to meters
bufdist = (miles * 1609.344);

// create circle
for (double i=0;i<360;i+=5) {
deltax = (Math.cos(i) * bufdist);
deltay = (Math.sin(i) * bufdist);
pntx = (centerPntx + deltax);
pnty = (centerPnty + deltay);
// plot point
}
</snip>

The maps have been converted to work as a google map overlay, so we need
to use the Mercator projection.
I have modified the way the search radius is calculated:
<snip>
// convert miles to meters
bufdist = (miles * (Math.abs(1609.344 * (1/Math.cos(latrad)))));
</snip>

and everything looks good.
Thanks again.
Shannon


Ed McNierney wrote:
> Shannon -
>
> First, let me apologize for trying to respond (twice) when I was too
> rushed to do so properly.
>
> Since you say you're not very familiar with map projections, it might
> be helpful for you to describe a little bit more about what you're
> trying to do. Daan's and Chris's comments are both correct but could
> be confusing to a novice; the scale factor at a single point is the
> same in all directions for a Mercator projection, but strictly
> speaking only at that point. If you have another point in a different
> place, the scale factor at that point will be different from the first
> unless they're at exactly the same latitude. So if you're measuring
> the distance between two points at a non-trivial distance apart, a
> 500-mile line will, for example, change length on a Mercator map
> depending on its angle with the Equator. What I was trying to say in
> my first, poorly-worded reply, is that the set of points that are all
> 500 miles from a center point on a Mercator map will NOT form a circle
> on that map.
>
> If your question really is, "How can I measure the great circle
> distance between two points given their Mercator coordinates" then
> that's rather tricky. And it will depend on how far apart those two
> points are, and how accurate you need your answer to be.
>
> You will find incredibly talented professional expertise on this list,
> but it's hard for people to answer the question you didn't ask. If you
> can describe - in general terms, rather than specific ones - what
> you're trying to do and what questions you're trying to answer, that
> will make it easier. If there are constraints on your solution (e.g.
> "I have to use Mercator so please don't suggest an alternative
> projection that would make the math easier") let us know as well. Thanks.
>
> - Ed
>
> Ed McNierney
> 205 Indian Hill Road
> Groton, MA 01450
> ed at mcnierney.com
> +1 (978) 761-0049
> ------------------------------------------------------------------------
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080710/59648675/attachment.html>

From strebe at aol.com  Thu Jul 10 12:28:22 2008
From: strebe at aol.com (strebe at aol.com)
Date: Thu, 10 Jul 2008 15:28:22 -0400
Subject: [Proj] Re: Distance measured in Mercator projection
In-Reply-To: <4875EC36.3010700@locationinc.com>
References: <C49B017F.2361E%ed@mcnierney.com>
	<4875EC36.3010700@locationinc.com>
Message-ID: <8CAB0DA3FA9FA61-4D4-2306@webmail-nc09.sysops.aol.com>


 
Glad this works for you. Don't hesitate to ask for the more complicated formula if you need greater accuracy — the calculation you have will be off by a percent or two because it assumes a spherical earth.

Regards,
-- daan Strebe


 


 

-----Original Message-----
From: Shannon Scott <sscott at locationinc.com>
To: PROJ.4 and general Projections Discussions <proj at lists.maptools.org>
Sent: Thu, 10 Jul 2008 4:02 am
Subject: Re: [Proj] Re: Distance measured in Mercator projection









Thank you all for your comments. 

1m / cos (phi) was the formula I was looking for. 
 

We have an application that maps data based on a search radius ( ie 5 
miles around Chicago ). 

The maps show the search radius. We had been using UTM for the maps, so 
I was able to plot the search radius with this piece of code: 

<snip> 

// convert miles to meters 

bufdist = (miles * 1609.344); 
 

// create circle 

for (double i=0;i<360;i+=5) { 

deltax = (Math.cos(i) * bufdist); 

deltay = (Math.sin(i) * bufdist); 

pntx = (centerPntx + deltax); 

pnty = (centerPnty + deltay); 

// plot point 

} 

</snip> 
 

The maps have been converted to work as a google map overlay, so we need 
to use the Mercator projection. 

I have modified the way the search radius is calculated: 

<snip> 

// convert miles to meters 

bufdist = (miles * (Math.abs(1609.344 * (1/Math.cos(latrad))
))); 

</snip> 
 

and everything looks good. 

Thanks again. 

Shannon 
 


Ed McNierney wrote: 

> Shannon - 

> 

> First, let me apologize for trying to respond (twice) when I was too 
> rushed to do so properly. 

> 

> Since you say you’re not very familiar with map projections, it might 
> be helpful for you to describe a little bit more about what you’re 
> trying to do. Daan’s and Chris’s comments are both correct but could 
> be confusing to a novice; the scale factor at a single point is the 
> same in all directions for a Mercator projection, but strictly 
> speaking only at that point. If you have another point in a different 
> place, the scale factor at that point will be different from the first 
> unless they’re at exactly the same latitude. So if you’re measuring 
> the distance between two points at a non-trivial distance apart, a 
> 500-mile line will, for example, change length on a Mercator map 
> depending on its angle with the Equator. What I was trying to say in 
> my first, poorly-worded reply, is that the set of points that are all 
> 500 miles from a center point on a Mercator map will NOT form a circle 
> on that map. 

> 

> If your question really is, “How can I measure the great circle 
> distance between two points given their Mercator coordinates” then 
> that’s rather tricky. And it will depen
d on how far apart those two 
> points are, and how accurate you need your answer to be. 

> 

> You will find incredibly talented professional expertise on this list, 
> but it’s hard for people to answer the question you didn’t ask. If you 
> can describe – in general terms, rather than specific ones – what 
> you’re trying to do and what questions you’re trying to answer, that 
> will make it easier. If there are constraints on your solution (e.g. 
> “I have to use Mercator so please don’t suggest an alternative 
> projection that would make the math easier”) let us know as well. Thanks. 

> 

> - Ed 

> 

> Ed McNierney 

> 205 Indian Hill Road 

> Groton, MA 01450 

> ed at mcnierney.com 

> +1 (978) 761-0049 

> ------------------------------------------------------------------------ 

> 

> _______________________________________________ 

> Proj mailing list 

> Proj at lists.maptools.org 

> http://lists.maptools.org/mailman/listinfo/proj 
 

_______________________________________________ 

Proj mailing list 

Proj at lists.maptools.org 

http://lists.maptools.org/mailman/listinfo/proj 



 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080710/bb62859a/attachment.html>

From djb at mssl.ucl.ac.uk  Fri Jul 11 02:57:49 2008
From: djb at mssl.ucl.ac.uk (David James Brockley)
Date: Fri, 11 Jul 2008 10:57:49 +0100
Subject: [Proj] CEA from an ellipse and +R_A
Message-ID: <F83D8DD7-3BB2-46BF-A111-02A4651E36F2@mssl.ucl.ac.uk>

Hello

I'm trying to convert geodetic lon/lat into CEA xy using the proj API  
initialised with

+proj=cea +long_0=0 +ellps=WGS84 +R_A

What I expect to happen is

y = a * q / 2

where a is the authalic radius calculated from the semi-major of WGS84.

q/2 seems to be a common approximation to q/q_p which is sin 
( authalic latitude)


What actually happens is that proj uses the equation for a sphere  
rather than an ellipse.

y = a sin( phi )

I can get proj to do what I expect by initialising with

+proj=cea +long_0=0 +a=6371007 +e=0.0818191

but that seems somewhat back to front.


Can anyone tell me the correct way to configure proj for what I am  
trying to do?

I'm fairly sure that my expected function for y is correct, since  
I've both copied it from the literature and derived it by hand from  
the spherical case by substituting authalic radius for radius and  
authalic latitude for latitude - I've also realised that the /2 is  
due to the maximum possible value of q_p being 2 when e=0, and that  
it doesn't affect the properties of the transform (still equal area).

Regards, Brock


From geraldi.evenden at gmail.com  Fri Jul 11 09:56:01 2008
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Fri, 11 Jul 2008 12:56:01 -0400
Subject: [Proj] CEA from an ellipse and +R_A
In-Reply-To: <F83D8DD7-3BB2-46BF-A111-02A4651E36F2@mssl.ucl.ac.uk>
References: <F83D8DD7-3BB2-46BF-A111-02A4651E36F2@mssl.ucl.ac.uk>
Message-ID: <200807111256.01708.geraldi.evenden@gmail.com>

On Friday 11 July 2008 5:57:49 am David James Brockley wrote:
> Hello
>
> I'm trying to convert geodetic lon/lat into CEA xy using the proj API
> initialised with
>
> +proj=cea +long_0=0 +ellps=WGS84 +R_A
>
> What I expect to happen is
>
> y = a * q / 2
>
> where a is the authalic radius calculated from the semi-major of WGS84.
>
> q/2 seems to be a common approximation to q/q_p which is sin
> ( authalic latitude)
>
>
> What actually happens is that proj uses the equation for a sphere
> rather than an ellipse.

That is exactly what is supposed to happen as implied with the capital R in 
option's acronym,  The R in this case is based upon a sphere of surface area 
equal to the ellipse selected.  *All* of rhe R_* option series create radii 
to be used with the spherical earth projection formulas.

Quite frankly, I do not understand what you are trying to do and your 
operations do not make sense to me.  Authalic projections are based upon the 
math of the transformation and not on simple manipulation of the elliptic 
elements.

> y = a sin( phi )
>
> I can get proj to do what I expect by initialising with
>
> +proj=cea +long_0=0 +a=6371007 +e=0.0818191
>
> but that seems somewhat back to front.
>
>
> Can anyone tell me the correct way to configure proj for what I am
> trying to do?
>
> I'm fairly sure that my expected function for y is correct, since
> I've both copied it from the literature and derived it by hand from
> the spherical case by substituting authalic radius for radius and
> authalic latitude for latitude - I've also realised that the /2 is
> due to the maximum possible value of q_p being 2 when e=0, and that
> it doesn't affect the properties of the transform (still equal area).
>
> Regards, Brock
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj



-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist


From djb at mssl.ucl.ac.uk  Mon Jul 14 02:09:03 2008
From: djb at mssl.ucl.ac.uk (David James Brockley)
Date: Mon, 14 Jul 2008 10:09:03 +0100
Subject: [Proj] CEA from an ellipse and +R_A
In-Reply-To: <200807111256.01708.geraldi.evenden@gmail.com>
References: <F83D8DD7-3BB2-46BF-A111-02A4651E36F2@mssl.ucl.ac.uk>
	<200807111256.01708.geraldi.evenden@gmail.com>
Message-ID: <07D59427-E489-4B0B-B6A1-46FF31CB940C@mssl.ucl.ac.uk>

Hi Gerald

Thanks for the frank reply. I'm new at map projections!

What I want to do is : call pj_fwd() with a pair of geodetic  
coordinates on the WGS84 ellipsoid, have the latitude transformed to  
authalic latitude, and get XY in cylindrical equal area with a radius  
equal to the authalic radius for WGS84. As far as I can see from the  
books, this is the normal way to convert from WGS84 lon/lat to  CEA x/ 
y. Please correct me if I'm hopelessly confused already by this stage.

As I understand it, the Authalic sphere is an intermediate step  
between a reference ellipsoid (in my case WGS84) and a map projection  
(cylindrical equal area). It allows one to project from the ellipsoid  
and causes the result to still be equal area, but you have to replace  
geodetic latitude with authalic latitude.

 From Map Projections: Theory and Application p102

R^2_A = a^2(1-e^2)( 1 + 2e^2/3 + 3e^4/5 + ... )

and

sin phi_a = sin phi ( ( 1 + 2e^2 sin phi / 3 + ... ) / ( 1 + 2e^2/3  
+ ... )

So, given a reference ellipsoid with known a, proj works out R_A -  
this works and is as I expected.

What I would now expect is for proj to take the input Geodetic  
latitude and convert it internally into an Authalic latitude before  
doing the coordinate transform i.e.

y = R_A * sin( phi_a ) / k

but what actually happens (tracing with GDB) is

y = R_A * sin( phi ) / k

This is when I initialise with +R_A

Is the convention that when using +R_A you have to do the conversion  
to Authalic latitude outside of proj?

I can see from PJ_cea.c that for the spheroidal case, pj_qsfn() and  
pj_authlat() are used to handle the conversion to and from authalic  
latitude, but in this case proj is using WGS84 a for the radius, not  
R_A. (If I initialise with +proj=cea +long_0=0 +ellps=WGS84)

When I initialise with +R_A, I get the radius I want, but the  
projection switches to using the spherical code so the transformation  
to authalic latitude doesn't happen.

Hope this helps explain my confusion. Thanks for your help.

Brock

On 11 Jul 2008, at 17:56, Gerald I. Evenden wrote:

> On Friday 11 July 2008 5:57:49 am David James Brockley wrote:
>> Hello
>>
>> I'm trying to convert geodetic lon/lat into CEA xy using the proj API
>> initialised with
>>
>> +proj=cea +long_0=0 +ellps=WGS84 +R_A
>>
>> What I expect to happen is
>>
>> y = a * q / 2
>>
>> where a is the authalic radius calculated from the semi-major of  
>> WGS84.
>>
>> q/2 seems to be a common approximation to q/q_p which is sin
>> ( authalic latitude)
>>
>>
>> What actually happens is that proj uses the equation for a sphere
>> rather than an ellipse.
>
> That is exactly what is supposed to happen as implied with the  
> capital R in
> option's acronym,  The R in this case is based upon a sphere of  
> surface area
> equal to the ellipse selected.  *All* of rhe R_* option series  
> create radii
> to be used with the spherical earth projection formulas.
>
> Quite frankly, I do not understand what you are trying to do and your
> operations do not make sense to me.  Authalic projections are based  
> upon the
> math of the transformation and not on simple manipulation of the  
> elliptic
> elements.
>
>> y = a sin( phi )
>>
>> I can get proj to do what I expect by initialising with
>>
>> +proj=cea +long_0=0 +a=6371007 +e=0.0818191
>>
>> but that seems somewhat back to front.
>>
>>
>> Can anyone tell me the correct way to configure proj for what I am
>> trying to do?
>>
>> I'm fairly sure that my expected function for y is correct, since
>> I've both copied it from the literature and derived it by hand from
>> the spherical case by substituting authalic radius for radius and
>> authalic latitude for latitude - I've also realised that the /2 is
>> due to the maximum possible value of q_p being 2 when e=0, and that
>> it doesn't affect the properties of the transform (still equal area).
>>
>> Regards, Brock
>> _______________________________________________
>> Proj mailing list
>> Proj at lists.maptools.org
>> http://lists.maptools.org/mailman/listinfo/proj
>
>
>
> -- 
> The whole religious complexion of the modern world is due
> to the absence from Jerusalem of a lunatic asylum.
> -- Havelock Ellis (1859-1939) British psychologist
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj



From djb at mssl.ucl.ac.uk  Tue Jul 15 01:14:15 2008
From: djb at mssl.ucl.ac.uk (David James Brockley)
Date: Tue, 15 Jul 2008 09:14:15 +0100
Subject: [Proj] CEA from an ellipse and +R_A
In-Reply-To: <200807141325.50752.geraldi.evenden@gmail.com>
References: <F83D8DD7-3BB2-46BF-A111-02A4651E36F2@mssl.ucl.ac.uk>
	<200807111256.01708.geraldi.evenden@gmail.com>
	<07D59427-E489-4B0B-B6A1-46FF31CB940C@mssl.ucl.ac.uk>
	<200807141325.50752.geraldi.evenden@gmail.com>
Message-ID: <697D8F18-0EE9-4753-B078-C195DFCAA507@mssl.ucl.ac.uk>

Hi Gerald,

Yes, that is what I would have expected, but:

msslm4:/Volumes/Space/Slope2 djb$ /usr/local/bin/proj +proj=cea  
+ellps=WGS84
0 10
0.00    1100285.57

so y=1100285.57

from y = r * q / 2

Calculating q for 10 degrees gives

q = 0.345018

rearranging to give r

r = 2 y / q

solving

r = 6378134m

so the calculation has used the Authalic latitude, but not the  
Authalic radius of 6371007m. If we configure proj with +R_A to get  
the authalic radius, we use the spherical equations rather than the  
ellipsoidal - so no conversion to Authalic latitude.

I guess that since it is a linear scaling, and since the calculation  
is already using q / 2 rather than q / q_p which results in another  
linear scaling, it doesn't really matter but it certainly confused me  
while trying to compare the results of proj against the derivation of  
the equations in the books. I'd coded up the equations from the book  
and was trying to use proj as a method of verifying my implementation  
to be correct.

Thanks for your help. I've posted this to the list so that it gets  
archived and hopefully helps anyone suffering the same confusion as  
me in the future.

Regards, David

On 14 Jul 2008, at 18:25, Gerald I. Evenden wrote:

> On Monday 14 July 2008 5:09:03 am you wrote:
>> Hi Gerald
>>
>> Thanks for the frank reply. I'm new at map projections!
>>
>> What I want to do is : call pj_fwd() with a pair of geodetic
>> coordinates on the WGS84 ellipsoid, have the latitude transformed to
>> authalic latitude, and get XY in cylindrical equal area with a radius
>> equal to the authalic radius for WGS84. As far as I can see from the
>> books, this is the normal way to convert from WGS84 lon/lat to   
>> CEA x/
>> y. Please correct me if I'm hopelessly confused already by this  
>> stage.
>
> As far as I can figure out all you need to do is:
>
> lproj +proj=cea +ellps=WGS84
>
> the x-y coming out are determined with authalic latitude.  cea  
> operates in
> both spherical and elliptical mode.
>
>> As I understand it, the Authalic sphere is an intermediate step
>> between a reference ellipsoid (in my case WGS84) and a map projection
>> (cylindrical equal area). It allows one to project from the ellipsoid
>> and causes the result to still be equal area, but you have to replace
>> geodetic latitude with authalic latitude.
>>
>>  From Map Projections: Theory and Application p102
>>
>> R^2_A = a^2(1-e^2)( 1 + 2e^2/3 + 3e^4/5 + ... )
>>
>> and
>>
>> sin phi_a = sin phi ( ( 1 + 2e^2 sin phi / 3 + ... ) / ( 1 + 2e^2/3
>> + ... )
>>
>> So, given a reference ellipsoid with known a, proj works out R_A -
>> this works and is as I expected.
>>
>> What I would now expect is for proj to take the input Geodetic
>> latitude and convert it internally into an Authalic latitude before
>> doing the coordinate transform i.e.
>>
>> y = R_A * sin( phi_a ) / k
>>
>> but what actually happens (tracing with GDB) is
>>
>> y = R_A * sin( phi ) / k
>>
>> This is when I initialise with +R_A
>>
>> Is the convention that when using +R_A you have to do the conversion
>> to Authalic latitude outside of proj?
>>
>> I can see from PJ_cea.c that for the spheroidal case, pj_qsfn() and
>> pj_authlat() are used to handle the conversion to and from authalic
>> latitude, but in this case proj is using WGS84 a for the radius, not
>> R_A. (If I initialise with +proj=cea +long_0=0 +ellps=WGS84)
>>
>> When I initialise with +R_A, I get the radius I want, but the
>> projection switches to using the spherical code so the transformation
>> to authalic latitude doesn't happen.
>>
>> Hope this helps explain my confusion. Thanks for your help.
>>
>> Brock
>>
>> On 11 Jul 2008, at 17:56, Gerald I. Evenden wrote:
>>> On Friday 11 July 2008 5:57:49 am David James Brockley wrote:
>>>> Hello
>>>>
>>>> I'm trying to convert geodetic lon/lat into CEA xy using the  
>>>> proj API
>>>> initialised with
>>>>
>>>> +proj=cea +long_0=0 +ellps=WGS84 +R_A
>>>>
>>>> What I expect to happen is
>>>>
>>>> y = a * q / 2
>>>>
>>>> where a is the authalic radius calculated from the semi-major of
>>>> WGS84.
>>>>
>>>> q/2 seems to be a common approximation to q/q_p which is sin
>>>> ( authalic latitude)
>>>>
>>>>
>>>> What actually happens is that proj uses the equation for a sphere
>>>> rather than an ellipse.
>>>
>>> That is exactly what is supposed to happen as implied with the
>>> capital R in
>>> option's acronym,  The R in this case is based upon a sphere of
>>> surface area
>>> equal to the ellipse selected.  *All* of rhe R_* option series
>>> create radii
>>> to be used with the spherical earth projection formulas.
>>>
>>> Quite frankly, I do not understand what you are trying to do and  
>>> your
>>> operations do not make sense to me.  Authalic projections are based
>>> upon the
>>> math of the transformation and not on simple manipulation of the
>>> elliptic
>>> elements.
>>>
>>>> y = a sin( phi )
>>>>
>>>> I can get proj to do what I expect by initialising with
>>>>
>>>> +proj=cea +long_0=0 +a=6371007 +e=0.0818191
>>>>
>>>> but that seems somewhat back to front.
>>>>
>>>>
>>>> Can anyone tell me the correct way to configure proj for what I am
>>>> trying to do?
>>>>
>>>> I'm fairly sure that my expected function for y is correct, since
>>>> I've both copied it from the literature and derived it by hand from
>>>> the spherical case by substituting authalic radius for radius and
>>>> authalic latitude for latitude - I've also realised that the /2 is
>>>> due to the maximum possible value of q_p being 2 when e=0, and that
>>>> it doesn't affect the properties of the transform (still equal  
>>>> area).
>>>>
>>>> Regards, Brock
>>>> _______________________________________________
>>>> Proj mailing list
>>>> Proj at lists.maptools.org
>>>> http://lists.maptools.org/mailman/listinfo/proj
>>>
>>> --
>>> The whole religious complexion of the modern world is due
>>> to the absence from Jerusalem of a lunatic asylum.
>>> -- Havelock Ellis (1859-1939) British psychologist
>>> _______________________________________________
>>> Proj mailing list
>>> Proj at lists.maptools.org
>>> http://lists.maptools.org/mailman/listinfo/proj
>
>
>
> -- 
> The whole religious complexion of the modern world is due
> to the absence from Jerusalem of a lunatic asylum.
> -- Havelock Ellis (1859-1939) British psychologist



From strebe at aol.com  Tue Jul 15 15:36:25 2008
From: strebe at aol.com (strebe)
Date: Tue, 15 Jul 2008 15:36:25 -0700
Subject: [Proj] Full ellipsoidal transverse Mercator image
Message-ID: <3B4DC3FE.95E2.42A5.B9E0.3E1CA77649F4@aol.com>


For those interested, I posted a color image of the ellipsoidal 
transverse Mercator, full globe, on the Wikipedia "Transverse Mercator 
projection" entry:

http://en.wikipedia.org/wiki/Transverse_Mercator_projection

I released the images into the public domain. Feel free to use and 
abuse.

Regards,
-- daan Strebe

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080715/e8c025e7/attachment.html>

From sscott at locationinc.com  Wed Jul 16 03:53:25 2008
From: sscott at locationinc.com (Shannon Scott)
Date: Wed, 16 Jul 2008 06:53:25 -0400
Subject: [Proj] Re: Distance measured in Mercator projection
In-Reply-To: <8CAB0DA3FA9FA61-4D4-2306@webmail-nc09.sysops.aol.com>
References: <C49B017F.2361E%ed@mcnierney.com>	<4875EC36.3010700@locationinc.com>
	<8CAB0DA3FA9FA61-4D4-2306@webmail-nc09.sysops.aol.com>
Message-ID: <487DD325.3010702@locationinc.com>

Daan,
What I have now seems to be working, but I would like to see the more 
complicated formula. 
I will use it if I can get it into the code I have.
Thank you.
Shannon
 
strebe at aol.com wrote:
>
> Glad this works for you. Don't hesitate to ask for the more 
> complicated formula if you need greater accuracy — the calculation you 
> have will be off by a percent or two because it assumes a spherical earth.
>
> Regards,
> -- daan Strebe
>
>
> -----Original Message-----
> From: Shannon Scott <sscott at locationinc.com>
> To: PROJ.4 and general Projections Discussions <proj at lists.maptools.org>
> Sent: Thu, 10 Jul 2008 4:02 am
> Subject: Re: [Proj] Re: Distance measured in Mercator projection
>
> Thank you all for your comments. 
> 1m / cos (phi) was the formula I was looking for. 
>  
> We have an application that maps data based on a search radius ( ie 5 
> miles around Chicago ). 
> The maps show the search radius. We had been using UTM for the maps, 
> so I was able to plot the search radius with this piece of code: 
> <snip> 
> // convert miles to meters 
> bufdist = (miles * 1609.344); 
>  
> // create circle 
> for (double i=0;i<360;i+=5) { 
> deltax = (Math.cos(i) * bufdist); 
> deltay = (Math.sin(i) * bufdist); 
> pntx = (centerPntx + deltax); 
> pnty = (centerPnty + deltay); < br> // plot point 
> } 
> </snip> 
>  
> The maps have been converted to work as a google map overlay, so we 
> need to use the Mercator projection. 
> I have modified the way the search radius is calculated: 
> <snip> 
> // convert miles to meters 
> bufdist = (miles * (Math.abs(1609.344 * (1/Math.cos(latrad))))); 
> </snip> 
>  
> and everything looks good. 
> Thanks again. 
> Shannon 
>  
> Ed McNierney wrote: 
> > Shannon - 
> > 
> > First, let me apologize for trying to respond (twice) when I was too 
> > rushed to do so properly. 
> > 
> > Since you say you’re not very familiar with map projections, it 
> might > be helpful for you to describe a little bit more about what 
> you’re > trying to do. Daan’s and Chris’s comments are both correct 
> but could > be confusing to a novice; the scale factor at a single 
> point is the > same in all directions for a Mercator projection, but 
> strictly > speaking only at that point. If you have another point in a 
> different > place, the scale factor at that point will be different 
> from the first > unless they’re at exactly the same latitude. So if 
> you’re measuring > the distance between two points at a non-trivial 
> distance apart, a > 500-mile line will, for example, change length on 
> a Mercator map > depending on=2 0its angle with the Equator. What I 
> was trying to say in > my first, poorly-worded reply, is that the set 
> of points that are all > 500 miles from a center point on a Mercator 
> map will NOT form a circle > on that map. 
> > 
> > If your question really is, “How can I measure the great circle > 
> distance between two points given their Mercator coordinates” then > 
> that’s rather tricky. And it will depend on how far apart those two > 
> points are, and how accurate you need your answer to be. 
> > 
> > You will find incredibly talented professional expertise on this 
> list, > but it’s hard for people to answer the question you didn’t 
> ask. If you > can describe – in general terms, rather than specific 
> ones – what > you’re trying to do and what questions you’re trying to 
> answer, that > will make it easier. If there are constraints on your 
> solution (e.g. > “I have to use Mercator so please don’t suggest an 
> alternative > projection that would make the math easier”) let us know 
> as well. Thanks. 
> > 
> > - Ed 
> > 
> > Ed McNierney 
> > 205 Indian Hill Road 
> > Groton, MA 01450 
> > ed at mcnierney.com <mailto:ed at mcnierney.com> 
> > +1 (978) 761-0049 
> > 
> ------------------------------------------------------------------------ 
> > 
> >=2 0_______________________________________________ 
> > Proj mailing list 
> > Proj at lists.maptools.org <mailto:Proj at lists.maptools.org> 
> > http://lists.maptools.org/mailman/listinfo/proj 
>  
> _______________________________________________ 
> Proj mailing list 
> Proj at lists.maptools.org <mailto:Proj at lists.maptools.org> 
> http://lists.maptools.org/mailman/listinfo/proj 
> ------------------------------------------------------------------------
> The Famous, the Infamous, the Lame - in your browser. Get the TMZ 
> Toolbar Now 
> <http://toolbar.aol.com/tmz/download.html?NCID=aolcmp00050000000014>!
> ------------------------------------------------------------------------
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj



From strebe at aol.com  Wed Jul 16 11:39:29 2008
From: strebe at aol.com (strebe)
Date: Wed, 16 Jul 2008 11:39:29 -0700
Subject: [Proj] Re: Distance measured in Mercator projection
In-Reply-To: <487DD325.3010702@locationinc.com>
Message-ID: <6B8A16ED.65BF.45F3.A880.FE1C6EFAB4F1@aol.com>


Shannon,

The scale factor in any direction at a given point on the ellipsoidal equatorial Mercator is:

h = √(1 - e^2 x sin^2 (phi)) / cos (phi)

where √ is the square root of the expression; e is the eccentricity of the ellipsoid (0.0 for WGS84); ^2 means the square of the expression; and other symbols and semantics as given before.

Therefore you would multiply 1m x h to find the map distance of one meter at full scale. As you can see, this is the same as the original expression but just multiplied by the factor that adjusts for the eccentricity.

Don't hesitate to ask for clarification if you need it. Good luck.

Regards,
-- daan Strebe


On Jul 16, 2008, at 3:53:25 AM, "Shannon Scott" <sscott at locationinc.com> wrote:
From:   "Shannon Scott" <sscott at locationinc.com>
Subject:    [Proj] Re: Distance measured in Mercator projection
Date:   July 16, 2008 3:53:25 AM PDT
To: "PROJ.4 and general Projections Discussions" <proj at lists.maptools.org>
Daan,
What I have now seems to be working, but I would like to see the more 
complicated formula. 
I will use it if I can get it into the code I have.
Thank you.
Shannon

strebe at aol.com wrote:
>
> Glad this works for you. Don't hesitate to ask for the more 
> complicated formula if you need greater accuracy — the calculation you 
> have will be off by a percent or two because it assumes a spherical earth.
>
> Regards,
> -- daan Strebe
>
>
> -----Original Message-----
> From: Shannon Scott <sscott at locationinc.com>
> To: PROJ.4 and general Projections Discussions <proj at lists.maptools.org>
> Sent: Thu, 10 Jul 2008 4:02 am
> Subject: Re: [Proj] Re: Distance measured in Mercator projection
>
> Thank you all for your comments. 
> 1m / cos (phi) was the formula I was looking for. 
> 
> We have an application that maps data based on a search radius ( ie 5 
> miles around Chicago ). 
> The maps show the search radius. We had been using UTM for the maps, 
> so I was able to plot the search radius with this piece of code: 
> <snip> 
> // convert miles to meters 
> bufdist = (miles * 1609.344); 
> 
> // create circle 
> for (double i=0;i<360;i+=5) { 
> deltax = (Math.cos(i) * bufdist); 
> deltay = (Math.sin(i) * bufdist); 
> pntx = (centerPntx + deltax); 
> pnty = (centerPnty + deltay); < br> // plot point 
> } 
> </snip> 
> 
> The maps have been converted to work as a google map overlay, so we 
> need to use the Mercator projection. 
> I have modified the way the search radius is calculated: 
> <snip> 
> // convert miles to meters 
> bufdist = (miles * (Math.abs(1609.344 * (1/Math.cos(latrad))))); 
> </snip> 
> 
> and everything looks good. 
> Thanks again. 
> Shannon 
> 
> Ed McNierney wrote: 
> > Shannon - 
> > 
> > First, let me apologize for trying to respond (twice) when I was too 
> > rushed to do so properly. 
> > 
> > Since you say you’re not very familiar with map projections, it 
> might > be helpful for you to describe a little bit more about what 
> you’re > trying to do. Daan’s and Chris’s comments are both correct 
> but could > be confusing to a novice; the scale factor at a single 
> point is the > same in all directions for a Mercator projection, but 
> strictly > speaking only at that point. If you have another point in a 
> different > place, the scale factor at that point will be different 
> from the first > unless they’re at exactly the same latitude. So if 
> you’re measuring > the distance between two points at a non-trivial 
> distance apart, a > 500-mile line will, for example, change length on 
> a Mercator map > depending on=2 0its angle with the Equator. What I 
> was trying to say in > my first, poorly-worded reply, is that the set 
> of points that are all > 500 miles from a center point on a Mercator 
> map will NOT form a circle > on that map. 
> > 
> > If your question really is, “How can I measure the great circle > 
> distance between two points given their Mercator coordinates” then > 
> that’s rather tricky. And it will depend on how far apart those two > 
> points are, and how accurate you need your answer to be. 
> > 
> > You will find incredibly talented professional expertise on this 
> list, > but it’s hard for people to answer the question you didn’t 
> ask. If you > can describe – in general terms, rather than specific 
> ones – what > you’re trying to do and what questions you’re trying to 
> answer, that > will make it easier. If there are constraints on your 
> solution (e.g. > “I have to use Mercator so please don’t suggest an 
> alternative > projection that would make the math easier”) let us know 
> as well. Thanks. 
> > 
> > - Ed 
> > 
> > Ed McNierney 
> > 205 Indian Hill Road 
> > Groton, MA 01450 
> > ed at mcnierney.com <mailto:ed at mcnierney.com> 
> > +1 (978) 761-0049 
> > 
> ------------------------------------------------------------------------ 
> > 
> >=2 0_______________________________________________ 
> > Proj mailing list 
> > Proj at lists.maptools.org <mailto:Proj at lists.maptools.org> 
> > http://lists.maptools.org/mailman/listinfo/proj 
> 
> _______________________________________________ 
> Proj mailing list 
> Proj at lists.maptools.org <mailto:Proj at lists.maptools.org> 
> http://lists.maptools.org/mailman/listinfo/proj 
> ------------------------------------------------------------------------
> The Famous, the Infamous, the Lame - in your browser. Get the TMZ 
> Toolbar Now 
> <http://toolbar.aol.com/tmz/download.html?NCID=aolcmp00050000000014>!
> ------------------------------------------------------------------------
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080716/86e76761/attachment.html>

From cjmce at lsu.edu  Wed Jul 16 11:44:02 2008
From: cjmce at lsu.edu (Clifford J Mugnier)
Date: Wed, 16 Jul 2008 13:44:02 -0500
Subject: [Proj] Re: Distance measured in Mercator projection
References: <6B8A16ED.65BF.45F3.A880.FE1C6EFAB4F1@aol.com>
Message-ID: <B597ADFC46B67741B18EA6AA13613FF7EC2356@email002.lsu.edu>

I'd suggest something other than zero for the eccentricity of the WGS84 ellipsoid.  Say, e squared being 0.00669437999013, more or less ...
 
Cliff Mugnier
LOUISIANA STATE UNIVERSITY

________________________________

From: proj-bounces at lists.maptools.org on behalf of strebe
Sent: Wed 16-Jul-08 13:39
To: PROJ.4 and general Projections Discussions
Subject: [Proj] Re: Distance measured in Mercator projection



Shannon,

The scale factor in any direction at a given point on the ellipsoidal equatorial Mercator is:

h = ?(1 - e^2 x sin^2 (phi)) / cos (phi)

where ? is the square root of the expression; e is the eccentricity of the ellipsoid (0.0 for WGS84); ^2 means the square of the expression; and other symbols and semantics as given before.


Therefore you would multiply 1m x h to find the map distance of one meter at full scale. As you can see, this is the same as the original expression but just multiplied by the factor that adjusts for the eccentricity.

Don't hesitate to ask for clarification if you need it. Good luck.

Regards,
-- daan Strebe


On Jul 16, 2008, at 3:53:25 AM, "Shannon Scott" <sscott at locationinc.com> wrote:


	
From:	 "Shannon Scott" <sscott at locationinc.com>	
Subject:	 [Proj] Re: Distance measured in Mercator projection	
Date:	 July 16, 2008 3:53:25 AM PDT	
To:	 "PROJ.4 and general Projections Discussions" <proj at lists.maptools.org>	
	Daan,
	What I have now seems to be working, but I would like to see the more 
	complicated formula. 
	I will use it if I can get it into the code I have.
	Thank you.
	Shannon
	
	strebe at aol.com wrote:
	>
	> Glad this works for you. Don't hesitate to ask for the more 
	> complicated formula if you need greater accuracy - the calculation you 
	> have will be off by a percent or two because it assumes a spherical earth.
	>
	> Regards,
	> -- daan Strebe
	>
	>
	> -----Original Message-----
	> From: Shannon Scott <sscott at locationinc.com>
	> To: PROJ.4 and general Projections Discussions <proj at lists.maptools.org>
	> Sent: Thu, 10 Jul 2008 4:02 am
	> Subject: Re: [Proj] Re: Distance measured in Mercator projection
	>
	> Thank you all for your comments. 
	> 1m / cos (phi) was the formula I was looking for. 
	> 
	> We have an application that maps data based on a search radius ( ie 5 
	> miles around Chicago ). 
	> The maps show the search radius. We had been using UTM for the maps, 
	> so I was able to plot the search radius with this piece of code: 
	> <snip> 
	> // convert miles to meters 
	> bufdist = (miles * 1609.344); 
	> 
	> // create circle 
	> for (double i=0;i<360;i+=5) { 
	> deltax = (Math.cos(i) * bufdist); 
	> deltay = (Math.sin(i) * bufdist); 
	> pntx = (centerPntx + deltax); 
	> pnty = (centerPnty + deltay); < br> // plot point 
	> } 
	> </snip> 
	> 
	> The maps have been converted to work as a google map overlay, so we 
	> need to use the Mercator projection. 
	> I have modified the way the search radius is calculated: 
	> <snip> 
	> // convert miles to meters 
	> bufdist = (miles * (Math.abs(1609.344 * (1/Math.cos(latrad))))); 
	> </snip> 
	> 
	> and everything looks good. 
	> Thanks again. 
	> Shannon 
	> 
	> Ed McNierney wrote: 
	> > Shannon - 
	> > 
	> > First, let me apologize for trying to respond (twice) when I was too 
	> > rushed to do so properly. 
	> > 
	> > Since you say you're not very familiar with map projections, it 
	> might > be helpful for you to describe a little bit more about what 
	> you're > trying to do. Daan's and Chris's comments are both correct 
	> but could > be confusing to a novice; the scale factor at a single 
	> point is the > same in all directions for a Mercator projection, but 
	> strictly > speaking only at that point. If you have another point in a 
	> different > place, the scale factor at that point will be different 
	> from the first > unless they're at exactly the same latitude. So if 
	> you're measuring > the distance between two points at a non-trivial 
	> distance apart, a > 500-mile line will, for example, change length on 
	> a Mercator map > depending on=2 0its angle with the Equator. What I 
	> was trying to say in > my first, poorly-worded reply, is that the set 
	> of points that are all > 500 miles from a center point on a Mercator 
	> map will NOT form a circle > on that map. 
	> > 
	> > If your question really is, "How can I measure the great circle > 
	> distance between two points given their Mercator coordinates" then > 
	> that's rather tricky. And it will depend on how far apart those two > 
	> points are, and how accurate you need your answer to be. 
	> > 
	> > You will find incredibly talented professional expertise on this 
	> list, > but it's hard for people to answer the question you didn't 
	> ask. If you > can describe - in general terms, rather than specific 
	> ones - what > you're trying to do and what questions you're trying to 
	> answer, that > will make it easier. If there are constraints on your 
	> solution (e.g. > "I have to use Mercator so please don't suggest an 
	> alternative > projection that would make the math easier") let us know 
	> as well. Thanks. 
	> > 
	> > - Ed 
	> > 
	> > Ed McNierney 
	> > 205 Indian Hill Road 
	> > Groton, MA 01450 
	> > ed at mcnierney.com <mailto:ed at mcnierney.com> 
	> > +1 (978) 761-0049 
	> > 
	> ------------------------------------------------------------------------ 
	> > 
	> >=2 0_______________________________________________ 
	> > Proj mailing list 
	> > Proj at lists.maptools.org <mailto:Proj at lists.maptools.org> 
	> > http://lists.maptools.org/mailman/listinfo/proj 
	> 
	> _______________________________________________ 
	> Proj mailing list 
	> Proj at lists.maptools.org <mailto:Proj at lists.maptools.org> 
	> http://lists.maptools.org/mailman/listinfo/proj 
	> ------------------------------------------------------------------------
	> The Famous, the Infamous, the Lame - in your browser. Get the TMZ 
	> Toolbar Now 
	> <http://toolbar.aol.com/tmz/download.html?NCID=aolcmp00050000000014>!
	> ------------------------------------------------------------------------
	>
	> _______________________________________________
	> Proj mailing list
	> Proj at lists.maptools.org
	> http://lists.maptools.org/mailman/listinfo/proj
	
	_______________________________________________
	Proj mailing list
	Proj at lists.maptools.org
	http://lists.maptools.org/mailman/listinfo/proj
	
	



________________________________

The Famous, the Infamous, the Lame - in your browser. Get the TMZ Toolbar Now <http://toolbar.aol.com/tmz/download.html?NCID=aolcmp00050000000014> !
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080716/93f0c49f/attachment.html>

From strebe at aol.com  Wed Jul 16 13:09:33 2008
From: strebe at aol.com (strebe)
Date: Wed, 16 Jul 2008 13:09:33 -0700
Subject: [Proj] RE: Distance measured in Mercator projection
In-Reply-To: <B597ADFC46B67741B18EA6AA13613FF7EC2356@email002.lsu.edu>
Message-ID: <28D1095F.C92A.42ED.9C0A.5379D555B895@aol.com>


(laugh!) Apologies for getting distracted. I meant to look it up but then forgot I hadn't. Thanks, Cliff.

Regards,
-- daan Strebe


On Jul 16, 2008, at 11:44:02 AM, "Clifford J Mugnier" <cjmce at lsu.edu> wrote:
From:   "Clifford J Mugnier" <cjmce at lsu.edu>
Subject:    RE: [Proj] Re: Distance measured in Mercator projection
Date:   July 16, 2008 11:44:02 AM PDT
To: "PROJ.4 and general Projections Discussions" <proj at lists.maptools.org>
I'd suggest something other than zero for the eccentricity of the WGS84 ellipsoid.  Say, e squared being 0.00669437999013, more or less ...
 
Cliff Mugnier
LOUISIANA STATE UNIVERSITY

From: proj-bounces at lists.maptools.org on behalf of strebe
Sent: Wed 16-Jul-08 13:39
To: PROJ.4 and general Projections Discussions
Subject: [Proj] Re: Distance measured in Mercator projection


Shannon,

The scale factor in any direction at a given point on the ellipsoidal equatorial Mercator is:

h = √(1 - e^2 x sin^2 (phi)) / cos (phi)

where √ is the square root of the expression; e is the eccentricity of the ellipsoid (0.0 for WGS84); ^2 means the square of the expression; and other symbols and semantics as given before.

Therefore you would multiply 1m x h to find the map distance of one meter at full scale. As you can see, this is the same as the original expression but just multiplied by the factor that adjusts for the eccentricity.

Don't hesitate to ask for clarification if you need it. Good luck.

Regards,
-- daan Strebe



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080716/e41b39bb/attachment.html>

From mikeo2106 at msn.com  Thu Jul 17 05:17:30 2008
From: mikeo2106 at msn.com (Michael Ossipoff)
Date: Thu, 17 Jul 2008 12:17:30 +0000
Subject: [Proj] Transverse or oblique width-aduusted Aitoff or Hammer-Aitoff
 for oblong regions.
Message-ID: <BAY107-W52CEF84588976E8089C73BA58E0@phx.gbl>


When mapping an oblong or oval region, a region with unequal dimensions, a region that isn't close to being circular or square, and when linearity and conformality aren't needed, then why not use a transverse or oblique Aitoff or Aitoff-Hammer projection, centered in the mapped regiion?

Where Aitoff and Aitoff-Hammer multiply the azimuthal's X dimension by 2 (and change the grid the accordingly), here we multiply by a factor appropriate for the region's shape. If the region has one dimension 3.5 times its other dimension, then multiply by 3.5 instead of 2. Of course the projection's "equator" is along the region's long dimension, and the projection's center is at the center of the region.

The choice between Aitoff and Hammer-Aitoff would depend on whether or not equal-area is needed.

As I've said before, I suggest that, for general purpose maps of countries or states, equal area is a poor choice.

As I said when I proposed Apianus II, this obvious idea has probably been proposed before. If so, I'm proposing it again.

Mike Ossipoff






From geraldi.evenden at gmail.com  Thu Jul 17 07:22:33 2008
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Thu, 17 Jul 2008 10:22:33 -0400
Subject: [Proj] Transverse or oblique width-aduusted Aitoff or
	Hammer-Aitoff for oblong regions.
In-Reply-To: <BAY107-W52CEF84588976E8089C73BA58E0@phx.gbl>
References: <BAY107-W52CEF84588976E8089C73BA58E0@phx.gbl>
Message-ID: <200807171022.33220.geraldi.evenden@gmail.com>

On Thursday 17 July 2008 8:17:30 am Michael Ossipoff wrote:
	...
> As I've said before, I suggest that, for general purpose maps of countries
> or states, equal area is a poor choice.

Of all the statements you have made, that one most clearly demonstrates that 
you are either a troll and/or otherwise do not have a clue about cartography.
	...
-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist


From mfinn at usgs.gov  Thu Jul 17 08:06:30 2008
From: mfinn at usgs.gov (Michael P Finn)
Date: Thu, 17 Jul 2008 10:06:30 -0500
Subject: [Proj] AutoCarto 2008
Message-ID: <OF10EFAB35.E21142E3-ON87257489.00515747-86257489.0052FD36@usgs.gov>

Apologies for cross-posting!




The Cartography and Geographic Information Society (CaGIS) invites 
cartographers, geographers, geospatial analysts, GIScientists, and others 
conducting research on the cutting edge of the geospatial sciences to 
attend AutoCarto 2008, an international research symposium on 
computer-based cartography, September 8-11, 2008 in Shepherdstown, WV, 
USA.
The seventeenth in the AutoCarto series, the symposium will be held at the 
U.S. Fish and Wildlife Service National Conservation Training Center 
--only an hour from Washington D.C.?s Dulles International Airport (see: 
http://training.fws.gov). 
There is still time to join us in September at this exciting conference to 
explore new research and innovation in cartography and geographic 
information science. 
To find out more, visit www.autocarto.org to view the exciting program 
offered.
 
If you would like to be removed from this list please email to 
mailto:trisha.milburn at acsm.net
 
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080717/b9f9d282/attachment.html>

From mikeo2106 at msn.com  Thu Jul 17 10:32:39 2008
From: mikeo2106 at msn.com (Michael Ossipoff)
Date: Thu, 17 Jul 2008 17:32:39 +0000
Subject: [Proj] Re: Transverse or oblique width-adjusted Aitoff or
 Hammer-Aitoff for oblong regions
In-Reply-To: <200807171601.m6HG10XQ002835@duke.maptools.org>
References: <200807171601.m6HG10XQ002835@duke.maptools.org>
Message-ID: <BAY107-W29A48708DB4C136821E1FBA58E0@phx.gbl>


I'd said:
> > As I've said before, I suggest that, for general purpose maps of countries> > or states, equal area is a poor choice.
Gerald said:
> Of all the statements you have made, that one most clearly demonstrates that > you are either a troll and/or otherwise do not have a clue about cartography.
 
Gerald, you don't support your statements very well. Presumably you disagree with what I said, but we won't know why you disagree unless you tell us.
 
A general purpose map, like anything designated "general purpose", doesn't have a specific task. In particular, a general purpose map isn't particularly needed or intended to show area relationships. It isn't a data map intended to show you the areas of climate zones or species habitat ranges. It isn't a land-use map intended to show you how much land is used for growing wheat and how much is used for raising cattle. It's a general purpose map without any such specific intended purpose.
 
The most often-measured quantity on a map is distance. The accuracy with which you can measure distance directly on a map is limited by something known as "scale variation". An equal area map has about twice the percentage scale variation of a similar non-equal-area map. Equal-area doubles the percentage scale variation. That means that it doubles the percentatge by which your measurement can be off when you measure a distance on the map.
 
Gerald, that is your third message to me. All three of your messages have been virtually identical. You make angry noises without saying anything with objective meaning, and without justifying the angry feelings that you seem to need to express. This behavior of yours has no place on a discussion list. Maybe you can get help.
 
Mike Ossipoff
 
 
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080717/d9a74b4a/attachment.html>

From strebe at aol.com  Thu Jul 17 15:19:52 2008
From: strebe at aol.com (strebe at aol.com)
Date: Thu, 17 Jul 2008 18:19:52 -0400
Subject: [Proj] Re: Transverse or oblique width-adjusted Aitoff or
 Hammer-Aitoff for oblong regions.
In-Reply-To: <BAY107-W52CEF84588976E8089C73BA58E0@phx.gbl>
References: <BAY107-W52CEF84588976E8089C73BA58E0@phx.gbl>
Message-ID: <8CAB6725E51C0CE-10FC-B39@webmail-nf20.sim.aol.com>


 Mr. Ossipoff:

The technique of "meridian multiplying" has been exploited in several equal-area projections, such as Hammer, Eckert-Greiffendorf, and Strebe's heart. The meridian multiplication coupled with the x-axis compression retains the the projection's equivalence and tends to stretch the isocols (level curves of angular distortion) east-west with respect to the original graticule at the expense of their north-south extent. By original graticule, I mean before applying any coordinate transformations to obtain an oblique or transverse aspect.

Meridian multiplying has also been used in compromise projections such as Aitoff, as you note. In the case of compromise projections the utility is less clear. Distortion is characterized by both the areal inflation and angular distortion; typically they do not coincide if they are not circular, and in those cases they are often perpendicular to each other. That is, if the isocols of angular distortion are ovals flattened horizontally, then isocols of areal inflation will tend to be ovals flattened vertically. Hence meridian multiplying to favor a region whose extent is 3:1 east-west may improve its angular distortion but degrade its areal inflation throughout that region. There is no natural or commonly recognized method of comparing angular distortion to areal inflation, so there is no natural way of deciding whether the operation resulted in any improvement. One could study the results to see if, for example, distance measurements throughout the region improved statistically. Methods to do that come with some controvery over how distance measurements should be distributed, but it at least it can all be kept scientific as long as all assumptions are noted explicitly.

Regards,
-- daan Strebe


 


 

-----Original Message-----
From: Michael Ossipoff <mikeo2106 at msn.com>
To: proj at lists.maptools.org
Sent: Thu, 17 Jul 2008 5:17 am
Subject: [Proj] Transverse or oblique width-aduusted Aitoff or Hammer-Aitoff for oblong regions.











When mapping an oblong or oval region, a region with unequal dimensions, a 
region that isn't close to being circular or square, and when linearity and 
conformality aren't needed, then why not use a transverse or oblique Aitoff or 
Aitoff-Hammer projection, centered in the mapped regiion?

Where Aitoff and Aitoff-Hammer multiply the azimuthal's X dimension by 2 (and 
change the grid the accordingly), here we multiply by a factor appropriate for 
the region's shape. If the region has one dimension 3.5 times its other 
dimension, then multiply by 3.5 instead of 2. Of course the projection's 
"equator" is along the region's long dimension, and the projection's center is 
at the center of the region.

The choice between Aitoff and Hammer-Aitoff would depend on whether or not 
equal-area is needed.

As I've said before, I suggest that, for general purpose maps of countries or 
states, equal area is a poor choice.

As I said when I proposed Apianus II, this obvious idea has probably been 
proposed before. If so, I'm proposing it again.

Mike Ossipoff




_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj



 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080717/acfd235d/attachment.html>

From mikeo2106 at msn.com  Fri Jul 18 12:39:02 2008
From: mikeo2106 at msn.com (Michael Ossipoff)
Date: Fri, 18 Jul 2008 19:39:02 +0000
Subject: [Proj] Re: Transverse or oblique adjusted-width Aitoff or
 Hammer-Aitoff for oblong regions
In-Reply-To: <200807181600.m6IG0tkG028127@duke.maptools.org>
References: <200807181600.m6IG0tkG028127@duke.maptools.org>
Message-ID: <BAY107-W2375AE4DB46BC13E5EB44CA5890@phx.gbl>




Thanks for the constructive and helpful comments about meridian multiplying. 

For me, the adjusted-width Aitoff or Hammer-Aitoff would be for continents, countries and states, and my goal would be to minimize the greatest factor by which the scale varies on the map, so that a certan accuracy can be guaranteed to someone measuring distances.

Mike Ossipoff






From strebe at aol.com  Fri Jul 18 18:06:22 2008
From: strebe at aol.com (strebe at aol.com)
Date: Fri, 18 Jul 2008 21:06:22 -0400
Subject: [Proj] Re: Transverse or oblique adjusted-width Aitoff or
 Hammer-Aitoff for oblong regions
In-Reply-To: <BAY107-W2375AE4DB46BC13E5EB44CA5890@phx.gbl>
References: <200807181600.m6IG0tkG028127@duke.maptools.org>
	<BAY107-W2375AE4DB46BC13E5EB44CA5890@phx.gbl>
Message-ID: <8CAB752CAFCD11A-10FC-369A@webmail-nf20.sim.aol.com>


 
Mr. Ossipoff:

You are working on what is technically known as a Hard Problem. It has been solved for conformal maps, but not for equal-area maps, and even less so for unconstrained maps. There isn't much theory to appeal to. Most of the approaches I've seen in the literature to date have been iterative least-squares solutions (by simulated annealing or other means) for some set of constraints.

In your case one constraint, which you note, would be to minimize the greatest scale factor within the region of interest. That constraint alone will not yield a unique solution because it says nothing about what happens to all the scale factors which are less than the greatest scale factor. (The conformal property, on the other hand, strictly controls what happens once you specify the region of minimal variation in scale factor, and does yield a unique solution.) It is the intractability of even a definition for optimal in non-conformal maps that has stymied research.

I note that you do not require a unique solution; you merely wish to constrain the maximum error across a region. However, I am not aware of any studies of that, either, except statistical and empirical. It is not at all clear to me that meridian multiplying takes you anywhere toward a solution, though it is also not clear to me that it does not. Mostly you need to be careful that what you're doing does not lead to improvement in one kind of distortion only to give up the gains to the other kind.

Regards,
-- daan Strebe







Thanks for the constructive and helpful comments about meridian multiplying. 

For me, the adjusted-width Aitoff or Hammer-Aitoff would be for continents, 
countries and states, and my goal would be to minimize the greatest factor by 
which the scale varies on the map, so that a certan accuracy can be guaranteed 
to someone measuring distances.

Mike Ossipoff




 


 


 

-----Original Message-----
From: Michael Ossipoff <mikeo2106 at msn.com>
To: proj at lists.maptools.org
Sent: Fri, 18 Jul 2008 12:39 pm
Subject: [Proj] Re: Transverse or oblique adjusted-width Aitoff or Hammer-Aitoff for oblong regions













Thanks for the constructive and helpful comments about meridian multiplying. 

For me, the adjusted-width Aitoff or Hammer-Aitoff would be for continents, 
countries and states, and my goal would be to minimize the greatest factor by 
which the scale varies on the map, so that a certan accuracy can be guaranteed 
to someone measuring distances.

Mike Ossipoff




_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj



 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080718/3d33a039/attachment.html>

From mikeo2106 at msn.com  Sat Jul 19 13:43:22 2008
From: mikeo2106 at msn.com (Michael Ossipoff)
Date: Sat, 19 Jul 2008 20:43:22 +0000
Subject: [Proj] RE: Proj Digest, Vol 50, Issue 19
In-Reply-To: <200807191600.m6JG05CJ017820@duke.maptools.org>
References: <200807191600.m6JG05CJ017820@duke.maptools.org>
Message-ID: <BAY107-W1500A7EACFDD65E7563022A5880@phx.gbl>




I was being a bit loose when I used the word "minimize". I should have just said "reduce". True, actually minimizing the greatest scale variation in a region would be a much more complicated problem than I intended to tackle.

My reasoning was merely this: If Aitoff and Hammer-Aitoff have an oval pattern for their lines of equal scale variation, and if scale variation is reduced when those curves are figures whose dimensions are in a ratio resembling that of the the region's dimensions, then Aitoff could reduce the scale variation compared to what it would be with an unmodified azimuthal equidistant.

Scale variation of meridian multiplying maps is a kind of scale variation problem that I haven't looked at yet, and so I admit that I don't know how well it would do.

Mike Ossipoff



From mfinn at usgs.gov  Sat Jul 19 15:01:47 2008
From: mfinn at usgs.gov (Michael P Finn)
Date: Sat, 19 Jul 2008 16:01:47 -0600
Subject: [Proj] Michael P Finn of the USGS/ National Geospatial Technical
 Operations Center is out of the office.
Message-ID: <OF9B1F2A81.CFF8C81E-ON8725748B.0079034C-8725748B.0079034C@usgs.gov>


I will be out of the office starting  07/19/2008 and will not return until
08/04/2008.

I will be unable to check e-mail regularly while I am out. If I can't
respond to your message while I am out, then I will when I return. If you
have anything that cannot wait, please contact my colleague, Dr. E. Lynn
Usery, at usery at usgs.gov.     Mike



From warmerdam at pobox.com  Mon Jul 21 18:41:08 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon, 21 Jul 2008 21:41:08 -0400
Subject: [Proj] PROJ 4.6.1 RC1
Message-ID: <48853AB4.9020809@pobox.com>

Folks,

I have prepared a release candidate for a 4.6.1 release.

   http://download.osgeo.org/proj/proj-4.6.1RC1.tar.gz

"""
4.6.1 Release Notes
-------------------

  o Upgraded to EPSG 6.17 version for nad/epsg.  Also corrected the precision
    problem introduced in the last version.

  o Added logic for tmerc projection to fail rather than return crazy results
    if more than 90 degrees away from the central meridian (#5).  This change
    may only be temporary till a more comprehensive solution is found.

  o Fixed handling of extra text in cs2cs.

  o Renamed INSTALL to INSTALL.TXT.

  o The eqc projection has been generalized to include a latitude of origin.

  o Added the glabsgm (Gauss Laborde / Sphere Geometric Mean) projection

  o nad/IGNF init catalogue created.

  o added the ntf_r93.gsb datum shift file.
"""

I'd appreciate some feedback before declaring this an official release.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org



From strebe at aol.com  Mon Jul 21 18:49:22 2008
From: strebe at aol.com (strebe)
Date: Mon, 21 Jul 2008 18:49:22 -0700
Subject: [Proj] Re: Transverse or oblique adjusted-width Aitoff or
 Hammer-Aitoff for oblong regions
In-Reply-To: <BAY107-W1500A7EACFDD65E7563022A5880@phx.gbl>
Message-ID: <0595F6D6.BC57.46D1.8524.DCC2063A5389@aol.com>


Mr. Ossipoff:

>if scale variation is reduced when those curves are figures whose dimensions
>are in a ratio resembling that of the the region's dimensions,

For conformal maps the same was conjectured in 1856 by Tshebyshev [1] and proved by Gravé [2] in 1896. Snyder hypothesized the same for equal-area maps [3], but I have proved by counter-example (Wiechel compared to Lambert azimuthal) that the condition is insufficient for equal-area maps, and therefore, by inference, all other maps that are not conformal. It is possible the condition is necessary but insufficient; however, I also have evidence that even that is not true, at least not in all cases. (E.g., a band straddling the equator from edge to edge on a cylindric equal-area projection has considerably better distortion characteristics than any equal-area projection with a closed isocol approximating the same region.)

Where does this leave you? You could take measurements of any improvements in some specific metric of distortion across a broad range of examples. If the technique does, in fact, result in quantifiable improvement in all cases, then you could credibly recommend the technique.

Regards,
-- daan Strebe

[*1] Chebyshev, P.L. 1856. “Sur la Construction des Carte Géographiques.” Bulletin, Académie Impériale des Sciences, Classe Physico-Mathématique, vol. 14, pp. 257–261. St. Petersburg. Reprinted in Oeuvres des P.L. Tchebychef, vol. 1. New York: Chelsea Publishing Co., 1962.

[*2] Gravé, D.A. 1896. Ob Osnovnykh Zadachakh Matematicheskoyh Teorii Postroyeniya Geograﬁcheskikh Kart, pp. 177–183. St. Petersburg.

[*3] Snyder, J.P. 1988. “New Equal-Area Map Projections For Noncircular Regions.” The American Cartographer, vol. 15, no. 4, pp. 341–355.


On Jul 19, 2008, at 1:43:22 PM, "Michael Ossipoff" <mikeo2106 at msn.com> wrote:
From:   "Michael Ossipoff" <mikeo2106 at msn.com>
Subject:    [Proj] RE: Proj Digest, Vol 50, Issue 19
Date:   July 19, 2008 1:43:22 PM PDT
To: proj at lists.maptools.org



I was being a bit loose when I used the word "minimize". I should have just said "reduce". True, actually minimizing the greatest scale variation in a region would be a much more complicated problem than I intended to tackle.

My reasoning was merely this: If Aitoff and Hammer-Aitoff have an oval pattern for their lines of equal scale variation, and if scale variation is reduced when those curves are figures whose dimensions are in a ratio resembling that of the the region's dimensions, then Aitoff could reduce the scale variation compared to what it would be with an unmodified azimuthal equidistant.

Scale variation of meridian multiplying maps is a kind of scale variation problem that I haven't looked at yet, and so I admit that I don't know how well it would do.

Mike Ossipoff

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080721/45be957e/attachment.html>

From warmerdam at pobox.com  Mon Jul 21 18:59:13 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon, 21 Jul 2008 21:59:13 -0400
Subject: [Proj] proj-datumgrid-1.4 issued 
Message-ID: <48853EF1.8060706@pobox.com>

Folks,

I have uploaded a new version of the datum grid shift file collection that
includes the ntf_r93.gsb shift file.  Richard, perhaps you could more fully
explain how this grid shift file works?

   http://download.osgeo.org/proj/proj-datumgrid-1.4.zip

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org



From richard.greenwood at gmail.com  Mon Jul 21 20:02:48 2008
From: richard.greenwood at gmail.com (Richard Greenwood)
Date: Mon, 21 Jul 2008 21:02:48 -0600
Subject: [Proj] proj-datumgrid-1.4 issued
In-Reply-To: <48853EF1.8060706@pobox.com>
References: <48853EF1.8060706@pobox.com>
Message-ID: <ae9185aa0807212002k73fffcb2x93b5a28ed8e89c46@mail.gmail.com>

On Mon, Jul 21, 2008 at 7:59 PM, Frank Warmerdam <warmerdam at pobox.com> wrote:
> Folks,
>
> I have uploaded a new version of the datum grid shift file collection that
> includes the ntf_r93.gsb shift file.  Richard, perhaps you could more fully
> explain how this grid shift file works?

I wish I could, but I'm still struggling with the .lla files!

-- 
Richard Greenwood
richard.greenwood at gmail.com
www.greenwoodmap.com


From warmerdam at pobox.com  Tue Jul 22 09:29:16 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue, 22 Jul 2008 12:29:16 -0400
Subject: [Proj] proj-datumgrid-1.4 issued
In-Reply-To: <ae9185aa0807212002k73fffcb2x93b5a28ed8e89c46@mail.gmail.com>
References: <48853EF1.8060706@pobox.com>
	<ae9185aa0807212002k73fffcb2x93b5a28ed8e89c46@mail.gmail.com>
Message-ID: <48860ADC.7040405@pobox.com>

Richard Greenwood wrote:
> On Mon, Jul 21, 2008 at 7:59 PM, Frank Warmerdam <warmerdam at pobox.com> wrote:
>> Folks,
>>
>> I have uploaded a new version of the datum grid shift file collection that
>> includes the ntf_r93.gsb shift file.  Richard, perhaps you could more fully
>> explain how this grid shift file works?
> 
> I wish I could, but I'm still struggling with the .lla files!

Rich,

Sorry, I actually mean Richard Didier who added this .gsb file in PROJ.  :-)

I should have been more specific.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org



From paul-grass at stjohnspoint.co.uk  Tue Jul 22 10:28:42 2008
From: paul-grass at stjohnspoint.co.uk (Paul Kelly)
Date: Tue, 22 Jul 2008 18:28:42 +0100 (BST)
Subject: [Proj] proj-datumgrid-1.4 issued
In-Reply-To: <48860ADC.7040405@pobox.com>
References: <48853EF1.8060706@pobox.com>
	<ae9185aa0807212002k73fffcb2x93b5a28ed8e89c46@mail.gmail.com>
	<48860ADC.7040405@pobox.com>
Message-ID: <Pine.LNX.4.62.0807221825450.26267@vortex.ukshells.co.uk>

On Tue, 22 Jul 2008, Frank Warmerdam wrote:

> Richard Greenwood wrote:
>> On Mon, Jul 21, 2008 at 7:59 PM, Frank Warmerdam <warmerdam at pobox.com> 
>> wrote:
>>> Folks,
>>> 
>>> I have uploaded a new version of the datum grid shift file collection that
>>> includes the ntf_r93.gsb shift file.  Richard, perhaps you could more 
>>> fully
>>> explain how this grid shift file works?
>> 
>> I wish I could, but I'm still struggling with the .lla files!
>
> Rich,
>
> Sorry, I actually mean Richard Didier who added this .gsb file in PROJ.  :-)

I imagine this would be similar to my france.gsb file to convert between 
the French NTF and RGF93 datums, documented in detail here:
http://www.stjohnspoint.co.uk/gis/france.htm
so perhaps that page would be of interest?

Paul

(BTW I never pressed to have it included in GRASS or PROJ.4 as I wasn't 
sure about the licence/legal status of the tables I derived it from.)


From mikeo2106 at msn.com  Tue Jul 22 12:15:26 2008
From: mikeo2106 at msn.com (Michael Ossipoff)
Date: Tue, 22 Jul 2008 19:15:26 +0000
Subject: [Proj] Re: Transverse or oblique width-adjusted Aitoff or
 Hammer-Aitoff for oblong regions
In-Reply-To: <200807221601.m6MG19ui008976@duke.maptools.org>
References: <200807221601.m6MG19ui008976@duke.maptools.org>
Message-ID: <BAY107-W74439170F0EDE5E426323A5850@phx.gbl>




Again, thanks for the information. So then, there's no particular reason to expect a locally-centered and suitably oriented Aitoff map to have less scale variation than a similarly centered and oriented cylindrical equidistant map, for an extended oblong region. Actually that's a great relief, to hear that my belief about Aitoff and Hammer-Aitoff for oblong regions isn't true, or that the matter would be difficult to determine, because it means that I can stop wondering why I couldn't prove it to be true. Because I don't understand the determination of Aitoff's maximum scale variation, in comparison to other projections for such regions, it's a relief to hear that it isn't an elementary problem.

So maybe there's a good reason why Aitoff and Hammer-Aitoff aren't found in atlases, mapping oblong continents, countries and states.

Mike Ossipoff






From geraldi.evenden at gmail.com  Tue Jul 22 13:08:59 2008
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Tue, 22 Jul 2008 16:08:59 -0400
Subject: [Proj] PROJ 4.6.1 RC1
In-Reply-To: <48853AB4.9020809@pobox.com>
References: <48853AB4.9020809@pobox.com>
Message-ID: <200807221608.59492.geraldi.evenden@gmail.com>

On Monday 21 July 2008 9:41:08 pm Frank Warmerdam wrote:
> Folks,
>
> I have prepared a release candidate for a 4.6.1 release.
>
>    http://download.osgeo.org/proj/proj-4.6.1RC1.tar.gz
>
> """
> 4.6.1 Release Notes
> -------------------
>
>   o Upgraded to EPSG 6.17 version for nad/epsg.  Also corrected the
> precision problem introduced in the last version.
>
>   o Added logic for tmerc projection to fail rather than return crazy
> results if more than 90 degrees away from the central meridian (#5).  This
> change may only be temporary till a more comprehensive solution is found.

I strongly suggest that if you insist upon limits, put them at about 45 
degrees (even that is absurd).  Most tmercs will fail around +-90 and are 
unreliable at ~+-80.

Of course, tmerc itself is only functional up to about +-5.

>   o Fixed handling of extra text in cs2cs.
>
>   o Renamed INSTALL to INSTALL.TXT.
>
>   o The eqc projection has been generalized to include a latitude of
> origin.
>
>   o Added the glabsgm (Gauss Laborde / Sphere Geometric Mean) projection
>
>   o nad/IGNF init catalogue created.
>
>   o added the ntf_r93.gsb datum shift file.
> """
>
> I'd appreciate some feedback before declaring this an official release.
>
> Best regards,



-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist


From geraldi.evenden at gmail.com  Tue Jul 22 13:19:37 2008
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Tue, 22 Jul 2008 16:19:37 -0400
Subject: [Proj] PROJ 4.6.1 RC1
In-Reply-To: <48853AB4.9020809@pobox.com>
References: <48853AB4.9020809@pobox.com>
Message-ID: <200807221619.37635.geraldi.evenden@gmail.com>

On Monday 21 July 2008 9:41:08 pm Frank Warmerdam wrote:
> Folks,
>
> I have prepared a release candidate for a 4.6.1 release.
>
>    http://download.osgeo.org/proj/proj-4.6.1RC1.tar.gz
>
> """
> 4.6.1 Release Notes
> -------------------
>
>   o Upgraded to EPSG 6.17 version for nad/epsg.  Also corrected the
> precision problem introduced in the last version.
>
>   o Added logic for tmerc projection to fail rather than return crazy
> results if more than 90 degrees away from the central meridian (#5).  This
> change may only be temporary till a more comprehensive solution is found.
>
>   o Fixed handling of extra text in cs2cs.
>
>   o Renamed INSTALL to INSTALL.TXT.
>
>   o The eqc projection has been generalized to include a latitude of
> origin.
>
>   o Added the glabsgm (Gauss Laborde / Sphere Geometric Mean) projection

This is called "glaborde" in libproj4.  I don't know where "Sphere Geometric 
Mean" comes from.

>   o nad/IGNF init catalogue created.
>
>   o added the ntf_r93.gsb datum shift file.
> """
>
> I'd appreciate some feedback before declaring this an official release.
>
> Best regards,



-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist


From geraldi.evenden at gmail.com  Tue Jul 22 14:19:10 2008
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Tue, 22 Jul 2008 17:19:10 -0400
Subject: [Proj] PROJ 4.6.1 RC1
In-Reply-To: <48853AB4.9020809@pobox.com>
References: <48853AB4.9020809@pobox.com>
Message-ID: <200807221719.11016.geraldi.evenden@gmail.com>

On Monday 21 July 2008 9:41:08 pm Frank Warmerdam wrote:
> Folks,
>
> I have prepared a release candidate for a 4.6.1 release.
>
>    http://download.osgeo.org/proj/proj-4.6.1RC1.tar.gz
>
> """
> 4.6.1 Release Notes
> -------------------
>
>   o Upgraded to EPSG 6.17 version for nad/epsg.  Also corrected the
> precision problem introduced in the last version.
>
>   o Added logic for tmerc projection to fail rather than return crazy
> results if more than 90 degrees away from the central meridian (#5).  This
> change may only be temporary till a more comprehensive solution is found.
>
>   o Fixed handling of extra text in cs2cs.
>
>   o Renamed INSTALL to INSTALL.TXT.
>
>   o The eqc projection has been generalized to include a latitude of
> origin.
>
>   o Added the glabsgm (Gauss Laborde / Sphere Geometric Mean) projection

Excuse me for forgetfulness.  This is really the Gauss-Schreiber projection 
that we went over a few months ago.  Aka +proj=stmerc

>   o nad/IGNF init catalogue created.
>
>   o added the ntf_r93.gsb datum shift file.
> """
>
> I'd appreciate some feedback before declaring this an official release.
>
> Best regards,



-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist


From strebe at aol.com  Tue Jul 22 20:51:01 2008
From: strebe at aol.com (strebe)
Date: Tue, 22 Jul 2008 20:51:01 -0700
Subject: [Proj] Re: Transverse or oblique width-adjusted Aitoff or
 Hammer-Aitoff for oblong regions
In-Reply-To: <BAY107-W74439170F0EDE5E426323A5850@phx.gbl>
Message-ID: <3742A7A4.F496.43F6.838B.12053B673594@aol.com>


Mr. Ossipoff:

If the oblong region is on the order of 180° of extent, a meridian-multiplied Aitoff may well perform better than a cylindric equidistant. I would expect the benefit to decrease as the extent increased, eventually turning worse. This is just a (reasonably well-educated) guess. With the assistance of symbolic math programs (Mathematica, Maple, &c.), it should not be terribly difficult to derive closed-form expresssions for scale variation around a given point on the transverse Aitoff, being the simple projection that it is. Cylindric equidistant being even simpler, the comparison would not be so onerous, either. That would answer the question of transverse Aitoff versus cylindric equidistant.

A much more difficult problem is to show that you have come anywhere near some theoretical "best" for the region, or even to show that it is better than a wide selection of possible alternatives. The latter, at least, would be important in establishing a robust claim of improvement.

Your musing over how atlases choose projections might be a little kind. 

Regards,
-- daan Strebe


On Jul 22, 2008, at 12:15:26 PM, "Michael Ossipoff" <mikeo2106 at msn.com> wrote:
Again, thanks for the information. So then, there's no particular reason to expect a locally-centered and suitably oriented Aitoff map to have less scale variation than a similarly centered and oriented cylindrical equidistant map, for an extended oblong region. Actually that's a great relief, to hear that my belief about Aitoff and Hammer-Aitoff for oblong regions isn't true, or that the matter would be difficult to determine, because it means that I can stop wondering why I couldn't prove it to be true. Because I don't understand the determination of Aitoff's maximum scale variation, in comparison to other projections for such regions, it's a relief to hear that it isn't an elementary problem.

So maybe there's a good reason why Aitoff and Hammer-Aitoff aren't found in atlases, mapping oblong continents, countries and states.

Mike Ossipoff
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080722/17cfb0bb/attachment.html>

From warmerdam at pobox.com  Tue Jul 22 21:08:20 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed, 23 Jul 2008 00:08:20 -0400
Subject: [Proj] PROJ 4.6.1 RC1
In-Reply-To: <200807221719.11016.geraldi.evenden@gmail.com>
References: <48853AB4.9020809@pobox.com>
	<200807221719.11016.geraldi.evenden@gmail.com>
Message-ID: <4886AEB4.3010901@pobox.com>

Gerald I. Evenden wrote:
> On Monday 21 July 2008 9:41:08 pm Frank Warmerdam wrote:
...
>>   o Added the glabsgm (Gauss Laborde / Sphere Geometric Mean) projection
> 
> Excuse me for forgetfulness.  This is really the Gauss-Schreiber projection 
> that we went over a few months ago.  Aka +proj=stmerc

Gerald,

I'm going to hold back on the 4.6.1 release till this can be worked out.  There
is no point in letting this into widespread use with different names from
libproj4.  I've created a ticket for the issue and assigned it to Richard
Didier:

   http://trac.osgeo.org/proj/ticket/8

Richard Didier can bring PROJ.4 into line with libproj4, or provide an
explanation for why there is a difference.  I haven't heard from Richard
on other points in a couple days so he may be on vacation.

Thanks for the review!

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org



From didier.richard at ign.fr  Wed Jul 23 04:35:49 2008
From: didier.richard at ign.fr (Richard didier)
Date: Wed, 23 Jul 2008 13:35:49 +0200
Subject: [Proj] PROJ 4.6.1 RC1
In-Reply-To: <4886AEB4.3010901@pobox.com>
References: <48853AB4.9020809@pobox.com>
	<200807221719.11016.geraldi.evenden@gmail.com>
	<4886AEB4.3010901@pobox.com>
Message-ID: <200807231335.49363.didier.richard@ign.fr>

Le Mercredi 23 Juillet 2008 06:08, Frank Warmerdam a écrit :
> Gerald I. Evenden wrote:
> > On Monday 21 July 2008 9:41:08 pm Frank Warmerdam wrote:
>
> ...
>
> >>   o Added the glabsgm (Gauss Laborde / Sphere Geometric Mean) projection
> >
> > Excuse me for forgetfulness.  This is really the Gauss-Schreiber
> > projection that we went over a few months ago.  Aka +proj=stmerc
>
> Gerald,
>
> I'm going to hold back on the 4.6.1 release till this can be worked out. 
> There is no point in letting this into widespread use with different names
> from libproj4.  I've created a ticket for the issue and assigned it to
> Richard Didier:
>
>    http://trac.osgeo.org/proj/ticket/8
>
> Richard Didier can bring PROJ.4 into line with libproj4, or provide an
> explanation for why there is a difference.  I haven't heard from Richard
> on other points in a couple days so he may be on vacation.
>

All,

I am not in vacation (but will be in few days), but still working on various 
subjects including PROJ.4, GDAL, PROJ4JS, OpenLayers, ...

I have replied to the ticket and await for a decision : the change is quite 
heavy on our side (not so on PROJ.4 side) cause our CRS catalogues (PROJ.4, 
PROJ4JS, ISO, etc ...) rely on 'glabsgm'. So, I will have, after changing if 
accepted PROJ.4 to modify them all.

> Thanks for the review!
>
> Best regards,

All the best,

didier
-- 
Didier RICHARD, chef du pôle technique Géoportail pour l'IGN
Institut Geographique National           tel: +33/0 1.43.98.83.23
2/4 Avenue Pasteur                       fax: +33/0 1.43.98.80.88
F-94165 St-Mande Cedex                e-mail: Didier.Richard at ign.fr




From didier.richard at ign.fr  Wed Jul 23 04:48:30 2008
From: didier.richard at ign.fr (Richard didier)
Date: Wed, 23 Jul 2008 13:48:30 +0200
Subject: [Proj] proj-datumgrid-1.4 issued
In-Reply-To: <Pine.LNX.4.62.0807221825450.26267@vortex.ukshells.co.uk>
References: <48853EF1.8060706@pobox.com> <48860ADC.7040405@pobox.com>
	<Pine.LNX.4.62.0807221825450.26267@vortex.ukshells.co.uk>
Message-ID: <200807231348.30313.didier.richard@ign.fr>

Le Mardi 22 Juillet 2008 19:28, Paul Kelly a écrit :
> On Tue, 22 Jul 2008, Frank Warmerdam wrote:
> > Richard Greenwood wrote:
> >> On Mon, Jul 21, 2008 at 7:59 PM, Frank Warmerdam <warmerdam at pobox.com>
> >>
> >> wrote:
> >>> Folks,
> >>>
> >>> I have uploaded a new version of the datum grid shift file collection
> >>> that includes the ntf_r93.gsb shift file.  Richard, perhaps you could
> >>> more fully
> >>> explain how this grid shift file works?
> >>
> >> I wish I could, but I'm still struggling with the .lla files!
> >
> > Rich,
> >
> > Sorry, I actually mean Richard Didier who added this .gsb file in PROJ. 
> > :-)
>

It's me !-)

> I imagine this would be similar to my france.gsb file to convert between
> the French NTF and RGF93 datums, documented in detail here:
> http://www.stjohnspoint.co.uk/gis/france.htm
> so perhaps that page would be of interest?

Well, there is a difference between your grid and our : while your grid is 
correct and our has been built using the same overall process, our grid 
ensure the centimeter precision (they are something like 2 more iterations 
when computing the grid's nodes).

You can keep our page on by just informing users the difference in precision 
between your grid and our.

>
> Paul
>
> (BTW I never pressed to have it included in GRASS or PROJ.4 as I wasn't
> sure about the licence/legal status of the tables I derived it from.)

No problem for the licence/legal status : the original text file found on 
IGN's web side is public data. A lot of GIS editors have been using it 
directly to implement the projection usign this grid. So, feel free to use by 
keeping in mind the above point on precisions.

All the best,

didier
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj

-- 
Didier RICHARD, chef du pôle technique Géoportail pour l'IGN
Institut Geographique National           tel: +33/0 1.43.98.83.23
2/4 Avenue Pasteur                       fax: +33/0 1.43.98.80.88
F-94165 St-Mande Cedex                e-mail: Didier.Richard at ign.fr




From paul-grass at stjohnspoint.co.uk  Wed Jul 23 07:09:09 2008
From: paul-grass at stjohnspoint.co.uk (Paul Kelly)
Date: Wed, 23 Jul 2008 15:09:09 +0100 (BST)
Subject: [Proj] proj-datumgrid-1.4 issued
In-Reply-To: <200807231348.30313.didier.richard@ign.fr>
References: <48853EF1.8060706@pobox.com> <48860ADC.7040405@pobox.com>
	<Pine.LNX.4.62.0807221825450.26267@vortex.ukshells.co.uk>
	<200807231348.30313.didier.richard@ign.fr>
Message-ID: <Pine.LNX.4.62.0807231458450.2699@vortex.ukshells.co.uk>

On Wed, 23 Jul 2008, Richard didier wrote:

> Le Mardi 22 Juillet 2008 19:28, Paul Kelly a écrit :
[...]
>> I imagine this would be similar to my france.gsb file to convert between
>> the French NTF and RGF93 datums, documented in detail here:
>> http://www.stjohnspoint.co.uk/gis/france.htm
>> so perhaps that page would be of interest?
>
> Well, there is a difference between your grid and our : while your grid is
> correct and our has been built using the same overall process, our grid
> ensure the centimeter precision (they are something like 2 more iterations
> when computing the grid's nodes).

Hi Didier,
That's great! It's really good to have an "official" NTv2 file and it 
means I can now retire mine. I've added a note to the page recommending 
to use your new more precise file.

Thanks,

Paul

From dcthomp at sandia.gov  Wed Jul 23 15:18:23 2008
From: dcthomp at sandia.gov (David C Thompson)
Date: Wed, 23 Jul 2008 15:18:23 -0700
Subject: [Proj] PROJ 4.6.1 RC1
Message-ID: <1216851503.29237.92.camel@beaker.ran.sandia.gov>

On Mon, 2008-07-21 at 19:41 -0600, Frank Warmerdam wrote:
> I have prepared a release candidate for a 4.6.1 release.
> ...
> I'd appreciate some feedback before declaring this an official release.
Any chance that some/all of the patch from ticket 4 could be included?
  http://trac.osgeo.org/proj/ticket/4

        Thanks,
        David





From mikeo2106 at msn.com  Wed Jul 23 16:19:46 2008
From: mikeo2106 at msn.com (Michael Ossipoff)
Date: Wed, 23 Jul 2008 23:19:46 +0000
Subject: [Proj] RE: Proj Digest, Vol 50, Issue 22
In-Reply-To: <200807230409.m6N496lS025131@duke.maptools.org>
References: <200807230409.m6N496lS025131@duke.maptools.org>
Message-ID: <BAY107-W3352307E735FCF383278F5A5840@phx.gbl>






Sometimes a problem of an unaccustomed form shows someone that they didn't understand the fundamental principles as well as they thought they did. Of course I haven't made any claims about myself, and it's a good thing I didn't. I'm here as an interested member of the public. Now, this will probably really show my ignorance, but my un-verified intuitive impression now is that, when mapping, say, Tennessee or Kansas, in comparison to azimuthal equidistant, oblique width-adjusted Aitoff, even if it has less average scale variation, wouldn't have less maximum scale variation than azimuthal equidistant. Any comments on how the maximum scale variation of azimuthal equidistant, oblique cylindrical equidistant, and oblique width-adjusted Aitoff would be likely to compare when mapping Kansas or Tennessee?

Mike Ossipoff









From warmerdam at pobox.com  Wed Jul 23 17:12:05 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed, 23 Jul 2008 20:12:05 -0400
Subject: [Proj] PROJ 4.6.1 RC1
In-Reply-To: <1216851503.29237.92.camel@beaker.ran.sandia.gov>
References: <1216851503.29237.92.camel@beaker.ran.sandia.gov>
Message-ID: <4887C8D5.7040207@pobox.com>

David C Thompson wrote:
> On Mon, 2008-07-21 at 19:41 -0600, Frank Warmerdam wrote:
>> I have prepared a release candidate for a 4.6.1 release.
>> ...
>> I'd appreciate some feedback before declaring this an official release.
> Any chance that some/all of the patch from ticket 4 could be included?
>   http://trac.osgeo.org/proj/ticket/4

David,

I skimmed the patch and wasn't too excited about it.

It's a lot of changes, and would take some time to review.

A lot of the changes are in code that will be replaced when we start using
libproj4 for the underlying projections support. I don't like making diverging
changes if I can avoid it.

All in all, I felt it could wait.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org



From cjmce at lsu.edu  Wed Jul 23 21:12:13 2008
From: cjmce at lsu.edu (Clifford J Mugnier)
Date: Wed, 23 Jul 2008 23:12:13 -0500
Subject: [Proj] RE: Proj Digest, Vol 50, Issue 22
References: <200807230409.m6N496lS025131@duke.maptools.org>
	<BAY107-W3352307E735FCF383278F5A5840@phx.gbl>
Message-ID: <B597ADFC46B67741B18EA6AA13613FF7EC2364@email002.lsu.edu>

When considering "small" areas such as Tennessee or Kansas in comparison to "large" areas such as multiple continents or single continents, the topic of scale variation can be narrowed down to the conventional conformal projections.  For those two states in particular, the Lambert (Secant) Conformal Conic offers the best minimal scale compromise over any azimuthal or equivalent/equal-area/authalic/automecoic projection.  The Postel or Azimuthal Equidistant is only valid for true scale distances from the center of the projection- it's the same as what you see on a radar screen.  The others offer even less.
 
As you narrow down the size of the area, conformality becomes particularly attractive when considering distance conformity between "grid" and "graticule."  For areal computations, one need only consider the cenroid of the area and then compute the scale factor at that point and square the value to obtain "true" area.  Of course, as the area increases, the generalization deteriorates.
 
Your discussions (so far) with daan Strebe have been associated with "large" areas.  A whole lot of other considerations come into play when you trim down the size of your area of interest.  
 
This discussion seems to be covering the universe of projections and is becoming tedious.  Exactly what is your objective?  There's always a university course or two on map projections that might satisfy you if a book or two or three won't do.  Try reading a few of the late John P. Snyder's tomes.  John was a gift to the world of Cartography from the world of Chemical Engineering.
 
Clifford J. Mugnier, C.P., C.M.S.
LSU Student ASCE Chapter Faculty Advisor
and
Past National Director (2006-2008),
Photogrammetric Applications Division
American Society for Photogrammetry and Remote Sensing 
and 
Chief of Geodesy,
CENTER FOR GEOINFORMATICS 
Department of Civil Engineering 
Patrick F. Taylor Hall 3223A
LOUISIANA STATE UNIVERSITY 
Baton Rouge, LA  70803
Voice and Facsimile:  (225) 578-8536 [Academic] 
Voice and Facsimile:  (225) 578-4474 [Research] 
Honorary Life Member of the 
Louisiana Society of Professional Surveyors 
Member Emeritus of the ASPRS 
Member of the Americas Petroleum Survey Group
======================================================
http://www.asprs.org/resources/GRIDS/
======================================================

________________________________

From: proj-bounces at lists.maptools.org on behalf of Michael Ossipoff
Sent: Wed 23-Jul-08 18:19
To: proj at lists.maptools.org
Subject: [Proj] RE: Proj Digest, Vol 50, Issue 22








Sometimes a problem of an unaccustomed form shows someone that they didn't understand the fundamental principles as well as they thought they did. Of course I haven't made any claims about myself, and it's a good thing I didn't. I'm here as an interested member of the public. Now, this will probably really show my ignorance, but my un-verified intuitive impression now is that, when mapping, say, Tennessee or Kansas, in comparison to azimuthal equidistant, oblique width-adjusted Aitoff, even if it has less average scale variation, wouldn't have less maximum scale variation than azimuthal equidistant. Any comments on how the maximum scale variation of azimuthal equidistant, oblique cylindrical equidistant, and oblique width-adjusted Aitoff would be likely to compare when mapping Kansas or Tennessee?

Mike Ossipoff







_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080723/53845cc1/attachment.html>

From geraldi.evenden at gmail.com  Thu Jul 24 07:37:00 2008
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Thu, 24 Jul 2008 10:37:00 -0400
Subject: [Proj] RE: Proj Digest, Vol 50, Issue 22
In-Reply-To: <B597ADFC46B67741B18EA6AA13613FF7EC2364@email002.lsu.edu>
References: <200807230409.m6N496lS025131@duke.maptools.org>
	<BAY107-W3352307E735FCF383278F5A5840@phx.gbl>
	<B597ADFC46B67741B18EA6AA13613FF7EC2364@email002.lsu.edu>
Message-ID: <200807241037.00565.geraldi.evenden@gmail.com>

A few points:

1. anyone is ill advised to make distance measurements from small scale maps.  
If the maps cover global regions.  Distance measurement from small scale maps 
is absurd with any projection other than azimuthal equidistant which *only* 
gives distance from the origin of the projection.

2. For large scale maps, approximate distance can be determined with care and 
knowledge of the particular projection and scale.  Using distances determined 
from a map is *very* dependent upon the skill of the user and his/her correct 
resolution of the accuracy of the map derived values and the accuracy needs 
of the application.

3. Anyone seriously interested in determining distance will use a geodesic 
computation program.  For an excellent FORTRAN procedure and executable DOS 
program see:

http://www.ngs.noaa.gov/TOOLS/Inv_Fwd/Inv_Fwd.html

I second Mugnier's suggestion regarding Snyder's book and would add "How to 
lie with Maps" by Monmonier as a good read.

Can we drop this spam about tweeking obscure projections to do impossible 
jobs.

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist


From mikeo2106 at msn.com  Thu Jul 24 16:07:20 2008
From: mikeo2106 at msn.com (Michael Ossipoff)
Date: Thu, 24 Jul 2008 23:07:20 +0000
Subject: [Proj] My Aitoff error
In-Reply-To: <200807241600.m6OG0cV3005145@duke.maptools.org>
References: <200807241600.m6OG0cV3005145@duke.maptools.org>
Message-ID: <BAY107-W43EC3F40FA62254E5F9801A5870@phx.gbl>



What made the determination of Aitoff's scale variation difficult for me was the fact that I was trying to make it easy, by the sort of informal approach that I'm used to with simper projections. Apparently with Aitoff there's no substitute for actually writing X and Y as functions of lat and lon, and then differentiating X and Y with respect to lat and lon.

Mike Ossipoff



From strebe at aol.com  Thu Jul 24 19:50:59 2008
From: strebe at aol.com (strebe)
Date: Thu, 24 Jul 2008 19:50:59 -0700
Subject: [Proj] Re: My Aitoff error
In-Reply-To: <BAY107-W43EC3F40FA62254E5F9801A5870@phx.gbl>
Message-ID: <531FCAE3.ACD9.4F48.A46E.A5121721A1FC@aol.com>


Mr. Ossipoff:

It sounds like this list does not welcome general map projection 
chatter. The ICA Commission list is out of service because of problems 
with our hosting organization. You are welcome to subscribe when it is 
back in service.

Regards,
-- daan Strebe


On Jul 24, 2008, at 4:07:20 PM, "Michael Ossipoff" <mikeo2106 at msn.com> 
wrote:
 From:  "Michael Ossipoff" <mikeo2106 at msn.com>
Subject:    [Proj] My Aitoff error
Date:   July 24, 2008 4:07:20 PM PDT
To: proj at lists.maptools.org


What made the determination of Aitoff's scale variation difficult for 
me was the fact that I was trying to make it easy, by the sort of 
informal approach that I'm used to with simper projections. Apparently 
with Aitoff there's no substitute for actually writing X and Y as 
functions of lat and lon, and then differentiating X and Y with 
respect to lat and lon.

Mike Ossipoff

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080724/c4146081/attachment.html>

From jmckenna at gatewaygeomatics.com  Mon Jul 28 14:52:58 2008
From: jmckenna at gatewaygeomatics.com (Jeff McKenna)
Date: Mon, 28 Jul 2008 17:52:58 -0400
Subject: [Proj] nad2nad.exe build error
Message-ID: <2FCED0D0-4FFB-45F0-ADA3-8F5F535010DC@gatewaygeomatics.com>

Hello,

I am trying to build proj-4.6.0 (and/or CVS version) with MSVC 2003 -  
all builds fine except nad2nad.exe, which gives the following errors  
in both CVS and the 4.6.0 release:

Microsoft (R) Incremental Linker Version 7.10.3077
Copyright (C) Microsoft Corporation.  All rights reserved.

/out:nad2nad.exe
nad2nad.obj
emess.obj
proj_i.lib
nad2nad.obj : error LNK2001: unresolved external symbol _pj_s_utm
nad2nad.obj : error LNK2001: unresolved external symbol _pj_utm
nad2nad.obj : error LNK2001: unresolved external symbol _pj_s_tmerc
nad2nad.obj : error LNK2001: unresolved external symbol _pj_tmerc
nad2nad.obj : error LNK2001: unresolved external symbol _pj_s_poly
nad2nad.obj : error LNK2001: unresolved external symbol _pj_poly
nad2nad.obj : error LNK2001: unresolved external symbol _pj_s_omerc
nad2nad.obj : error LNK2001: unresolved external symbol _pj_omerc
nad2nad.obj : error LNK2001: unresolved external symbol _pj_s_lcc
nad2nad.obj : error LNK2001: unresolved external symbol _pj_lcc
nad2nad.obj : error LNK2019: unresolved external symbol _nad_init  
referenced in
function _set_zone
nad2nad.obj : error LNK2019: unresolved external symbol _nad_cvt  
referenced in f
unction _process
nad2nad.obj : error LNK2019: unresolved external symbol _pj_release  
referenced i
n function _main
nad2nad.exe : fatal error LNK1120: 13 unresolved externals
NMAKE : fatal error U1077: 'cl' : return code '0x2'
Stop.


Any advice to resolve this is appreciated.


---
Jeff McKenna
FOSS4G Consulting and Training Services
http://www.gatewaygeomatics.com/







From didier.richard at ign.fr  Tue Jul 29 02:00:05 2008
From: didier.richard at ign.fr (Richard didier)
Date: Tue, 29 Jul 2008 11:00:05 +0200
Subject: [Proj] PROJ 4.6.1 RC1
In-Reply-To: <200807231335.49363.didier.richard@ign.fr>
References: <48853AB4.9020809@pobox.com> <4886AEB4.3010901@pobox.com>
	<200807231335.49363.didier.richard@ign.fr>
Message-ID: <200807291100.05137.didier.richard@ign.fr>

Le Mercredi 23 Juillet 2008 13:35, Richard didier a écrit :
> Le Mercredi 23 Juillet 2008 06:08, Frank Warmerdam a écrit :
> > Gerald I. Evenden wrote:
> > > On Monday 21 July 2008 9:41:08 pm Frank Warmerdam wrote:
> >
> > ...
> >
> > >>   o Added the glabsgm (Gauss Laborde / Sphere Geometric Mean)
> > >> projection
> > >
> > > Excuse me for forgetfulness.  This is really the Gauss-Schreiber
> > > projection that we went over a few months ago.  Aka +proj=stmerc
> >
> > Gerald,
> >
> > I'm going to hold back on the 4.6.1 release till this can be worked out.
> > There is no point in letting this into widespread use with different
> > names from libproj4.  I've created a ticket for the issue and assigned it
> > to Richard Didier:
> >
> >    http://trac.osgeo.org/proj/ticket/8
> >
> > Richard Didier can bring PROJ.4 into line with libproj4, or provide an
> > explanation for why there is a difference.  I haven't heard from Richard
> > on other points in a couple days so he may be on vacation.
>
> All,
>
> I am not in vacation (but will be in few days), but still working on
> various subjects including PROJ.4, GDAL, PROJ4JS, OpenLayers, ...
>
> I have replied to the ticket and await for a decision : the change is quite
> heavy on our side (not so on PROJ.4 side) cause our CRS catalogues (PROJ.4,
> PROJ4JS, ISO, etc ...) rely on 'glabsgm'. So, I will have, after changing
> if accepted PROJ.4 to modify them all.
>

All,

I updated PROJ.4 trunk with gstmerc (Gauss-Schreiber Transverse Mercator) - 
See above ticket for the long discussion with Gerald.

> > Thanks for the review!
> >
> > Best regards,
>
> All the best,
>
> didier

Regards,

didier
-- 
Didier RICHARD, chef du pôle technique Géoportail pour l'IGN
Institut Geographique National           tel: +33/0 1.43.98.83.23
2/4 Avenue Pasteur                       fax: +33/0 1.43.98.80.88
F-94165 St-Mande Cedex                e-mail: Didier.Richard at ign.fr




From usha.regadi at gmail.com  Tue Jul 29 21:46:09 2008
From: usha.regadi at gmail.com (usha regadi)
Date: Wed, 30 Jul 2008 10:16:09 +0530
Subject: [Proj] (no subject)
Message-ID: <496faffa0807292146h7718ca2ay70bd5802d708c50b@mail.gmail.com>

hello

      give me procedure to perform inv projection operation to convert the
coordinates from x,y to  (lambda, phi)

regards
usha
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080730/b77468f8/attachment.html>

From warmerdam at pobox.com  Tue Jul 29 22:36:51 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed, 30 Jul 2008 01:36:51 -0400
Subject: [Proj] (no subject)
In-Reply-To: <496faffa0807292146h7718ca2ay70bd5802d708c50b@mail.gmail.com>
References: <496faffa0807292146h7718ca2ay70bd5802d708c50b@mail.gmail.com>
Message-ID: <488FFDF3.1050301@pobox.com>

usha regadi wrote:
> hello
> 
>       give me procedure to perform inv projection operation to convert 
> the coordinates from x,y to  (lambda, phi)
> 
> regards
> usha

Usha,

I think you need to give more context to get a good answer.  Do you want
to do it with commandline utilities?  C API?  Do you just want the math?

What projected coordinate system are you interested in?  I'll assume
you mean projected easting,northing by x,y and longitude,latitude by
lambda,phi.  If that is so, perhaps a commandline example for a particular
projection would be helpful.

proj -I +proj=utm +zone=11 +ellpse=WGS84 < in.dat > out.dat

in.dat might contain a value like:

400000 3730000

and then out.dat will be written as:

118d4'44.85"W   33d42'18.962"N

In the above command, the -I means inverse (ie. projected to geographic rather
than geographic to projected), and +proj=utm +zone=11 +ellps=WGS84 defines the
coordinate system.

Keep in mind, the quality of the answer you get does bear some relation to
the quality of the question.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org



From timmichelsen at gmx-topmail.de  Thu Jul 31 09:18:53 2008
From: timmichelsen at gmx-topmail.de (Tim Michelsen)
Date: Thu, 31 Jul 2008 16:18:53 +0000 (UTC)
Subject: [Proj] proj4 GUI or webinterface?
Message-ID: <loom.20080731T161651-513@post.gmane.org>

Hello,
are you aware of a coordinate conversion tool that can convert a pair of
coordinates or file with coordinates?

I am looking for
* a Desktop GUI
* a web interface
that is based on proj4.

Thanks and kind regards,
Timmie



From francesco.pirotti at unipd.it  Thu Jul 31 12:12:26 2008
From: francesco.pirotti at unipd.it (francesco)
Date: Thu, 31 Jul 2008 19:12:26 +0000
Subject: [Proj] grid based transformation 
Message-ID: <L78J3.159270Q8@unipd.it>

Hello everyone,

I wanted to know if grid based transformations can be somehow implemented for other reference systems other than NAD ... I am up to programming if someone gives me hints on where to look for the code that uses the grid parameters.

Cheers,

Francesco Pirotti
Dip.to TESAF 
Università di Padova
tel. 049-8272710 349 5539261




From cjmce at lsu.edu  Thu Jul 31 10:27:41 2008
From: cjmce at lsu.edu (Clifford J Mugnier)
Date: Thu, 31 Jul 2008 12:27:41 -0500
Subject: [Proj] grid based transformation 
References: <L78J3.159270Q8@unipd.it>
Message-ID: <B597ADFC46B67741B18EA6AA13613FF7EC2379@email002.lsu.edu>

Francesco,
 
The code is easy to find; for both Mincurve for the NADCON algorithm (from www.ngs.noaa.gov), as well as the NTv2 method for the Canadian/Australian nations and elsewhere.  The NTv2 method of variable grid spacing was discussed on this forum in the past several weeks along with links to all of the source code.  The major problem, though, is where are you going to find the data?  These techniques depend on data, and for a regional or national datum transformation based on a grid system ... you need ALL the control point coordinates on BOTH datums.  That's a pretty tall order for many countries.  Professor Charles Merry did it for the Union of South Africa some years ago when they upgraded to the Hartbeeshoek System.
 
You have access to everything in the files of IGM - Firenze?
 
Wow!
 
Clifford J. Mugnier, C.P., C.M.S.
LSU Student ASCE Chapter Faculty Advisor
and
Past National Director (2006-2008),
Photogrammetric Applications Division
American Society for Photogrammetry and Remote Sensing 
and 
Chief of Geodesy,
CENTER FOR GEOINFORMATICS 
Department of Civil Engineering 
Patrick F. Taylor Hall 3223A
LOUISIANA STATE UNIVERSITY 
Baton Rouge, LA  70803
Voice and Facsimile:  (225) 578-8536 [Academic] 
Voice and Facsimile:  (225) 578-4474 [Research] 
Honorary Life Member of the 
Louisiana Society of Professional Surveyors 
Member Emeritus of the ASPRS 
Member of the Americas Petroleum Survey Group
======================================================
http://www.asprs.org/resources/GRIDS/
======================================================

________________________________

From: proj-bounces at lists.maptools.org on behalf of francesco
Sent: Thu 31-Jul-08 14:12
To: Proj at lists.maptools.org
Subject: [Proj] grid based transformation 



Hello everyone,

I wanted to know if grid based transformations can be somehow implemented for other reference systems other than NAD ... I am up to programming if someone gives me hints on where to look for the code that uses the grid parameters.

Cheers,

Francesco Pirotti
Dip.to TESAF
Università di Padova
tel. 049-8272710 349 5539261


_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080731/4dd33e39/attachment.html>

From didier.richard at ign.fr  Thu Jul 31 11:45:05 2008
From: didier.richard at ign.fr (RICHARD Didier)
Date: Thu, 31 Jul 2008 20:45:05 +0200 (CEST)
Subject: [Proj] proj4 GUI or webinterface?
In-Reply-To: <loom.20080731T161651-513@post.gmane.org>
References: <loom.20080731T161651-513@post.gmane.org>
Message-ID: <33291.87.231.103.222.1217529905.squirrel@87.231.103.222>


> Hello,
> are you aware of a coordinate conversion tool that can convert a pair of
> coordinates or file with coordinates?
>
> I am looking for
> * a Desktop GUI
> * a web interface
> that is based on proj4.
>

PROJ4JS is your friend, it is also integrated with OpenLayers.
See

http://docs.codehaus.org/display/MAP/Proj4js

and

http://dev.openlayers.org/releases/OpenLayers-2.6/doc/apidocs/files/OpenLayers/Projection-js.html

> Thanks and kind regards,
> Timmie
>

didier
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
>


-- 
RICHARD Didier - Chef du pôle technique du Géoportail
2/4, avenue Pasteur - 94165 Saint Mandé Cedex
Tél : +33 (0) 1 43 98 83 23


