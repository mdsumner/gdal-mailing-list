From mfinn at usgs.gov  Mon Nov  3 10:50:58 2008
From: mfinn at usgs.gov (Michael P Finn)
Date: Mon, 3 Nov 2008 11:50:58 -0700
Subject: [Proj] FYI -- Cartographer Job
Message-ID: <OF324B411E.9DCD83A7-ON872574F6.0063A60D-872574F6.00678A63@usgs.gov>

Apologies for cross-posting


Please share with potential candidates:


http://jobsearch.usajobs.gov/ftva.asp?seeker=1&JobID=76886680 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20081103/e0fb30eb/attachment.html>

From mfinn at usgs.gov  Mon Nov  3 11:30:52 2008
From: mfinn at usgs.gov (Michael P Finn)
Date: Mon, 3 Nov 2008 12:30:52 -0700
Subject: [Proj] FYI -- Cartographer Job
In-Reply-To: <200811031416.38845.geraldi.evenden@gmail.com>
Message-ID: <OFBAA3BB60.D19D076C-ON872574F6.006B0906-872574F6.006B3184@usgs.gov>

Gerald,

I concur with your observation of the HR hyperbole!

If you click on the duties tab, it will tell you the division and the job 
description.

Mike





"Gerald I. Evenden" <geraldi.evenden at gmail.com> 
11/03/2008 12:16 PM
Please respond to
geraldi.evenden at gmail.com


To
proj at lists.maptools.org
cc
Michael P Finn <mfinn at usgs.gov>, "gisco at lists.colorado.edu" 
<gisco at lists.colorado.edu>, caglist at lists.uvic.ca, webmaster at ucgis.org, 
cisg at esg1.cos.gmu.edu, lis-maps at jiscmail.ac.uk, USIALE-L at listserv.uri.edu, 
ncargis at eol.ucar.edu, geog-lobby at lists.colorado.edu
Subject
Re: [Proj] FYI -- Cartographer Job






On Monday 03 November 2008 1:50:58 pm Michael P Finn wrote:
> Apologies for cross-posting
>
>
> Please share with potential candidates:
>
>
> http://jobsearch.usajobs.gov/ftva.asp?seeker=1&JobID=76886680

As a retired USGS employee of 30+ years service I was greatly bemused by 
the 
first paragraph.  It is always interesting to see the hyperbole that the 
HR 
people come up with.

Curious which division the job is with and why they did not include a job 
description or at least a summary in the ad.

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20081103/68702996/attachment.html>

From bea at ixsea.com  Tue Nov  4 05:22:37 2008
From: bea at ixsea.com (=?iso-8859-1?Q?Beno=EEt_Andrieu?=)
Date: Tue, 4 Nov 2008 14:22:37 +0100
Subject: [Proj] Any access to geodetic functions ??
Message-ID: <3D443083DF9B46BF8CCE68514010BD7B@ixsea.local>

Hi all,

We are using Proj4 in our softwares and we are using too Mapserver (FWTools compilation).
Actually, we are using custom built dlls for Proj4 : proj.dll and geod.dll. Those builds are based on the Proj4 4.5.0 version.
Why we have custom builds is that there was at the time no access to geodetic functions (and I need them... ^^).

>From what I remember, this is the kind of messages that made me make custom builds :
http://osdir.com/ml/gis.proj-4.devel/2006-12/msg00006.html

We are actually switching from FWTools 1.3.2 to FWTools 2.2.6 which should embed Proj4 4.6.1.
So if I want my softwares to be synchronized with this version I would have to recompile a Proj4 4.6.1 to have access to the geodetic functions 'except' if they are already exported.

So my question is : are the geodetic functions now exported ? (please answer yes ...)
And if affirmative, in which dlls will I be able to find them ? (coz I can't find them actually)

Thanks in advance.

Benoît Andrieu
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20081104/64c75f79/attachment.html>

From strebe at aol.com  Tue Nov  4 12:38:36 2008
From: strebe at aol.com (strebe)
Date: Tue, 04 Nov 2008 12:38:36 -0800
Subject: [Proj] A Cornucopia of Map Projections
Message-ID: <25956C97.C46D.481B.915F.576EBD29BB1E@aol.com>


A visualization of distortion on about 170 map projections. Don't forget to use your browser's zoom-in function. For your viewing pleasure:

http://www.mapthematics.com/Cornucopia33.jpg

Regards,
-- daan Strebe
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20081104/f8fb124d/attachment.html>

From pbander at cavtel.net  Tue Nov  4 13:54:23 2008
From: pbander at cavtel.net (Paul B. Anderson)
Date: Tue, 4 Nov 2008 16:54:23 -0500
Subject: [Proj] A Cornucopia of Map Projections
In-Reply-To: <25956C97.C46D.481B.915F.576EBD29BB1E@aol.com>
References: <25956C97.C46D.481B.915F.576EBD29BB1E@aol.com>
Message-ID: <22d795600811041354j355aad91p128099743c570f26@mail.gmail.com>

- Daan,

You have obviously spent a lot of time on this and produced a really nice
graphic! Is the programming technique you used based on the multi-color
experiments by Keith C. Clarke and Karen A. Mulcahy, or are the graphics
based on your own experiments?

I'll definately pass your link around!

Thanks,
Paul

On Tue, Nov 4, 2008 at 3:38 PM, strebe <strebe at aol.com> wrote:

>
> A visualization of distortion on about 170 map projections. Don't forget to
> use your browser's zoom-in function. For your viewing pleasure:
>
> http://www.mapthematics.com/Cornucopia33.jpg
>
> Regards,
> -- daan Strebe
>
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20081104/bfdfd7c8/attachment.html>

From strebe at aol.com  Tue Nov  4 15:10:14 2008
From: strebe at aol.com (strebe)
Date: Tue, 04 Nov 2008 15:10:14 -0800
Subject: [Proj] Re: A Cornucopia of Map Projections
In-Reply-To: <22d795600811041354j355aad91p128099743c570f26@mail.gmail.com>
Message-ID: <F6B90A94.89A5.4042.8F29.02C9393A2CB0@aol.com>


Hi, Paul. Good to hear from you, and thanks for the kind words.

The coloring technique arose out of my own experiments. It's not noted on the graphic, but there is a an important subtlety at play: if the distortion representation is "contone" (continuous-tone) then the projection is neither equal-area nor conformal. This representation works well in simultaneously comparing and contrasting areal "flation" (inflation/deflation) and angular deformation (or "torsion" on the graphic).

If, on the other hand, the distortion is represented in discrete gradations, then the map is equal-area (magenta) or conformal (green). In these cases the gradations are important because otherwise there would be little for the brain to contrast against. The brain strongly prefers relative judgments over absolute. If you were to see just a gradual gradation of tone, you could not reliably judge whether two separated parts of the map have similar distortion. The gradations serve as isocols (isomegeths or level curves) with the additional service of conveying magnitude.

Thanks & regards,
-- daan Strebe


On Nov 4, 2008, at 1:54:23 PM, "Paul B. Anderson" <pbander at cavtel.net> wrote:
- Daan,
 
You have obviously spent a lot of time on this and produced a really nice graphic! Is the programming technique you used based on the multi-color experiments by Keith C. Clarke and Karen A. Mulcahy, or are the graphics based on your own experiments?
 
I'll definately pass your link around!
 
Thanks,
Paul

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20081104/678a10f8/attachment.html>

From thy at 42.dk  Tue Nov  4 15:21:16 2008
From: thy at 42.dk (Kristian Thy)
Date: Wed, 5 Nov 2008 00:21:16 +0100
Subject: [Proj] A Cornucopia of Map Projections
In-Reply-To: <25956C97.C46D.481B.915F.576EBD29BB1E@aol.com>
References: <25956C97.C46D.481B.915F.576EBD29BB1E@aol.com>
Message-ID: <20081104232116.GB21951@42.dk>

On Tue, Nov 04, strebe wrote:
> A visualization of distortion on about 170 map projections. Don't
> forget to use your browser's zoom-in function. For your viewing
> pleasure:
> 
> http://www.mapthematics.com/Cornucopia33.jpg

Very neat! (Especially like the UTM visualization ...)

Is there any chance of you putting up a png or other lossless version?
The jpeg artefacts make it less appealing as cubicle decoration ;)

\\kristian
-- 
... et nemo ex vobis interrogat me: »Quo vadis?«


From strebe at aol.com  Tue Nov  4 16:00:23 2008
From: strebe at aol.com (strebe)
Date: Tue, 04 Nov 2008 16:00:23 -0800
Subject: [Proj] A Cornucopia of Map Projections
In-Reply-To: <20081104232116.GB21951@42.dk>
Message-ID: <E55B5E13.7BD4.4CEE.9B21.A4D218F3F515@aol.com>


Kristian:

I appreciate the kind words. 

The original image is rendered at 300 dpi, 60 x 150 cm (5' x 2'). I have printed this on photographic paper. It's... well... let's just say people stare. Then they stare some more. Then they study it for a long, long time.

A TIFF rendition at full resolution runs about 35 MB with lossless compression. I do recommend full resolution and full size: the image contains an immense amount of real information. It need not be "merely" decorative. The image I posted publicly is 1/3² the resolution, and, as you noticed, is degraded both by the JPEG compression and the loss of resolution. I suppose it is still somewhat scientific, but it would not survive printing well at all. I am confident of that because I have produced smaller versions in print on the finest printers available, and those prints do not really convey the material.

I find I can retain full resolution in a 7 MB JPEG file without the compression artifacts becoming onerous, particularly when printed. I have placed it here:

http://www.mapthematics.com/Cornucopia100.jpg

If there is sufficient interest in print copies of this image at full size on archival paper with durable inks, I would consider a production run. I have the facilities for it. I haven't tried to figure out what it might cost.

Glad you liked UTM.
;-)
It's the inevitable consequence of a uniform scale throughout. I thought I'd leave it in as a joke.

Regards,
-- daan Strebe


On Nov 4, 2008, at 3:21:16 PM, "Kristian Thy" <thy at 42.dk> wrote:
From:   "Kristian Thy" <thy at 42.dk>
Subject:    Re: [Proj] A Cornucopia of Map Projections
Date:   November 4, 2008 3:21:16 PM PST
To: proj at lists.maptools.org
On Tue, Nov 04, strebe wrote:
> A visualization of distortion on about 170 map projections. Don't
> forget to use your browser's zoom-in function. For your viewing
> pleasure:
> 
> http://www.mapthematics.com/Cornucopia33.jpg

Very neat! (Especially like the UTM visualization ...)

Is there any chance of you putting up a png or other lossless version?
The jpeg artefacts make it less appealing as cubicle decoration ;)

\\kristian
-- 
... et nemo ex vobis interrogat me: »Quo vadis?«
_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20081104/ea449131/attachment.html>

From woklist at kyngchaos.com  Tue Nov  4 17:44:20 2008
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Tue, 4 Nov 2008 19:44:20 -0600
Subject: [Proj] A Cornucopia of Map Projections
In-Reply-To: <E55B5E13.7BD4.4CEE.9B21.A4D218F3F515@aol.com>
References: <E55B5E13.7BD4.4CEE.9B21.A4D218F3F515@aol.com>
Message-ID: <350463AF-6270-4968-AA9D-6D5E840FCC10@kyngchaos.com>

On Nov 4, 2008, at 6:00 PM, strebe wrote:

> I find I can retain full resolution in a 7 MB JPEG file without the  
> compression artifacts becoming onerous, particularly when printed. I  
> have placed it here:
>
> http://www.mapthematics.com/Cornucopia100.jpg
>

Very cool.

But this full-res image download keeps stopping with a server error at  
1.8MB, something about not being able to read the source file.

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"History is an illusion caused by the passage of time, and time is an  
illusion caused by the passage of history."

- Hitchhiker's Guide to the Galaxy




From strebe at aol.com  Tue Nov  4 19:00:36 2008
From: strebe at aol.com (strebe)
Date: Tue, 04 Nov 2008 19:00:36 -0800
Subject: [Proj] Re: A Cornucopia of Map Projections
In-Reply-To: <350463AF-6270-4968-AA9D-6D5E840FCC10@kyngchaos.com>
Message-ID: <8B472129.67E8.4CF0.A4FA.0CAB5AD254F1@aol.com>


Hm. I'm not having any difficulty downloading through an external pipe 
(other than slow because of competing traffic). I went ahead and 
increased some of the server maximums, such as simultaneous 
connections and time-out intervals. Perhaps that will solve your 
problem. Feel free to contact me off-list if you are still having 
trouble.

Regards,
-- daan Strebe


On Nov 4, 2008, at 5:44:20 PM, "William Kyngesburye" 
<woklist at kyngchaos.com> wrote:
 From:  "William Kyngesburye" <woklist at kyngchaos.com>
Subject:    Re: [Proj] A Cornucopia of Map Projections
Date:   November 4, 2008 5:44:20 PM PST
To: strebe <strebe at aol.com>
Cc: "PROJ.4 and general Projections Discussions" 
<proj at lists.maptools.org>
On Nov 4, 2008, at 6:00 PM, strebe wrote:

> I find I can retain full resolution in a 7 MB JPEG file without the 
> compression artifacts becoming onerous, particularly when printed. I 
> have placed it here:
> 
> http://www.mapthematics.com/Cornucopia100.jpg
> 

Very cool.

But this full-res image download keeps stopping with a server error at
1.8MB, something about not being able to read the source file.

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"History is an illusion caused by the passage of time, and time is an
illusion caused by the passage of history."

- Hitchhiker's Guide to the Galaxy





-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20081104/c59303fd/attachment.html>

From woklist at kyngchaos.com  Tue Nov  4 19:22:05 2008
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Tue, 4 Nov 2008 21:22:05 -0600
Subject: [Proj] Re: A Cornucopia of Map Projections
In-Reply-To: <8B472129.67E8.4CF0.A4FA.0CAB5AD254F1@aol.com>
References: <8B472129.67E8.4CF0.A4FA.0CAB5AD254F1@aol.com>
Message-ID: <97692F3B-7B1C-46A1-B816-4EC1816F09E4@kyngchaos.com>

On Nov 4, 2008, at 9:00 PM, strebe wrote:

> Hm. I'm not having any difficulty downloading through an external  
> pipe (other than slow because of competing traffic). I went ahead  
> and increased some of the server maximums, such as simultaneous  
> connections and time-out intervals. Perhaps that will solve your  
> problem. Feel free to contact me off-list if you are still having  
> trouble.


No joy.  It always cuts out at exactly 1885027 bytes.  Now the error I  
get is "Connection reset by peer".  This is Safari 3.1 on OSX.   
Loading it directly in Safari instead of downloading, it looks like it  
gets exactly 2 scans of the interlacing.

It stopped after a similar size in Firefox 3 (I couldn't get an exact  
byte count), the first time.  Now it just says "The network link was  
interrupted while negotiating a connection." without downloading  
anything.


If this doesn't help figure out if any more server config adjustments  
might help, I can wait until I'm at work tomorrow to try again.

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"Mon Dieu! but they are all alike.  Cheating, murdering, lying,  
fighting, and all for things that the beasts of the jungle would not  
deign to possess - money to purchase the effeminate pleasures of  
weaklings.  And yet withal bound down by silly customs that make them  
slaves to their unhappy lot while firm in the belief that they be the  
lords of creation enjoying the only real pleasures of existence....

- the wisdom of Tarzan




From strebe at aol.com  Tue Nov  4 19:56:10 2008
From: strebe at aol.com (strebe)
Date: Tue, 04 Nov 2008 19:56:10 -0800
Subject: [Proj] On downloading the high-res version of Cornucopia
In-Reply-To: <97692F3B-7B1C-46A1-B816-4EC1816F09E4@kyngchaos.com>
Message-ID: <42A01B3A.DB69.4AF7.B16F.68830693BCCD@aol.com>


After investigating several reports of trouble downloading the 
high-res version of "A Cornucopia of Map Projections", I have 
determined that at least some problems are unrelated to the server 
side. It seems some browsers on some combinations of OSes and hardware 
are unable to simultaneously retrieve and render an image so huge.

I have posted the file in ZIP archive form, resolving the troubles of 
those whom I worked with:

http://www.mapthematics.com/Cornucopia100.jpg.zip

Pick a capable viewer. The image is LARGE.

Regards,
-- daan Strebe


On Nov 4, 2008, at 7:22:05 PM, "William Kyngesburye" 
<woklist at kyngchaos.com> wrote:
On Nov 4, 2008, at 9:00 PM, strebe wrote:

> Hm. I'm not having any difficulty downloading through an external 
> pipe (other than slow because of competing traffic). I went ahead 
> and increased some of the server maximums, such as simultaneous 
> connections and time-out intervals. Perhaps that will solve your 
> problem. Feel free to contact me off-list if you are still having 
> trouble.


No joy.  It always cuts out at exactly 1885027 bytes.  Now the error I
get is "Connection reset by peer".  This is Safari 3.1 on OSX.
Loading it directly in Safari instead of downloading, it looks like it
gets exactly 2 scans of the interlacing.

It stopped after a similar size in Firefox 3 (I couldn't get an exact
byte count), the first time.  Now it just says "The network link was
interrupted while negotiating a connection." without downloading
anything.


If this doesn't help figure out if any more server config adjustments
might help, I can wait until I'm at work tomorrow to try again.

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"Mon Dieu! but they are all alike.  Cheating, murdering, lying,
fighting, and all for things that the beasts of the jungle would not
deign to possess - money to purchase the effeminate pleasures of
weaklings.  And yet withal bound down by silly customs that make them
slaves to their unhappy lot while firm in the belief that they be the
lords of creation enjoying the only real pleasures of existence....

- the wisdom of Tarzan




-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20081104/bf789a11/attachment.html>

From woklist at kyngchaos.com  Tue Nov  4 20:30:58 2008
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Tue, 4 Nov 2008 22:30:58 -0600
Subject: [Proj] On downloading the high-res version of Cornucopia
In-Reply-To: <42A01B3A.DB69.4AF7.B16F.68830693BCCD@aol.com>
References: <42A01B3A.DB69.4AF7.B16F.68830693BCCD@aol.com>
Message-ID: <DE038465-54BE-4E3B-9165-AA0414436C83@kyngchaos.com>

On Nov 4, 2008, at 9:56 PM, strebe wrote:

> I have posted the file in ZIP archive form, resolving the troubles  
> of those whom I worked with:
>
> http://www.mapthematics.com/Cornucopia100.jpg.zip
>
> Pick a capable viewer. The image is LARGE.
>
That worked.  Oooo, very nice.


-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"Mon Dieu! but they are all alike.  Cheating, murdering, lying,  
fighting, and all for things that the beasts of the jungle would not  
deign to possess - money to purchase the effeminate pleasures of  
weaklings.  And yet withal bound down by silly customs that make them  
slaves to their unhappy lot while firm in the belief that they be the  
lords of creation enjoying the only real pleasures of existence....

- the wisdom of Tarzan




From neteler at osgeo.org  Thu Nov  6 02:51:24 2008
From: neteler at osgeo.org (Markus Neteler)
Date: Thu, 6 Nov 2008 11:51:24 +0100
Subject: [Proj] International 1924 Authalic Sphere needed for EASE-Grid Snow
	data
Message-ID: <86782b610811060251g14df4b01wa2896d8a59ce54a0@mail.gmail.com>

Fellow list members,

I am trying to reproject Global EASE-Grid 8-day Blended SSM/I and
MODIS Snow Cover
which are projected in EASE-Grid North (AFAIK it is EPSG 3408):
 http://nsidc.org/data/ease/ease_grid.html

Using the EPSG tool of GDAL, I obtain the following
epsg_tr.py 3408
PROJCS["NSIDC EASE-Grid North",
    GEOGCS["Unspecified datum based upon the International 1924
Authalic Sphere",
        DATUM["Not_specified_based_on_International_1924_Authalic_Sphere",
            SPHEROID["International 1924 Authalic Sphere",6371228,0,
                AUTHORITY["EPSG","7057"]],
            AUTHORITY["EPSG","6053"]],
        PRIMEM["Greenwich",0,
            AUTHORITY["EPSG","8901"]],
        UNIT["degree",0.01745329251994328,
            AUTHORITY["EPSG","9122"]],
        AUTHORITY["EPSG","4053"]],
    UNIT["metre",1,
        AUTHORITY["EPSG","9001"]],
    PROJECTION["Lambert_Azimuthal_Equal_Area"],
    PARAMETER["latitude_of_center",90],
    PARAMETER["longitude_of_center",0],
    PARAMETER["false_easting",0],
    PARAMETER["false_northing",0],
    AUTHORITY["EPSG","3408"],
    AXIS["X",UNKNOWN],
    AXIS["Y",UNKNOWN]]

However, the International 1924 Authalic Sphere seems to be missing
from PROJ4.

Could this be officially added? Is it as simple as this code change (maybe
there is a better name to find)?

svn diff src/
Index: src/pj_ellps.c
===================================================================
--- src/pj_ellps.c      (revision 1490)
+++ src/pj_ellps.c      (working copy)
@@ -40,6 +40,7 @@
 "kaula",       "a=6378163.",  "rf=298.24", "Kaula 1961",
 "lerch",       "a=6378139.",  "rf=298.257", "Lerch 1979",
 "mprts",       "a=6397300.",  "rf=191.", "Maupertius 1738",
+"intl1924",    "a=6371228.0",  "b=6371228.0", "International 1924
Authalic Sphere",
 "new_intl",    "a=6378157.5", "b=6356772.2", "New International 1967",
 "plessis",     "a=6376523.",  "b=6355863.", "Plessis 1817 (France)",
 "SEasia",      "a=6378155.0", "b=6356773.3205", "Southeast Asia",

Best regards,
Markus Neteler


From hamish_b at yahoo.com  Thu Nov  6 05:45:55 2008
From: hamish_b at yahoo.com (Hamish)
Date: Thu, 6 Nov 2008 05:45:55 -0800 (PST)
Subject: [Proj] International 1924 Authalic Sphere needed for EASE-Grid
	Snow data
In-Reply-To: <86782b610811060251g14df4b01wa2896d8a59ce54a0@mail.gmail.com>
Message-ID: <681616.24064.qm@web110012.mail.gq1.yahoo.com>

Markus Neteler wrote:
> However, the International 1924 Authalic Sphere seems to be
> missing from PROJ4.
> 
> Could this be officially added? Is it as simple as this
> code change (maybe there is a better name to find)?

definitely a better name would be needed, as International 1924
Ellipsoid != International 1924 Authalic Sphere!

http://www.epsg-registry.org/report.htm?type=selection&entity=urn:ogc:def:ellipsoid:EPSG::7022&entity=urn:ogc:def:ellipsoid:EPSG::7057&reportDetail=short&style=urn:uuid:report-style:default-with-code&style_name=OGP%20Default%20With%20Code&title=


Hamish



      



From ovv at hetnet.nl  Thu Nov  6 08:22:34 2008
From: ovv at hetnet.nl (OvV_HN)
Date: Thu, 6 Nov 2008 17:22:34 +0100
Subject: [Proj] International 1924 Authalic Sphere needed for
	EASE-GridSnow data
In-Reply-To: <681616.24064.qm@web110012.mail.gq1.yahoo.com>
References: <681616.24064.qm@web110012.mail.gq1.yahoo.com>
Message-ID: <F878619E175044CBB65C3A6C7D70CD6C@PCHP>


----- Original Message ----- 
From: "Hamish" <hamish_b at yahoo.com>
To: "PROJ.4 and general Projections Discussions" <proj at lists.maptools.org>
Sent: Thursday, November 06, 2008 2:45 PM
Subject: Re: [Proj] International 1924 Authalic Sphere needed for
EASE-GridSnow data


> Markus Neteler wrote:
>> However, the International 1924 Authalic Sphere seems to be
>> missing from PROJ4.
>>
>> Could this be officially added? Is it as simple as this
>> code change (maybe there is a better name to find)?
>
> definitely a better name would be needed, as International 1924
> Ellipsoid != International 1924 Authalic Sphere!
>
> http://www.epsg-registry.org/report.htm?type=selection&entity=urn:ogc:def:ellipsoid:EPSG::7022&entity=urn:ogc:def:ellipsoid:EPSG::7057&reportDetail=short&style=urn:uuid:report-style:default-with-code&style_name=OGP%20Default%20With%20Code&title=
>

I don't get it - I know, it's in the EPSG database.
But: starting from the International 1924 ellipsoid, I get an authalic
radius of 6371227.7113... m.
Why don't they use that value?
Hm, could be the same reason as why they use the well known integer value of
6370997 m for the authalic radius of the Clarke 1966 ellipsoid instead of
the calculated value of 6370997.2406....

Oscar van Vlijmen






From geraldi.evenden at gmail.com  Thu Nov  6 09:27:03 2008
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Thu, 6 Nov 2008 12:27:03 -0500
Subject: [Proj] International 1924 Authalic Sphere needed for
	EASE-GridSnow data
In-Reply-To: <F878619E175044CBB65C3A6C7D70CD6C@PCHP>
References: <681616.24064.qm@web110012.mail.gq1.yahoo.com>
	<F878619E175044CBB65C3A6C7D70CD6C@PCHP>
Message-ID: <200811061227.03112.geraldi.evenden@gmail.com>

On Thursday 06 November 2008 11:22:34 am OvV_HN wrote:
> ----- Original Message -----
> From: "Hamish" <hamish_b at yahoo.com>
> To: "PROJ.4 and general Projections Discussions" <proj at lists.maptools.org>
> Sent: Thursday, November 06, 2008 2:45 PM
> Subject: Re: [Proj] International 1924 Authalic Sphere needed for
> EASE-GridSnow data
>
> > Markus Neteler wrote:
> >> However, the International 1924 Authalic Sphere seems to be
> >> missing from PROJ4.
> >>
> >> Could this be officially added? Is it as simple as this
> >> code change (maybe there is a better name to find)?
> >
> > definitely a better name would be needed, as International 1924
> > Ellipsoid != International 1924 Authalic Sphere!
> >
> I don't get it - I know, it's in the EPSG database.
> But: starting from the International 1924 ellipsoid, I get an authalic
> radius of 6371227.7113... m.
> Why don't they use that value?
> Hm, could be the same reason as why they use the well known integer value
> of 6370997 m for the authalic radius of the Clarke 1966 ellipsoid instead
> of the calculated value of 6370997.2406....
>
> Oscar van Vlijmen

To get the "Authalic" or radius of sphere with equivalent surface area in 
libproj use R_A option as in this lproj example:

gie at charon:~/CARTO/libproj4/src$ lproj +proj=tmerc +ellps=clrk66 +R_A -V
#Transverse Mercator
#       Cyl, Sph&Ell
# +proj=tmerc +ellps=clrk66 +R_A
#Final Earth figure: sphere
#  Radius: 6370997.241 

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist


From geraldi.evenden at gmail.com  Thu Nov  6 10:17:46 2008
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Thu, 6 Nov 2008 13:17:46 -0500
Subject: [Proj] libproj4: next author release
Message-ID: <200811061317.46472.geraldi.evenden@gmail.com>

The most difficult aspect of iterative inverse projection solutions is finding 
adequate initial coordinate guesses, especially with elliptically shaped 
outlines such as Hammer and Aitoff.  The ones I currently have work but could 
be improved but one needs to draw the line somewhere.

I have persisted in retaining the GSL as the method of choice as it is much 
superior to the raw Newton-Raphson method with each iteration generally 
refining the position by 10^-3 and more while the former plugs along at 
10^-2.  In addition, the GSL works nicely (almost as well as basic 
Newton-Raphson) when analytic derivatives are not known.

If the GPL license required by the the GSL is too stringent then the 
distribution is easily compiled without the GSL tools---and no new inverses.  
This condition has been in effect for some time as it already affects other 
projection(s).

I do not distribute the GSL library because I do not have a copy of the 
sources to distribute.  My library is downloaded by RPM from Ubuntu sources.

libproj4 update should be on my website this weekend.

The next release will be split into two tars: libproj4 itself and program 
lproj will be moved to a separate container.  The reason for this is that I 
am going to upgrade lproj to include better runline option inclusion 
operations with the help of 'gengetopt' and use of "runline" input.  The 
later is born out of my poor typing skills and having to retype the whole 
line rather than simply <bs>/correct.

In addition, I will restore the input of flat-file projection definition data 
base capability once available with proj but without reference to include 
files---+no_def remains an ignored option.  Thus <id> +options <> will be 
back in effect.  I will probably modify <id> to <id:comments> where the ':' 
will delimit the identifier key.  Usage will be something 
like --lookup=id at filename (or something similar).

Options like --roundtrip for cycling though forward->inverse will be included 
and possibly escaping input to allow reinitializing a projection from the 
input stream.

For cases where lproj is simply used as pipe plumbing a stripped down version 
of lproj will be included and will probably simply  be called 'proj'.

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist


From geraldi.evenden at gmail.com  Sun Nov  9 10:32:02 2008
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Sun, 9 Nov 2008 13:32:02 -0500
Subject: [Proj] Standard meridians
Message-ID: <200811091332.02621.geraldi.evenden@gmail.com>

While I am in the mood to study changes/enhancements I remember the old 
request for specifying standard meridians.

I previously pooh-poohed the idea as I felt is was a function of the 
application program and not a library operation.

What is a question in my mind is what does the standard meridian correction 
apply to?  All longitude including option control longitude like lon_0, or 
just selected elements that refer to some longitude parameter (lon_0 is the 
only one I can think of).  Does the correction apply to input/output 
geographic data?  If it is both I/O data and control data why 
bother---consider the entire run as in the alternate standard meridian space.

Bottom line: if there is a correction for standard meridian, to what aspects 
of longitude in the projection process does it apply?

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist


From geraldi.evenden at gmail.com  Sun Nov  9 10:22:02 2008
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Sun, 9 Nov 2008 13:22:02 -0500
Subject: [Proj] New libproj4 release
Message-ID: <200811091322.02849.geraldi.evenden@gmail.com>

As promised, the new version of libproj4 is available at:

http://members.verizon.net/~gerald.evenden/proj4

Besides adding inverse to Aitoff, Winkel Tripel, Hammer, etc., the new 
initialization proj_initstr() is available, and the convergence sign of lcc 
is fixed.  Obviously, patches to ancillary files (lib_proj.h, ...) are also 
involved.

Added text in manual.pdf describing most of the changes.

Remember, any program that uses the new proj_init.c can use run-line input 
such as:
	"+proj=poly ellps=clrk66"
In addition to having the initialization of
     proj_initstr("proj=utm zone=20 south")
any sting element in the array method of proj_init may have multiple blank 
separated arguments.

Again, a reminder, the '+' at the beginning of a contrl keyword is optional 
and ignored by the proj interpreter.  Requirement of the + is a function of 
how the application program is collecting the control keywords.

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist


From warmerdam at pobox.com  Mon Nov 10 13:59:35 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon, 10 Nov 2008 16:59:35 -0500
Subject: [Proj] Any access to geodetic functions ??
In-Reply-To: <3D443083DF9B46BF8CCE68514010BD7B@ixsea.local>
References: <3D443083DF9B46BF8CCE68514010BD7B@ixsea.local>
Message-ID: <4918AEC7.8000607@pobox.com>

Benoît Andrieu wrote:
> Hi all,
>  
> We are using Proj4 in our softwares and we are using too Mapserver 
> (FWTools compilation).
> Actually, we are using custom built dlls for Proj4 : proj.dll and 
> geod.dll. Those builds are based on the Proj4 4.5.0 version.
> Why we have custom builds is that there was at the time no access to 
> geodetic functions (and I need them... ^^).
>  
>  From what I remember, this is the kind of messages that made me make 
> custom builds :
> http://osdir.com/ml/gis.proj-4.devel/2006-12/msg00006.html
>  
> We are actually switching from FWTools 1.3.2 to FWTools 2.2.6 which 
> should embed Proj4 4.6.1.
> So if I want my softwares to be synchronized with this version I would 
> have to recompile a Proj4 4.6.1 to have access to the geodetic functions 
> 'except' if they are already exported.
>  
> So my question is : are the geodetic functions now exported ? (please 
> answer yes ...)
> And if affirmative, in which dlls will I be able to find them ? (coz I 
> can't find them actually)

Benoît,

Currently the geodesic functions are not exported from proj.dll, nor
(I think) are they even built into the DLL.   I'm a bit hesitant to treat
them as part of the support PROJ.4 API since they are quite distinct
from the core of PROJ.4.  The geod_* functions also depend on global
variables which is not a pattern I'm keen on setting in stone.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From marcotuckner at public-files.de  Mon Nov 10 06:03:51 2008
From: marcotuckner at public-files.de (Marco Tuckner)
Date: Mon, 10 Nov 2008 14:03:51 +0000 (UTC)
Subject: [Proj] converting from ITRF96 to UTM
Message-ID: <loom.20081110T133622-331@post.gmane.org>

Hello,
I have coordinates which I would like to project from 
ITRF96 (EPSG:4917) to UTM.

The coordinates are present in x, y, z as cartesian coordinates in the geodetic
reference system ITRF96.
How do I transform them into UTM coordinates in geographic coordinates like UTM
(WGS 84 datum)?

If I'd just use proj4 and specify the EPSG number it tells me that the very EPSG
code is not supported.

There is a online converter at:
http://www.geodetic.gov.hk/smo/tform/tform.aspx
But it can only take geographic coordinates as input.

Any help is greatly appreciated.

Kind regards,
Marco



From jagoncal at gmail.com  Mon Nov 10 15:14:02 2008
From: jagoncal at gmail.com (=?ISO-8859-1?Q?Jose_Gon=E7alves?=)
Date: Mon, 10 Nov 2008 23:14:02 +0000
Subject: [Proj] converting from ITRF96 to UTM
In-Reply-To: <loom.20081110T133622-331@post.gmane.org>
References: <loom.20081110T133622-331@post.gmane.org>
Message-ID: <6a91fcb00811101514o4ebcbd4q7ba233c76837e51b@mail.gmail.com>

The following command line converts from cartesian geocentric to UTM (xx is
the UTM zone number):
cs2cs +ellps=WGS84 +proj=geocent +to +ellps=WGS84 +proj=utm +zone=xx



Jose' A. Gonçalves


2008/11/10 Marco Tuckner <marcotuckner at public-files.de>

> Hello,
> I have coordinates which I would like to project from
> ITRF96 (EPSG:4917) to UTM.
>
> The coordinates are present in x, y, z as cartesian coordinates in the
> geodetic
> reference system ITRF96.
> How do I transform them into UTM coordinates in geographic coordinates like
> UTM
> (WGS 84 datum)?
>
> If I'd just use proj4 and specify the EPSG number it tells me that the very
> EPSG
> code is not supported.
>
> There is a online converter at:
> http://www.geodetic.gov.hk/smo/tform/tform.aspx
> But it can only take geographic coordinates as input.
>
> Any help is greatly appreciated.
>
> Kind regards,
> Marco
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20081110/65537819/attachment.html>

From bea at ixsea.com  Wed Nov 12 01:06:55 2008
From: bea at ixsea.com (=?iso-8859-1?Q?Beno=EEt_Andrieu?=)
Date: Wed, 12 Nov 2008 10:06:55 +0100
Subject: [Proj] Any access to geodetic functions ??
In-Reply-To: <4918AEC7.8000607@pobox.com>
References: <3D443083DF9B46BF8CCE68514010BD7B@ixsea.local>
	<4918AEC7.8000607@pobox.com>
Message-ID: <E6E7DF4402AD4621B30E16556CBECB55@ixsea.local>

Thank you so much for your answer, Frank.

So, this leads to some questions (that are somehow related...) :
- how are computed distance calculation between two points by softwares like 
Postgis for example ?
- is the best way to compute distance calculation to use UTM systems ? I 
have to compute distances that could be very long (hundreds of kilometers), 
strong accuracy is not required but I don't want to have more than 1% 
accuracy error.
- in what way are those functions distinct from the proj4 ? Am I wrong to 
use them ? Are there others functions in proj4 that would allow me to do the 
same things that I can do with those functions (distance calculation between 
two points and point positionning given initial point, distance and azimuth) 
?

Thanks again.

Best regards,

Benoît Andrieu
bea at ixsea.com
benoit.andrieu at gmail.com

----- Original Message ----- 
From: "Frank Warmerdam" <warmerdam at pobox.com>
To: "PROJ.4 and general Projections Discussions" <proj at lists.maptools.org>
Sent: Monday, November 10, 2008 10:59 PM
Subject: Re: [Proj] Any access to geodetic functions ??


> Benoît Andrieu wrote:
>> Hi all,
>>  We are using Proj4 in our softwares and we are using too Mapserver 
>> (FWTools compilation).
>> Actually, we are using custom built dlls for Proj4 : proj.dll and 
>> geod.dll. Those builds are based on the Proj4 4.5.0 version.
>> Why we have custom builds is that there was at the time no access to 
>> geodetic functions (and I need them... ^^).
>>  From what I remember, this is the kind of messages that made me make 
>> custom builds :
>> http://osdir.com/ml/gis.proj-4.devel/2006-12/msg00006.html
>>  We are actually switching from FWTools 1.3.2 to FWTools 2.2.6 which 
>> should embed Proj4 4.6.1.
>> So if I want my softwares to be synchronized with this version I would 
>> have to recompile a Proj4 4.6.1 to have access to the geodetic functions 
>> 'except' if they are already exported.
>>  So my question is : are the geodetic functions now exported ? (please 
>> answer yes ...)
>> And if affirmative, in which dlls will I be able to find them ? (coz I 
>> can't find them actually)
>
> Benoît,
>
> Currently the geodesic functions are not exported from proj.dll, nor
> (I think) are they even built into the DLL.   I'm a bit hesitant to treat
> them as part of the support PROJ.4 API since they are quite distinct
> from the core of PROJ.4.  The geod_* functions also depend on global
> variables which is not a pattern I'm keen on setting in stone.
>
> Best regards,
> -- 
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam, 
> warmerdam at pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj 



From Mikael.Rittri at carmenta.com  Wed Nov 12 06:50:04 2008
From: Mikael.Rittri at carmenta.com (Mikael Rittri)
Date: Wed, 12 Nov 2008 15:50:04 +0100
Subject: [Proj] Any access to geodetic functions ??
In-Reply-To: <E6E7DF4402AD4621B30E16556CBECB55@ixsea.local>
References: <3D443083DF9B46BF8CCE68514010BD7B@ixsea.local><4918AEC7.8000607@pobox.com>
	<E6E7DF4402AD4621B30E16556CBECB55@ixsea.local>
Message-ID: <FAF6E56B26D2044696772EBE89B1535101402835@posty.carmenta.se>

If 1 percent accuracy is enough, I think you can use spherical formulas 
with a fixed Earth radius. You can find good formulas in the Aviation Formulary 
of Ed Williams, http://williams.best.vwh.net/avform.htm . 

For the fixed Earth radius, I would choose the average of the 
    c   = radius of curvature at the poles, 
b^2 / a = radius of curvature in a meridian plane at the equator,
since these are the extreme values for the local radius of 
curvature of the earth ellipsoid.

If your coordinates are given in WGS84, then 
    c   = 6 399 593.626 m, 
b^2 / a = 6 335 439.327 m, 
(see http://home.online.no/~sigurdhu/WGS84_Eng.html ) 
so their average is 6 367 516.477 m. 
The maximal error for distance calculation should then be less than 0.51 percent.

When computing the azimuth between two points by the spherical formulas, 
I think the maximal error on WGS84 will be 0.2 degrees, at least if 
the points are not too far away (less than 1000 km apart, say).
The error should be maximal near the equator, for azimuths near northeast etc. 

I am not sure about the spherical errors for the forward geodetic problem:
point positioning given initial point, distance and azimuth. 

Best regards,
--
Mikael Rittri
Carmenta AB
Box 11354
SE-404 28 Göteborg
Visitors: Sankt Eriksgatan 5
SWEDEN
Tel: +46-31-775 57 37
Mob: +46-703-60 34 07 
mikael.rittri at carmenta.com
www.carmenta.com

-----Original Message-----
From: proj-bounces at lists.maptools.org [mailto:proj-bounces at lists.maptools.org] On Behalf Of Benoît Andrieu
Sent: den 12 november 2008 10:07
To: PROJ.4 and general Projections Discussions
Subject: Re: [Proj] Any access to geodetic functions ??

Thank you so much for your answer, Frank.

So, this leads to some questions (that are somehow related...) :
- how are computed distance calculation between two points by softwares like Postgis for example ?
- is the best way to compute distance calculation to use UTM systems ? I have to compute distances that could be very long (hundreds of kilometers), strong accuracy is not required but I don't want to have more than 1% accuracy error.
- in what way are those functions distinct from the proj4 ? Am I wrong to use them ? Are there others functions in proj4 that would allow me to do the same things that I can do with those functions (distance calculation between two points and point positionning given initial point, distance and azimuth) ?

Thanks again.

Best regards,

Benoît Andrieu
bea at ixsea.com
benoit.andrieu at gmail.com

----- Original Message -----
From: "Frank Warmerdam" <warmerdam at pobox.com>
To: "PROJ.4 and general Projections Discussions" <proj at lists.maptools.org>
Sent: Monday, November 10, 2008 10:59 PM
Subject: Re: [Proj] Any access to geodetic functions ??


> Benoît Andrieu wrote:
>> Hi all,
>>  We are using Proj4 in our softwares and we are using too Mapserver 
>> (FWTools compilation).
>> Actually, we are using custom built dlls for Proj4 : proj.dll and 
>> geod.dll. Those builds are based on the Proj4 4.5.0 version.
>> Why we have custom builds is that there was at the time no access to 
>> geodetic functions (and I need them... ^^).
>>  From what I remember, this is the kind of messages that made me make 
>> custom builds :
>> http://osdir.com/ml/gis.proj-4.devel/2006-12/msg00006.html
>>  We are actually switching from FWTools 1.3.2 to FWTools 2.2.6 which 
>> should embed Proj4 4.6.1.
>> So if I want my softwares to be synchronized with this version I would 
>> have to recompile a Proj4 4.6.1 to have access to the geodetic functions 
>> 'except' if they are already exported.
>>  So my question is : are the geodetic functions now exported ? (please 
>> answer yes ...)
>> And if affirmative, in which dlls will I be able to find them ? (coz I 
>> can't find them actually)
>
> Benoît,
>
> Currently the geodesic functions are not exported from proj.dll, nor
> (I think) are they even built into the DLL.   I'm a bit hesitant to treat
> them as part of the support PROJ.4 API since they are quite distinct
> from the core of PROJ.4.  The geod_* functions also depend on global
> variables which is not a pattern I'm keen on setting in stone.
>
> Best regards,
> -- 
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam, 
> warmerdam at pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj 

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj



From warmerdam at pobox.com  Wed Nov 12 07:50:37 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed, 12 Nov 2008 10:50:37 -0500
Subject: [Proj] Any access to geodetic functions ??
In-Reply-To: <E6E7DF4402AD4621B30E16556CBECB55@ixsea.local>
References: <3D443083DF9B46BF8CCE68514010BD7B@ixsea.local>
	<4918AEC7.8000607@pobox.com>
	<E6E7DF4402AD4621B30E16556CBECB55@ixsea.local>
Message-ID: <491AFB4D.9070106@pobox.com>

Benoît Andrieu wrote:
> Thank you so much for your answer, Frank.
> 
> So, this leads to some questions (that are somehow related...) :
> - how are computed distance calculation between two points by softwares 
> like Postgis for example ?

Benoît,

I'm not sure.

> - is the best way to compute distance calculation to use UTM systems ? I 
> have to compute distances that could be very long (hundreds of 
> kilometers), strong accuracy is not required but I don't want to have 
> more than 1% accuracy error.

Other have addressed this, but generally this is not a very good approach
except for fairly local areas.

> - in what way are those functions distinct from the proj4 ? Am I wrong 
> to use them ? Are there others functions in proj4 that would allow me to 
> do the same things that I can do with those functions (distance 
> calculation between two points and point positionning given initial 
> point, distance and azimuth) ?

The functions are not a core part of PROJ.4 as I understand it.  They aren't
normally in the library - just linked with the geod command line program.

I'm not opposed to treating them as a core capability but I do think some
consideration should be given to the API before this would occur.  Ideally
this would be something someone else than me might take on (possibly with
some advice from me).

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From geraldi.evenden at gmail.com  Wed Nov 12 08:44:38 2008
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Wed, 12 Nov 2008 11:44:38 -0500
Subject: [Proj] Any access to geodetic[sic] functions ??
In-Reply-To: <491AFB4D.9070106@pobox.com>
References: <3D443083DF9B46BF8CCE68514010BD7B@ixsea.local>
	<E6E7DF4402AD4621B30E16556CBECB55@ixsea.local>
	<491AFB4D.9070106@pobox.com>
Message-ID: <200811121144.38852.geraldi.evenden@gmail.com>

I've tried to stay out of this thread, but ... .

Unfortunately it keeps coming up.

BTW: when referring to distance calculations it is "geodesic" not geodetic.

On Wednesday 12 November 2008 10:50:37 am Frank Warmerdam wrote:
> Benoît Andrieu wrote:
> > Thank you so much for your answer, Frank.
> >
> > So, this leads to some questions (that are somehow related...) :
> > - how are computed distance calculation between two points by softwares
> > like Postgis for example ?
>
> Benoît,
>
> I'm not sure.
>
> > - is the best way to compute distance calculation to use UTM systems ? I
> > have to compute distances that could be very long (hundreds of
> > kilometers), strong accuracy is not required but I don't want to have
> > more than 1% accuracy error.
>
> Other have addressed this, but generally this is not a very good approach
> except for fairly local areas.

Very true and even if short distances are computed this way then one needs to 
refer to the local scale factor and appropriately correct the pythagorean 
computation.  If you are using lproj to determine the UTM (or tmerc) 
coordinates, turn the -V switch on to get the scale factor.  Taking the mean 
value for the two points should be adequate.

If you want to be lazy *and* do it the right way then for a very good 
procedure to calculate inter point distances see:

http://www.ngs.noaa.gov/PC_PROD/Inv_Fwd/

and algorithm details published in:

www.ngs.noaa.gov/PUBS_LIB/inverse.pdf

Note: the first reference will point you to an online procedure to compute 
geodesics.

We need to put the above in a standard location so that we can paste it into a 
response any query to this group related to the geodesic.

> > - in what way are those functions distinct from the proj4 ? Am I wrong
> > to use them ? Are there others functions in proj4 that would allow me to
> > do the same things that I can do with those functions (distance
> > calculation between two points and point positionning given initial
> > point, distance and azimuth) ?
>
> The functions are not a core part of PROJ.4 as I understand it.  They
> aren't normally in the library - just linked with the geod command line
> program.

At one time a program called 'geod' was distributed with my versions of proj4 
but it was based upon a poorer algorithm has has been dropped.  I believe it 
my still be floating around in some distributions (and is probably good 
enough for most applications).

I made a C version of the Vincente procedures but have not distributed it.

> I'm not opposed to treating them as a core capability but I do think some
> consideration should be given to the API before this would occur.  Ideally
> this would be something someone else than me might take on (possibly with
> some advice from me).
>
> Best regards,

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist



From Chris.Barker at noaa.gov  Wed Nov 12 09:11:48 2008
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Wed, 12 Nov 2008 09:11:48 -0800
Subject: [Proj] Any access to geodetic[sic] functions ??
In-Reply-To: <200811121144.38852.geraldi.evenden@gmail.com>
References: <3D443083DF9B46BF8CCE68514010BD7B@ixsea.local>
	<E6E7DF4402AD4621B30E16556CBECB55@ixsea.local>
	<491AFB4D.9070106@pobox.com>
	<200811121144.38852.geraldi.evenden@gmail.com>
Message-ID: <491B0E54.2040202@noaa.gov>

Gerald I. Evenden wrote:
> If you want to be lazy *and* do it the right way then for a very good 
> procedure to calculate inter point distances see:
> 
> http://www.ngs.noaa.gov/PC_PROD/Inv_Fwd/
> 
> and algorithm details published in:
> 
> www.ngs.noaa.gov/PUBS_LIB/inverse.pdf

> At one time a program called 'geod' was distributed with my versions of proj4 
> but it was based upon a poorer algorithm has has been dropped.

> I made a C version of the Vincente procedures but have not distributed it.
> 
>> I'm not opposed to treating them as a core capability but I do think some
>> consideration should be given to the API before this would occur.  Ideally
>> this would be something someone else than me might take on (possibly with
>> some advice from me).

That would be great -- I think having this bundled up in a library with 
a decent API would be very useful to the community. I know I would use it.

I think I'd rather see it as an independent library, perhaps used by 
Proj, rather than built in to Proj, but it's not a huge difference.

Now we just need someone with a bit of time to take a lead on developing 
the API....


-Chris



-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker at noaa.gov


From cjmce at lsu.edu  Wed Nov 12 09:33:47 2008
From: cjmce at lsu.edu (Clifford J Mugnier)
Date: Wed, 12 Nov 2008 11:33:47 -0600
Subject: [Proj] Any access to geodetic[sic] functions ??
References: <3D443083DF9B46BF8CCE68514010BD7B@ixsea.local><E6E7DF4402AD4621B30E16556CBECB55@ixsea.local><491AFB4D.9070106@pobox.com>
	<200811121144.38852.geraldi.evenden@gmail.com>
Message-ID: <B597ADFC46B67741B18EA6AA13613FF7EC24F1@email002.lsu.edu>

In regard to terminology,
 
The shortest distance on the surface of a solid is generally termed a geodesic, be it an ellipsoid of revolution, aposphere, etc.  On a sphere, the geodesic is termed a Great Circle.
 
HOWEVER, when computing the distance between two points using a projected coordinate system, that is a conformal projection such as Transverse Mercator, Oblique Mercator, Normal Mercator, Stereographic, or Lambert Conformal Conic - that then is a GRID distance which can be converted to an equivalent GEODETIC distance using the function for "Scale Factor at a Point."  The conversion is then termed "Grid Distance to Geodetic Distance," even though it will not be as exactly correct as a true ellipsoidal geodesic.  Closer to the truth with a TM than with a Lambert or other conformal projection, but still not exactly "on."
 
So, it can be termed "geodetic distance" or a  "geodesic distance," depending on just how you got there ...
 
Cliff Mugnier
LOUISIANA STATE UNIVERSITY

________________________________

From: proj-bounces at lists.maptools.org on behalf of Gerald I. Evenden
Sent: Wed 12-Nov-08 10:44
To: PROJ.4 and general Projections Discussions
Subject: Re: [Proj] Any access to geodetic[sic] functions ??



I've tried to stay out of this thread, but ... .

Unfortunately it keeps coming up.

BTW: when referring to distance calculations it is "geodesic" not geodetic.

On Wednesday 12 November 2008 10:50:37 am Frank Warmerdam wrote:
> Benoît Andrieu wrote:
> > Thank you so much for your answer, Frank.
> >
> > So, this leads to some questions (that are somehow related...) :
> > - how are computed distance calculation between two points by softwares
> > like Postgis for example ?
>
> Benoît,
>
> I'm not sure.
>
> > - is the best way to compute distance calculation to use UTM systems ? I
> > have to compute distances that could be very long (hundreds of
> > kilometers), strong accuracy is not required but I don't want to have
> > more than 1% accuracy error.
>
> Other have addressed this, but generally this is not a very good approach
> except for fairly local areas.

Very true and even if short distances are computed this way then one needs to
refer to the local scale factor and appropriately correct the pythagorean
computation.  If you are using lproj to determine the UTM (or tmerc)
coordinates, turn the -V switch on to get the scale factor.  Taking the mean
value for the two points should be adequate.

If you want to be lazy *and* do it the right way then for a very good
procedure to calculate inter point distances see:

http://www.ngs.noaa.gov/PC_PROD/Inv_Fwd/

and algorithm details published in:

www.ngs.noaa.gov/PUBS_LIB/inverse.pdf

Note: the first reference will point you to an online procedure to compute
geodesics.

We need to put the above in a standard location so that we can paste it into a
response any query to this group related to the geodesic.

> > - in what way are those functions distinct from the proj4 ? Am I wrong
> > to use them ? Are there others functions in proj4 that would allow me to
> > do the same things that I can do with those functions (distance
> > calculation between two points and point positionning given initial
> > point, distance and azimuth) ?
>
> The functions are not a core part of PROJ.4 as I understand it.  They
> aren't normally in the library - just linked with the geod command line
> program.

At one time a program called 'geod' was distributed with my versions of proj4
but it was based upon a poorer algorithm has has been dropped.  I believe it
my still be floating around in some distributions (and is probably good
enough for most applications).

I made a C version of the Vincente procedures but have not distributed it.

> I'm not opposed to treating them as a core capability but I do think some
> consideration should be given to the API before this would occur.  Ideally
> this would be something someone else than me might take on (possibly with
> some advice from me).
>
> Best regards,

--
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20081112/b7a292bb/attachment.html>

From geraldi.evenden at gmail.com  Wed Nov 12 10:13:11 2008
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Wed, 12 Nov 2008 13:13:11 -0500
Subject: [Proj] Any access to geodetic[sic] functions ??
In-Reply-To: <491B0E54.2040202@noaa.gov>
References: <3D443083DF9B46BF8CCE68514010BD7B@ixsea.local>
	<200811121144.38852.geraldi.evenden@gmail.com>
	<491B0E54.2040202@noaa.gov>
Message-ID: <200811121313.11638.geraldi.evenden@gmail.com>

On Wednesday 12 November 2008 12:11:48 pm Christopher Barker wrote:
> Gerald I. Evenden wrote:
> > If you want to be lazy *and* do it the right way then for a very good
> > procedure to calculate inter point distances see:
> >
> > http://www.ngs.noaa.gov/PC_PROD/Inv_Fwd/
> >
> > and algorithm details published in:
> >
> > www.ngs.noaa.gov/PUBS_LIB/inverse.pdf
> >
> > At one time a program called 'geod' was distributed with my versions of
> > proj4 but it was based upon a poorer algorithm has has been dropped.
> >
> > I made a C version of the Vincente procedures but have not distributed
> > it.
> >
> >> I'm not opposed to treating them as a core capability but I do think
> >> some consideration should be given to the API before this would occur. 
> >> Ideally this would be something someone else than me might take on
> >> (possibly with some advice from me).
>
> That would be great -- I think having this bundled up in a library with
> a decent API would be very useful to the community. I know I would use it.

Excuse me for being an old clod but I would like a better understanding of 
what 'API' is.  Yes, I read Wikipedia's description but based upon my 
understanding of that material I have nothing to do with anything related 
with the concept.

On the non-program level, I try to write software that is reasonably flexible 
and useable in a variety of C applications and fairly hardware independent.  
But I only involve myself with a single language, C, with possible usage in 
the C++ environment and maybe even linkable to FORTRAN (ugh) code.  But by 
the Wikipedia standards I see nothing of universal application in it.

Early on I made an erroneous assumption that "interface" was related to human 
interface and that an API  was a program that provided an interface between 
computer coded material (like libproj4) and humans.  proj or lproj are 
examples where the human is allowed to prepare material to be computed by a 
library procedure and see human readable results.  Contrast this to 
Linux/Unix system daemons that we never have any direct contact with.

> I think I'd rather see it as an independent library, perhaps used by
> Proj, rather than built in to Proj, but it's not a huge difference.

The reason I bring this up is that I am not sure I understand what is 
requested here and what, if any, relationship the concept of API has to proj 
distributions and geodesic software.  If one wants the geodesic programs or 
procedures they are readily available from NGS.

Comments, please.

> Now we just need someone with a bit of time to take a lead on developing
> the API....
>
>
> -Chris



-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist


From Chris.Barker at noaa.gov  Wed Nov 12 12:12:56 2008
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Wed, 12 Nov 2008 12:12:56 -0800
Subject: [Proj] Any access to geodetic[sic] functions ??
In-Reply-To: <200811121313.11638.geraldi.evenden@gmail.com>
References: <3D443083DF9B46BF8CCE68514010BD7B@ixsea.local>
	<200811121144.38852.geraldi.evenden@gmail.com>
	<491B0E54.2040202@noaa.gov>
	<200811121313.11638.geraldi.evenden@gmail.com>
Message-ID: <491B38C8.90702@noaa.gov>

Gerald I. Evenden wrote:
> On Wednesday 12 November 2008 12:11:48 pm Christopher Barker wrote:

>> That would be great -- I think having this bundled up in a library with
>> a decent API would be very useful to the community. 

> Excuse me for being an old clod but I would like a better understanding of 
> what 'API' is.  Yes, I read Wikipedia's description but based upon my 
> understanding of that material I have nothing to do with anything related 
> with the concept.

Wikipedia's description matches what I had in mind.

> On the non-program level, I try to write software that is reasonably flexible 
> and useable in a variety of C applications

That would be a decent API.

> But I only involve myself with a single language, C,

That would be what Wikipedia calls a "Language-dependent API", but C is 
pretty universal, so a good C lib can be used from virtually any 
language, with appropriate wrappers. Personally, I'd like to use Python.

> But by 
> the Wikipedia standards I see nothing of universal application in it.

I'm not sure what you mean by Universal application.


> Early on I made an erroneous assumption that "interface" was related to human 
> interface and that an API  was a program that provided an interface between 
> computer coded material (like libproj4) and humans.  proj or lproj are 
> examples where the human is allowed to prepare material to be computed by a 
> library procedure and see human readable results.

Well, I think the idea is that API is what computer programs see. 
Personally, I think virtually all software should be built as 
collections of libraries with decent APIs. In your example libproj 
provides an API that can be used by a variety of programs. The command 
line proj program is only one of such programs.

> The reason I bring this up is that I am not sure I understand what is 
> requested here and what, if any, relationship the concept of API has to proj 
> distributions and geodesic software.  If one wants the geodesic programs or 
> procedures they are readily available from NGS.

 From the web site, I only saw binaries of programs, no source code, and 
nothing that I would call a library.

In fact, there isn't a lot to this, so it's not such a big deal, but 
what I'd like is a library of geodesic procedures that could be called 
directly from C/C++ programs, and wrapped so that they can be called 
from other languages.

So, the following questions need to be answered:

What computations can you do?
What data is required to do them (dimensions of the ellipsoid, etc).
What input is required?
What output is provided?
What data structures are used to pass the data in/out?
What are the call signatures of the functions?
If C++, then what is the class structure?

It's not really much for a few functions...

Why I suppose I call this an API is provided by Wikipedia:

"""
The software that provides the functionality described by an API is said 
to be an implementation of the API. The API itself is abstract, in that 
it specifies an interface and the behavior of the identifiers specified 
in that interface; it does not specify how the behavior may be implemented.
"""

In this case, for instance, one could implement the simple sphere code 
or the fancier ellipsoidal code, and the API would be the same (with 
exception of having more parameters to set to define the ellipsoid), so 
that it could be called in exactly the same way from user code.

-Chris




-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker at noaa.gov


From geraldi.evenden at gmail.com  Wed Nov 12 19:07:12 2008
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Wed, 12 Nov 2008 22:07:12 -0500
Subject: [Proj] Any access to geodetic[sic] functions ??
In-Reply-To: <491B38C8.90702@noaa.gov>
References: <3D443083DF9B46BF8CCE68514010BD7B@ixsea.local>
	<200811121313.11638.geraldi.evenden@gmail.com>
	<491B38C8.90702@noaa.gov>
Message-ID: <200811122207.12974.geraldi.evenden@gmail.com>

Just a minor point

On Wednesday 12 November 2008 3:12:56 pm Christopher Barker wrote:

> Gerald I. Evenden wrote:

	... referring to the web site:
http://www.ngs.noaa.gov/PC_PROD/Inv_Fwd/

>  From the web site, I only saw binaries of programs, no source code, and
> nothing that I would call a library.

Just after the reference to PC executables a few lines down the page:

"View/Download the FORTRAN source code
 INVERSE, FORWARD, INVERS3D, FORWRD3D"

brings the text down.

There is also a zip for the whole ball of wax a few more lines down.

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist


From cjmce at lsu.edu  Wed Nov 12 19:16:30 2008
From: cjmce at lsu.edu (Clifford J Mugnier)
Date: Wed, 12 Nov 2008 21:16:30 -0600
Subject: [Proj] Any access to geodetic[sic] functions ??
References: <3D443083DF9B46BF8CCE68514010BD7B@ixsea.local><200811121313.11638.geraldi.evenden@gmail.com><491B38C8.90702@noaa.gov>
	<200811122207.12974.geraldi.evenden@gmail.com>
Message-ID: <B597ADFC46B67741B18EA6AA13613FF7EC24F6@email002.lsu.edu>

NGS no longer presents a "competitive" presence in software.  The NGS is an agency of NOAA, and now considers its software as public domain.  Everything is open and free to the public.  NGS only deals with civilian applications of geodesy and they do nothing of a classified nature.  NGS is not a secret organization like NGA must be for the U.S. Military.
 
The same goes for the Australian government.  NGS stuff is "open."  If they have something you need, ask and they will provide.
 
Cliff Mugnier
LSU

________________________________

From: proj-bounces at lists.maptools.org on behalf of Gerald I. Evenden
Sent: Wed 12-Nov-08 21:07
To: Christopher Barker
Cc: PROJ.4 and general Projections Discussions
Subject: Re: [Proj] Any access to geodetic[sic] functions ??



Just a minor point

On Wednesday 12 November 2008 3:12:56 pm Christopher Barker wrote:

> Gerald I. Evenden wrote:

        ... referring to the web site:
http://www.ngs.noaa.gov/PC_PROD/Inv_Fwd/

>  From the web site, I only saw binaries of programs, no source code, and
> nothing that I would call a library.

Just after the reference to PC executables a few lines down the page:

"View/Download the FORTRAN source code
 INVERSE, FORWARD, INVERS3D, FORWRD3D"

brings the text down.

There is also a zip for the whole ball of wax a few more lines down.

--
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist
_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20081112/eff3e7b9/attachment.html>

From Chris.Barker at noaa.gov  Wed Nov 12 22:30:25 2008
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Wed, 12 Nov 2008 22:30:25 -0800
Subject: [Proj] Any access to geodetic[sic] functions ??
In-Reply-To: <200811122207.12974.geraldi.evenden@gmail.com>
References: <3D443083DF9B46BF8CCE68514010BD7B@ixsea.local>
	<200811121313.11638.geraldi.evenden@gmail.com>
	<491B38C8.90702@noaa.gov>
	<200811122207.12974.geraldi.evenden@gmail.com>
Message-ID: <491BC981.6050109@noaa.gov>

Gerald I. Evenden wrote:
> Just a minor point
> Just after the reference to PC executables a few lines down the page:
> 
> "View/Download the FORTRAN source code
>  INVERSE, FORWARD, INVERS3D, FORWRD3D"
> 
> brings the text down.
> 
> There is also a zip for the whole ball of wax a few more lines down.

ooops, thanks. I was blind, I guess...

-Chris


-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker at noaa.gov


From Chris.Barker at noaa.gov  Wed Nov 12 22:36:33 2008
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Wed, 12 Nov 2008 22:36:33 -0800
Subject: [Proj] Any access to geodetic[sic] functions ??
In-Reply-To: <B597ADFC46B67741B18EA6AA13613FF7EC24F6@email002.lsu.edu>
References: <3D443083DF9B46BF8CCE68514010BD7B@ixsea.local>
	<200811121313.11638.geraldi.evenden@gmail.com>
	<491B38C8.90702@noaa.gov>
	<200811122207.12974.geraldi.evenden@gmail.com>
	<B597ADFC46B67741B18EA6AA13613FF7EC24F6@email002.lsu.edu>
Message-ID: <491BCAF1.1050607@noaa.gov>

Clifford J Mugnier wrote:
> NGS no longer presents a "competitive" presence in software.  The NGS is 
> an agency of NOAA, and now considers its software as public domain.  
> Everything is open and free to the public.  NGS only deals with civilian 
> applications of geodesy and they do nothing of a classified nature.  NGS 
> is not a secret organization like NGA must be for the U.S. Military.

I don't think anyone was suggesting there was anything secretive about 
it -- after all I work for NOAA too!

I just didn't see the code on a quick glance at the page. And in any 
case, old FORTRAN code for a few command line utilities doesn't quite 
satisfy the need for a library -- though I'm sure it's worth looking at 
and testing against.

Anyway, this all started because people ask about it a lot, and while 
pointing them to that page will answer the questions, it won't be as 
easy for folks as a C lib with a clean API -- it's not that big a deal, 
only a handful of functions, really.

-Chris



-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker at noaa.gov


From cjmce at lsu.edu  Thu Nov 13 06:07:28 2008
From: cjmce at lsu.edu (Clifford J Mugnier)
Date: Thu, 13 Nov 2008 08:07:28 -0600
Subject: [Proj] Any access to geodetic[sic] functions ??
References: <3D443083DF9B46BF8CCE68514010BD7B@ixsea.local><200811121313.11638.geraldi.evenden@gmail.com><491B38C8.90702@noaa.gov><200811122207.12974.geraldi.evenden@gmail.com><B597ADFC46B67741B18EA6AA13613FF7EC24F6@email002.lsu.edu>
	<491BCAF1.1050607@noaa.gov>
Message-ID: <B597ADFC46B67741B18EA6AA13613FF7EC24F7@email002.lsu.edu>

The point about secrecy is that some NGA source code is not open and all NOAA source code is public domain - except the (very rare) contract stuff done for NGA ...
 
C. Mugnier
LSU

________________________________

From: proj-bounces at lists.maptools.org on behalf of Christopher Barker
Sent: Thu 13-Nov-08 00:36
To: proj at lists.maptools.org
Subject: Re: [Proj] Any access to geodetic[sic] functions ??



Clifford J Mugnier wrote:
> NGS no longer presents a "competitive" presence in software.  The NGS is
> an agency of NOAA, and now considers its software as public domain. 
> Everything is open and free to the public.  NGS only deals with civilian
> applications of geodesy and they do nothing of a classified nature.  NGS
> is not a secret organization like NGA must be for the U.S. Military.

I don't think anyone was suggesting there was anything secretive about
it -- after all I work for NOAA too!

I just didn't see the code on a quick glance at the page. And in any
case, old FORTRAN code for a few command line utilities doesn't quite
satisfy the need for a library -- though I'm sure it's worth looking at
and testing against.

Anyway, this all started because people ask about it a lot, and while
pointing them to that page will answer the questions, it won't be as
easy for folks as a C lib with a clean API -- it's not that big a deal,
only a handful of functions, really.

-Chris



--
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker at noaa.gov
_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20081113/e9ee00bc/attachment.html>

From Mikael.Rittri at carmenta.com  Thu Nov 13 06:12:14 2008
From: Mikael.Rittri at carmenta.com (Mikael Rittri)
Date: Thu, 13 Nov 2008 15:12:14 +0100
Subject: [Proj] Any access to geodetic[sic] functions ??
In-Reply-To: <491BCAF1.1050607@noaa.gov>
References: <3D443083DF9B46BF8CCE68514010BD7B@ixsea.local><200811121313.11638.geraldi.evenden@gmail.com><491B38C8.90702@noaa.gov><200811122207.12974.geraldi.evenden@gmail.com><B597ADFC46B67741B18EA6AA13613FF7EC24F6@email002.lsu.edu>
	<491BCAF1.1050607@noaa.gov>
Message-ID: <FAF6E56B26D2044696772EBE89B1535101402921@posty.carmenta.se>

Here is another useful resource: Chris Veness has coded Vincenty's formulas as JavaScript.  

distance: http://www.movable-type.co.uk/scripts/latlong-vincenty.html
direct:   http://www.movable-type.co.uk/scripts/latlong-vincenty-direct.html

--
Mikael Rittri
Carmenta AB
Box 11354
SE-404 28 Göteborg
Visitors: Sankt Eriksgatan 5
SWEDEN
Tel: +46-31-775 57 37
Mob: +46-703-60 34 07 
mikael.rittri at carmenta.com
www.carmenta.com

-----Original Message-----
From: proj-bounces at lists.maptools.org [mailto:proj-bounces at lists.maptools.org] On Behalf Of Christopher Barker
Sent: den 13 november 2008 07:37
To: proj at lists.maptools.org
Subject: Re: [Proj] Any access to geodetic[sic] functions ??

Clifford J Mugnier wrote:
> NGS no longer presents a "competitive" presence in software.  The NGS 
> is an agency of NOAA, and now considers its software as public domain.
> Everything is open and free to the public.  NGS only deals with 
> civilian applications of geodesy and they do nothing of a classified 
> nature.  NGS is not a secret organization like NGA must be for the U.S. Military.

I don't think anyone was suggesting there was anything secretive about it -- after all I work for NOAA too!

I just didn't see the code on a quick glance at the page. And in any case, old FORTRAN code for a few command line utilities doesn't quite satisfy the need for a library -- though I'm sure it's worth looking at and testing against.

Anyway, this all started because people ask about it a lot, and while pointing them to that page will answer the questions, it won't be as easy for folks as a C lib with a clean API -- it's not that big a deal, only a handful of functions, really.

-Chris



--
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker at noaa.gov
_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj



From burstain at gmail.com  Thu Nov 13 08:02:10 2008
From: burstain at gmail.com (Eran Burstain)
Date: Thu, 13 Nov 2008 18:02:10 +0200
Subject: [Proj] Local Level
In-Reply-To: <0A8D74375AFB468D966DFDA7C979EB95@nz>
References: <817db2970810230255j1a654896wa01ed1f5e22aab8a@mail.gmail.com>
	<0A8D74375AFB468D966DFDA7C979EB95@nz>
Message-ID: <817db2970811130802p4f921464qf605045f5af2a1aa@mail.gmail.com>

So, is it in Proj.4 (EPSG dataset coordinate operation method code 9836), is
someone working on it ? (it should be quite simple, mathematically).

On Thu, Oct 23, 2008 at 1:30 PM, Noel Zinn <ndzinn at comcast.net> wrote:

>  FYI, the current version of the EPSG Guidance Note 7-2 presents the
> algorithm to do this (called topocentric coordinates by the EPSG).  If this
> is not in proj4 already, I would support its inclusion.  Also FYI, if the
> vertical dimension of topocentric coordinates is ignored, the remaining
> horizontal coordinates define the ellipsoidal orthographic projection.
> –Noel Zinn
>
>
>  ------------------------------
>
> *From:* proj-bounces at lists.maptools.org [mailto:
> proj-bounces at lists.maptools.org] *On Behalf Of *Eran Burstain
> *Sent:* Thursday, October 23, 2008 4:55 AM
> *To:* proj at lists.maptools.org
> *Subject:* [Proj] Local Level
>
>
>
> Hi !
> Can I convert a point from geocentric to Local Level Projection (also
> called Local Tangent Plane) ?
> It's only Rotation and Shift from the geocentric representation.
>
> No virus found in this incoming message.
> Checked by AVG - http://www.avg.com
> Version: 8.0.175 / Virus Database: 270.8.2/1740 - Release Date: 10/22/2008
> 7:24 PM
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20081113/731e1534/attachment.html>

From warmerdam at pobox.com  Thu Nov 13 09:03:31 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu, 13 Nov 2008 12:03:31 -0500
Subject: [Proj] Any access to geodetic[sic] functions ??
In-Reply-To: <FAF6E56B26D2044696772EBE89B1535101402921@posty.carmenta.se>
References: <3D443083DF9B46BF8CCE68514010BD7B@ixsea.local><200811121313.11638.geraldi.evenden@gmail.com><491B38C8.90702@noaa.gov><200811122207.12974.geraldi.evenden@gmail.com><B597ADFC46B67741B18EA6AA13613FF7EC24F6@email002.lsu.edu>
	<491BCAF1.1050607@noaa.gov>
	<FAF6E56B26D2044696772EBE89B1535101402921@posty.carmenta.se>
Message-ID: <491C5DE3.9040904@pobox.com>

Mikael Rittri wrote:
> Here is another useful resource: Chris Veness has coded Vincenty's formulas as JavaScript.  
> 
> distance: http://www.movable-type.co.uk/scripts/latlong-vincenty.html
> direct:   http://www.movable-type.co.uk/scripts/latlong-vincenty-direct.html
> 

Folks,

I'd like to encourage those interested to setup a page of pointers to
resources on geodesic distance calculations on the PROJ.4 Trac site. It is
a "wiki" and anyone can extend it.  There have been some great points made
in this thread and it would be wonderful to capture them for future use.

   http://trac.osgeo.org/proj/

A link to such info from the FAQ would also likely be appropriate.

I'm pleased to help anyone interested in doing this if they run into
technical problems.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From Chris.Barker at noaa.gov  Thu Nov 13 10:18:27 2008
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Thu, 13 Nov 2008 10:18:27 -0800
Subject: [Proj] Any access to geodetic[sic] functions ??
In-Reply-To: <491C5DE3.9040904@pobox.com>
References: <3D443083DF9B46BF8CCE68514010BD7B@ixsea.local>
	<200811121313.11638.geraldi.evenden@gmail.com>
	<491B38C8.90702@noaa.gov>
	<200811122207.12974.geraldi.evenden@gmail.com>
	<B597ADFC46B67741B18EA6AA13613FF7EC24F6@email002.lsu.edu>
	<491BCAF1.1050607@noaa.gov>
	<FAF6E56B26D2044696772EBE89B1535101402921@posty.carmenta.se>
	<491C5DE3.9040904@pobox.com>
Message-ID: <491C6F73.1010105@noaa.gov>

Frank Warmerdam wrote:
> I'd like to encourage those interested to setup a page of pointers to
> resources on geodesic distance calculations on the PROJ.4 Trac site.

Done:

http://trac.osgeo.org/proj/wiki/GeodesicCalculations

Could those of you that actually know what you are talking about please 
take a look and correct and/or add to it?

I also do think it would be nice to publish a C lib for this somewhere 
-- Gerald, are you willing to put your C code out there, and see if 
someone (maybe me) wants to work with it?


> A link to such info from the FAQ would also likely be appropriate.

Also done.

-Chris


-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker at noaa.gov


From geraldi.evenden at gmail.com  Thu Nov 13 10:16:15 2008
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Thu, 13 Nov 2008 13:16:15 -0500
Subject: [Proj] libproj4 license and related hassles
Message-ID: <200811131316.15286.geraldi.evenden@gmail.com>

When I first changed over to the libproj4 system it was recommend by I forget 
whom that a license be put on the software.  Following this recommendation I 
chose the most liberal license I could find which was the the so-called MIT 
or X11 license plus a copyright statement.  The later to mainly protect 
against someone else trying to copyright the material and potentially 
removing it from the public domain.

Everything went fine and nobody complained until I used the GNU library GSL 
and a seemingly disasterous situation occured: the GPL.  I pointed out that 
GSL usage was only for one rarely used projection and the GSL linkage to the 
library could easily be edited out with switches in the Makefile.

Again, cries of dismay occured when I used the GSL in solving the inverse 
projection problem.  Again, my usage of the library was based upon using 
better material than I could code up without a great deal of effort and time.  
Why reinvent the wheel?  And, again switches were installed to allow easy 
elimination of having to use GSL and suffer the horrible restrictions of GPL.  
But in this case, such action causes losses that are a bit more significant 
than that of not using a rare projection.

The GPL dilemma will arise again as I embark on building a better proj/lproj 
mouse trap but in this case software requiring GPL licensed material is a 
critical element of the program and cannot be simply edited out.

My last comment relates to my pausing on the Wikipedia page related to the MIT 
license ( http://en.wikipedia.org/wiki/MIT_license ) and the comment in the 
second paragraph stating thst the MIT license is "GPL-compatible."  Not being 
a lawyer I am note sure that I understand all of the ramification but I am 
going to stop worrying about future encounters with GPL and consider any 
problems between libproj4 and GPL non-existant.

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist


From warmerdam at pobox.com  Thu Nov 13 10:39:04 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu, 13 Nov 2008 13:39:04 -0500
Subject: [Proj] libproj4 license and related hassles
In-Reply-To: <200811131316.15286.geraldi.evenden@gmail.com>
References: <200811131316.15286.geraldi.evenden@gmail.com>
Message-ID: <491C7448.2020302@pobox.com>

Gerald I. Evenden wrote:
> The GPL dilemma will arise again as I embark on building a better proj/lproj 
> mouse trap but in this case software requiring GPL licensed material is a 
> critical element of the program and cannot be simply edited out.
> 
> My last comment relates to my pausing on the Wikipedia page related to the MIT 
> license ( http://en.wikipedia.org/wiki/MIT_license ) and the comment in the 
> second paragraph stating thst the MIT license is "GPL-compatible."  Not being 
> a lawyer I am note sure that I understand all of the ramification but I am 
> going to stop worrying about future encounters with GPL and consider any 
> problems between libproj4 and GPL non-existant.

Gerald,

Obviously you can do whatever you want.  But if you add non-optional
dependencies on GPL libraries to libproj4, then it essentially makes it
impossible for the library to be used in proprietary applications.
This in turn makes it difficult for me to ever make my hoped-for leap to
using libproj4 for my underlying projections support and just handling
stuff like datum shifting, coordinate system dictionaries and so forth
in what I currently call PROJ.4.

I will say that when the time comes there is nothing preventing someone
else for taking on the task of developing non-GPL replacements for the
components in question (or reworking libproj4 a bit to make them optional).
So, in that sense, using a GPL library now does not mean that libproj4 is
forever stuck using the library.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From proj at cwilson.fastmail.fm  Thu Nov 13 11:09:41 2008
From: proj at cwilson.fastmail.fm (Charles Wilson)
Date: Thu, 13 Nov 2008 14:09:41 -0500
Subject: [Proj] libproj4 license and related hassles
In-Reply-To: <200811131316.15286.geraldi.evenden@gmail.com>
References: <200811131316.15286.geraldi.evenden@gmail.com>
Message-ID: <491C7B75.3040302@cwilson.fastmail.fm>

Gerald I. Evenden wrote:

> The GPL dilemma will arise again as I embark on building a better proj/lproj 
> mouse trap but in this case software requiring GPL licensed material is a 
> critical element of the program and cannot be simply edited out.

And this was the precise aim when the FSF began promoting the GPL even
for libraries -- when they renamed the "LGPL" from "Library GPL" to
"Lesser GPL".
http://www.gnu.org/licenses/why-not-lgpl.html

They WANT to force clients of Free Software to themselves be Free.  And,
this forcing function works transitively -- existing projects that
depend on libproj4 will, in the future, suffer reduced functionality
compared to Free (that is, GPLed) applications.

This gives GPLed libproj4 clients a competitive advantage against
proprietary ones.

All part of the RMS plan.

Now, if you believe as RMS does that "All Software Should Be Free",
that's great. If you don't...or existing contractual and/or national
security considerations prevent you from "opening" your code...tough.

Disclainer: IANAL.

> My last comment relates to my pausing on the Wikipedia page related to the MIT 
> license ( http://en.wikipedia.org/wiki/MIT_license ) and the comment in the 
> second paragraph stating thst the MIT license is "GPL-compatible."  Not being 
> a lawyer I am note sure that I understand all of the ramification but I am 
> going to stop worrying about future encounters with GPL and consider any 
> problems between libproj4 and GPL non-existant.

"GPL-compatible" doesn't mean what you think it means.

By linking libproj4 against a GPL library, you are creating a "derived
work". Effectively, libproj4 as distributed is subject to the terms of
the GPL license.  There is nothing in the MIT license that prevents this
"effective re-licensing" -- therefore, the MIT license is "GPL-compatible".

OTOH, if libproj4 was using the original 4-clause BSD license, which
included this clause:
  3. All advertising materials mentioning features or use of
     this software must display the following acknowledgement:
     This product includes software developed by the <original
     project sponsors>.
Then you would NOT be allowed to use GSL -- because you would then be
creating a "derived work", and such derived works must satisfy the GPL.
Because the GPL does not allow the addition of restrictions beyond those
it already imposes, the advertising clause is incompatible, and you
would not allowed to distribute a "derived work" containing the 4-clause
BSD software (e.g. libproj4 in this example) and GPL software like the GSL.

So, in that example, you could modify libproj4 to require and use GSL --
but then NO ONE would be allowed legally to distribute binaries (unless
the binary was compiled in such a way as to disable all GSL usage).



>From WIKI: http://en.wikipedia.org/wiki/License_compatibility
"GPL compatibility

Many of the most common free software licenses, such as the original
MIT/X license, the BSD license (in its current 3-clause form), and the
LGPL, are "GPL-compatible". That is, their code can be combined with a
program under the GPL without conflict

[[[[ ed. THIS BIT IS KEY: ]]]]
(the new combination would have the GPL applied to the whole).

However, some free/open source software licenses are not GPL-compatible.
Many have strongly advocated that free/open source software developers
use only GPL-compatible licenses, because doing otherwise makes it
difficult to reuse software in larger wholes[4]."

====

Effectively, what you're proposing, Gerald, is to relicense libproj4 itself:
  compiled with full (GSL-dependent) functionality, libproj4 is for all
intents and purposes, GPLed as well. This has serious implications for
any clients of libproj4.

  compiled with crippled functionality, libproj4 is still MIT/X. But
this crippling ALSO has serious implications for any clients of libproj4.

Again, all part of the FSF/RMS plan...

--
Chuck


From psg at debian.org  Thu Nov 13 11:45:57 2008
From: psg at debian.org (Peter S Galbraith)
Date: Thu, 13 Nov 2008 14:45:57 -0500
Subject: [Proj] libproj4 license and related hassles
In-Reply-To: Message from "Gerald I. Evenden" <geraldi.evenden@gmail.com>
	of "Thu, 13 Nov 2008 13:16:15 EST."
	<200811131316.15286.geraldi.evenden@gmail.com>
References: <200811131316.15286.geraldi.evenden@gmail.com>
Message-ID: <29034.1226605557@mixing.lau.dfo-mpo.ca>

Gerald I. Evenden <geraldi.evenden at gmail.com> wrote:

> Again, cries of dismay occured when I used the GSL in solving the
> inverse projection problem.  Again, my usage of the library was based
> upon using better material than I could code up without a great deal
> of effort and time.  Why reinvent the wheel? 

Because it's not your wheel.  You have admitted that it is good code
that you can use without any great effort or time.  The cost of using it
is that you respect the license of its author.  If you don't want to
license libproj under the GPL (which is perfectly fine!), then don't use
a GPL'ed library.

> My last comment relates to my pausing on the Wikipedia page related to
> the MIT license ( http://en.wikipedia.org/wiki/MIT_license ) and the
> comment in the second paragraph stating thst the MIT license is
> "GPL-compatible."  Not being a lawyer I am note sure that I understand
> all of the ramification but I am going to stop worrying about future
> encounters with GPL and consider any problems between libproj4 and GPL
> non-existant.

Unfortunately "Ignorance of the law is not an excuse for breaking the
law."

The MIT license is GPL-compatible in one way only.  You can take MIT
licensed materiel and add it to GPL'ed code (to create a larger code
under the GPL), but you can't take GPL'ed code and add it to MIT code
(to create a larger code licensed under the MIT license).

Hope this helps...

Peter


From knudsen.thomas at gmail.com  Thu Nov 13 14:46:04 2008
From: knudsen.thomas at gmail.com (Thomas Knudsen)
Date: Thu, 13 Nov 2008 23:46:04 +0100
Subject: [Proj] libproj4 license and related hassles
In-Reply-To: <29034.1226605557@mixing.lau.dfo-mpo.ca>
References: <geraldi.evenden@gmail.com>
	<200811131316.15286.geraldi.evenden@gmail.com>
	<29034.1226605557@mixing.lau.dfo-mpo.ca>
Message-ID: <7e6835790811131446w2ff5eb99i3379c3b6ccbf9e4d@mail.gmail.com>

2008/11/13 Peter S Galbraith <psg at debian.org>
> The MIT license is GPL-compatible in one way only.  You can take MIT
> licensed materiel and add it to GPL'ed code (to create a larger code
> under the GPL), but you can't take GPL'ed code and add it to MIT code
> (to create a larger code licensed under the MIT license).

... or in fewer words: the MIT license is GPL-compatible, but the
GPL is not MIT license compatible.

/thomas


From geraldi.evenden at gmail.com  Thu Nov 13 14:59:49 2008
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Thu, 13 Nov 2008 17:59:49 -0500
Subject: [Proj] Any access to geodetic[sic] functions ??
In-Reply-To: <491C6F73.1010105@noaa.gov>
References: <3D443083DF9B46BF8CCE68514010BD7B@ixsea.local>
	<491C5DE3.9040904@pobox.com> <491C6F73.1010105@noaa.gov>
Message-ID: <200811131759.49560.geraldi.evenden@gmail.com>

On Thursday 13 November 2008 1:18:27 pm Christopher Barker wrote:
> Frank Warmerdam wrote:
> > I'd like to encourage those interested to setup a page of pointers to
> > resources on geodesic distance calculations on the PROJ.4 Trac site.
>
> Done:
>
> http://trac.osgeo.org/proj/wiki/GeodesicCalculations
>
> Could those of you that actually know what you are talking about please
> take a look and correct and/or add to it?
>
> I also do think it would be nice to publish a C lib for this somewhere
> -- Gerald, are you willing to put your C code out there, and see if
> someone (maybe me) wants to work with it?

I will have to dig it out.  As I recall it was something that was preprocessed 
by f2c and then postedited by me into something a little more readable.

OK, found a recoded copies dated Feb., 2003.  I do not know if the NGS stuff 
has been updated since then.  The boiler plate on one of the files reads:

/* Translation of NGS FORTRAN code for determination of point at
** distance 's' and azimuth 'Az12' from point 'phi1','lam2'.  Good for
** any values that are less than antipodal distance.
**
**      INPUT
**	phi1, lam1 -- latitude and logitude of first point in radians.
**  Az12 -- azimuth to second point from first point in radians clockwise
**			from North.
**	s -- distance from first to second point normalized by major
**			elliptical axis (i.e. / a).
**	f -- elliptical flattening.
**
**		OUTPUT
**	phi2, lam2 -- latitude and longitude of second point.
**	Az21 -- azimuth from second point back to first point.
*/
#include <math.h>
#define PI 3.141592653589793238462643
#define EPS 5e-14
	void
for_geodesic(double phi1, double lam1, double Az12, double s, double f,
	double *phi2, double *lam2, double *Az21) {

The whole file consists of this one procedure and a main program that executes 
it with a simple test.

There is a similar file for the inverse case.

> > A link to such info from the FAQ would also likely be appropriate.
>
> Also done.
>
> -Chris



-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist


From Chris.Barker at noaa.gov  Fri Nov 14 12:18:23 2008
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Fri, 14 Nov 2008 12:18:23 -0800
Subject: [Proj] Any access to geodetic[sic] functions ??
In-Reply-To: <200811131759.49560.geraldi.evenden@gmail.com>
References: <3D443083DF9B46BF8CCE68514010BD7B@ixsea.local>
	<491C5DE3.9040904@pobox.com> <491C6F73.1010105@noaa.gov>
	<200811131759.49560.geraldi.evenden@gmail.com>
Message-ID: <491DDD0F.4050801@noaa.gov>

Gerald I. Evenden wrote:
> On Thursday 13 November 2008 1:18:27 pm Christopher Barker wrote:
>> -- Gerald, are you willing to put your C code out there, and see if
>> someone (maybe me) wants to work with it?
> 
> I will have to dig it out.  As I recall it was something that was preprocessed 
> by f2c and then postedited by me into something a little more readable.

ouch -- that can result in ugly code -- but if you've cleaned it up and 
it works, then what the heck!


> OK, found a recoded copies dated Feb., 2003.  I do not know if the NGS stuff 
> has been updated since then.

I don't think so -- maybe a bit for their web app.

> The whole file consists of this one procedure and a main program that executes 
> it with a simple test.
> 
> There is a similar file for the inverse case.

I'd like to see it.

I've now written a Python version of the JavaScript code someone posted 
a link to here. I want to add a few tests to it, and I may wrap your C 
code also -- we'll see how much energy I have!

I'm also looking for "know" values that I can use for testing. How does 
one know if it's working right?

-Chris



-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker at noaa.gov


From geraldi.evenden at gmail.com  Fri Nov 14 13:04:53 2008
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Fri, 14 Nov 2008 16:04:53 -0500
Subject: [Proj] Any access to geodetic[sic] functions ??
In-Reply-To: <491DDD0F.4050801@noaa.gov>
References: <3D443083DF9B46BF8CCE68514010BD7B@ixsea.local>
	<200811131759.49560.geraldi.evenden@gmail.com>
	<491DDD0F.4050801@noaa.gov>
Message-ID: <200811141604.53401.geraldi.evenden@gmail.com>

On Friday 14 November 2008 3:18:23 pm Christopher Barker wrote:
> Gerald I. Evenden wrote:
> > On Thursday 13 November 2008 1:18:27 pm Christopher Barker wrote:
...
> I'd like to see it.

Ok, you asked for it.  The inverse problem:

/* Translation of NGS FORTRAN code for determination of true distance
** and respective forward and back azimuths between two points on the
** ellipsoid.  Good for any pair of points that are not antipodal.
**
**      INPUT
**	phi1, lam1 -- latitude and longitude of first point in radians.
**	phi2, lam2 -- latitude and longitude of second point in radians.
**	f -- elliptical flattening.
**
**		OUTPUT
**  Az12 -- azimuth from first point to second in radians clockwise
**			from North.
**	Az12 -- azimuth from second point back to first point.
**	s -- distance between points normalized by major elliptical axis
**			(i.e. a * s to get distance).
*/
#include <math.h>
#define PI 3.141592653589793238462643
#define EPS 5e-14
	void
inv_geodesic(double phi1, double lam1, double phi2, double lam2, double f,
	double *faz, double *baz, double *s) {
    static double c, d, e, r, x, y, sa, cx, cy, cz, sx, sy, c2a, cu1, cu2,
	     su1, tu1, tu2, ts;

    r = 1. - f;
    tu1 = r * tan(phi1);
    tu2 = r * tan(phi2);
    cu1 = 1. / sqrt(tu1 * tu1 + 1.);
    su1 = cu1 * tu1;
    cu2 = 1. / sqrt(tu2 * tu2 + 1.);
    ts = cu1 * cu2;
    *baz = ts * tu2;
    *faz = *baz * tu1;
    x = lam2 - lam1;
	do {
	    sx = sin(x);
	    cx = cos(x);
	    tu1 = cu2 * sx;
	    tu2 = *baz - su1 * cu2 * cx;
	    sy = sqrt(tu1 * tu1 + tu2 * tu2);
	    cy = ts * cx + *faz;
	    y = atan2(sy, cy);
	    sa = ts * sx / sy;
	    c2a = -sa * sa + 1.;
	    cz = *faz + *faz;
	    if (c2a > 0.) cz = -cz / c2a + cy;
	    e = cz * cz * 2. - 1.;
	    c = ((c2a * -3. + 4.) * f + 4.) * c2a * f / 16.;
	    d = x;
	    x = ((e * cy * c + cz) * sy * c + y) * sa;
	    x = (1. - c) * x * f + lam2 - lam1;
	} while (fabs(d - x) > EPS);
    *faz = atan2(tu1, tu2);
    *baz = atan2(cu1 * sx, *baz * cx - su1 * cu2) + PI;
    x = sqrt((1. / r / r - 1.) * c2a + 1.) + 1.;
    x = (x - 2.) / x;
    c = (x * x / 4. + 1.) / (1. - x);
    d = (x * .375 * x - 1.) * x;
    *s = ((((sy * sy * 4. - 3.) * (1. - e - e) * cz * d / 6. - e * cy) *
	     d / 4. + cz) * sy * d + y) * c * r;
}
/* --  cut here and discard this and following lines after testing -- */
#define DR .0174532925199432958
main() { /* simple test */
	double lata, lona, latb, lonb;
	double s, A21, A12,
		a = 6378206.4, f = 1/294.9786982138; /* Clark 66 */

	inv_geodesic(33.*DR, -91.5*DR, 42.*DR, -86.25*DR, f,
		&A12, &A21, &s);
	printf("fwd Az: %.9f, back Az: %.9f, distance: %.4f\n",
		A12/DR, A21/DR, s * a);
	inv_geodesic(0.*DR, 0*DR, 0.01*DR, 1*DR, f,
		&A12, &A21, &s);
	printf("fwd Az: %.9f, back Az: %.9f, distance: %.4f\n",
		A12/DR, A21/DR, s * a);
	while (scanf("%lf %lf %lf %lf",&lata,&lona,&latb,&lonb)==4) {
		inv_geodesic(lata*DR,lona*DR,latb*DR,lonb*DR, f,
			&A12, &A21, &s);
		printf("dist: %.9f, Az12: %g, Az21: %g\n",s*a,A12/DR,A21/DR);
	}
}
/* test prog should yield:

fwd Az: 23.361326677, back Az: 206.568647963, distance: 1100896.2093

end of file
*/


-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist


From hamish_b at yahoo.com  Mon Nov 17 01:24:08 2008
From: hamish_b at yahoo.com (Hamish)
Date: Mon, 17 Nov 2008 01:24:08 -0800 (PST)
Subject: [Proj] Any access to geodetic[sic] functions ??
In-Reply-To: <200811141604.53401.geraldi.evenden@gmail.com>
Message-ID: <719473.48216.qm@web110002.mail.gq1.yahoo.com>

Gerald I. Evenden wrote:
> Ok, you asked for it.  The inverse problem:
> 
> /* Translation of NGS FORTRAN code for determination of true distance
> ** and respective forward and back azimuths between two points on the
> ** ellipsoid.

cheers, this will be most useful.


for the sake of satisfying the issues of the parallel licensing thread,
it must be asked under which (if any) licensing terms you post this code
beyond the original NGS public terms.
?

I would also ask, if the intention of posting this code to the PROJ.4
FAQ is to create a reference implementation of the inv. geodesic "gold
standard" in C/Python/Javascript/LEGO lang/etc. for the greater good
of humanity (or to at least slow down the propagation of poorer methods,
and their results), then should Pittman's version be pursued next?
  http://thread.gmane.org/gmane.comp.gis.proj-4.devel/3361/focus=3366


Hamish



      



From geraldi.evenden at gmail.com  Sat Nov 15 07:52:10 2008
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Sat, 15 Nov 2008 10:52:10 -0500
Subject: [Proj] Yesterday's emailed procedure
Message-ID: <200811151052.10537.geraldi.evenden@gmail.com>

The procedure that I emailed yesterday was *NOT* NGS's inverse geodetic.

Sorry about that.

Anyway, trash it.

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist


From geraldi.evenden at gmail.com  Sat Nov 15 14:40:21 2008
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Sat, 15 Nov 2008 17:40:21 -0500
Subject: [Proj] Any access to geodetic[sic] functions ??
In-Reply-To: <200811141604.53401.geraldi.evenden@gmail.com>
References: <3D443083DF9B46BF8CCE68514010BD7B@ixsea.local>
	<491DDD0F.4050801@noaa.gov>
	<200811141604.53401.geraldi.evenden@gmail.com>
Message-ID: <200811151740.21804.geraldi.evenden@gmail.com>

Looking at my material and rechecking the sources at the NGS site show first 
that I never finished redoing the geodesic routines and, secondly, the 
procedures and program work nicely on my machine when compiled with gfortran.

After redoing an f2c the material is not too bad, the worst part is cleaning 
up code that is sloppy in the first case.  Whoever worked on it had never 
heard of Horner's scheme (which has been around since the Hun Dynasty) and 
some other general coding practices are not to my sterling standards.  ;-)

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist


From geraldi.evenden at gmail.com  Mon Nov 17 08:18:52 2008
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Mon, 17 Nov 2008 11:18:52 -0500
Subject: [Proj] Any access to geodetic[sic] functions ??
In-Reply-To: <719473.48216.qm@web110002.mail.gq1.yahoo.com>
References: <719473.48216.qm@web110002.mail.gq1.yahoo.com>
Message-ID: <200811171118.52601.geraldi.evenden@gmail.com>

On Monday 17 November 2008 4:24:08 am Hamish wrote:
> Gerald I. Evenden wrote:
> > Ok, you asked for it.  The inverse problem:
> >
> > /* Translation of NGS FORTRAN code for determination of true distance
> > ** and respective forward and back azimuths between two points on the
> > ** ellipsoid.
>
> cheers, this will be most useful.
>
>
> for the sake of satisfying the issues of the parallel licensing thread,
> it must be asked under which (if any) licensing terms you post this code
> beyond the original NGS public terms.
> ?
>
> I would also ask, if the intention of posting this code to the PROJ.4
> FAQ is to create a reference implementation of the inv. geodesic "gold
> standard" in C/Python/Javascript/LEGO lang/etc. for the greater good
> of humanity (or to at least slow down the propagation of poorer methods,
> and their results), then should Pittman's version be pursued next?
>   http://thread.gmane.org/gmane.comp.gis.proj-4.devel/3361/focus=3366
>
>
> Hamish

Regarding the Pittman method, a quick browse of the net did not show any 
sources for Pittman's FORTRAN code.  Certainly it would be a nice idea to go 
that direction but I currently do not have anything to work with.

I suppose that I might be able to get a dead-tree copy through my local 
library but it would be a lot easier if there was a computer readable, 
electron copy of the FORTRAN somewhere---like the NGS material.

(somewhere there needs to be a distinction between "computer readable" like a 
pdf or jpg copy versus "computer readable" where I can compile the file with 
FORTRAN)

BTW: all the NGS stuff is now in de-f2c'ed, 'go-to-less' form but needs a 
better wrapper and cleanup of the headers.  The FORTRAN code has an error 
where the back azimuth is greater than 360 but the C copy is proper.  Go 
figure.
------------------------------------------
This stuff is on the back burner for a few days as Anderson brought up a 
couple of libproj4 errors with Winkel II, et al.  Should be a revised manual 
and libproj4 in a few days.

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist


From j.l.h.hartmann at uva.nl  Mon Nov 17 08:23:46 2008
From: j.l.h.hartmann at uva.nl (Jan Hartmann)
Date: Mon, 17 Nov 2008 17:23:46 +0100
Subject: [Proj] =?iso-8859-1?q?Mugnier=27s_columns_/_old_German_maps_/_vo?=
 =?iso-8859-1?q?n_M=FCffling?=
Message-ID: <49219A92.1020800@uva.nl>

Hello,

I found the posting below on the Proj list (24-7-2004). Prof. Mugnier 
mentions his Internet-columns, but the URLS he mentions do not exist 
anymore. Are they still available?

More in particaular, I am trying to georeference the Tranchot-Map of the 
Rhineland in Germany, surveyed by French ingénieur-géographes under 
Colonel  Tranchot from 1804-1813, and by Prussian Ingenieurgeographen 
under General von Müffling from 1815-1828. Much geodetic information 
about this survey is available in "Rudolf Schmidt, Die Kartenaufnahme 
der Rheinlande durch Tranchot und vond Müffling. Teil I: Geschichte des 
Kartenwerkes und vermessungstechnische Arbeiten, Bonn 1973", but  if 
someone on this list has further information about this map and the way 
it was made, I would very much like to hear about it.

Jan

Dr. J. Hartmann
Department of Geography
University of Amsterdam


Clifford J Mugnier wrote:
 >
 > Maciek,
 >
 > I was surprised to hear of a Transverse Mercator projection on such 
an old
 > topo map of German territory since it was so difficult to compute by 
hand.
 > Remember now, that Gauss was the first to use it in the early 1800s (for
 > the survey of Hannover), and he had a staff of several Ph.D. students 
to do
 > the "grunt" work for him.  Its main purpose (the Gauss-Conform TM), for
 > Gauss was to facilitate the survey computations rather than to be 
used for
 > a cartographic projection.  The subsequent plane-table mapping for
 > cadastral surveying (tax mapping) probably was on the Müffling projection
 > because it was so "easy" to cast under field survey conditions.
 >
 > The most common projections found in old German applications were the
 > "Solnder" (nowadays called the Cassini-Soldner) and the "Müffling."  Both
 > are aphylactic projections, although the Cassini-Soldner is slightly 
closer
 > mathematically to the Transverse Mercator than the Müffling.  The more
 > common name for that projection is the Polyhedric or the "Polyeder."
 >
 > The ellipsoidal Müffling uses the identical mathematics as the
 > two-dimentionsional version of the 3D "Local Space Rectangular" (LSR)
 > coordinate system used in 3D computational photogrammetry.  It is 
(almost)
 > the ellipsoidal equivalent of the gnomonic projection.  ALL aphylactic
 > projections (Müffling/Polyeder, Cassini-Soldner, Bonne, and 
Polyconic) were
 > developed to facilitate drafting in the field for plane table and alidade
 > compilation.  For survey computations, they are awful.  (See my 
comments in
 > my ASPRS column on Hong Kong.)
 >
 > The EXACT ellipsoid parameters and the EXACT number of significant digits
 > published is critical to high-precision applications of geodetic
 > transformations.  Variations abound that are correct for certain 
places for
 > certain eras.  Exactly when a certain set of defining parameters is 
correct
 > has to be discerned from government survey notes and publications.  It is
 > an EXACT science, but it is also remarkably obscure and esoteric.
 >
 > Major General von Müffling was one of the first officers in command 
of the
 > Topographic Engineer Corps of the Austro-Hungarian Empire.  (See my 
columns
 > in PE&RS on Austria, Hungary, Poland, etc. for more details.)
 >
 > Clifford J. Mugnier
 > Chief of Geodesy and
 > Associate Director,
 > CENTER FOR GEOINFORMATICS
 > Department of Civil Engineering
 > LOUISIANA STATE UNIVERSITY
 > Baton Rouge, LA  70803
 > Voice and Facsimile:  (225) 578-8536
 > ======================================================
 > http://www.ASPRS.org/resources.html
 > http://www.cee.lsu.edu/facultyStaff/mugnier/index.html
 > ======================================================
 >
 >
 > "Paul Kelly" <paul-grass at stjohnspoint.co.uk> wrote:
 >
 >
 >> On Sat, 24 Jul 2004, Maciek Sieczka wrote:
 >>
 >> [...]
 >>
 >>> As to the datums I tried 3 different ones and I'm not sure which one is
 >>> really suitable here. I believe I had a best result with the first of
 >>> the mentioned below. Though the reprojection result was very similar
 >>> in each case (max 1-2 m difference) I would like to know which one
 >>> is right if somebody can tell me.
 >>>
 >> None of them are "right"; they are all only approximations to the shift
 >> between the two datums. Number 1 is for central West Germany, number 2
 >>
 > for
 >
 >> southern west Germany, and number 3 seems to be general for the whole
 >>
 > area
 >
 >> the potsdam datum is used in. However there is also a more accurate
 >> 7-parameter transformation for all of Germany on the CRS website (and
 >>
 > also
 >
 >> in GRASS).
 >>
 >
 > First I'd like to explain myself. Before I got to understand that 
there are
 > different datum transformation parameters available for Potsdam datum I
 > have
 > had propably accidently selected the "2." mentioned below when setting up
 > the mapset in Grass. After that I got to the
 > http://crs.bkg.bund.de/crseu/crs/descr/eu-countrysel.php?country=DE,
 > understood a bit more and came to conclussion that "1." would be better
 > (not
 > "right" :), ok) in my case - my maps are within 50°20'N - 52°20'N. And
 > after
 > your message I finally noticed different Potsdam datum paramteres 
available
 > in Grass. Briefly that's why I was, in error, reffering to the "2." as to
 > the "GRASS 5.3, datum: potsdam". Sorry for that.
 >
 >
 >>> 1. +towgs84=584.8,67.0,400.3,0.105,0.013,-2.378,10.29
 >>> taken from the
 >>> http://crs.bkg.bund.de/crseu/crs/descr/eu-countrysel.php?country=DE ->
 >>> DE_DHDN / GK_3 -> Transf. -> DE_DHDN (Middle) to ETRS89
 >>>
 >>> 2. +towgs84: 597.1,71.4,412.1,0.894,0.068,-1.563,7.58
 >>> GRASS 5.3, datum: potsdam
 >>>
 >>> 3. +towgs84=606.0,23.0,413.0
 >>> GDAL 1.2.0, potsdam bessel, Potsdam Rauenberg 1950 DHDN
 >>>
 >
 >
 >> So it all depends on which part of Germany your map covers, and e.g. if
 >>
 > it
 >
 >> is not in an area that any of the widely available transformations 
covers
 >> (e.g. former part of Germany that is now in Poland?)
 >>
 >
 > Yes, former part of Germany, now in Poland, circa 50°45'N, 15°30' - 15°
 > 50'E.
 >
 >
 >> then for maximum
 >> accuracy you would have to derive your own transformation using 
locations
 >> of churches as was suggested. But I wouldn't know how to do that...
 >>
 >
 > Then me neither for sure.
 >
 > I've noticed that all the German/Bessel 1841 systems on the CRS site
 > mention slightly different ellipsoid inverse flattening than Grass:
 >
 > Grass 5.3: 299.1528128
 > CRS:        299.15281285
 >
 > Propably not a big difference but how big anyway?
 >
 > One thing more about the projection I've remembered that the guy I 
got the
 > map from mentioned the name "von Müffling". He seemed to know about
 > the cartography even less than me (would you believe it?) but 
according to
 > him the projection was "multilateral projection elaborated by general 
major
 > von Müffling" (my own translation from Polish). I treid a brief search
 > about
 > this general but nothing. Is it telling anything to anybody?
 >
 > Maciek
 >
 > _______________________________________________
 > Proj mailing list
 > Proj at xserve.flids.com
 > http://xserve.flids.com/mailman/listinfo/proj
 >
 >



From bfraser at geoanalytic.com  Mon Nov 17 08:52:26 2008
From: bfraser at geoanalytic.com (Brent Fraser)
Date: Mon, 17 Nov 2008 09:52:26 -0700
Subject: =?ISO-8859-1?Q?Re=3A_=5BProj=5D_Mugnier=27s_columns_/_?=
	=?ISO-8859-1?Q?old_German_maps_/_von_M=FCffling?=
In-Reply-To: <49219A92.1020800@uva.nl>
References: <49219A92.1020800@uva.nl>
Message-ID: <4921A14A.1000702@geoanalytic.com>

http://www.asprs.org/resources/grids/

Jan Hartmann wrote:
> Hello,
> 
> I found the posting below on the Proj list (24-7-2004). Prof. Mugnier 
> mentions his Internet-columns, but the URLS he mentions do not exist 
> anymore. Are they still available?
> 
> More in particaular, I am trying to georeference the Tranchot-Map of the 
> Rhineland in Germany, surveyed by French ingénieur-géographes under 
> Colonel  Tranchot from 1804-1813, and by Prussian Ingenieurgeographen 
> under General von Müffling from 1815-1828. Much geodetic information 
> about this survey is available in "Rudolf Schmidt, Die Kartenaufnahme 
> der Rheinlande durch Tranchot und vond Müffling. Teil I: Geschichte des 
> Kartenwerkes und vermessungstechnische Arbeiten, Bonn 1973", but  if 
> someone on this list has further information about this map and the way 
> it was made, I would very much like to hear about it.
> 
> Jan
> 
> Dr. J. Hartmann
> Department of Geography
> University of Amsterdam
> 
> 
> Clifford J Mugnier wrote:
>>
>>  Maciek,
>>
>>  I was surprised to hear of a Transverse Mercator projection on such an 
> old
>>  topo map of German territory since it was so difficult to compute by 
> hand.
>>  Remember now, that Gauss was the first to use it in the early 1800s (for
>>  the survey of Hannover), and he had a staff of several Ph.D. students 
> to do
>>  the "grunt" work for him.  Its main purpose (the Gauss-Conform TM), for
>>  Gauss was to facilitate the survey computations rather than to be used 
> for
>>  a cartographic projection.  The subsequent plane-table mapping for
>>  cadastral surveying (tax mapping) probably was on the Müffling projection
>>  because it was so "easy" to cast under field survey conditions.
>>
>>  The most common projections found in old German applications were the
>>  "Solnder" (nowadays called the Cassini-Soldner) and the "Müffling."  Both
>>  are aphylactic projections, although the Cassini-Soldner is slightly 
> closer
>>  mathematically to the Transverse Mercator than the Müffling.  The more
>>  common name for that projection is the Polyhedric or the "Polyeder."
>>
>>  The ellipsoidal Müffling uses the identical mathematics as the
>>  two-dimentionsional version of the 3D "Local Space Rectangular" (LSR)
>>  coordinate system used in 3D computational photogrammetry.  It is 
> (almost)
>>  the ellipsoidal equivalent of the gnomonic projection.  ALL aphylactic
>>  projections (Müffling/Polyeder, Cassini-Soldner, Bonne, and Polyconic) 
> were
>>  developed to facilitate drafting in the field for plane table and alidade
>>  compilation.  For survey computations, they are awful.  (See my 
> comments in
>>  my ASPRS column on Hong Kong.)
>>
>>  The EXACT ellipsoid parameters and the EXACT number of significant digits
>>  published is critical to high-precision applications of geodetic
>>  transformations.  Variations abound that are correct for certain 
> places for
>>  certain eras.  Exactly when a certain set of defining parameters is 
> correct
>>  has to be discerned from government survey notes and publications.  It is
>>  an EXACT science, but it is also remarkably obscure and esoteric.
>>
>>  Major General von Müffling was one of the first officers in command of 
> the
>>  Topographic Engineer Corps of the Austro-Hungarian Empire.  (See my 
> columns
>>  in PE&RS on Austria, Hungary, Poland, etc. for more details.)
>>
>>  Clifford J. Mugnier
>>  Chief of Geodesy and
>>  Associate Director,
>>  CENTER FOR GEOINFORMATICS
>>  Department of Civil Engineering
>>  LOUISIANA STATE UNIVERSITY
>>  Baton Rouge, LA  70803
>>  Voice and Facsimile:  (225) 578-8536
>>  ======================================================
>>  http://www.ASPRS.org/resources.html
>>  http://www.cee.lsu.edu/facultyStaff/mugnier/index.html
>>  ======================================================
>>
>>
>>  "Paul Kelly" <paul-grass at stjohnspoint.co.uk> wrote:
>>
>>
>> > On Sat, 24 Jul 2004, Maciek Sieczka wrote:
>> >
>> > [...]
>> >
>> >> As to the datums I tried 3 different ones and I'm not sure which one is
>> >> really suitable here. I believe I had a best result with the first of
>> >> the mentioned below. Though the reprojection result was very similar
>> >> in each case (max 1-2 m difference) I would like to know which one
>> >> is right if somebody can tell me.
>> >>
>> > None of them are "right"; they are all only approximations to the shift
>> > between the two datums. Number 1 is for central West Germany, number 2
>> >
>>  for
>>
>> > southern west Germany, and number 3 seems to be general for the whole
>> >
>>  area
>>
>> > the potsdam datum is used in. However there is also a more accurate
>> > 7-parameter transformation for all of Germany on the CRS website (and
>> >
>>  also
>>
>> > in GRASS).
>> >
>>
>>  First I'd like to explain myself. Before I got to understand that 
> there are
>>  different datum transformation parameters available for Potsdam datum I
>>  have
>>  had propably accidently selected the "2." mentioned below when setting up
>>  the mapset in Grass. After that I got to the
>>  http://crs.bkg.bund.de/crseu/crs/descr/eu-countrysel.php?country=DE,
>>  understood a bit more and came to conclussion that "1." would be better
>>  (not
>>  "right" :), ok) in my case - my maps are within 50°20'N - 52°20'N. And
>>  after
>>  your message I finally noticed different Potsdam datum paramteres 
> available
>>  in Grass. Briefly that's why I was, in error, reffering to the "2." as to
>>  the "GRASS 5.3, datum: potsdam". Sorry for that.
>>
>>
>> >> 1. +towgs84=584.8,67.0,400.3,0.105,0.013,-2.378,10.29
>> >> taken from the
>> >> http://crs.bkg.bund.de/crseu/crs/descr/eu-countrysel.php?country=DE ->
>> >> DE_DHDN / GK_3 -> Transf. -> DE_DHDN (Middle) to ETRS89
>> >>
>> >> 2. +towgs84: 597.1,71.4,412.1,0.894,0.068,-1.563,7.58
>> >> GRASS 5.3, datum: potsdam
>> >>
>> >> 3. +towgs84=606.0,23.0,413.0
>> >> GDAL 1.2.0, potsdam bessel, Potsdam Rauenberg 1950 DHDN
>> >>
>>
>>
>> > So it all depends on which part of Germany your map covers, and e.g. if
>> >
>>  it
>>
>> > is not in an area that any of the widely available transformations 
> covers
>> > (e.g. former part of Germany that is now in Poland?)
>> >
>>
>>  Yes, former part of Germany, now in Poland, circa 50°45'N, 15°30' - 15°
>>  50'E.
>>
>>
>> > then for maximum
>> > accuracy you would have to derive your own transformation using 
> locations
>> > of churches as was suggested. But I wouldn't know how to do that...
>> >
>>
>>  Then me neither for sure.
>>
>>  I've noticed that all the German/Bessel 1841 systems on the CRS site
>>  mention slightly different ellipsoid inverse flattening than Grass:
>>
>>  Grass 5.3: 299.1528128
>>  CRS:        299.15281285
>>
>>  Propably not a big difference but how big anyway?
>>
>>  One thing more about the projection I've remembered that the guy I got 
> the
>>  map from mentioned the name "von Müffling". He seemed to know about
>>  the cartography even less than me (would you believe it?) but 
> according to
>>  him the projection was "multilateral projection elaborated by general 
> major
>>  von Müffling" (my own translation from Polish). I treid a brief search
>>  about
>>  this general but nothing. Is it telling anything to anybody?
>>
>>  Maciek
>>
>>  _______________________________________________
>>  Proj mailing list
>>  Proj at xserve.flids.com
>>  http://xserve.flids.com/mailman/listinfo/proj
>>
>>
> 
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
> 


From Chris.Barker at noaa.gov  Mon Nov 17 11:55:27 2008
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Mon, 17 Nov 2008 11:55:27 -0800
Subject: [Proj] Any access to geodetic[sic] functions ??
In-Reply-To: <200811171118.52601.geraldi.evenden@gmail.com>
References: <719473.48216.qm@web110002.mail.gq1.yahoo.com>
	<200811171118.52601.geraldi.evenden@gmail.com>
Message-ID: <4921CC2F.3090201@noaa.gov>


-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker at noaa.gov


From Chris.Barker at noaa.gov  Mon Nov 17 12:08:18 2008
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Mon, 17 Nov 2008 12:08:18 -0800
Subject: [Proj] Any access to geodetic[sic] functions ??
In-Reply-To: <200811171118.52601.geraldi.evenden@gmail.com>
References: <719473.48216.qm@web110002.mail.gq1.yahoo.com>
	<200811171118.52601.geraldi.evenden@gmail.com>
Message-ID: <4921CF32.3000203@noaa.gov>

Gerald I. Evenden wrote:
> BTW: all the NGS stuff is now in de-f2c'ed, 'go-to-less' form but needs a 
> better wrapper and cleanup of the headers. 

Are you doing this? if so, thanks!

And I think the NGS code is in the public domain -- are you planning on 
doing the same with your modifications?

thanks,

-Chris


-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker at noaa.gov


From geraldi.evenden at gmail.com  Mon Nov 17 16:37:08 2008
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Mon, 17 Nov 2008 19:37:08 -0500
Subject: [Proj] Name that projection
Message-ID: <200811171937.08431.geraldi.evenden@gmail.com>

Paul Anderson alerted me to a problem with the Winkel II projection: it was in 
error as described in the libproj4 system.  The real Winkel II is a variant 
of the Eckert III series of pseudocylindrials with ellipticall shaped 
meridians.  I had used Snyder's original description from his paper "A 
Comparison of Pseudocylindrical Map Projections."  But he recanted on p. 196 
of "Flattening the Earth" which was verified with an independent source.

Things are being corrected but in the process the projection originally 
described as Winkel II does not have a name nor can be attibuted to anything 
but Snyder's erroneous paper.  At the moment, rather than throw it away, I 
will designate it as the no-name projection.

However, if anyone can give it a verifiable attribution, please let me know.

It is the Winkel II in the current 20081109 manual.pdf on
http://members.verizon.net/~gerald.evenden/proj4/

It will be called the no-name in new reissue of the manual.

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist


From jhollingsworth at houston.oilfield.slb.com  Tue Nov 18 09:09:30 2008
From: jhollingsworth at houston.oilfield.slb.com (Jay Hollingsworth)
Date: Tue, 18 Nov 2008 11:09:30 -0600
Subject: [Proj] Re: Proj Digest, Vol 54, Issue 13
In-Reply-To: <200811181703.mAIH34g5023922@duke.maptools.org>
References: <200811181703.mAIH34g5023922@duke.maptools.org>
Message-ID: <0KAJ00L5CGZRCIE0@us085mbx01.slb.atosorigin-asp.com>

How about Winkel II (Snyder) ?



At 11:03 AM 11/18/2008, you wrote:

>Message: 3
>Date: Mon, 17 Nov 2008 19:37:08 -0500
>From: "Gerald I. Evenden" <geraldi.evenden at gmail.com>
>Subject: [Proj] Name that projection
>To: "PROJ.4 and general Projections Discussions"
>         <proj at lists.maptools.org>
>Message-ID: <200811171937.08431.geraldi.evenden at gmail.com>
>Content-Type: text/plain;  charset="utf-8"
>
>Paul Anderson alerted me to a problem with the Winkel II projection: 
>it was in
>error as described in the libproj4 system.  The real Winkel II is a variant
>of the Eckert III series of pseudocylindrials with ellipticall shaped
>meridians.  I had used Snyder's original description from his paper "A
>Comparison of Pseudocylindrical Map Projections."  But he recanted on p. 196
>of "Flattening the Earth" which was verified with an independent source.
>
>Things are being corrected but in the process the projection originally
>described as Winkel II does not have a name nor can be attibuted to anything
>but Snyder's erroneous paper.  At the moment, rather than throw it away, I
>will designate it as the no-name projection.
>
>However, if anyone can give it a verifiable attribution, please let me know.
>
>It is the Winkel II in the current 20081109 manual.pdf on
>http://members.verizon.net/~gerald.evenden/proj4/
>
>It will be called the no-name in new reissue of the manual.
>
>--
>The whole religious complexion of the modern world is due
>to the absence from Jerusalem of a lunatic asylum.
>-- Havelock Ellis (1859-1939) British psychologist
>
>
>------------------------------


Jay Hollingsworth

Seabed Portfolio Manager and
Principal Data Architect
Schlumberger Information Solutions
phone: 713 513 8854 fax: 713 513 2093



From hamish_b at yahoo.com  Wed Nov 19 02:25:28 2008
From: hamish_b at yahoo.com (Hamish)
Date: Wed, 19 Nov 2008 02:25:28 -0800 (PST)
Subject: [Proj] Yesterday's emailed procedure
In-Reply-To: <200811151052.10537.geraldi.evenden@gmail.com>
Message-ID: <124210.66818.qm@web110002.mail.gq1.yahoo.com>

Gerald wrote:
> The procedure that I emailed yesterday was *NOT* NGS's inverse geodetic.
> 
> Sorry about that.
> 
> Anyway, trash it.



do you know what it is?

I noticed that the GpsDrive code has near identical C as to what you
posted already in it, but without reference as to the source.


also, for what little it's worth, GRASS currently uses the same method
as (apparently) the shelved geod utility- Paul Thomas 1970


Hamish



      



From geraldi.evenden at gmail.com  Thu Nov 20 10:40:13 2008
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Thu, 20 Nov 2008 13:40:13 -0500
Subject: [Proj] Winkel II corrections, etc.
Message-ID: <200811201340.13537.geraldi.evenden@gmail.com>

Libproj4 code corrections regarding Winkel II and no_name projection are made 
available at:

http://members.verizon.net/~gerald.evenden/proj4/

in the 11/20 files.  The updated manual is not quite ready---takes longer to 
update the manual than correct the code. ;-(

Also, Apian II was made a part of Eckert III group

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist


From pbander at cavtel.net  Thu Nov 20 11:42:18 2008
From: pbander at cavtel.net (Paul B. Anderson)
Date: Thu, 20 Nov 2008 14:42:18 -0500
Subject: [Proj] Winkel II corrections, etc.
In-Reply-To: <200811201340.13537.geraldi.evenden@gmail.com>
References: <200811201340.13537.geraldi.evenden@gmail.com>
Message-ID: <22d795600811201142n69486248q7ae7032efd204ebb@mail.gmail.com>

- Gerald,

Even though John Snyder originally thought that Winkel was refering to the
Equal-area Mollweide (1977) and later realizing that is was a Equidistant
variation (1993) that Winkel was talking about, John's formulas are still a
valid map projection. I believe that the earlier proposed 'Winkel II
(Snyder)' would be OK, or even Winkel II (Snyder's Variation). But, Map
projection naming conventions usually end up with the Originator's name
first, a hyphen, then the Modifier's name second (as in 'Winkel-Snyder
projection'). This sometimes results in confusion as to what the
Originator's projection was, but then a future version of John Snyder will
have something to write about.
Take Care,
- Paul
---

Paul B. Anderson FCCS (USN, Retired)
Kingsport, TN native living in Norfolk, VA
My Map Projection web site:
http://www.csiss.org/map-projections/index.html

On Thu, Nov 20, 2008 at 1:40 PM, Gerald I. Evenden <
geraldi.evenden at gmail.com> wrote:

> Libproj4 code corrections regarding Winkel II and no_name projection are
> made
> available at:
>
> http://members.verizon.net/~gerald.evenden/proj4/
>
> in the 11/20 files.  The updated manual is not quite ready---takes longer
> to
> update the manual than correct the code. ;-(
>
> Also, Apian II was made a part of Eckert III group
>
> --
> The whole religious complexion of the modern world is due
> to the absence from Jerusalem of a lunatic asylum.
> -- Havelock Ellis (1859-1939) British psychologist
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20081120/e78a0d90/attachment.html>

From mike at stamen.com  Fri Nov 21 00:26:08 2008
From: mike at stamen.com (Michal Migurski)
Date: Fri, 21 Nov 2008 00:26:08 -0800
Subject: [Proj] NAD27 and WGS84 woes
Message-ID: <69BFCAFB-0B58-41B8-8EB2-0ABEAC397B0F@stamen.com>

Hello,

I'm having some difficulties with conversions between these two  
projections:
	+proj=utm +zone=10 +ellps=clrk66 +datum=NAD27 +units=m +no_defs
	+proj=latlong +ellps=WGS84 +datum=WGS84 +no_defs

I'm seeing what looks like datum shift: when I convert between the two  
using cs2cs and do a visual comparison to google maps (via http://getlatlon.com 
), I get east/west shifts of approx. one city block. The reference  
point I'm using is in Oakland CA, (37.804732, -122.258477). I'm  
expecting to see it projected to (565345, 4184205) but instead I'm  
getting (565278, 4184204), about 70m off.

I'm trying to use this elevation data from USGS, I need to have it  
match the mercator projection used by OpenStreetMap:
	http://bard.wr.usgs.gov/htmldir/dem_html/

I've searched for clues on how to approach this, and found these two  
old threads:
	http://lists.maptools.org/pipermail/proj/2000-July/000088.html
	http://lists.maptools.org/pipermail/proj/2006-February/002122.html

The first seems to indicate that PROJ does this conversion seamlessly,  
while the second recommends adding a +towgs84 parameter to the NAD27  
projection. I've tried this, and I don't see any difference in the  
numbers.

Any hints?

-mike.

----------------------------------------------------------------
michal migurski- mike at stamen.com
                  415.558.1610





From warmerdam at pobox.com  Fri Nov 21 08:36:29 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri, 21 Nov 2008 11:36:29 -0500
Subject: [Proj] NAD27 and WGS84 woes
In-Reply-To: <69BFCAFB-0B58-41B8-8EB2-0ABEAC397B0F@stamen.com>
References: <69BFCAFB-0B58-41B8-8EB2-0ABEAC397B0F@stamen.com>
Message-ID: <4926E38D.6000002@pobox.com>

Michal Migurski wrote:
> Hello,
> 
> I'm having some difficulties with conversions between these two 
> projections:
>     +proj=utm +zone=10 +ellps=clrk66 +datum=NAD27 +units=m +no_defs
>     +proj=latlong +ellps=WGS84 +datum=WGS84 +no_defs
> 
> I'm seeing what looks like datum shift: when I convert between the two 
> using cs2cs and do a visual comparison to google maps (via 
> http://getlatlon.com), I get east/west shifts of approx. one city block. 
> The reference point I'm using is in Oakland CA, (37.804732, 
> -122.258477). I'm expecting to see it projected to (565345, 4184205) but 
> instead I'm getting (565278, 4184204), about 70m off.

Mike,

The result you are getting is congruent with no datum shift being applied
though I get (565276.44, 4184408.92) when I convert the above lat/long value
assuming WGS84 to WGS84 instead of WGS84 to NAD27.

If I do it properly using the normal NAD27 handling via the continental US
grid shift files:

   cs2cs -I +proj=utm +zone=10 +datum=NAD27 +to +proj=latlong +datum=WGS84

I get (565373.10, 4184212.50).  This is still pretty far off what you
were expecting, so I wonder if your expectations are wrong.  Or perhaps 30
meters the best you can accomplish with the data precision you have?

I presume what is happening is that you don't have the conus grid shift data
files in place.  I refer you to the datum shifting to topics in the FAQ:

   http://trac.osgeo.org/proj/wiki/FAQ


> I'm trying to use this elevation data from USGS, I need to have it match 
> the mercator projection used by OpenStreetMap:
>     http://bard.wr.usgs.gov/htmldir/dem_html/

Hmm, that may add some additional issues.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From geraldi.evenden at gmail.com  Fri Nov 21 09:13:06 2008
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Fri, 21 Nov 2008 12:13:06 -0500
Subject: [Proj] Winkel II corrections, etc.
In-Reply-To: <22d795600811201142n69486248q7ae7032efd204ebb@mail.gmail.com>
References: <200811201340.13537.geraldi.evenden@gmail.com>
	<22d795600811201142n69486248q7ae7032efd204ebb@mail.gmail.com>
Message-ID: <200811211213.06754.geraldi.evenden@gmail.com>

On Thursday 20 November 2008 2:42:18 pm Paul B. Anderson wrote:
> - Gerald,
>
> Even though John Snyder originally thought that Winkel was refering to the
> Equal-area Mollweide (1977) and later realizing that is was a Equidistant
> variation (1993) that Winkel was talking about, John's formulas are still a
> valid map projection. I believe that the earlier proposed 'Winkel II
> (Snyder)' would be OK, or even Winkel II (Snyder's Variation). But, Map
> projection naming conventions usually end up with the Originator's name
> first, a hyphen, then the Modifier's name second (as in 'Winkel-Snyder
> projection'). This sometimes results in confusion as to what the
> Originator's projection was, but then a future version of John Snyder will
> have something to write about.

How about "proj=winks".  I returned the old Winkel II description to the 
manual as "Winkel II - Snyder" and added a one sentence history of the 
problem.

I will change the name on the source distribution but there will not be an 
immediate reissue---use no_name in the mean time. ;-)

> Take Care,
> - Paul
> ---
>
> Paul B. Anderson FCCS (USN, Retired)
> Kingsport, TN native living in Norfolk, VA
> My Map Projection web site:
> http://www.csiss.org/map-projections/index.html
>
> On Thu, Nov 20, 2008 at 1:40 PM, Gerald I. Evenden <
>
> geraldi.evenden at gmail.com> wrote:
> > Libproj4 code corrections regarding Winkel II and no_name projection are
> > made
> > available at:
> >
> > http://members.verizon.net/~gerald.evenden/proj4/
> >
> > in the 11/20 files.  The updated manual is not quite ready---takes longer
> > to
> > update the manual than correct the code. ;-(
> >
> > Also, Apian II was made a part of Eckert III group
> >
> > --
> > The whole religious complexion of the modern world is due
> > to the absence from Jerusalem of a lunatic asylum.
> > -- Havelock Ellis (1859-1939) British psychologist
> > _______________________________________________
> > Proj mailing list
> > Proj at lists.maptools.org
> > http://lists.maptools.org/mailman/listinfo/proj



-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist


From jagoncal at gmail.com  Fri Nov 21 09:17:25 2008
From: jagoncal at gmail.com (=?ISO-8859-1?Q?Jose_Gon=E7alves?=)
Date: Fri, 21 Nov 2008 17:17:25 +0000
Subject: [Proj] GSB file format
Message-ID: <6a91fcb00811210917y246aa84elf40e18b94bff277e@mail.gmail.com>

Dear members of the list

I am trying to configure a local datum conversion using grid shifts. Is
there any documentation or FAQ on the GSB file format?

Thanks

José Gonçalves
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20081121/497ba05a/attachment.html>

From mike at stamen.com  Fri Nov 21 14:06:52 2008
From: mike at stamen.com (Michal Migurski)
Date: Fri, 21 Nov 2008 14:06:52 -0800
Subject: [Proj] NAD27 and WGS84 woes
In-Reply-To: <387569.1227286867481.JavaMail.root@m02>
References: <69BFCAFB-0B58-41B8-8EB2-0ABEAC397B0F@stamen.com>
	<387569.1227286867481.JavaMail.root@m02>
Message-ID: <967398E8-76AB-4F55-8E0A-B7F30BFC21DA@stamen.com>

Hi Frank,

Thanks for your help.

>> The reference point I'm using is in Oakland CA, (37.804732,  
>> -122.258477). I'm expecting to see it projected to (565345,  
>> 4184205) but instead I'm getting (565278, 4184204), about 70m off.
>
> Mike,
>
> The result you are getting is congruent with no datum shift being  
> applied
> though I get (565276.44, 4184408.92) when I convert the above lat/ 
> long value
> assuming WGS84 to WGS84 instead of WGS84 to NAD27.
>
> If I do it properly using the normal NAD27 handling via the  
> continental US
> grid shift files:
>
>  cs2cs -I +proj=utm +zone=10 +datum=NAD27 +to +proj=latlong  
> +datum=WGS84
>
> I get (565373.10, 4184212.50).  This is still pretty far off what you
> were expecting, so I wonder if your expectations are wrong.  Or  
> perhaps 30
> meters the best you can accomplish with the data precision you have?

Frustrating, I don't know. I'm reading the FAQ's on datum shift files  
- FWIW, I'm using PROJ on a debian server where I've simply installed  
it all via Apt. I didn't build/install myself. Does the fact that my  
explicitly-given +towgs84 arguments have no effect mean anything here?  
Wouldn't those be replacements for missing grid shift files?


>> I'm trying to use this elevation data from USGS, I need to have it  
>> match the mercator projection used by OpenStreetMap:
>>    http://bard.wr.usgs.gov/htmldir/dem_html/
>
> Hmm, that may add some additional issues.

There certainly could be some error in those files. They do have a  
strange rotation going on; when I render bitmaps I can see slices of  
blank data around the edges, illustrated here:

	http://teczno.com/tmp/oakland_east.dem.jpg

Does that apparent rotation mean anything to you? I've seen it with  
quadrangles from other sources as well.

There's a creek fork in that image I'm considering a reference point  
at (387, 630). When I use the python module osgeo.gdal to project what  
I think should be the correct lat, lon (37.81844624, -122.20710754),  
it comes out a solid 50+ meters off, more than I expect from my  
potentially-sloppy eyeballing of google maps.

It seems that the USGS would be more accurate than this with a 10m  
dataset, so I'm trying to understand whether I'm doing something wrong.

-mike.

----------------------------------------------------------------
michal migurski- mike at stamen.com
                  415.558.1610



From mike at stamen.com  Fri Nov 21 14:22:27 2008
From: mike at stamen.com (Michal Migurski)
Date: Fri, 21 Nov 2008 14:22:27 -0800
Subject: [Proj] NAD27 and WGS84 woes
In-Reply-To: <967398E8-76AB-4F55-8E0A-B7F30BFC21DA@stamen.com>
References: <69BFCAFB-0B58-41B8-8EB2-0ABEAC397B0F@stamen.com>
	<387569.1227286867481.JavaMail.root@m02>
	<967398E8-76AB-4F55-8E0A-B7F30BFC21DA@stamen.com>
Message-ID: <7F81CA05-FEA7-4F4D-AD94-64C11CDD28A5@stamen.com>

On Nov 21, 2008, at 2:06 PM, Michal Migurski wrote:

> Frustrating, I don't know. I'm reading the FAQ's on datum shift  
> files - FWIW, I'm using PROJ on a debian server where I've simply  
> installed it all via Apt. I didn't build/install myself. Does the  
> fact that my explicitly-given +towgs84 arguments have no effect mean  
> anything here? Wouldn't those be replacements for missing grid shift  
> files?

I should add that I have the following files on my system:
	/usr/share/proj/nad.lst
	/usr/share/proj/nad83
	/usr/share/proj/esri.extra
	/usr/share/proj/proj_def.dat
	/usr/share/proj/epsg /usr/share/proj/other.extra
	/usr/share/proj/esri /usr/share/proj/nad27
	/usr/share/proj/GL27
	/usr/share/proj/world

Would those be the conus files mentioned at http://trac.osgeo.org/proj/wiki/FAQ 
  ? Nothing else in /usr seems to fit.

-mike.

----------------------------------------------------------------
michal migurski- mike at stamen.com
                  415.558.1610



From support.mn at elisanet.fi  Sat Nov 22 00:36:30 2008
From: support.mn at elisanet.fi (support.mn at elisanet.fi)
Date: Sat, 22 Nov 2008 10:36:30 +0200 (EET)
Subject: [Proj] GSB file format
Message-ID: <28820197.396931227342990827.JavaMail.support.mn@elisanet.fi>

Hello,

http://filext.com/file-extension/GSB

"Golden Software are makers of Surfer, Grapher, Voxler, MapViewer, Didger, and Strater. Golden Software is a provider of scientific graphics software. Golden Software Boundary Data files contain geographic and political boundary data in a binary format."

Linking to:

http://www.goldensoftware.com/products/mapviewer/mapviewer.shtml

http://www.corruptedfilerepair.com/Recovery/Golden-Software-Boundary-data-GSB-Data-Conversion-l2.asp

http://www.goldensoftware.ws/forum/topic.asp?topic_id=1842&forum_id=1&Topic_Title=contour+islands&forum_title=Surfer+Support&M=False

Regards: Janne.

--------------------------

Jose Gonçalves <jagoncal at gmail.com> kirjoitti: 
> Dear members of the list
> 
> I am trying to configure a local datum conversion using grid shifts. Is
> there any documentation or FAQ on the GSB file format?
> 
> Thanks
> 
> José Gonçalves
> 
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj




From support.mn at elisanet.fi  Sat Nov 22 01:26:06 2008
From: support.mn at elisanet.fi (support.mn at elisanet.fi)
Date: Sat, 22 Nov 2008 11:26:06 +0200 (EET)
Subject: [Proj] NAD27 and WGS84 woes
Message-ID: <4842864.398861227345966612.JavaMail.support.mn@elisanet.fi>

Yes,

this rises again the question about that there should be more
warnings when something has been omitted! The end user
might belive that the entries given have been handled, where
they actually are not.

The application can not do that, since these files are handled
deep in the proj4 library and the upper level does not know when
such situation happened.

Please write like:

if (!open_file(file_name))
{
___ call_warning_handler("Could not open file %s", file_name);
___ use_some_defaults();
}

And the warning handler can be a global procedure either
proj.4 defined (default does nothing) or the application defined,
where it delivers the message further to the end user the way
that is suitable for that specific application.

Regards: Janne.

---------------------------------

Michal Migurski <mike at stamen.com> kirjoitti: 
> On Nov 21, 2008, at 2:06 PM, Michal Migurski wrote:
> 
> > Frustrating, I don't know. I'm reading the FAQ's on datum shift  
> > files - FWIW, I'm using PROJ on a debian server where I've simply  
> > installed it all via Apt. I didn't build/install myself. Does the  
> > fact that my explicitly-given +towgs84 arguments have no effect mean  
> > anything here? Wouldn't those be replacements for missing grid shift  
> > files?
> 
> I should add that I have the following files on my system:
> 	/usr/share/proj/nad.lst
> 	/usr/share/proj/nad83
> 	/usr/share/proj/esri.extra
> 	/usr/share/proj/proj_def.dat
> 	/usr/share/proj/epsg /usr/share/proj/other.extra
> 	/usr/share/proj/esri /usr/share/proj/nad27
> 	/usr/share/proj/GL27
> 	/usr/share/proj/world
> 
> Would those be the conus files mentioned at http://trac.osgeo.org/proj/wiki/FAQ 
>   ? Nothing else in /usr seems to fit.
> 
> -mike.
> 
> ----------------------------------------------------------------
> michal migurski- mike at stamen.com
>                   415.558.1610
> 
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
> 



From geraldi.evenden at gmail.com  Sat Nov 22 08:14:28 2008
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Sat, 22 Nov 2008 11:14:28 -0500
Subject: [Proj] libproj4 manual.pdf updated
Message-ID: <200811221114.28809.geraldi.evenden@gmail.com>

The manual has been updated to reflect changes related to Winkel II, 
Winkel-Snyder and earlier material.

http://members.verizon.net/~gerald.evenden/proj4/

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist


From jagoncal at gmail.com  Sat Nov 22 08:56:31 2008
From: jagoncal at gmail.com (=?ISO-8859-1?Q?Jose_Gon=E7alves?=)
Date: Sat, 22 Nov 2008 16:56:31 +0000
Subject: [Proj] GSB file format
In-Reply-To: <28820197.396931227342990827.JavaMail.support.mn@elisanet.fi>
References: <28820197.396931227342990827.JavaMail.support.mn@elisanet.fi>
Message-ID: <6a91fcb00811220856t3d586187r64cb73b4b22c2e9a@mail.gmail.com>

Thanks, but I meant the format of datum shift grids used in PROJ.4 for datum
conversion (for example file ntf_r93.gsb). May be I should have called it
"NTv2 grid format". Meanwhile I found a document of an australian program
that uses that grid format and refers a page in Canada, which is not
available. Looks like there are different versions of the file format.
I would appreciate any information on the format of the grids available with
PROJ. Thanks in advance.

José Gonçalves

2008/11/22 <support.mn at elisanet.fi>

> Hello,
>
> http://filext.com/file-extension/GSB
>
> "Golden Software are makers of Surfer, Grapher, Voxler, MapViewer, Didger,
> and Strater. Golden Software is a provider of scientific graphics software.
> Golden Software Boundary Data files contain geographic and political
> boundary data in a binary format."
>
> Linking to:
>
> http://www.goldensoftware.com/products/mapviewer/mapviewer.shtml
>
>
> http://www.corruptedfilerepair.com/Recovery/Golden-Software-Boundary-data-GSB-Data-Conversion-l2.asp
>
>
> http://www.goldensoftware.ws/forum/topic.asp?topic_id=1842&forum_id=1&Topic_Title=contour+islands&forum_title=Surfer+Support&M=False
>
> Regards: Janne.
>
> --------------------------
>
> Jose Gonçalves <jagoncal at gmail.com> kirjoitti:
>
>>  Dear members of the list
>>
>> I am trying to configure a local datum conversion using grid shifts. Is
>> there any documentation or FAQ on the GSB file format?
>>
>> Thanks
>>
>> José Gonçalves
>>
>> _______________________________________________
>> Proj mailing list
>> Proj at lists.maptools.org
>> http://lists.maptools.org/mailman/listinfo/proj
>>
>
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20081122/f457c9de/attachment.html>

From mike at stamen.com  Sat Nov 22 11:13:51 2008
From: mike at stamen.com (Michal Migurski)
Date: Sat, 22 Nov 2008 11:13:51 -0800
Subject: [Proj] NAD27 and WGS84 woes
In-Reply-To: <17605128.1227306899720.JavaMail.root@m02>
References: <69BFCAFB-0B58-41B8-8EB2-0ABEAC397B0F@stamen.com>
	<387569.1227286867481.JavaMail.root@m02>
	<17605128.1227306899720.JavaMail.root@m02>
Message-ID: <03014DF9-3857-4ADB-B8F1-151BF909B9D8@stamen.com>

>> I get (565373.10, 4184212.50).  This is still pretty far off what you
>> were expecting, so I wonder if your expectations are wrong.  Or  
>> perhaps 30
>> meters the best you can accomplish with the data precision you have?
>
> Frustrating, I don't know. I'm reading the FAQ's on datum shift  
> files - FWIW, I'm using PROJ on a debian server where I've simply  
> installed it all via Apt. I didn't build/install myself. Does the  
> fact that my explicitly-given +towgs84 arguments have no effect mean  
> anything here? Wouldn't those be replacements for missing grid shift  
> files?

A quick followup on where I've gotten to.

I downloaded the PROJ.4 source and datum shift grids, and moved all  
the datum files into nad/ in the source directory. I configured and  
built proj like this:

	./configure --prefix=/tmp/proj
	make
	make install

...then moved just the conus file and ditched the remainder of the  
install:

	cp -v /tmp/proj/share/proj/conus /usr/share/proj/

Now I'm getting results that are closer to what I would expect. Thank  
you again for pointing this out.

Isn't it the case that without the datum shift files, proj outputs the  
wrong numbers? Why wouldn't these be included in the default build and  
debian package along with everything else?

-mike.

----------------------------------------------------------------
michal migurski- mike at stamen.com
                  415.558.1610



From warmerdam at pobox.com  Sat Nov 22 12:16:28 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sat, 22 Nov 2008 15:16:28 -0500
Subject: [Proj] NAD27 and WGS84 woes
In-Reply-To: <03014DF9-3857-4ADB-B8F1-151BF909B9D8@stamen.com>
References: <69BFCAFB-0B58-41B8-8EB2-0ABEAC397B0F@stamen.com>
	<387569.1227286867481.JavaMail.root@m02>
	<17605128.1227306899720.JavaMail.root@m02>
	<03014DF9-3857-4ADB-B8F1-151BF909B9D8@stamen.com>
Message-ID: <4928689C.1010603@pobox.com>

Michal Migurski wrote:
> Isn't it the case that without the datum shift files, proj outputs the 
> wrong numbers? Why wouldn't these be included in the default build and 
> debian package along with everything else?

Mike,

The datum shift files are large and only applicably in a few cases
(north americans using NAD27).  I try to package them in binary
distributions I ship, but apparently by decision or by omission the
Debian package maintainer decided otherwise.

I would have hoped that they would at least have been available as an
add-on package.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From mkennedy2 at earthlink.net  Sat Nov 22 12:25:40 2008
From: mkennedy2 at earthlink.net (Melita Kennedy)
Date: Sat, 22 Nov 2008 12:25:40 -0800 (GMT-08:00)
Subject: [Proj] Re: GSB file format
Message-ID: <32284262.1227385540467.JavaMail.root@mswamui-blood.atl.sa.earthlink.net>


>Date: Fri, 21 Nov 2008 17:17:25 +0000
>From: " Jose Gon?alves " <jagoncal at gmail.com>
>Subject: [Proj] GSB file format
>To: "PROJ.4 and general Projections Discussions" <proj at lists.maptools.org>
>
>Dear members of the list
>
>I am trying to configure a local datum conversion using grid shifts. Is
>there any documentation or FAQ on the GSB file format?
>
>Thanks
>
>José Gonçalves

José,

Correct url should be: http://www.geod.nrcan.gc.ca/tools-outils/ntv2_e.php

Sincerely,
Melita



From glynn at gclements.plus.com  Sat Nov 22 14:26:00 2008
From: glynn at gclements.plus.com (Glynn Clements)
Date: Sat, 22 Nov 2008 22:26:00 +0000
Subject: [Proj] GSB file format
In-Reply-To: <6a91fcb00811210917y246aa84elf40e18b94bff277e@mail.gmail.com>
References: <6a91fcb00811210917y246aa84elf40e18b94bff277e@mail.gmail.com>
Message-ID: <18728.34552.280840.208376@cerise.gclements.plus.com>


Jose Gonçalves wrote:

> I am trying to configure a local datum conversion using grid shifts. Is
> there any documentation or FAQ on the GSB file format?

If you want the source code, the relevant PROJ function is
pj_gridinfo_init_ntv2() in src/pj_gridinfo.c.

-- 
Glynn Clements <glynn at gclements.plus.com>



From j.l.h.hartmann at uva.nl  Tue Nov 25 08:42:55 2008
From: j.l.h.hartmann at uva.nl (Jan Hartmann)
Date: Tue, 25 Nov 2008 17:42:55 +0100
Subject: [Proj] Datum shift for Dutch maps 1850-2000
Message-ID: <492C2B0F.8090305@uva.nl>

  This is not a question about the program PROJ, but perhaps there are 
people on this list that can help me. I am georeferencing the first 
topographical map of the Netherlands from about 1850. That map is in a 
Bonne projection centered at  51.5N / 4.8838828E,  and uses  its own 
ellipsoid, computed by the Dutch engineer Ackermans (semi-major axis 
6376950.4m, inverse flattening 309.65m). Its PROJ-string is:

+proj=bonne +lat_1=51.5 +lon_0=4.8838828  +a=6376950.4 +rf=309.65 
+units=m +no_defs

The present Dutch topograpical maps use a stereographic projection on 
the Bessel ellipsoid, defined (without the WGS84 datum shift) as:

+proj=sterea +lat_0=52.15616055555555 +lon_0=5.38763888888889 
+k=0.999908 +x_0=155000 +y_0=463000 +ellps=bessel +units=m +no_defs


We have the complete lists of triangulation points used for both  maps, 
1000  in 1850 and  5000  in 2006.  Quite a few points are identical, 
mostly church towers, so for these we have coordinates in both 
projections. The  lists  also contain  the lat-lon values for these 
points.  When I use  cs2cs to  reproject  the old points  into the 
present system, I get a difference of about 650 meter, almost 
exclusively in the Y-direction: the reprojected 1850 map lies about 650 
meter to the north of the present map. This different is exactly the 
same over the whole country, give or take a few meters that look random 
to me (could be measurement errors, plus I am not sure they used the 
same spot on the church towers in 1850 and the present).

This means I can get a reasonably accurate historical map by just doing 
a linear shift of -10/-650 meters, but I am curious what happens here. 
Of course the center of projection in 1850 could be actually 650m away 
from its recorded position, but I am wondering if there are other 
possibilities for such a shift. Am I doing something slightly wrong? Any 
help would be appreciated.

Jan

Dr. J. Hartmann
Department of Geography
University of Amsterdam


From cjmce at lsu.edu  Tue Nov 25 09:18:46 2008
From: cjmce at lsu.edu (Clifford J Mugnier)
Date: Tue, 25 Nov 2008 11:18:46 -0600
Subject: [Proj] Datum shift for Dutch maps 1850-2000
References: <492C2B0F.8090305@uva.nl>
Message-ID: <B597ADFC46B67741B18EA6AA13613FF7EC252D@email002.lsu.edu>

For that difference in dates, a mostly northerly shift is entirely due to something else other than different datums.  Timekeeping back then was far from today's accuracy, and therefore the major shift is ALWAYS East-West with some difference in Northings.  Furthermore, church towers are intersection stations and were not occupied.  Those points normally have the least accuracy even though they generally are the longest-lasting.
 
I have no idea what you have there, but it is certainly not a classical datum shift.
 
Check out my February 2003 column on the Netherlands at www.ASPRS.org/resources/grids .
 
C. Mugnier
Louisiana State University
 

________________________________

From: proj-bounces at lists.maptools.org on behalf of Jan Hartmann
Sent: Tue 25-Nov-08 10:42
To: PROJ.4 and general Projections Discussions
Subject: [Proj] Datum shift for Dutch maps 1850-2000



  This is not a question about the program PROJ, but perhaps there are
people on this list that can help me. I am georeferencing the first
topographical map of the Netherlands from about 1850. That map is in a
Bonne projection centered at  51.5N / 4.8838828E,  and uses  its own
ellipsoid, computed by the Dutch engineer Ackermans (semi-major axis
6376950.4m, inverse flattening 309.65m). Its PROJ-string is:

+proj=bonne +lat_1=51.5 +lon_0=4.8838828  +a=6376950.4 +rf=309.65
+units=m +no_defs

The present Dutch topograpical maps use a stereographic projection on
the Bessel ellipsoid, defined (without the WGS84 datum shift) as:

+proj=sterea +lat_0=52.15616055555555 +lon_0=5.38763888888889
+k=0.999908 +x_0=155000 +y_0=463000 +ellps=bessel +units=m +no_defs


We have the complete lists of triangulation points used for both  maps,
1000  in 1850 and  5000  in 2006.  Quite a few points are identical,
mostly church towers, so for these we have coordinates in both
projections. The  lists  also contain  the lat-lon values for these
points.  When I use  cs2cs to  reproject  the old points  into the
present system, I get a difference of about 650 meter, almost
exclusively in the Y-direction: the reprojected 1850 map lies about 650
meter to the north of the present map. This different is exactly the
same over the whole country, give or take a few meters that look random
to me (could be measurement errors, plus I am not sure they used the
same spot on the church towers in 1850 and the present).

This means I can get a reasonably accurate historical map by just doing
a linear shift of -10/-650 meters, but I am curious what happens here.
Of course the center of projection in 1850 could be actually 650m away
from its recorded position, but I am wondering if there are other
possibilities for such a shift. Am I doing something slightly wrong? Any
help would be appreciated.

Jan

Dr. J. Hartmann
Department of Geography
University of Amsterdam
_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20081125/a7544f5d/attachment.html>

From dagnew at ucsd.edu  Tue Nov 25 10:12:11 2008
From: dagnew at ucsd.edu (Duncan Agnew)
Date: Tue, 25 Nov 2008 10:12:11 -0800
Subject: [Proj] Datum shift for Dutch maps 1850-2000
In-Reply-To: <B597ADFC46B67741B18EA6AA13613FF7EC252D@email002.lsu.edu>
References: <492C2B0F.8090305@uva.nl>
	<B597ADFC46B67741B18EA6AA13613FF7EC252D@email002.lsu.edu>
Message-ID: <35384b7a3249069ec1d940ef8466ffb8@ucsd.edu>

I suspect that in the Netherlands in the 1850's* church towers *were* 
stations--where else could you see
from? 650 m is about 20 arcsec, which is, I agree, too large for 
observational error (or for deflection of
the vertical).

Duncan Agnew

*and before--going back to Snel.



From cjmce at lsu.edu  Tue Nov 25 10:23:06 2008
From: cjmce at lsu.edu (Clifford J Mugnier)
Date: Tue, 25 Nov 2008 12:23:06 -0600
Subject: [Proj] Datum shift for Dutch maps 1850-2000
References: <492C2B0F.8090305@uva.nl><B597ADFC46B67741B18EA6AA13613FF7EC252D@email002.lsu.edu>
	<35384b7a3249069ec1d940ef8466ffb8@ucsd.edu>
Message-ID: <B597ADFC46B67741B18EA6AA13613FF7EC2530@email002.lsu.edu>

Church towers were extremely rare as triangulation observation stations - that would require scaffolding symmetrical about the spire - an impractical enterprise.  When observing directions with a Direction Theodolite, you hit everything sticking up above the horizon for 360º.  Back then it was Church towers, castles, some prominent buildings, and not much else other than the heliographs in the day time and the lantern/beacons at night.  In the 20th century, technology added radio towers, microwave towers, and water tanks - all quite useful for doing a three-point resection to determine your own position once the intersection station coordinates are known.  I used them for many years in the South Louisiana marshes BEFORE the advent of GPS.
 
Where else could you see from?  Hills, mountains, and double scaffolds made from scantling.  Check out the old manuals of triangulation.  That's why they used Strength of Figure computations to decide WHICH hill to use for observations or if they had to build a scaffolding tower themselves.
 
C. Mugnier

________________________________

From: proj-bounces at lists.maptools.org on behalf of Duncan Agnew
Sent: Tue 25-Nov-08 12:12
To: PROJ.4 and general Projections Discussions
Subject: Re: [Proj] Datum shift for Dutch maps 1850-2000



I suspect that in the Netherlands in the 1850's* church towers *were*
stations--where else could you see
from? 650 m is about 20 arcsec, which is, I agree, too large for
observational error (or for deflection of
the vertical).

Duncan Agnew

*and before--going back to Snel.

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20081125/0cdc4528/attachment.html>

From dagnew at ucsd.edu  Tue Nov 25 11:12:27 2008
From: dagnew at ucsd.edu (Duncan Agnew)
Date: Tue, 25 Nov 2008 11:12:27 -0800
Subject: [Proj] Datum shift for Dutch maps 1850-2000
In-Reply-To: <B597ADFC46B67741B18EA6AA13613FF7EC2530@email002.lsu.edu>
References: <492C2B0F.8090305@uva.nl><B597ADFC46B67741B18EA6AA13613FF7EC252D@email002.lsu.edu>
	<35384b7a3249069ec1d940ef8466ffb8@ucsd.edu>
	<B597ADFC46B67741B18EA6AA13613FF7EC2530@email002.lsu.edu>
Message-ID: <0c7b9ccbbd15c7bec61c1470f92e8bf6@ucsd.edu>

I should have said, where else can you sight from in the 
Netherlands--not a lot of topography to use;
church spires often have windows or other openings. Certainly Snel used 
them: see

geodesia.ufsc.br/Biblioteca/NL/NCG-verde/14Haasbroek.pdf

for a detailed discussion of his triangulation.



From billinb at nsidc.org  Tue Nov 25 15:12:15 2008
From: billinb at nsidc.org (Brendan Billingsley)
Date: Tue, 25 Nov 2008 16:12:15 -0700
Subject: [Proj] Default datum transformation behavior
Message-ID: <492C864F.7050709@nsidc.org>

The last question in the PROJ.4 FAQ explains how to use the
+nadgrids=@null argument to prevent a datum shift when doing a
conversion between projections with different projection spheroids.  I
have been using this trick and telling others about this trick.  However
I recently started using a newer version of FWTools and realized that
leaving out the "+nadgrids=@null +wktext" produced the same results as
having it in.  I then grabbed the newest version of proj (4.6.1),
compiled it and confirmed that the behavior has changed.  In my old
version (4.5.0) if I use cs2cs then to prevent the datum transformation
for my conversion I need the +nadgrids=@null argument, but for the new
version I can leave that argument off and I will get the same results as
having the argument on and using the 4.5.0 version.

So has the default behavior been changed, am I missing something or is
this a bug?  If the default behavior has been changed then that is great
news.

Thanks,
    Brendan


From warmerdam at pobox.com  Tue Nov 25 16:49:42 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue, 25 Nov 2008 19:49:42 -0500
Subject: [Proj] Default datum transformation behavior
In-Reply-To: <492C864F.7050709@nsidc.org>
References: <492C864F.7050709@nsidc.org>
Message-ID: <492C9D26.3000305@pobox.com>

Brendan Billingsley wrote:
> The last question in the PROJ.4 FAQ explains how to use the
> +nadgrids=@null argument to prevent a datum shift when doing a
> conversion between projections with different projection spheroids.  I
> have been using this trick and telling others about this trick.  However
> I recently started using a newer version of FWTools and realized that
> leaving out the "+nadgrids=@null +wktext" produced the same results as
> having it in.  I then grabbed the newest version of proj (4.6.1),
> compiled it and confirmed that the behavior has changed.  In my old
> version (4.5.0) if I use cs2cs then to prevent the datum transformation
> for my conversion I need the +nadgrids=@null argument, but for the new
> version I can leave that argument off and I will get the same results as
> having the argument on and using the 4.5.0 version.
> 
> So has the default behavior been changed, am I missing something or is
> this a bug?  If the default behavior has been changed then that is great
> news.

Brendan,

Yes, the default behavior changed.  PROJ.4 will now only apply a datum
shift if both the source and destination coordinate system have valid
datum shift information.

 From the PROJ.4 4.6.0 Release Notes (in NEWS):

  o MAJOR: Rework pj_transform() to avoid applying ellipsoid to ellipsoid
    transformations as a datum shift when no datum info is available.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From support.mn at elisanet.fi  Wed Nov 26 03:22:49 2008
From: support.mn at elisanet.fi (support.mn at elisanet.fi)
Date: Wed, 26 Nov 2008 13:22:49 +0200 (EET)
Subject: [Proj] Datum shift for Dutch maps 1850-2000
Message-ID: <21508159.31961227698570585.JavaMail.support.mn@elisanet.fi>

Hello,

north shifts can also be generated from transition between spherical
and elliptical earth... or between different ellipsoids. If it used it's
own ellipsoid (or sphere), I am rather sure that the shift comes from
there. Try an other ellipsoid or maybe even some sphere.. that might
explain the difference?

Regards: Janne.

-----------------------------------------------

Jan Hartmann [j.l.h.hartmann at uva.nl] kirjoitti: 
>   This is not a question about the program PROJ, but perhaps there are 
> people on this list that can help me. I am georeferencing the first 
> topographical map of the Netherlands from about 1850. That map is in a 
> Bonne projection centered at  51.5N / 4.8838828E,  and uses  its own 
> ellipsoid, computed by the Dutch engineer Ackermans (semi-major axis 
> 6376950.4m, inverse flattening 309.65m). Its PROJ-string is:
> 
> +proj=bonne +lat_1=51.5 +lon_0=4.8838828  +a=6376950.4 +rf=309.65 
> +units=m +no_defs
> 
> The present Dutch topograpical maps use a stereographic projection on 
> the Bessel ellipsoid, defined (without the WGS84 datum shift) as:
> 
> +proj=sterea +lat_0=52.15616055555555 +lon_0=5.38763888888889 
> +k=0.999908 +x_0=155000 +y_0=463000 +ellps=bessel +units=m +no_defs
> 
> 
> We have the complete lists of triangulation points used for both  maps, 
> 1000  in 1850 and  5000  in 2006.  Quite a few points are identical, 
> mostly church towers, so for these we have coordinates in both 
> projections. The  lists  also contain  the lat-lon values for these 
> points.  When I use  cs2cs to  reproject  the old points  into the 
> present system, I get a difference of about 650 meter, almost 
> exclusively in the Y-direction: the reprojected 1850 map lies about 650 
> meter to the north of the present map. This different is exactly the 
> same over the whole country, give or take a few meters that look random 
> to me (could be measurement errors, plus I am not sure they used the 
> same spot on the church towers in 1850 and the present).
> 
> This means I can get a reasonably accurate historical map by just doing 
> a linear shift of -10/-650 meters, but I am curious what happens here. 
> Of course the center of projection in 1850 could be actually 650m away 
> from its recorded position, but I am wondering if there are other 
> possibilities for such a shift. Am I doing something slightly wrong? Any 
> help would be appreciated.
> 
> Jan
> 
> Dr. J. Hartmann
> Department of Geography
> University of Amsterdam
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
> 



From j.l.h.hartmann at uva.nl  Wed Nov 26 06:38:02 2008
From: j.l.h.hartmann at uva.nl (Jan Hartmann)
Date: Wed, 26 Nov 2008 15:38:02 +0100
Subject: [Proj] Datum shift for Dutch maps 1850-2000
Message-ID: <492D5F4A.4080100@uva.nl>

Well, changing the ellipsoid seems to help. The ellipsoid that is 
officially documented for this map, and the one I have been using has 
+a=6376950.4 +rf=309.65.
This gives the 650m Nord shift. Replacing this ellipsoid by the Bessel 
ellipsoid (a=6377397.155, rf=299.1528128) gives a 50m South shift. 
Again, I am reprojecting to the present projection which has a Bessel 
ellipsoid. I can see that the first ellipsoid has a significantly 
smaller semi-major axis than the second one. Does this explain the  Nord 
shift?

BTW, you say in your column that the ellipsoid for this map was indeed 
Bessel. Where did you get that information from?

Jan

Clifford J Mugnier wrote:
 > For that difference in dates, a mostly northerly shift is entirely 
due to something else other than different datums.  Timekeeping back 
then was far from today's accuracy, and therefore the major shift is 
ALWAYS East-West with some difference in Northings.  Furthermore, church 
towers are intersection stations and were not occupied.  Those points 
normally have the least accuracy even though they generally are the 
longest-lasting.
 >
 > I have no idea what you have there, but it is certainly not a 
classical datum shift.
 >
 > Check out my February 2003 column on the Netherlands at 
www.ASPRS.org/resources/grids .
 >
 > C. Mugnier
 > Louisiana State University
 >
 >
 > From: proj-bounces at lists.maptools.org on behalf of Jan Hartmann
 > Sent: Tue 25-Nov-08 10:42
 > To: PROJ.4 and general Projections Discussions
 > Subject: [Proj] Datum shift for Dutch maps 1850-2000
 >
 >   This is not a question about the program PROJ, but perhaps there are
 > people on this list that can help me. I am georeferencing the first
 > topographical map of the Netherlands from about 1850. That map is in a
 > Bonne projection centered at  51.5N / 4.8838828E,  and uses  its own
 > ellipsoid, computed by the Dutch engineer Ackermans (semi-major axis
 > 6376950.4m, inverse flattening 309.65m). Its PROJ-string is:
 >
 > +proj=bonne +lat_1=51.5 +lon_0=4.8838828  +a=6376950.4 +rf=309.65
 > +units=m +no_defs
 >
 > The present Dutch topograpical maps use a stereographic projection on
 > the Bessel ellipsoid, defined (without the WGS84 datum shift) as:
 >
 > +proj=sterea +lat_0=52.15616055555555 +lon_0=5.38763888888889
 > +k=0.999908 +x_0=155000 +y_0=463000 +ellps=bessel +units=m +no_defs
 >
 >
 > We have the complete lists of triangulation points used for both  maps,
 > 1000  in 1850 and  5000  in 2006.  Quite a few points are identical,
 > mostly church towers, so for these we have coordinates in both
 > projections. The  lists  also contain  the lat-lon values for these
 > points.  When I use  cs2cs to  reproject  the old points  into the
 > present system, I get a difference of about 650 meter, almost
 > exclusively in the Y-direction: the reprojected 1850 map lies about 650
 > meter to the north of the present map. This different is exactly the
 > same over the whole country, give or take a few meters that look random
 > to me (could be measurement errors, plus I am not sure they used the
 > same spot on the church towers in 1850 and the present).
 >
 > This means I can get a reasonably accurate historical map by just doing
 > a linear shift of -10/-650 meters, but I am curious what happens here.
 > Of course the center of projection in 1850 could be actually 650m away
 > from its recorded position, but I am wondering if there are other
 > possibilities for such a shift. Am I doing something slightly wrong? Any
 > help would be appreciated.
 >
 > Jan
 >
 > Dr. J. Hartmann
 > Department of Geography
 > University of Amsterdam
 > _______________________________________________
 > Proj mailing list
 > Proj at lists.maptools.org
 > http://lists.maptools.org/mailman/listinfo/proj
 >
 >
 > _______________________________________________
 > Proj mailing list
 > Proj at lists.maptools.org
 > http://lists.maptools.org/mailman/listinfo/proj



From warmerdam at pobox.com  Wed Nov 26 07:56:09 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed, 26 Nov 2008 10:56:09 -0500
Subject: [Proj] Datum shift for Dutch maps 1850-2000
In-Reply-To: <492D5F4A.4080100@uva.nl>
References: <492D5F4A.4080100@uva.nl>
Message-ID: <492D7199.6000800@pobox.com>

Jan Hartmann wrote:
> Well, changing the ellipsoid seems to help. The ellipsoid that is 
> officially documented for this map, and the one I have been using has 
> +a=6376950.4 +rf=309.65.
> This gives the 650m Nord shift. Replacing this ellipsoid by the Bessel 
> ellipsoid (a=6377397.155, rf=299.1528128) gives a 50m South shift. 
> Again, I am reprojecting to the present projection which has a Bessel 
> ellipsoid. I can see that the first ellipsoid has a significantly 
> smaller semi-major axis than the second one. Does this explain the  Nord 
> shift?

Jan,

A large north-south shift would be consistent with proj.4 attempting an
automatic datum change via the ellipsoid (converting from latlong on one
ellipsoid to geocentric, and then to lat/long on the other ellipsoid).

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From j.l.h.hartmann at uva.nl  Wed Nov 26 09:06:05 2008
From: j.l.h.hartmann at uva.nl (Jan Hartmann)
Date: Wed, 26 Nov 2008 18:06:05 +0100
Subject: [Proj] Datum shift for Dutch maps 1850-2000
Message-ID: <492D81FD.4040409@uva.nl>

This certainly makes a difference! Adding +nadgrids=@null to the 
original definition gives a map with a 120m South shift, still too much 
but nearing a solution.  Isn't this a bug in PROJ? I did not request a 
datum shift, and neither the from-projection, nor the to-projection had 
a datum defined, only ellipsoids. I am using Proj 4.6.1.

I looked again at the 19th century documentation, and it says the map is 
in the "modified Flamsteed or French" projection. All later 
documentation refers to "Bonne" as the projection for this map and its 
successors; they are actually still called "Bonne maps" here. The 
Flamsteed projection is the classic sinusoidal projection, which is 
certainly not the one for this map, and the "modified Flamsteed 
projection" seems to be some sort of conic projection, but I haven't 
found any information on this. It could be the same as the Bonne 
projection, which is conic too. Does anyone have any information on this?

Jan

Frank Warmerdam wrote:
 > Jan Hartmann wrote:
 >> Well, changing the ellipsoid seems to help. The ellipsoid that is 
officially documented for this map, and the one I have been using has 
+a=6376950.4 +rf=309.65.
 >> This gives the 650m Nord shift. Replacing this ellipsoid by the 
Bessel ellipsoid (a=6377397.155, rf=299.1528128) gives a 50m South 
shift. Again, I am reprojecting to the present projection which has a 
Bessel ellipsoid. I can see that the first ellipsoid has a significantly 
smaller semi-major axis than the second one. Does this explain the  Nord 
shift?
 >
 > Jan,
 >
 > A large north-south shift would be consistent with proj.4 attempting an
 > automatic datum change via the ellipsoid (converting from latlong on one
 > ellipsoid to geocentric, and then to lat/long on the other ellipsoid).
 >
 > Best regards,



From warmerdam at pobox.com  Wed Nov 26 09:47:00 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed, 26 Nov 2008 12:47:00 -0500
Subject: [Proj] Datum shift for Dutch maps 1850-2000
In-Reply-To: <492D81FD.4040409@uva.nl>
References: <492D81FD.4040409@uva.nl>
Message-ID: <492D8B94.5080308@pobox.com>

Jan Hartmann wrote:
> This certainly makes a difference! Adding +nadgrids=@null to the 
> original definition gives a map with a 120m South shift, still too much 
> but nearing a solution.  Isn't this a bug in PROJ? I did not request a 
> datum shift, and neither the from-projection, nor the to-projection had 
> a datum defined, only ellipsoids. I am using Proj 4.6.1.

Jan,

An ellipsoid/geocentric based datum shift should not be done if no towgs84
or nadgrids value is provided with 4.6.0 or later. If you believe there is
a bug please file a detailed ticket showing exactly what you were doing.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From strebe at aol.com  Wed Nov 26 09:57:05 2008
From: strebe at aol.com (strebe)
Date: Wed, 26 Nov 2008 09:57:05 -0800
Subject: [Proj] Re: Datum shift for Dutch maps 1850-2000
In-Reply-To: <492D81FD.4040409@uva.nl>
Message-ID: <18EE738C.6489.45BB.A45F.D1BBA319A2BF@aol.com>

Jan:

I think you can assume the projection is the Bonne. Flamsteed, as you note, is the sinusoidal. The sinusoidal is the Bonne with its standard parallel at the equator. Topographic mapping in France does refer to the Bonne as "modified Flamsteed". (See Hunt & Schott 1854, p. 98: "Tables for Projecting Maps, with Notes on Map Projection", from "Report to the Superintendent of the Coast Survey... 1853", Appendix 39. Washington D.C.: Robert Armstrong, Public Printer.)

Regards,
-- daan Strebe


On Nov 26, 2008, at 9:06:05 AM, "Jan Hartmann" <j.l.h.hartmann at uva.nl> wrote:
This certainly makes a difference! Adding +nadgrids=@null to the 
original definition gives a map with a 120m South shift, still too much 
but nearing a solution. Isn't this a bug in PROJ? I did not request a 
datum shift, and neither the from-projection, nor the to-projection had 
a datum defined, only ellipsoids. I am using Proj 4.6.1.

I looked again at the 19th century documentation, and it says the map is 
in the "modified Flamsteed or French" projection. All later 
documentation refers to "Bonne" as the projection for this map and its 
successors; they are actually still called "Bonne maps" here. The 
Flamsteed projection is the classic sinusoidal projection, which is 
certainly not the one for this map, and the "modified Flamsteed 
projection" seems to be some sort of conic projection, but I haven't 
found any information on this. It could be the same as the Bonne 
projection, which is conic too. Does anyone have any information on this?

Jan

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20081126/8da191e4/attachment.html>

From hamish_b at yahoo.com  Wed Nov 26 18:57:56 2008
From: hamish_b at yahoo.com (Hamish)
Date: Wed, 26 Nov 2008 18:57:56 -0800 (PST)
Subject: [Proj] NAD27 and WGS84 woes
Message-ID: <657530.59244.qm@web110007.mail.gq1.yahoo.com>

Michal Migurski wrote:
> There certainly could be some error in those files. They do
> have a strange rotation going on; when I render bitmaps I
> can see slices of blank data around the edges, illustrated
> here:
> 
> 	http://teczno.com/tmp/oakland_east.dem.jpg
> 
> Does that apparent rotation mean anything to you? I've
> seen it with quadrangles from other sources as well.


the rotation is due to the difference between true north and grid north
at your site.

hints for calculating this Convergence Angle using proj or grass can
be found here:
  http://grass.osgeo.org/wiki/Ps.map_scripts#Creating_a_fancy_North_Arrow


Hamish



      



From emmanuel.seguin at ign.fr  Thu Nov 27 06:28:13 2008
From: emmanuel.seguin at ign.fr (=?UTF-8?Q?Emmanuel_S=C3=A9guin?=)
Date: Thu, 27 Nov 2008 06:28:13 -0800 (PST)
Subject: [Proj] Bit curious about +ellps
Message-ID: <1227796093989-1585382.post@n2.nabble.com>


Hi,

I'm currently using proj registry file (epsg) for building a little library.
Therefore i do have a question regarding the +ellps tag.

Some projections have a +a and +rf or +b tag (defining the ellipsoid) and
some projections are using the +ellps tag. I assume that projections defined
with the +a and +rf/+b tags are relying on uncommon ellipsoid definitions.
But what I find a bit peculiar considering the way proj is relying on
registry/dictionnary files is that ellipsoid definitions used by +ellps are
actually stored into pj_ellps.c. 

Wouldn't it be more transparent for users to have an ellipsoid
registry/configuration file ? Or am i completely wrong here ;) ?

Manu discovering proj4


-- 
View this message in context: http://n2.nabble.com/Bit-curious-about-%2Bellps-tp1585382p1585382.html
Sent from the PROJ.4 mailing list archive at Nabble.com.



From j.l.h.hartmann at uva.nl  Thu Nov 27 06:30:53 2008
From: j.l.h.hartmann at uva.nl (Jan Hartmann)
Date: Thu, 27 Nov 2008 15:30:53 +0100
Subject: [Proj] Datum shift for Dutch maps 1850-2000
Message-ID: <492EAF1D.4040003@uva.nl>

Yes, an automatic datum shift to WGS84 seems to be causing the trouble, 
but I don't see the system in this madness:

Test point 9018/375648  (Dutch RD, EPSG:28992 without WGS84 datum shift)
The source PROJ string is:
+proj=sterea +lat_0=52.15616055555555 +lon_0=5.38763888888889 
+k=0.999908 +x_0=155000 +y_0=463000 +ellps=bessel +units=m +no_defs.
I tested this string both without and with +nadgrids=@null on four 
target projections:

1) to latlon Bessel (+proj=longlat +ellps=bessel +no_defs)
     --> (without nadgrids in source) 3.291612 51.352060
     --> (with nadgrids null in source) 3.291612 51.351476
2) to latlon Bessel with nadgrids null (+proj=longlat +ellps=bessel 
+no_defs +nadgrids=@null)
     --> (without nadgrids in source) 3.291612 51.352643
     --> (with nadgrids null in source) 3.291612 51.352060
3) to latlon Bessel on the WGS84 datum (+proj=longlat +ellps=bessel 
+no_defs +datum=WGS84)
     --> (without nadgrids in source) 3.291612 51.352060
     --> (with nadgrids null in source) 3.291612 51.351476
4) to latlon on the WGS84 datum (+proj=longlat +no_defs +datum=WGS84)
     --> (without nadgrids in source) 3.291612 51.352643
     --> (with nadgrids null in source) 3.291612 51.352060

1) and 3) give the same results; so do 2) and 4), which seems to inicate 
that an automatic datum shift to WGS84 takes place, even when not 
requested. I'm not sure about the effects of +nadgrids=@null. 
Specifying +ellips=bessel without adding +nadgrids=@null seems to cause 
an automatic WGS84 datum shift, whether or no datum=WGS84 is specified 
(1a = 3a). If +nadgrids=@null is specified in the the source projection, 
but not in the target projection (1b = 3b), the latlon coordinates shift 
about 65m to the south. When +nadgrids=@null is omitted in the source 
projection, but added in the target projection, the resulting 
coordinates are shifted of 65M to the *north* (2a). Finally, when 
+nadgrids=@null is specified in both source and target projections, the 
datum shift is applied nevertheless (2b is equal to 1a and 3a). Finally, 
specifying a WGS84 datum shift for the target projection without the 
Bessel ellipsoide gives the same values as 2. I don't understand this, 
but filed it as a bug nevertheless (http://trac.osgeo.org/proj/ticket/22).

Finally I would like to quote Frank Warmerdam 
(http://article.gmane.org/gmane.comp.gis.gdal.devel/17261)

<quote FrankW>
       Grr.  I'm so sick of coordinate system related issues!
</quote FrankW>

I agree :-)

Jan


Frank Warmerdam wrote:
 > Jan Hartmann wrote:
 >> This certainly makes a difference! Adding +nadgrids=@null to the 
original definition gives a map with a 120m South shift, still too much 
but nearing a solution.  Isn't this a bug in PROJ? I did not request a 
datum shift, and neither the from-projection, nor the to-projection had 
a datum defined, only ellipsoids. I am using Proj 4.6.1.
 >
 > Jan,
 >
 > An ellipsoid/geocentric based datum shift should not be done if no 
towgs84
 > or nadgrids value is provided with 4.6.0 or later. If you believe 
there is
 > a bug please file a detailed ticket showing exactly what you were doing.
 >
 > Best regards,



From warmerdam at pobox.com  Thu Nov 27 06:52:49 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu, 27 Nov 2008 09:52:49 -0500
Subject: [Proj] Bit curious about +ellps
In-Reply-To: <1227796093989-1585382.post@n2.nabble.com>
References: <1227796093989-1585382.post@n2.nabble.com>
Message-ID: <492EB441.5060000@pobox.com>

Emmanuel Séguin wrote:
> Hi,
> 
> I'm currently using proj registry file (epsg) for building a little library.
> Therefore i do have a question regarding the +ellps tag.
> 
> Some projections have a +a and +rf or +b tag (defining the ellipsoid) and
> some projections are using the +ellps tag. I assume that projections defined
> with the +a and +rf/+b tags are relying on uncommon ellipsoid definitions.
> But what I find a bit peculiar considering the way proj is relying on
> registry/dictionnary files is that ellipsoid definitions used by +ellps are
> actually stored into pj_ellps.c. 
> 
> Wouldn't it be more transparent for users to have an ellipsoid
> registry/configuration file ? Or am i completely wrong here ;) ?

Emmanuel,

It would be more transparent to use a configuration file for units, ellipsoids,
datums, and prime meridians.

However, the practice in the past has been to hard code them into the library
while providing mechanisms to users to parametrically define things when they
want to.   This practice has these benefits:

1) avoid dependencies on support data files for "dll only" use of PROJ.4.

2) greater transportability of coordinate system definitions between different
sites using PROJ.4 since there is a greater assurance that named components
are the same everywhere.

I'm not saying the current approach (built in names for components like
ellipsoids, and dictionaries for "whole coordinate system definitions" is
the best solution but it is quite workable and I'm not inclined to change it.
I prefer an arguably sub-optimal solution to a bunch of churn.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From emmanuel.seguin at ign.fr  Thu Nov 27 07:25:08 2008
From: emmanuel.seguin at ign.fr (=?UTF-8?Q?Emmanuel_S=C3=A9guin?=)
Date: Thu, 27 Nov 2008 07:25:08 -0800 (PST)
Subject: [Proj] Bit curious about +ellps
In-Reply-To: <492EB441.5060000@pobox.com>
References: <1227796093989-1585382.post@n2.nabble.com>
	<492EB441.5060000@pobox.com>
Message-ID: <1227799508718-1585569.post@n2.nabble.com>


Perfectly see your point ;) 

Cheers

Manu


Frank Warmerdam wrote:
> 
> Emmanuel Séguin wrote:
>> Hi,
>> 
>> I'm currently using proj registry file (epsg) for building a little
>> library.
>> Therefore i do have a question regarding the +ellps tag.
>> 
>> Some projections have a +a and +rf or +b tag (defining the ellipsoid) and
>> some projections are using the +ellps tag. I assume that projections
>> defined
>> with the +a and +rf/+b tags are relying on uncommon ellipsoid
>> definitions.
>> But what I find a bit peculiar considering the way proj is relying on
>> registry/dictionnary files is that ellipsoid definitions used by +ellps
>> are
>> actually stored into pj_ellps.c. 
>> 
>> Wouldn't it be more transparent for users to have an ellipsoid
>> registry/configuration file ? Or am i completely wrong here ;) ?
> 
> Emmanuel,
> 
> It would be more transparent to use a configuration file for units,
> ellipsoids,
> datums, and prime meridians.
> 
> However, the practice in the past has been to hard code them into the
> library
> while providing mechanisms to users to parametrically define things when
> they
> want to.   This practice has these benefits:
> 
> 1) avoid dependencies on support data files for "dll only" use of PROJ.4.
> 
> 2) greater transportability of coordinate system definitions between
> different
> sites using PROJ.4 since there is a greater assurance that named
> components
> are the same everywhere.
> 
> I'm not saying the current approach (built in names for components like
> ellipsoids, and dictionaries for "whole coordinate system definitions" is
> the best solution but it is quite workable and I'm not inclined to change
> it.
> I prefer an arguably sub-optimal solution to a bunch of churn.
> 
> Best regards,
> -- 
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam at pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
> 
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
> 
> 

-- 
View this message in context: http://n2.nabble.com/Bit-curious-about-%2Bellps-tp1585382p1585569.html
Sent from the PROJ.4 mailing list archive at Nabble.com.




From roger at opq.se  Fri Nov 28 02:18:28 2008
From: roger at opq.se (Roger Oberholtzer)
Date: Fri, 28 Nov 2008 11:18:28 +0100
Subject: [Proj] google KML API advice sought
Message-ID: <1227867509.12058.77.camel@acme.pacific>


I have been using the google KML API for google map and earth, and all
seems to go well. I would like to do something new with it (for me) and
am soliciting advice.

We have an inertial navigation system (made in-house). I currently plot
the WGS-84 lat/longs that come from our Trimble receivers in google KML.
What I next want to plot is the data after our inertial system as has a
go at it. Our inertial calculations are in northings and eastings, i.e.,
meters.

The google KML API does not support plotting northings and eastings. So,
we need to convert back to compatible lat/longs. Our INS does the
calculations in the projection where the data was collected. So, in the
UK, for example, we put it in OSTN02 with a grid shift. So, to convert
back to lat/longs, we would have to do the inverse of this. And each
place we do the calculation would need a similar inverse step.

I am thinking that this is perhaps a more complicated approach than it
need be. Should it not be possible for me to choose a single projection
that is easiest and most accurate for doing the projection and inverse,
and then just do all the INS calcs in that? Note that in this use, I do
not need the northings/eastings. Only 'corrected' lat/longs in the same
WGS-84 datum as the original from the receiver. I know that there must
be some issues of meter distances being different and the effect that
would have on the INS calcs themselves. But I only need a quality as
good as one can see in google earth/map. The INS corrections are over
relatively short distances. Usually less than a kilometer. It is related
to the amount of time we have questionable GPS data.

Should this be a workable approach? If so, what might be a good choice
for the generic projection to use that would do this best in proj (I am
still using 4.4.9...)? I am guessing that it should be one where there
is no grid shift. I do not have a problem with specifying a zone as I
would guess that this would help decrease odd meter scales at various
points around the earth. I have not attempted inverse calculations at
all. There was a discussion about this and the GNU license. I would be
happiest doing this with a library that is more BSD-ish in license. But
that is a later issue. I need to get the concepts sorted!

I'm open to comments.

-- 
Roger Oberholtzer

OPQ Systems / Ramböll RST

Ramböll Sverige AB
Krukmakargatan 21
P.O. Box 17009
SE-104 62 Stockholm, Sweden

Office: Int +46 8-615 60 20
Mobile: Int +46 70-815 1696

--

"On two occasions I have been asked (by members of Parliament!),
'Pray, Mr. Babbage, if you put into the machine wrong figures,
will the right answers come out?' I am not able rightly to apprehend
the kind of confusion of ideas that could provoke such a question.
  - Charles Babbage 1791-1871)
    English computer pioneer, philosopher

And remember:

It is RSofT and there is always something under construction. 
It is like talking about a large city with all construction finished. 
Not impossible, but very unlikely.



From j.l.h.hartmann at uva.nl  Fri Nov 28 03:06:54 2008
From: j.l.h.hartmann at uva.nl (Jan Hartmann)
Date: Fri, 28 Nov 2008 12:06:54 +0100
Subject: [Proj] google KML API advice sought
Message-ID: <492FD0CE.6030107@uva.nl>

Roger Oberholtzer wrote:
 > what might be a good choice for the generic projection to use that >
 > would do this best in proj (I am still using 4.4.9...)?


Hi Roger,

Just an aside, if possible, upgrade to the latest version of PROJ 
(4.6..) or you'll come to grief over datum shifts. Can't you use the 
projection Google uses itself for its maps (+proj=merc +a=6378137 
+b=6378137  +lat_ts=0 +lon_0=0 +k=1.000000 +x_0=0 +y_0=0 +units=m 
no_defs +nadgrids=@null)? This is a spherical Mercator projection based 
on the WGS84 Datum. You need to apply a correction to compute real 
distances, as Mercator maps get distorted towards the North/South Poles, 
but that is a very simple formula I believe.

Jan


From roger at opq.se  Fri Nov 28 03:39:36 2008
From: roger at opq.se (Roger Oberholtzer)
Date: Fri, 28 Nov 2008 12:39:36 +0100
Subject: [Proj] google KML API advice sought
In-Reply-To: <492FD0CE.6030107@uva.nl>
References: <492FD0CE.6030107@uva.nl>
Message-ID: <1227872376.12058.108.camel@acme.pacific>

On Fri, 2008-11-28 at 12:06 +0100, Jan Hartmann wrote:
> Roger Oberholtzer wrote:
>  > what might be a good choice for the generic projection to use that >
>  > would do this best in proj (I am still using 4.4.9...)?
> 
> 
> Hi Roger,
> 
> Just an aside, if possible, upgrade to the latest version of PROJ 
> (4.6..) or you'll come to grief over datum shifts. Can't you use the 
> projection Google uses itself for its maps (+proj=merc +a=6378137 
> +b=6378137  +lat_ts=0 +lon_0=0 +k=1.000000 +x_0=0 +y_0=0 +units=m 
> no_defs +nadgrids=@null)? This is a spherical Mercator projection based 
> on the WGS84 Datum. You need to apply a correction to compute real 
> distances, as Mercator maps get distorted towards the North/South Poles, 
> but that is a very simple formula I believe.

I could surely try this. This would get me the northings/eastings. How
would I then convert my INS-improved nothings/eastings back into
lat/longs? The gist of my question was really to see which projection I
could most reliably convert back.

-- 
Roger Oberholtzer

OPQ Systems / Ramböll RST

Ramböll Sverige AB
Krukmakargatan 21
P.O. Box 17009
SE-104 62 Stockholm, Sweden

Office: Int +46 8-615 60 20
Mobile: Int +46 70-815 1696

--

"On two occasions I have been asked (by members of Parliament!),
'Pray, Mr. Babbage, if you put into the machine wrong figures,
will the right answers come out?' I am not able rightly to apprehend
the kind of confusion of ideas that could provoke such a question.
  - Charles Babbage 1791-1871)
    English computer pioneer, philosopher

And remember:

It is RSofT and there is always something under construction. 
It is like talking about a large city with all construction finished. 
Not impossible, but very unlikely.



From support.mn at elisanet.fi  Fri Nov 28 04:00:51 2008
From: support.mn at elisanet.fi (support.mn at elisanet.fi)
Date: Fri, 28 Nov 2008 14:00:51 +0200 (EET)
Subject: [Proj] "Double ellipsoid" case?
Message-ID: <26134314.180351227873652488.JavaMail.support.mn@elisanet.fi>

Hello,

I just started to think about a situation where there might be a double
ellipsoid case.

1) projection uses ellipsoid A independently
2) datum shift uses ellipsoid B

Is this possible to be handled with proj.4? Since there is only one ellipsoid
definition available

"ellps=something"

The user might want to have:

"ellps_proj=ellps1"
"ellps_datum=ellps2"

This would mean (?) that the projection should be calculated using
ellps1 and the datum shift using the ellps2. And if the user writes:

"ellps=ellpsX"

that might be interpreted as both ellipsoids beeing the same:

"ellps_proj=ellps_datum=ellpsX"

So to do a full datum conversion there might be maximum four
ellipsoids involved. Two on both ends for projection and additional
two for datum shifts to wgs84 on both ends. All together four
ellipsoids. This might finally tame the "north jump" in all cases?

Regards: Janne.



From cjmce at lsu.edu  Fri Nov 28 07:43:54 2008
From: cjmce at lsu.edu (Clifford J Mugnier)
Date: Fri, 28 Nov 2008 09:43:54 -0600
Subject: [Proj] "Double ellipsoid" case?
References: <26134314.180351227873652488.JavaMail.support.mn@elisanet.fi>
Message-ID: <B597ADFC46B67741B18EA6AA13613FF7EC2536@email002.lsu.edu>

I've seen a few projections and datums in my day, and I've never come accross that.  For there to be a different ellipsoid of reference for a projection than there is for a datum is a contradiction in terms.  I'll believe that when I see it.  The closest to that I have ever seen is the coordinate systems of Hong Kong.  From one datum adjustment to another, they went to an older ellipsoid (Clarke 1880 to Clarke 1858) with a corresponding change in the defining parameters for their projection.  I think it was Cassini-Soldner, it's been so long since I published on that place.
 
Cliff Mugnier
LOUISIANA STATE UNIVERSITY

________________________________

From: proj-bounces at lists.maptools.org on behalf of support.mn at elisanet.fi
Sent: Fri 28-Nov-08 06:00
To: proj at lists.maptools.org
Subject: [Proj] "Double ellipsoid" case?



Hello,

I just started to think about a situation where there might be a double
ellipsoid case.

1) projection uses ellipsoid A independently
2) datum shift uses ellipsoid B

Is this possible to be handled with proj.4? Since there is only one ellipsoid
definition available

"ellps=something"

The user might want to have:

"ellps_proj=ellps1"
"ellps_datum=ellps2"

This would mean (?) that the projection should be calculated using
ellps1 and the datum shift using the ellps2. And if the user writes:

"ellps=ellpsX"

that might be interpreted as both ellipsoids beeing the same:

"ellps_proj=ellps_datum=ellpsX"

So to do a full datum conversion there might be maximum four
ellipsoids involved. Two on both ends for projection and additional
two for datum shifts to wgs84 on both ends. All together four
ellipsoids. This might finally tame the "north jump" in all cases?

Regards: Janne.

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20081128/e887b59e/attachment.html>

From warmerdam at pobox.com  Fri Nov 28 08:52:05 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri, 28 Nov 2008 11:52:05 -0500
Subject: [Proj] "Double ellipsoid" case?
In-Reply-To: <26134314.180351227873652488.JavaMail.support.mn@elisanet.fi>
References: <26134314.180351227873652488.JavaMail.support.mn@elisanet.fi>
Message-ID: <493021B5.5010904@pobox.com>

support.mn at elisanet.fi wrote:
> Hello,
> 
> I just started to think about a situation where there might be a double
> ellipsoid case.
> 
> 1) projection uses ellipsoid A independently
> 2) datum shift uses ellipsoid B
> 
> Is this possible to be handled with proj.4? Since there is only one 
> ellipsoid definition available

Janne,

PROJ.4 does not currently handle this situation conveniently.  One special
case is where the projection uses a particular ellipsoid, but datum shifts
should treat the corresponding lat/long values as being WGS84. In that
special case you can use +nadgrids=@null to effectively say the datum shift
to WGS84 is a no-op.

I have at times contemplated having a way of having a datum/ellipsoid
definition used for datum shifting purposes that is independent of the
normal ellipsoid used by the projection functions but I have not pursued it.

Clifford J Mugnier wrote:
 > I've seen a few projections and datums in my day, and I've never come
 > accross that.  For there to be a different ellipsoid of reference for a
 > projection than there is for a datum is a contradiction in terms.

Cliff,

The very common case we see a lot these days is the google maps mercator
projection.  The mercator calculations are done based on a particular
spherical earth model, but the resulting lat/long coordinates are intended
to be treated as WGS84 after that.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From cjmce at lsu.edu  Sat Nov 29 06:15:23 2008
From: cjmce at lsu.edu (Clifford J Mugnier)
Date: Sat, 29 Nov 2008 08:15:23 -0600
Subject: [Proj] "Double ellipsoid" case?
References: <26134314.180351227873652488.JavaMail.support.mn@elisanet.fi>
	<493021B5.5010904@pobox.com>
Message-ID: <B597ADFC46B67741B18EA6AA13613FF7EC2538@email002.lsu.edu>

Frank:
 
Ah, there's a BIG difference between the true coordinate system relations of geodesy used by national governments and one cooked up by an ignoramus at Google Maps that did not know what they were doing ... I guess there's a lot of that going around, too.
 
I suppose even twits help contribute to keep knowledgeable consultants in business.
 
Cliff Mugnier
LSU

________________________________

From: proj-bounces at lists.maptools.org on behalf of Frank Warmerdam
Sent: Fri 28-Nov-08 10:52
To: PROJ.4 and general Projections Discussions
Subject: Re: [Proj] "Double ellipsoid" case?



support.mn at elisanet.fi wrote:
> Hello,
>
> I just started to think about a situation where there might be a double
> ellipsoid case.
>
> 1) projection uses ellipsoid A independently
> 2) datum shift uses ellipsoid B
>
> Is this possible to be handled with proj.4? Since there is only one
> ellipsoid definition available

Janne,

PROJ.4 does not currently handle this situation conveniently.  One special
case is where the projection uses a particular ellipsoid, but datum shifts
should treat the corresponding lat/long values as being WGS84. In that
special case you can use +nadgrids=@null to effectively say the datum shift
to WGS84 is a no-op.

I have at times contemplated having a way of having a datum/ellipsoid
definition used for datum shifting purposes that is independent of the
normal ellipsoid used by the projection functions but I have not pursued it.

Clifford J Mugnier wrote:
 > I've seen a few projections and datums in my day, and I've never come
 > accross that.  For there to be a different ellipsoid of reference for a
 > projection than there is for a datum is a contradiction in terms.

Cliff,

The very common case we see a lot these days is the google maps mercator
projection.  The mercator calculations are done based on a particular
spherical earth model, but the resulting lat/long coordinates are intended
to be treated as WGS84 after that.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20081129/70d84bfe/attachment.html>

From kmyers1 at clearwire.net  Sat Nov 29 11:15:00 2008
From: kmyers1 at clearwire.net (Kevin M.)
Date: Sat, 29 Nov 2008 19:15:00 +0000 (UTC)
Subject: [Proj] Command Line Utility(ies) to Transform Shape Files
Message-ID: <loom.20081129T190930-874@post.gmane.org>

Hello,

Does anyone out there know if there are any command line utilities with Windows 
version that could be used to perform a NAD27 to WGS84 conversion on an 
existing shape file?  I would prefer these to be true command line utilities 
rather than perl or python scripts if possible.

I have used nad2nad for similar purposes on text files, but I don't know of a 
simple way to run nad2nad on a shape file.

Thanks,
Kevin M.





From hamish_b at yahoo.com  Sat Nov 29 19:55:46 2008
From: hamish_b at yahoo.com (Hamish)
Date: Sat, 29 Nov 2008 19:55:46 -0800 (PST)
Subject: [Proj] Command Line Utility(ies) to Transform Shape Files
In-Reply-To: <loom.20081129T190930-874@post.gmane.org>
Message-ID: <992307.28896.qm@web110010.mail.gq1.yahoo.com>

Kevin M. wrote:
> Does anyone out there know if there are any command line utilities with
> Windows version that could be used to perform a NAD27 to WGS84
> conversion on an existing shape file?  I would prefer these to be true
> command line utilities rather than perl or python scripts if possible.
> 
> I have used nad2nad for similar purposes on text files, but
> I don't know of a simple way to run nad2nad on a shape file.

ogr2ogr from FWTools.


Hamish



      



From ndzinn at comcast.net  Sat Nov 29 21:04:34 2008
From: ndzinn at comcast.net (Noel Zinn)
Date: Sat, 29 Nov 2008 23:04:34 -0600
Subject: [Proj] "Double ellipsoid" case?
In-Reply-To: <B597ADFC46B67741B18EA6AA13613FF7EC2538@email002.lsu.edu>
References: <26134314.180351227873652488.JavaMail.support.mn@elisanet.fi><493021B5.5010904@pobox.com>
	<B597ADFC46B67741B18EA6AA13613FF7EC2538@email002.lsu.edu>
Message-ID: <F74264B9A8014D7DA14DD2494780A066@PowerSpec>

Not that Frank is responsible for the geodesy and cartography in Google Maps
(or their abuse therein), but the phrase "the resulting lat/long coordinates
are intended to be treated as WGS84 after that" so troubles me that I am
sympathetic to Cliff's sentiments.  So, let's quantify the offense with an
experiment that anyone can duplicate, perhaps in Proj4 (I work in Matlab).

 

Consider the following Mercator grid parameters defined on both WGS84 and
the Google Sphere (whose radius equals the semi-major axis of WGS84): CM =
95W, FN=FE=0.  That's all we need.

 

Now consider at point at 30N / 95W.  That's somewhere near Houston, Texas,
where I live.  Convert to Mercator in both systems.  Then traverse to the NE
about 141km in both systems by adding 100km to both the Northing and Easting
(in Mercator).  Convert the resulting Mercator coordinates back to
geographicals (lat / lon).

 

Here's what I get for WGS84:  30N / 95W is N3,503,549.84350437m / E0m with a
point scale (Mercator is conformal) of 1.15470053837925 and at the end of
the traverse the geographicals are 30-46-29.63568N /
94-06-06.06498W.

 

For the Google Sphere the results are:  30N / 95W is N3,482,189.08540862m /
E0m with a point scale of 1.15373388324025 and at the end of the traverse
the geographicals are 30-46-43.56897N /  94-06-06.06498W.

 

Pardon the excessive precision; it's just what I get.  And I hope that I
haven't blundered in my haste to respond.  Perhaps someone can confirm.

 

Interestingly, the longitudes are the same, but the latitudes are very
different (more than might be accounted for by the scale differences, a
cartographic subtlety likely beyond the ken of most Google Maps users
anyway).  I don't believe the resulting lat/long coordinates can be treated
as WGS84 at all.  

 

Noel Zinn

 

  _____  

From: proj-bounces at lists.maptools.org
[mailto:proj-bounces at lists.maptools.org] On Behalf Of Clifford J Mugnier
Sent: Saturday, November 29, 2008 8:15 AM
To: PROJ.4 and general Projections Discussions
Subject: RE: [Proj] "Double ellipsoid" case?

 

Frank:

 

Ah, there's a BIG difference between the true coordinate system relations of
geodesy used by national governments and one cooked up by an ignoramus at
Google Maps that did not know what they were doing ... I guess there's a lot
of that going around, too.

 

I suppose even twits help contribute to keep knowledgeable consultants in
business.

 

Cliff Mugnier

LSU

 

  _____  

From: proj-bounces at lists.maptools.org on behalf of Frank Warmerdam
Sent: Fri 28-Nov-08 10:52
To: PROJ.4 and general Projections Discussions
Subject: Re: [Proj] "Double ellipsoid" case?

support.mn at elisanet.fi wrote:
> Hello,
>
> I just started to think about a situation where there might be a double
> ellipsoid case.
>
> 1) projection uses ellipsoid A independently
> 2) datum shift uses ellipsoid B
>
> Is this possible to be handled with proj.4? Since there is only one
> ellipsoid definition available

Janne,

PROJ.4 does not currently handle this situation conveniently.  One special
case is where the projection uses a particular ellipsoid, but datum shifts
should treat the corresponding lat/long values as being WGS84. In that
special case you can use +nadgrids=@null to effectively say the datum shift
to WGS84 is a no-op.

I have at times contemplated having a way of having a datum/ellipsoid
definition used for datum shifting purposes that is independent of the
normal ellipsoid used by the projection functions but I have not pursued it.

Clifford J Mugnier wrote:
 > I've seen a few projections and datums in my day, and I've never come
 > accross that.  For there to be a different ellipsoid of reference for a
 > projection than there is for a datum is a contradiction in terms.

Cliff,

The very common case we see a lot these days is the google maps mercator
projection.  The mercator calculations are done based on a particular
spherical earth model, but the resulting lat/long coordinates are intended
to be treated as WGS84 after that.

Best regards,
--
---------------------------------------+------------------------------------
--
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20081129/0d9f5f88/attachment.html>

From hamish_b at yahoo.com  Sat Nov 29 21:07:29 2008
From: hamish_b at yahoo.com (Hamish)
Date: Sat, 29 Nov 2008 21:07:29 -0800 (PST)
Subject: [Proj] "Double ellipsoid" case?
In-Reply-To: <B597ADFC46B67741B18EA6AA13613FF7EC2538@email002.lsu.edu>
Message-ID: <452820.74889.qm@web110010.mail.gq1.yahoo.com>

Clifford Mugnier wrote:
> Ah, there's a BIG difference between the true
> coordinate system relations of geodesy used by national
> governments and one cooked up by an ignoramus at Google Maps
> that did not know what they were doing ... I guess
> there's a lot of that going around, too.

others assume Google to be Truth, and follow their lead- the OpenStreetMap
project for example has adopted "Google Merc" for rendering, and inherited
its problems:

http://wiki.openstreetmap.org/wiki/Osmarender/Projection
http://wiki.openstreetmap.org/wiki/Osmarender_bug
http://wiki.openstreetmap.org/wiki/Talk:Osmarender_bug
http://wiki.openstreetmap.org/wiki/Slippy_map_tilenames#Zoom_levels


so you can download OSM tiles* from e.g.
 http://server.tah.openstreetmap.org/MapOf/
but they are only good for "visual use" ... which is rather crummy.
[*] (z=zoom level [0-17], w=image width, h=image height)

I doubt we can change Google's ways, but others in the Free World could
be saved a lot of trouble with the help of a kind volunteer...

(that's a plea to anyone reading this to help OSM do this properly,
because bad habits quickly propagate into derivative software)


Hamish



      



From al001 at uni-koeln.de  Sun Nov 30 02:43:42 2008
From: al001 at uni-koeln.de (Irwin Scollar)
Date: Sun, 30 Nov 2008 11:43:42 +0100
Subject: [Proj] Google Earth Accuracy
In-Reply-To: <200811300508.mAU57lgx002194@duke.maptools.org>
References: <200811300508.mAU57lgx002194@duke.maptools.org>
Message-ID: <200811301044.mAUAi9Iu011612@smtp-auth.uni-koeln.de>

In defence of Google coordinates:

>Cliff Mugnier wrote:

>Ah, there's a BIG difference between the true coordinate system relations of
>geodesy used by national governments and one cooked up by an ignoramus at
>Google Maps that did not know what they were doing ... I guess there's a lot
>of that going around, too.
>
>I suppose even twits help contribute to keep knowledgeable consultants in
>business.

>Noel Zinn wrote:

>Not that Frank is responsible for the geodesy and cartography in Google Maps
>(or their abuse therein), but the phrase "the resulting lat/long coordinates
>are intended to be treated as WGS84 after that" so troubles me that I am
>sympathetic to Cliff's sentiments.  So, let's quantify the offense with an
>experiment that anyone can duplicate, perhaps in Proj4 (I work in Matlab).

I think that an appropriate way to examine the errors in Google Earth 
is to use points with known WGS 84 coordinates that can also be seen 
clearly in Google Earth.

In the UK, you can obtain free complete lists of latitudes and 
longitudes for more than 6000 white trigonometric point pillars 
placed by the Ordnance Survey between 1936 and 1962 from:

http://www.haroldstreet.org.uk/waypoints.php?hill=trigpoints

The lists include coordinates in the British National Grid and their 
values converted to WGS84 using  official Ordnance Survey software.

Unfortunately, many of these points are no longer maintained and many 
are not visible in Google
Earth. However, checks made on a random sample of 12 visible trig 
points in England and Wales showed most to be positioned by GE within 
about 2.0m which is adequate for any work on 1:10,000 scale maps such 
as the digital versions issued by the Ordnance Survey. However, some 
were off by as much as 12 meters. Similar lists of trigonometric 
points are available in some other countries, but usually require 
payment for accessing them.

The UK data probably gives a good idea of general GE accuracy under 
the most favourable conditions. Much of the GE data in the southern 
UK is obtained from vertical aerial cover rather than from satellite 
imagery.  In other parts of the world where GE does not use data of 
this quality, errors are higher, but are usually acceptable if the 
area examined is less than a 2 km square and only one image rather 
than a mosaic of multiple images is the area of interest.

A report on this test in PDF format is available on request.

I also compared the results obtained by a collaborator who used a 
hand-held Garmin GPS receiver (+/- 3 meter accuracy)  at some clearly 
visible GE points in a few places in Egypt and the Sinai desert with 
Digital Globe imagery and found that the errors were acceptable 
compared with the Egyptian Old Datum maps at 1:25000 after datum 
conversion using the old NIMA 3 parameter constants for datum 
transformation between the Helmert 1906 and WGS84 ellipsoids.

Irwin Scollar 



From ndzinn at comcast.net  Sun Nov 30 05:13:07 2008
From: ndzinn at comcast.net (Noel Zinn)
Date: Sun, 30 Nov 2008 07:13:07 -0600
Subject: [Proj] Google Earth Accuracy
In-Reply-To: <200811301044.mAUAi9Iu011612@smtp-auth.uni-koeln.de>
References: <200811300508.mAU57lgx002194@duke.maptools.org>
	<200811301044.mAUAi9Iu011612@smtp-auth.uni-koeln.de>
Message-ID: <31251A055EEE4C6BAE58145917EDA984@PowerSpec>

Interesting studies, Irwin, and I'd very much appreciate the PDF copy that
you offer.  A colleague did something similar worldwide with VOR/DME beacons
and airstrip end centers and found that most agreements were better than 5
meters, but a few were tens of meters off.  But this is Google Earth, whose
Earth can be rotated and whose implicit projection is something similar to
the orthographic.  The Mercator lives in Google Maps, which, if I'm not
mistaken, is a different product.

Noel Zinn

-----Original Message-----
From: proj-bounces at lists.maptools.org
[mailto:proj-bounces at lists.maptools.org] On Behalf Of Irwin Scollar
Sent: Sunday, November 30, 2008 4:44 AM
To: proj at lists.maptools.org
Subject: [Proj] Google Earth Accuracy

In defence of Google coordinates:

>Cliff Mugnier wrote:

>Ah, there's a BIG difference between the true coordinate system relations
of
>geodesy used by national governments and one cooked up by an ignoramus at
>Google Maps that did not know what they were doing ... I guess there's a
lot
>of that going around, too.
>
>I suppose even twits help contribute to keep knowledgeable consultants in
>business.

>Noel Zinn wrote:

>Not that Frank is responsible for the geodesy and cartography in Google
Maps
>(or their abuse therein), but the phrase "the resulting lat/long
coordinates
>are intended to be treated as WGS84 after that" so troubles me that I am
>sympathetic to Cliff's sentiments.  So, let's quantify the offense with an
>experiment that anyone can duplicate, perhaps in Proj4 (I work in Matlab).

I think that an appropriate way to examine the errors in Google Earth 
is to use points with known WGS 84 coordinates that can also be seen 
clearly in Google Earth.

In the UK, you can obtain free complete lists of latitudes and 
longitudes for more than 6000 white trigonometric point pillars 
placed by the Ordnance Survey between 1936 and 1962 from:

http://www.haroldstreet.org.uk/waypoints.php?hill=trigpoints

The lists include coordinates in the British National Grid and their 
values converted to WGS84 using  official Ordnance Survey software.

Unfortunately, many of these points are no longer maintained and many 
are not visible in Google
Earth. However, checks made on a random sample of 12 visible trig 
points in England and Wales showed most to be positioned by GE within 
about 2.0m which is adequate for any work on 1:10,000 scale maps such 
as the digital versions issued by the Ordnance Survey. However, some 
were off by as much as 12 meters. Similar lists of trigonometric 
points are available in some other countries, but usually require 
payment for accessing them.

The UK data probably gives a good idea of general GE accuracy under 
the most favourable conditions. Much of the GE data in the southern 
UK is obtained from vertical aerial cover rather than from satellite 
imagery.  In other parts of the world where GE does not use data of 
this quality, errors are higher, but are usually acceptable if the 
area examined is less than a 2 km square and only one image rather 
than a mosaic of multiple images is the area of interest.

A report on this test in PDF format is available on request.

I also compared the results obtained by a collaborator who used a 
hand-held Garmin GPS receiver (+/- 3 meter accuracy)  at some clearly 
visible GE points in a few places in Egypt and the Sinai desert with 
Digital Globe imagery and found that the errors were acceptable 
compared with the Egyptian Old Datum maps at 1:25000 after datum 
conversion using the old NIMA 3 parameter constants for datum 
transformation between the Helmert 1906 and WGS84 ellipsoids.

Irwin Scollar 

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj



From ealpert at digitalglobe.com  Sun Nov 30 06:46:47 2008
From: ealpert at digitalglobe.com (Ethan Alpert)
Date: Sun, 30 Nov 2008 07:46:47 -0700
Subject: [Proj] Google Earth Accuracy
In-Reply-To: <31251A055EEE4C6BAE58145917EDA984@PowerSpec>
References: <200811300508.mAU57lgx002194@duke.maptools.org><200811301044.mAUAi9Iu011612@smtp-auth.uni-koeln.de>
	<31251A055EEE4C6BAE58145917EDA984@PowerSpec>
Message-ID: <8B319E5A30FF4A48BE7EEAAF609DB233034850B4@COMAIL01.digitalglobe.com>


How come no ones questioning the accuracy of the sensors that collected
the imagery in Google Maps? I happen to know that satellite imagery is
not very accurate unless you have decent ground control and a DEM. Even
then it's not that great. It seems pointless to try to determine
accuracy in Google Maps unless you understand where the imagery came
from and how it was produced.

-e

-----Original Message-----
From: proj-bounces at lists.maptools.org
[mailto:proj-bounces at lists.maptools.org] On Behalf Of Noel Zinn
Sent: Sunday, November 30, 2008 6:13 AM
To: 'PROJ.4 and general Projections Discussions'
Subject: RE: [Proj] Google Earth Accuracy

Interesting studies, Irwin, and I'd very much appreciate the PDF copy
that
you offer.  A colleague did something similar worldwide with VOR/DME
beacons
and airstrip end centers and found that most agreements were better than
5
meters, but a few were tens of meters off.  But this is Google Earth,
whose
Earth can be rotated and whose implicit projection is something similar
to
the orthographic.  The Mercator lives in Google Maps, which, if I'm not
mistaken, is a different product.

Noel Zinn

-----Original Message-----
From: proj-bounces at lists.maptools.org
[mailto:proj-bounces at lists.maptools.org] On Behalf Of Irwin Scollar
Sent: Sunday, November 30, 2008 4:44 AM
To: proj at lists.maptools.org
Subject: [Proj] Google Earth Accuracy

In defence of Google coordinates:

>Cliff Mugnier wrote:

>Ah, there's a BIG difference between the true coordinate system
relations
of
>geodesy used by national governments and one cooked up by an ignoramus
at
>Google Maps that did not know what they were doing ... I guess there's
a
lot
>of that going around, too.
>
>I suppose even twits help contribute to keep knowledgeable consultants
in
>business.

>Noel Zinn wrote:

>Not that Frank is responsible for the geodesy and cartography in Google
Maps
>(or their abuse therein), but the phrase "the resulting lat/long
coordinates
>are intended to be treated as WGS84 after that" so troubles me that I
am
>sympathetic to Cliff's sentiments.  So, let's quantify the offense with
an
>experiment that anyone can duplicate, perhaps in Proj4 (I work in
Matlab).

I think that an appropriate way to examine the errors in Google Earth 
is to use points with known WGS 84 coordinates that can also be seen 
clearly in Google Earth.

In the UK, you can obtain free complete lists of latitudes and 
longitudes for more than 6000 white trigonometric point pillars 
placed by the Ordnance Survey between 1936 and 1962 from:

http://www.haroldstreet.org.uk/waypoints.php?hill=trigpoints

The lists include coordinates in the British National Grid and their 
values converted to WGS84 using  official Ordnance Survey software.

Unfortunately, many of these points are no longer maintained and many 
are not visible in Google
Earth. However, checks made on a random sample of 12 visible trig 
points in England and Wales showed most to be positioned by GE within 
about 2.0m which is adequate for any work on 1:10,000 scale maps such 
as the digital versions issued by the Ordnance Survey. However, some 
were off by as much as 12 meters. Similar lists of trigonometric 
points are available in some other countries, but usually require 
payment for accessing them.

The UK data probably gives a good idea of general GE accuracy under 
the most favourable conditions. Much of the GE data in the southern 
UK is obtained from vertical aerial cover rather than from satellite 
imagery.  In other parts of the world where GE does not use data of 
this quality, errors are higher, but are usually acceptable if the 
area examined is less than a 2 km square and only one image rather 
than a mosaic of multiple images is the area of interest.

A report on this test in PDF format is available on request.

I also compared the results obtained by a collaborator who used a 
hand-held Garmin GPS receiver (+/- 3 meter accuracy)  at some clearly 
visible GE points in a few places in Egypt and the Sinai desert with 
Digital Globe imagery and found that the errors were acceptable 
compared with the Egyptian Old Datum maps at 1:25000 after datum 
conversion using the old NIMA 3 parameter constants for datum 
transformation between the Helmert 1906 and WGS84 ellipsoids.

Irwin Scollar 

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj



From j.l.h.hartmann at uva.nl  Sun Nov 30 07:07:08 2008
From: j.l.h.hartmann at uva.nl (Jan Hartmann)
Date: Sun, 30 Nov 2008 16:07:08 +0100
Subject: [Proj] Google Earth Accuracy
Message-ID: <4932AC1C.2020801@uva.nl>

I can confirm Irwin Scollar's conclusions for the Netherlands: we have 
here a list of about 5000 "official"  points, both in the national grid 
(RD, Rijksdriehoeksnet) and in WGS84 as converted by the official 
transformation program. Quite a few (church towers and the like) are 
easily localisable in Google. From what I have seen, there are 
discrepancies with Google, but they are in an order of magnitude of 
meters. On anything with a scale smaller than 1:10000 there is no real 
problem, but on cadastral levels (I have been working with scales 1:2500 
and larger), you need to be careful when using Google, e.g. in 
archaeological settings. As in the UK, GE data have been derived from 
aerial photographs, manufactured a few years ago on behalf of Google 
itself. I would expect the situation for Germany, where they produced 
the aerial photgraphs the same way, to be the same, although I don't 
have any precise data for that country.

Jan


Irwin Scollar wrote:
 > In defence of Google coordinates:
 >
 >> Cliff Mugnier wrote:
 >
 >> Ah, there's a BIG difference between the true coordinate system 
relations of
 >> geodesy used by national governments and one cooked up by an 
ignoramus at
 >> Google Maps that did not know what they were doing ... I guess 
there's a lot
 >> of that going around, too.
 >>
 >> I suppose even twits help contribute to keep knowledgeable 
consultants in
 >> business.
 >
 >> Noel Zinn wrote:
 >
 >> Not that Frank is responsible for the geodesy and cartography in 
Google Maps
 >> (or their abuse therein), but the phrase "the resulting lat/long 
coordinates
 >> are intended to be treated as WGS84 after that" so troubles me that I am
 >> sympathetic to Cliff's sentiments.  So, let's quantify the offense 
with an
 >> experiment that anyone can duplicate, perhaps in Proj4 (I work in 
Matlab).
 >
 > I think that an appropriate way to examine the errors in Google Earth 
is to use points with known WGS 84 coordinates that can also be seen 
clearly in Google Earth.
 >
 > In the UK, you can obtain free complete lists of latitudes and 
longitudes for more than 6000 white trigonometric point pillars placed 
by the Ordnance Survey between 1936 and 1962 from:
 >
 > http://www.haroldstreet.org.uk/waypoints.php?hill=trigpoints
 >
 > The lists include coordinates in the British National Grid and their 
values converted to WGS84 using  official Ordnance Survey software.
 >
 > Unfortunately, many of these points are no longer maintained and many 
are not visible in Google
 > Earth. However, checks made on a random sample of 12 visible trig 
points in England and Wales showed most to be positioned by GE within 
about 2.0m which is adequate for any work on 1:10,000 scale maps such as 
the digital versions issued by the Ordnance Survey. However, some were 
off by as much as 12 meters. Similar lists of trigonometric points are 
available in some other countries, but usually require payment for 
accessing them.
 >
 > The UK data probably gives a good idea of general GE accuracy under 
the most favourable conditions. Much of the GE data in the southern UK 
is obtained from vertical aerial cover rather than from satellite 
imagery.  In other parts of the world where GE does not use data of this 
quality, errors are higher, but are usually acceptable if the area 
examined is less than a 2 km square and only one image rather than a 
mosaic of multiple images is the area of interest.
 >
 > A report on this test in PDF format is available on request.
 >
 > I also compared the results obtained by a collaborator who used a 
hand-held Garmin GPS receiver (+/- 3 meter accuracy)  at some clearly 
visible GE points in a few places in Egypt and the Sinai desert with 
Digital Globe imagery and found that the errors were acceptable compared 
with the Egyptian Old Datum maps at 1:25000 after datum conversion using 
the old NIMA 3 parameter constants for datum transformation between the 
Helmert 1906 and WGS84 ellipsoids.
 >
 > Irwin Scollar
 > _______________________________________________
 > Proj mailing list
 > Proj at lists.maptools.org
 > http://lists.maptools.org/mailman/listinfo/proj
 >



From knudsen.thomas at gmail.com  Sun Nov 30 07:08:15 2008
From: knudsen.thomas at gmail.com (Thomas Knudsen)
Date: Sun, 30 Nov 2008 16:08:15 +0100
Subject: [Proj] Google Earth Accuracy
In-Reply-To: <8B319E5A30FF4A48BE7EEAAF609DB233034850B4@COMAIL01.digitalglobe.com>
References: <200811300508.mAU57lgx002194@duke.maptools.org>
	<200811301044.mAUAi9Iu011612@smtp-auth.uni-koeln.de>
	<31251A055EEE4C6BAE58145917EDA984@PowerSpec>
	<8B319E5A30FF4A48BE7EEAAF609DB233034850B4@COMAIL01.digitalglobe.com>
Message-ID: <7e6835790811300708m795ebe4bh6c8533a744b61686@mail.gmail.com>

2008/11/30 Ethan Alpert <ealpert at digitalglobe.com>

>
> How come no ones questioning the accuracy of the sensors that collected
> the imagery in Google Maps? I happen to know that satellite imagery is
> not very accurate unless you have decent ground control and a DEM. Even
> then it's not that great. It seems pointless to try to determine
> accuracy in Google Maps unless you understand where the imagery came
> from and how it was produced.



At least where I live (Copenhagen, Denmark), the high resolution
layers of Google Maps come from very high precision
photogrametrically derived orthophotos, which should certainly
have an accuracy way better than the "few meters with occational
ten meter blunders" quoted earlier in this thread.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20081130/17a4a983/attachment.html>

From warmerdam at pobox.com  Sun Nov 30 07:43:55 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sun, 30 Nov 2008 10:43:55 -0500
Subject: [Proj] Command Line Utility(ies) to Transform Shape Files
In-Reply-To: <loom.20081129T190930-874@post.gmane.org>
References: <loom.20081129T190930-874@post.gmane.org>
Message-ID: <4932B4BB.3070906@pobox.com>

Kevin M. wrote:
> Hello,
> 
> Does anyone out there know if there are any command line utilities with Windows 
> version that could be used to perform a NAD27 to WGS84 conversion on an 
> existing shape file?  I would prefer these to be true command line utilities 
> rather than perl or python scripts if possible.
> 
> I have used nad2nad for similar purposes on text files, but I don't know of a 
> simple way to run nad2nad on a shape file.

Kevin,

This can be accomplished with ogr2ogr, a utility in the GDAL/OGR suite.

eg.

ogr2ogr -s_srs NAD27 -t_srs WGS84 out.shp in.shp

Note that it is important to have the appropriate grid shift files set up.
The FWTools or OSGeo4W environments will include all the appropriate components
though they are by no means minimalist for this task.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From ndzinn at comcast.net  Sun Nov 30 07:48:52 2008
From: ndzinn at comcast.net (Noel Zinn)
Date: Sun, 30 Nov 2008 09:48:52 -0600
Subject: [Proj] Google Earth Accuracy
In-Reply-To: <7e6835790811300708m795ebe4bh6c8533a744b61686@mail.gmail.com>
References: <200811300508.mAU57lgx002194@duke.maptools.org><200811301044.mAUAi9Iu011612@smtp-auth.uni-koeln.de><31251A055EEE4C6BAE58145917EDA984@PowerSpec><8B319E5A30FF4A48BE7EEAAF609DB233034850B4@COMAIL01.digitalglobe.com>
	<7e6835790811300708m795ebe4bh6c8533a744b61686@mail.gmail.com>
Message-ID: <2049A5F3A9F54938AF0C68A444761C03@PowerSpec>

Ethan makes a valid point from my perspective working in a risk adverse
industry (petroleum).  Google Earth comes without an audit trail and "should
certainly" is inadequate assurance without that audit trail for anything
more than rough reconnaissance.  (Different industries or applications do
have different standards.)  Furthermore, imagery changes over time.  What
ties well in Denmark or in The Netherlands or in Irwin's studies or at the
mailbox in front of my house today may not tomorrow.  How will we know?
-Noel Zinn

 

  _____  

From: proj-bounces at lists.maptools.org
[mailto:proj-bounces at lists.maptools.org] On Behalf Of Thomas Knudsen
Sent: Sunday, November 30, 2008 9:08 AM
To: PROJ.4 and general Projections Discussions
Subject: Re: [Proj] Google Earth Accuracy

 

2008/11/30 Ethan Alpert <ealpert at digitalglobe.com>


How come no ones questioning the accuracy of the sensors that collected
the imagery in Google Maps? I happen to know that satellite imagery is
not very accurate unless you have decent ground control and a DEM. Even
then it's not that great. It seems pointless to try to determine
accuracy in Google Maps unless you understand where the imagery came
from and how it was produced.



At least where I live (Copenhagen, Denmark), the high resolution
layers of Google Maps come from very high precision
photogrametrically derived orthophotos, which should certainly
have an accuracy way better than the "few meters with occational
ten meter blunders" quoted earlier in this thread. 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20081130/6a577210/attachment.html>

From ealpert at digitalglobe.com  Sun Nov 30 08:08:40 2008
From: ealpert at digitalglobe.com (Ethan Alpert)
Date: Sun, 30 Nov 2008 09:08:40 -0700
Subject: [Proj] Google Earth Accuracy
In-Reply-To: <7e6835790811300708m795ebe4bh6c8533a744b61686@mail.gmail.com>
References: <200811300508.mAU57lgx002194@duke.maptools.org><200811301044.mAUAi9Iu011612@smtp-auth.uni-koeln.de><31251A055EEE4C6BAE58145917EDA984@PowerSpec><8B319E5A30FF4A48BE7EEAAF609DB233034850B4@COMAIL01.digitalglobe.com>
	<7e6835790811300708m795ebe4bh6c8533a744b61686@mail.gmail.com>
Message-ID: <8B319E5A30FF4A48BE7EEAAF609DB233034850B5@COMAIL01.digitalglobe.com>

I guess that's my point unless you are testing against a set of imagery
which you know is Aerial imagery orthorectified with a *very* fine DEM
or an areas with constant elevation. You can't make claims that the
presentation of the image is adversely affecting accuracy. 

 

For instance the DigitalGlobe Quickbird satellite is rated as 23m CE90
RMSE 14m.

 

http://www.digitalglobe.com/index.php/48/Products?product_id=1

 

 

 

From: proj-bounces at lists.maptools.org
[mailto:proj-bounces at lists.maptools.org] On Behalf Of Thomas Knudsen
Sent: Sunday, November 30, 2008 8:08 AM
To: PROJ.4 and general Projections Discussions
Subject: Re: [Proj] Google Earth Accuracy

 

2008/11/30 Ethan Alpert <ealpert at digitalglobe.com>

	
	How come no ones questioning the accuracy of the sensors that
collected
	the imagery in Google Maps? I happen to know that satellite
imagery is
	not very accurate unless you have decent ground control and a
DEM. Even
	then it's not that great. It seems pointless to try to determine
	accuracy in Google Maps unless you understand where the imagery
came
	from and how it was produced.



At least where I live (Copenhagen, Denmark), the high resolution
layers of Google Maps come from very high precision
photogrametrically derived orthophotos, which should certainly
have an accuracy way better than the "few meters with occational
ten meter blunders" quoted earlier in this thread. 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20081130/50703be9/attachment.html>

From al001 at uni-koeln.de  Sun Nov 30 09:11:41 2008
From: al001 at uni-koeln.de (Irwin Scollar)
Date: Sun, 30 Nov 2008 18:11:41 +0100
Subject: [Proj] Google Earth Accuracy
In-Reply-To: <200811301544.mAUFikrF025782@duke.maptools.org>
References: <200811301544.mAUFikrF025782@duke.maptools.org>
Message-ID: <200811301712.mAUHCKlS014571@smtp-auth.uni-koeln.de>

Jan Hartmann  writes:

>I can confirm Irwin Scollar's conclusions for the Netherlands: we have
>here a list of about 5000 "official"  points, both in the national grid
>(RD, Rijksdriehoeksnet) and in WGS84 as converted by the official
>transformation program. Quite a few (church towers and the like) are
>easily localisable in Google. From what I have seen, there are
>discrepancies with Google, but they are in an order of magnitude of
>meters.

Are the points in that list available on the Web 
without charge?  If so, please provide a link.

>On anything with a scale smaller than 1:10000 there is no real
>problem, but on cadastral levels (I have been working with scales 1:2500
>and larger), you need to be careful when using Google, e.g. in
>archaeological settings. As in the UK, GE data have been derived from
>aerial photographs, manufactured a few years ago on behalf of Google
>itself.

A simple linear correction for an image over a 
small area given the known coordinates of a 
visible point in GE, seems sufficient to bring 
accuracy within near-cadastral levels if the 
source images are from good aerial orthophotos 
like those in many parts of England and 
Germany.  The satellite images from Digital Globe 
used in many more places by Google Earth are not 
quite as useful in this case, but linear 
correction can bring them into fair agreement 
with 1:5000 maps.  Their Spot imagery is rarely 
useful for better than +/- 10 meters, and the 
Landsat imagery in many other places is fairly useless.

Ethan Alpert writes:

>How come no ones questioning the accuracy of the 
>sensors that collected the imagery in Google 
>Maps? I happen to know that satellite imagery is 
>not very accurate unless you have decent ground 
>control and a DEM. Even then it's not that 
>great. It seems pointless to try to determine
>accuracy in Google Maps unless you understand 
>where the imagery came from and how it was produced.

Even without this knowledge, a bi-variate 
polynomial stretch can compensate to some extent 
for sensor error without requiring too many 
control points.  If still better correction is 
required, then a local affine stretch scheme like 
that used for matching old maps with new ones 
having different datums can be used at the 
expense of considerable hand-labour in identifying corresponding points.

>I would expect the situation for Germany, where 
>they produced the aerial photgraphs the same 
>way, to be the same, although I don't have any precise data for that country.

There are 16 sources of trig point data, one from 
each of the mapping agencies of the German 
"Länder". None of these were free of charge the 
last time I looked, so I haven't tested them.

Very accurate results of near-cadastral quality 
were obtained in Kanton Zürich in Switzerland 
where the very high price of land dictates 
digital maps at sub-decimeter levels even though 
the GE imagery is not as sharp as that from 
southern England or the Netherlands. At 10 cm per 
pixel, the match was surprisingly good.

GE uses Plate Carée as is documented on their KML 
developer's web site. I suspect that this is done 
for speed of calculation in an interpreted Web 
environment as well as for relaxed requirements 
for making mosaics from images of different 
qualities.  For small areas, it seems good enough.

Irwin Scollar




From neteler at osgeo.org  Sun Nov 30 09:41:14 2008
From: neteler at osgeo.org (Markus Neteler)
Date: Sun, 30 Nov 2008 18:41:14 +0100
Subject: [Proj] Google Earth Accuracy
In-Reply-To: <200811301712.mAUHCKlS014571@smtp-auth.uni-koeln.de>
References: <200811301544.mAUFikrF025782@duke.maptools.org>
	<200811301712.mAUHCKlS014571@smtp-auth.uni-koeln.de>
Message-ID: <86782b610811300941q69894412q5ed01c3b9ce563fc@mail.gmail.com>

On Sun, Nov 30, 2008 at 6:11 PM, Irwin Scollar <al001 at uni-koeln.de> wrote:
...
> GE uses Plate Carée as is documented on their KML developer's web site. I
> suspect that this is done for speed of calculation in an interpreted Web
> environment as well as for relaxed requirements for making mosaics from
> images of different qualities.  For small areas, it seems good enough.

How about precision in mountainous regions such as the Southern Alps?
PROJ4/OGR reprojected mountain peak points from geonames.org as
well as known points from our province are off for > 100m when
visualized in GE which they match our local orthophotos. Is the positional
error related to the height of the point (here, satellite orthorectification)?

Markus



From j.l.h.hartmann at uva.nl  Sun Nov 30 10:10:25 2008
From: j.l.h.hartmann at uva.nl (Jan Hartmann)
Date: Sun, 30 Nov 2008 19:10:25 +0100
Subject: [Proj] Google Earth Accuracy
Message-ID: <4932D711.4060103@uva.nl>

Irwin Scollar wrote:
 >
 > Are the points in that list available on the Web without charge?  If
 > so, please provide a link.

https://rdinfo.kadaster.nl/rd/kernnet_meter.xls:  core points (425), 
mostly stones
http://www.geogames.nl/meetpunten/data/RDmeetpunten060506.zip: all 
points (5763, including towers etc)

The lists contain only RD coordinates. The official conversion program 
can be downloaded from http://www.rdnap.nl/download/setup%20cc41.exe.
It converts to and from WGS84, and also to and from Belgian Lambert and 
German Gauss-Krüger coordinates. The official German conversion program 
from the "Bundesamt für Kartographie und Geodäsie" is hidden at 
https://upd.geodatenzentrum.de/geodaten/gdz_rahmen.gdz_div?gdz_spr=eng&gdz_akt_zeile=3&gdz_anz_zeile=6&gdz_user_id=130820075408

 > There are 16 sources of trig point data, one from each of the mapping
 > agencies of the German "Länder". None of these were free of charge the
 > last time I looked, so I haven't tested them.

Well, our cadastral and topographical agencies are not *very* 
forthcoming with their data, but they made these points available for 
benchmark hunters, people who try to find these points with their GPS's 
and photograph them (http://www.geogames.nl/meetpunten/). Seems to be 
very popular in the US (http://www.geocaching.com/mark/  and 
http://forums.groundspeak.com/GC/index.php?showforum=10)

Jan



From j.l.h.hartmann at uva.nl  Sun Nov 30 10:13:12 2008
From: j.l.h.hartmann at uva.nl (Jan Hartmann)
Date: Sun, 30 Nov 2008 19:13:12 +0100
Subject: [Proj] Google Earth Accuracy
Message-ID: <4932D7B8.6080400@uva.nl>

Couldn't that be a Datum problem? That is the sort of error I get when I 
don't apply a shift to WGS84

Jan

Markus Neteler wrote:
 > How about precision in mountainous regions such as the Southern Alps?
 > PROJ4/OGR reprojected mountain peak points from geonames.org as
 > well as known points from our province are off for > 100m when
 > visualized in GE which they match our local orthophotos. Is the 
positional
 > error related to the height of the point (here, satellite 
orthorectification)?
 >
 > Markus
 >
 > _______________________________________________
 > Proj mailing list
 > Proj at lists.maptools.org
 > http://lists.maptools.org/mailman/listinfo/proj
 >



