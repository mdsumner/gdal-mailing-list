From jmckenna at gatewaygeomatics.com  Sat Dec 17 08:34:58 2016
From: jmckenna at gatewaygeomatics.com (Jeff McKenna)
Date: Sat, 17 Dec 2016 12:34:58 -0400
Subject: [Proj] Fwd: PSG Dataset ver 9.0 released on 15th December 2016
In-Reply-To: <2DE4B8AA057E64468F2C2A4DAC90078D61EF0B5B@MBX45.GMS.local>
References: <2DE4B8AA057E64468F2C2A4DAC90078D61EF0B5B@MBX45.GMS.local>
Message-ID: <af34a3a4-543d-b5c0-9ce5-5313d4e1341a@gatewaygeomatics.com>




-------- Forwarded Message --------


           EPSG NEWS: ver 9.0 release


           On 15th December 2016, EPSG Dataset ver 9.0 was released
           (Access and SQL download).


           Version 9.0 replaces version 8.9 of 2016-02-15 and includes
           the revisions made only in the on-line registry in versions
           8.9.2 through v8.9.5. New to version 9.0, 2016-02-15 (Access
           and SQL download): - Changes as documented in Change Records
           through 2016.059, but with actions still remaining on some
           change requests. - New data for Australia, New Zealand, Papua
           New Guinea, Russia, St. Helena, United States, WGS 84 G
           realisations and ITRF. - Significant revision to data for
           United Kingdom. - Minor revision to data for Argentina,
           Australia, Brazil, Bulgaria, Christmas Island, Cote d'Ivoire,
           East Timor, Indonesia, Ireland, New Caledonia, New Zealand,
           Norfolk Island, Papua New Guinea, Solomon Islands, United
           Kingdom and United States. - In the Access database version of
           the Dataset the data declaration for the
           datum.realization_epoch attribute has been changed from
           char(4) to char(10) to allow dates to be given to day resolution.


           Online registry reports have been updated to reflect the full
           resolution stored in the registry, but registry content has
           always had resolution of a day and is unaffected by these
           changes. Data previously released only in versions 8.9.2
           through 8.9.5 in online registry, now included in full v9.0
           release of Access and SQL download: - New data for Australia,
           Bulgaria, France, Germany, India, Italy, Ireland, Ukraine,
           United Kingdom and ITRF2014. - Significant revision to data
           for Albania, Ukraine and ITRF89 to ITRF2000 transformation. -
           Minor revisions to data for. Argentina, Australia, Bhutan,
           Bolivia, Brunei, Chile, Colombia, Costa Rica, Croatia,
           Estonia, Greenland, Iceland, Indonesia, Iraq, Japan, Latvia,
           Libya, Lithuania, Madagascar, Malaysia, Mauritania, Mexico,
           Mozambique, Oman, Panama, Peru, Portugal (Azores), Reunion,
           Serbia, South America (SIRGAS and SIRGAS2000), Spain (Canary
           Islands), Switzerland, Tonga, Uruguay, United Kingdom, United
           States, Venezuela and Zaire. - The length of abbreviations has
           been changed to a nominal maximum of 32 characters.


           Thank you, EPSG




From gdt at lexort.com  Sun Dec 18 16:19:14 2016
From: gdt at lexort.com (Greg Troxel)
Date: Sun, 18 Dec 2016 19:19:14 -0500
Subject: [Proj] Fwd: PSG Dataset ver 9.0 released on 15th December 2016
In-Reply-To: <af34a3a4-543d-b5c0-9ce5-5313d4e1341a@gatewaygeomatics.com> (Jeff
	McKenna's message of "Sat, 17 Dec 2016 12:34:58 -0400")
References: <2DE4B8AA057E64468F2C2A4DAC90078D61EF0B5B@MBX45.GMS.local>
	<af34a3a4-543d-b5c0-9ce5-5313d4e1341a@gatewaygeomatics.com>
Message-ID: <smushpkhit9.fsf@linuxpal.mit.edu>


Jeff McKenna <jmckenna at gatewaygeomatics.com> writes:

>            EPSG NEWS: ver 9.0 release
>
>            On 15th December 2016, EPSG Dataset ver 9.0 was released
>            (Access and SQL download).

There is a pkgsrc (portable packaging system) entry for the EPSG
dataset.   I tried to update it to 9.0, but found that I couldn't fetch
the files.  I expected there was perhaps churn in file naming
conventions, so I went to the site to figure that out, and found that
you have to create an account and log in to download the dataset.
That's awkward for packaging systems that fetch things for the user, and
raises the question of whether this is open data.

 - Does anyone know what's going on with the login requiremnt?

 - Are the database files freely redistributable?

 - Is there a mirror that one can just download them from?

 - Other than being in proj or postgis, is there any reason for a user
   to want access to the raw SQL input files?
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 162 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20161218/9f3a3791/attachment.sig>

From martin.desruisseaux at geomatys.com  Sun Dec 18 21:24:49 2016
From: martin.desruisseaux at geomatys.com (Martin Desruisseaux)
Date: Mon, 19 Dec 2016 14:24:49 +0900
Subject: [Proj] Fwd: PSG Dataset ver 9.0 released on 15th December 2016
In-Reply-To: <smushpkhit9.fsf@linuxpal.mit.edu>
References: <2DE4B8AA057E64468F2C2A4DAC90078D61EF0B5B@MBX45.GMS.local>
	<af34a3a4-543d-b5c0-9ce5-5313d4e1341a@gatewaygeomatics.com>
	<smushpkhit9.fsf@linuxpal.mit.edu>
Message-ID: <d670e2d8-105f-e22f-50b8-5d75e5a1be3f@geomatys.com>

Hello all

Le 19/12/2016 à 09:19, Greg Troxel a écrit :
> so I went to the site to figure that out, and found that
> you have to create an account and log in to download the dataset.
> That's awkward for packaging systems that fetch things for the user, and
> raises the question of whether this is open data.

In my understanding, the EPSG geodetic dataset has never been open data
in the way we define open source. EPSG dataset is redistributable, but
under some conditions that are not exactly like the usual open source
licences (more on it below).


>  - Does anyone know what's going on with the login requiremnt?

I do not remember when exactly the login requirement has been put in
place, but it exists for at least a few years.


>  - Are the database files freely redistributable?

They are redistributable under the terms of use described at
http://www.epsg.org/Termsofuse.aspx. Distribution for profit is
forbidden, unless the data are bundled in a larger software which
provide added value (I think that Proj.4 complies with this condition).
We can distribute the data in another format than the SQL scripts
provided that the CRS definitions are equivalent, but we are not allowed
to change the definitions except for the permitted changes listed in
table 1 of EPSG Terms of Use. In particular, changing axis order (e.g.
providing "EPSG:4326" in lon,lat) is not allowed in my understanding.
For those who really want (lon,lat) axis order, a policy currently under
discussion at OGC is to require that the datafile makes very clear that
axis order is changed. For example the CRS declaration in the datafile
could be "EPSG:4326;axisOrder(lon,lat)" (example only - not an official
syntax).


>  - Is there a mirror that one can just download them from?

Even if such mirror existed, I don't think it would free us from the
obligation to comply with EPSG terms of use. The legal issue has been
discussed at Apache among other:

    https://issues.apache.org/jira/browse/LEGAL-183

The resolution is that Apache does not redistribute the EPSG dataset.
Instead we provide the script in a Maven "non-free" groupId with a copy
of the terms of use. When using Apache SIS command-line tool, it offers
to download and install the dataset automatically when first needed. The
EPSG terms of uses are displayed and the user is asked if (s)he agree.


>  - Other than being in proj or postgis, is there any reason for a user
>    to want access to the raw SQL input files?

Some other libraries (e.g. Apache SIS) use the RAW SQL files for
installing a complete SQL database rather than using CSV files. However
those libraries have their own packaging and probably don't need the
files bundled in Proj.4.

Having full SQL database gives access to more information, for example
transformation paths that do not use WGS84 as a hub, area of validity
and operation accuracy. For example there is about 80 transformations
from EPSG:4267 (NAD27) to EPSG:4326 (WGS84) in the EPSG database (a
transformation for Texas, one for Alaska, one for Cuba, etc). Providing
a single "+towgs84" parameter for this pair of CRS is not sufficient. We
have also seen errors caused by the use of coordinate transformations as
a black box without realizing that the operation was for the wrong
geographic area. If Proj.4 could tell the area of validity and the
accuracy of its operations (those information are in the EPSG database),
I think that would improve safety.

More information from the EPSG database is also necessary if Proj.4
wants to free itself from its use of WGS84 as a hub (through the
"+towgs84" parameter). This so-called "early-binding" approach has
issues that have already been discussed. Note also that "TOWGS84" is not
supported any more in WKT 2 (a.k.a. ISO 19162); it is replaced by
"BOUNDCRS". Furthermore EPSG 9.0 now has 6 new "WGS 84" CRS in addition
of EPSG:4326: WGS84(G1150), WGS84(G1674), WGS84(1762), WGS84(G730),
WGS84(G873), WGS84(Transit), which make the use of a "CRS hub" less
realistic. I realize that it may not be a short term goal, but if Proj.4
wants to upgrade someday from an "early-binding" implementation to a
"late-binding" one, it may be useful to keep in mind which information
from the SQL scripts are discarded in the CSV files.

Regards,

    Martin


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20161219/ef0c3a6c/attachment.html>

From howard at hobu.co  Mon Dec 19 08:39:56 2016
From: howard at hobu.co (Howard Butler)
Date: Mon, 19 Dec 2016 10:39:56 -0600
Subject: [Proj] PSG Dataset ver 9.0 released on 15th December 2016
In-Reply-To: <d670e2d8-105f-e22f-50b8-5d75e5a1be3f@geomatys.com>
References: <2DE4B8AA057E64468F2C2A4DAC90078D61EF0B5B@MBX45.GMS.local>
	<af34a3a4-543d-b5c0-9ce5-5313d4e1341a@gatewaygeomatics.com>
	<smushpkhit9.fsf@linuxpal.mit.edu>
	<d670e2d8-105f-e22f-50b8-5d75e5a1be3f@geomatys.com>
Message-ID: <CFD62535-2FED-492A-807A-4275D88C4AE6@hobu.co>


> On Dec 18, 2016, at 11:24 PM, Martin Desruisseaux <martin.desruisseaux at geomatys.com> wrote:
> 
> I realize that it may not be a short term goal, but if Proj.4 wants to upgrade someday from an "early-binding" implementation to a "late-binding" one, it may be useful to keep in mind which information from the SQL scripts are discarded in the CSV files.

This has been a desire of mine as well. The first step is to get the libraries on a common yet extensible database. I proposed SQLite [1], which is everywhere nowadays. The EPSG db isn't provided in SQLite, but the CRS software constellation has many more dictionaries than just EPSG to worry about. 

I'd love to talk about this topic at the Daytona Code Sprint [2]. Come join me to focus on Proj.4 and open source CRS issues. The http://proj4.org website and infrastructure was an outcome of the Paris Code Sprint [3] last year, for example.

Howard

[1] https://lists.osgeo.org/pipermail/metacrs/2015-August/000846.html
[2] https://wiki.osgeo.org/wiki/Daytona_Beach_Code_Sprint_2017#Participants
[3] https://wiki.osgeo.org/wiki/Paris_Code_Sprint_2016

From martin.desruisseaux at geomatys.com  Mon Dec 19 09:35:02 2016
From: martin.desruisseaux at geomatys.com (Martin Desruisseaux)
Date: Tue, 20 Dec 2016 02:35:02 +0900
Subject: [Proj] EPSG Dataset ver 9.0 released on 15th December 2016
In-Reply-To: <CFD62535-2FED-492A-807A-4275D88C4AE6@hobu.co>
References: <2DE4B8AA057E64468F2C2A4DAC90078D61EF0B5B@MBX45.GMS.local>
	<af34a3a4-543d-b5c0-9ce5-5313d4e1341a@gatewaygeomatics.com>
	<smushpkhit9.fsf@linuxpal.mit.edu>
	<d670e2d8-105f-e22f-50b8-5d75e5a1be3f@geomatys.com>
	<CFD62535-2FED-492A-807A-4275D88C4AE6@hobu.co>
Message-ID: <9e215d86-d256-1757-16ea-bd9c69d70beb@geomatys.com>

Le 20/12/2016 à 01:39, Howard Butler a écrit :

> This has been a desire of mine as well. The first step is to get the
> libraries on a common yet extensible database. I proposed SQLite [1],
> which is everywhere nowadays.
>
Indeed, SQLite is also the database behind Geopackage.


> The EPSG db isn't provided in SQLite,
>
The PostgreSQL variant of EPSG SQL scripts is quite standard I think,
except maybe for the "replace" functions at the end of the "data.sql"
file (those last instructions can be skipped with little harm anyway).
We have been able to run them on Derby and HSQL with few changes. I
presume that running them on SQLite would not be too difficult.


> but the CRS software constellation has many more dictionaries than
> just EPSG to worry about.
>
Right, we have seen an interest from some space agencies for planetary
CRS (Mars, Venus, etc.) this year. This raises new issues, for example
some map projection formulas are approximated by series expansions with
a number of terms designed for Earth's eccentricity, which doesn't work
for Jupiter for instance. But this is another story.


> I'd love to talk about this topic at the Daytona Code Sprint [2]. Come
> join me to focus on Proj.4 and open source CRS issues. The
> http://proj4.org website and infrastructure was an outcome of the
> Paris Code Sprint [3] last year, for example.
>
On my side I will be in Asia at the code sprint time. But maybe this
mailing list is a good place to continue discussion as needed? I'm also
considering doing a talk at some FOSS4G event...

    Martin




From Roger.Bivand at nhh.no  Mon Dec 19 12:03:45 2016
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Mon, 19 Dec 2016 13:03:45 -0700 (MST)
Subject: [Proj] PSG Dataset ver 9.0 released on 15th December 2016
In-Reply-To: <CFD62535-2FED-492A-807A-4275D88C4AE6@hobu.co>
References: <af34a3a4-543d-b5c0-9ce5-5313d4e1341a@gatewaygeomatics.com>
	<smushpkhit9.fsf@linuxpal.mit.edu>
	<d670e2d8-105f-e22f-50b8-5d75e5a1be3f@geomatys.com>
	<CFD62535-2FED-492A-807A-4275D88C4AE6@hobu.co>
Message-ID: <1482177825371-5300544.post@n6.nabble.com>

Could I just interject a question about being able to query the version of
EPSG in use; because code definitions change between versions, it would be
very useful, say in proj, to be able to ask which version of EPSG is present
in share/proj. Were more modern solutions considered, reporting the version
in use would still remain important.

Thanks for the heads-up!

Roger



-----
Roger Bivand
NHH Norwegian School of Economics, Bergen, Norway
--
View this message in context: http://osgeo-org.1560.x6.nabble.com/Fwd-PSG-Dataset-ver-9-0-released-on-15th-December-2016-tp5300267p5300544.html
Sent from the PROJ.4 mailing list archive at Nabble.com.


From howard at hobu.co  Mon Dec 19 12:10:46 2016
From: howard at hobu.co (Howard Butler)
Date: Mon, 19 Dec 2016 14:10:46 -0600
Subject: [Proj] PSG Dataset ver 9.0 released on 15th December 2016
In-Reply-To: <1482177825371-5300544.post@n6.nabble.com>
References: <af34a3a4-543d-b5c0-9ce5-5313d4e1341a@gatewaygeomatics.com>
	<smushpkhit9.fsf@linuxpal.mit.edu>
	<d670e2d8-105f-e22f-50b8-5d75e5a1be3f@geomatys.com>
	<CFD62535-2FED-492A-807A-4275D88C4AE6@hobu.co>
	<1482177825371-5300544.post@n6.nabble.com>
Message-ID: <BC833AE6-FEAB-4E2F-8501-F305CAC9C79F@hobu.co>


> On Dec 19, 2016, at 2:03 PM, Roger Bivand <Roger.Bivand at nhh.no> wrote:
> 
> Could I just interject a question about being able to query the version of
> EPSG in use; because code definitions change between versions, it would be
> very useful, say in proj, to be able to ask which version of EPSG is present
> in share/proj. Were more modern solutions considered, reporting the version
> in use would still remain important.
> 
> Thanks for the heads-up!

Filed. https://github.com/OSGeo/proj.4/issues/471

From kreve at sdfe.dk  Tue Dec 20 01:50:09 2016
From: kreve at sdfe.dk (Kristian Evers)
Date: Tue, 20 Dec 2016 09:50:09 +0000
Subject: [Proj] PSG Dataset ver 9.0 released on 15th December 2016
In-Reply-To: <CFD62535-2FED-492A-807A-4275D88C4AE6@hobu.co>
References: <2DE4B8AA057E64468F2C2A4DAC90078D61EF0B5B@MBX45.GMS.local>
	<af34a3a4-543d-b5c0-9ce5-5313d4e1341a@gatewaygeomatics.com>
	<smushpkhit9.fsf@linuxpal.mit.edu>
	<d670e2d8-105f-e22f-50b8-5d75e5a1be3f@geomatys.com>
	<CFD62535-2FED-492A-807A-4275D88C4AE6@hobu.co>
Message-ID: <2E885BB293AF0448A0181138489E9A0E89CCA5B7@S000014.PROD.SITAD.DK>

+1 on creating a Grand Unified Geodetic Database. That would be a hell of a lot better than what we have now and with the new and improved geodetic capabilities in Proj.4 the timing couldn't be better!

After FOSS4G in Bonn there were some discussion about a similar effort on the OSGeo Disscusion list. It wasn't very focused and I am not sure anything came out of it but at least it underlines that there is an interest in this sort of thing.

It is not very likely for me to attend the code sprint either. I also think that this mailing list is a good place for the initial discussions. If it gets some traction and actual work is done at the code sprint I will do my best to participate remotely.


/Kristian

> -----Oprindelig meddelelse-----
> Fra: proj-bounces at lists.maptools.org [mailto:proj-
> bounces at lists.maptools.org] På vegne af Howard Butler
> Sendt: 19. december 2016 17:40
> Til: PROJ.4 and general Projections Discussions
> Emne: Re: [Proj] PSG Dataset ver 9.0 released on 15th December 2016
> 
> 
> > On Dec 18, 2016, at 11:24 PM, Martin Desruisseaux
> <martin.desruisseaux at geomatys.com> wrote:
> >
> > I realize that it may not be a short term goal, but if Proj.4 wants to upgrade
> someday from an "early-binding" implementation to a "late-binding" one, it
> may be useful to keep in mind which information from the SQL scripts are
> discarded in the CSV files.
> 
> This has been a desire of mine as well. The first step is to get the libraries on a
> common yet extensible database. I proposed SQLite [1], which is
> everywhere nowadays. The EPSG db isn't provided in SQLite, but the CRS
> software constellation has many more dictionaries than just EPSG to worry
> about.
> 
> I'd love to talk about this topic at the Daytona Code Sprint [2]. Come join me
> to focus on Proj.4 and open source CRS issues. The http://proj4.org website
> and infrastructure was an outcome of the Paris Code Sprint [3] last year, for
> example.
> 
> Howard
> 
> [1] https://lists.osgeo.org/pipermail/metacrs/2015-August/000846.html
> [2]
> https://wiki.osgeo.org/wiki/Daytona_Beach_Code_Sprint_2017#Participants
> [3] https://wiki.osgeo.org/wiki/Paris_Code_Sprint_2016
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj


From martin.desruisseaux at geomatys.com  Tue Dec 20 07:46:16 2016
From: martin.desruisseaux at geomatys.com (Martin Desruisseaux)
Date: Wed, 21 Dec 2016 00:46:16 +0900
Subject: [Proj] EPSG Dataset ver 9.0 released on 15th December 2016
In-Reply-To: <2E885BB293AF0448A0181138489E9A0E89CCA5B7@S000014.PROD.SITAD.DK>
References: <2DE4B8AA057E64468F2C2A4DAC90078D61EF0B5B@MBX45.GMS.local>
	<af34a3a4-543d-b5c0-9ce5-5313d4e1341a@gatewaygeomatics.com>
	<smushpkhit9.fsf@linuxpal.mit.edu>
	<d670e2d8-105f-e22f-50b8-5d75e5a1be3f@geomatys.com>
	<CFD62535-2FED-492A-807A-4275D88C4AE6@hobu.co>
	<2E885BB293AF0448A0181138489E9A0E89CCA5B7@S000014.PROD.SITAD.DK>
Message-ID: <cd13e580-86fd-25bd-8920-90274b24cb42@geomatys.com>

Le 20/12/2016 à 18:50, Kristian Evers a écrit :

> +1 on creating a Grand Unified Geodetic Database. That would be a hell
> of a lot better than what we have now
>
I'm not sure what would be the intend of a Grand Unified Geodetic
Database... But I would not recommend creating a new source of CRS
definitions. The EPSG database is quite good in my opinion. The problem
is not EPSG itself, but rather how some software use it. The Proj.4 CSV
files are oversimplification. Giving to Proj.4 a more complete access to
EPSG data, with SQLite as proposed by Howard or with whatever storage
engine achieves the same goal, would be a more effective step I think.

Of course it does not mean to not support other authorities in addition
of EPSG, but I would see that as a secondary goal compared to improving
EPSG support.

    Martin




From kreve at sdfe.dk  Tue Dec 20 11:18:28 2016
From: kreve at sdfe.dk (Kristian Evers)
Date: Tue, 20 Dec 2016 19:18:28 +0000
Subject: [Proj] EPSG Dataset ver 9.0 released on 15th December 2016
In-Reply-To: <cd13e580-86fd-25bd-8920-90274b24cb42@geomatys.com>
References: <2DE4B8AA057E64468F2C2A4DAC90078D61EF0B5B@MBX45.GMS.local>
	<af34a3a4-543d-b5c0-9ce5-5313d4e1341a@gatewaygeomatics.com>
	<smushpkhit9.fsf@linuxpal.mit.edu>
	<d670e2d8-105f-e22f-50b8-5d75e5a1be3f@geomatys.com>
	<CFD62535-2FED-492A-807A-4275D88C4AE6@hobu.co>
	<2E885BB293AF0448A0181138489E9A0E89CCA5B7@S000014.PROD.SITAD.DK>
	<cd13e580-86fd-25bd-8920-90274b24cb42@geomatys.com>
Message-ID: <2E885BB293AF0448A0181138489E9A0E89CCA894@S000014.PROD.SITAD.DK>

Martin,

Don't take that too seriously... It was just my tongue in cheek way of 
referring to Howards proposal. The EPSG database is a fantastic 
starting point and would for the most part cover everyone's needs.

However, I do think that it is a good idea to think in broader terms 
than the EPSG DB when designing a new system.  Something compatible
with the EPSG DB that can also be extended to suit CRS needs not 
covered by the EPSG DB.

/Kristian

> -----Oprindelig meddelelse-----
> Fra: proj-bounces at lists.maptools.org [mailto:proj-
> bounces at lists.maptools.org] På vegne af Martin Desruisseaux
> Sendt: 20. december 2016 16:46
> Til: proj at lists.maptools.org
> Emne: Re: [Proj] EPSG Dataset ver 9.0 released on 15th December 2016
> 
> Le 20/12/2016 à 18:50, Kristian Evers a écrit :
> 
> > +1 on creating a Grand Unified Geodetic Database. That would be a hell
> > of a lot better than what we have now
> >
> I'm not sure what would be the intend of a Grand Unified Geodetic
> Database... But I would not recommend creating a new source of CRS
> definitions. The EPSG database is quite good in my opinion. The problem
> is not EPSG itself, but rather how some software use it. The Proj.4 CSV
> files are oversimplification. Giving to Proj.4 a more complete access to
> EPSG data, with SQLite as proposed by Howard or with whatever storage
> engine achieves the same goal, would be a more effective step I think.
> 
> Of course it does not mean to not support other authorities in addition
> of EPSG, but I would see that as a secondary goal compared to improving
> EPSG support.
> 
>     Martin
> 
> 
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj


From howard at hobu.co  Wed Dec 21 10:56:18 2016
From: howard at hobu.co (Howard Butler)
Date: Wed, 21 Dec 2016 12:56:18 -0600
Subject: [Proj] EPSG Dataset ver 9.0 released on 15th December 2016
In-Reply-To: <9e215d86-d256-1757-16ea-bd9c69d70beb@geomatys.com>
References: <2DE4B8AA057E64468F2C2A4DAC90078D61EF0B5B@MBX45.GMS.local>
	<af34a3a4-543d-b5c0-9ce5-5313d4e1341a@gatewaygeomatics.com>
	<smushpkhit9.fsf@linuxpal.mit.edu>
	<d670e2d8-105f-e22f-50b8-5d75e5a1be3f@geomatys.com>
	<CFD62535-2FED-492A-807A-4275D88C4AE6@hobu.co>
	<9e215d86-d256-1757-16ea-bd9c69d70beb@geomatys.com>
Message-ID: <8D23AD8F-8ECC-4CD0-992F-E760ACF6EBC5@hobu.co>


> On Dec 19, 2016, at 11:35 AM, Martin Desruisseaux <martin.desruisseaux at geomatys.com> wrote:
> 
>> The EPSG db isn't provided in SQLite,
>> 
> The PostgreSQL variant of EPSG SQL scripts is quite standard I think,
> except maybe for the "replace" functions at the end of the "data.sql"
> file (those last instructions can be skipped with little harm anyway).
> We have been able to run them on Derby and HSQL with few changes. I
> presume that running them on SQLite would not be too difficult.

You were correct. Except for one simple function name replacement, I was able to easily make a SQLite EPSG db with the PostgreSQL files. See https://github.com/hobu/crs for my working tree.




From richard.greenwood at gmail.com  Thu Dec 22 12:40:23 2016
From: richard.greenwood at gmail.com (Richard Greenwood)
Date: Thu, 22 Dec 2016 13:40:23 -0700
Subject: [Proj] HARN nadgrid files
Message-ID: <CAHBySPZnAAMt=n4RxhrL_jvDUOHO=d2KX8u=3x-cR2esczmhzw@mail.gmail.com>

I've been following a few of the recent threads on this list regarding
enhancements to Proj's datum transformations. Pretty exciting stuff!

One group of transformations that seems to have been ignored for a number
of years is applying the HARN hpgn grids in the Proj epsg file. For example
the Proj epsg entry for epsg:3758 uses +towgs84=0,0,0,0,0,0,0 but I believe
that is should use +nadgrids=wyhpgn.gsb, or at least that's what I change
it to, which produces results that match NADCON.

Is anyone aware of a reason that nadgrids are not referenced in the epsg
file? Is it maybe just an oversight, something that nobody ever got around
to? Or because distributing nadgrids would become burdensome?

It seems like pretty low hanging fruit. HARN has been around for about 20
years. The nadgrid files are already there. Differences between
+towgs84=0,0,0,0,0,0,0 and +nadgrids=XXhpgn.gsb are on the order of a meter
in the few places I have looked, so it's a fairly significant correction
(or error, depending on your point of view).  "grep -c HARN epsg" returned
264 and "grep -c 'hpgn' epsg" returned 0, so effects a lot of definitions.

Maybe I'm missing something. I'd be interested in any comments.

Rich

-- 
Richard W. Greenwood, PLS
www.greenwoodmap.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20161222/6a618313/attachment.html>

From sebastic at xs4all.nl  Thu Dec 22 12:50:15 2016
From: sebastic at xs4all.nl (Sebastiaan Couwenberg)
Date: Thu, 22 Dec 2016 21:50:15 +0100
Subject: [Proj] HARN nadgrid files
In-Reply-To: <CAHBySPZnAAMt=n4RxhrL_jvDUOHO=d2KX8u=3x-cR2esczmhzw@mail.gmail.com>
References: <CAHBySPZnAAMt=n4RxhrL_jvDUOHO=d2KX8u=3x-cR2esczmhzw@mail.gmail.com>
Message-ID: <33d0df36-483f-acb2-736d-12f260e1a1a1@xs4all.nl>

On 12/22/2016 09:40 PM, Richard Greenwood wrote:
> One group of transformations that seems to have been ignored for a number
> of years is applying the HARN hpgn grids in the Proj epsg file. For example
> the Proj epsg entry for epsg:3758 uses +towgs84=0,0,0,0,0,0,0 but I believe
> that is should use +nadgrids=wyhpgn.gsb, or at least that's what I change
> it to, which produces results that match NADCON.
> 
> Is anyone aware of a reason that nadgrids are not referenced in the epsg
> file? Is it maybe just an oversight, something that nobody ever got around
> to? Or because distributing nadgrids would become burdensome?

wyhpgn.gsb is not included in proj-datumgrids, so referencing it in the
epsg file in proj doesn't make sense as the definition would be unusable.

If wyhpgn.gsb is licensed freely enough to be included in
proj-datumgrids, updating the definition to use it is an option.

I've looked for the authoritative source for wyhpgn.gsb but didn't find
it. Who provides the file and under which license?

Kind Regards,

Bas

-- 
 GPG Key ID: 4096R/6750F10AE88D4AF1
Fingerprint: 8182 DE41 7056 408D 6146  50D1 6750 F10A E88D 4AF1


From even.rouault at spatialys.com  Thu Dec 22 13:00:27 2016
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 22 Dec 2016 22:00:27 +0100
Subject: [Proj] HARN nadgrid files
In-Reply-To: <CAHBySPZnAAMt=n4RxhrL_jvDUOHO=d2KX8u=3x-cR2esczmhzw@mail.gmail.com>
References: <CAHBySPZnAAMt=n4RxhrL_jvDUOHO=d2KX8u=3x-cR2esczmhzw@mail.gmail.com>
Message-ID: <3334160.1ONYOmb71Y@even-i700>

On jeudi 22 décembre 2016 13:40:23 CET Richard Greenwood wrote:
> I've been following a few of the recent threads on this list regarding
> enhancements to Proj's datum transformations. Pretty exciting stuff!
> 
> One group of transformations that seems to have been ignored for a number
> of years is applying the HARN hpgn grids in the Proj epsg file. For example
> the Proj epsg entry for epsg:3758 uses +towgs84=0,0,0,0,0,0,0 but I believe
> that is should use +nadgrids=wyhpgn.gsb, or at least that's what I change
> it to, which produces results that match NADCON.
> 
> Is anyone aware of a reason that nadgrids are not referenced in the epsg
> file? Is it maybe just an oversight, something that nobody ever got around
> to? Or because distributing nadgrids would become burdensome?

Richard,

I don't think we would want to force people using grids to be able to use EPSG codes 
(because of the required space or licensing terms), but we could generate +nadgrids=@bla 
syntax to make them optional. What could be useful is to have both +nadgrids= and 
+towgs84 with the priority given to the grids when they are present but this isn't 
implemented right now in proj.4 (if you have both +nadgrids and +towgs84, I believe 
+nadgrids is always used, even if the grids are missing on the system)

As far as adding the grid info, in the current workflow, this would be a matter of doing that in 
the https://svn.osgeo.org/metacrs/geotiff/trunk/libgeotiff/csv/build_pcs.py script, 
presumably adding a new column in the gcs.csv file, and some logic/dictionary to match the 
datum name with a grid name, and then updating GDAL to use that new information when 
reading the .csv files.

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20161222/b4862f1b/attachment.html>

From richard.greenwood at gmail.com  Thu Dec 22 13:09:38 2016
From: richard.greenwood at gmail.com (Richard Greenwood)
Date: Thu, 22 Dec 2016 14:09:38 -0700
Subject: [Proj] HARN nadgrid files
In-Reply-To: <33d0df36-483f-acb2-736d-12f260e1a1a1@xs4all.nl>
References: <CAHBySPZnAAMt=n4RxhrL_jvDUOHO=d2KX8u=3x-cR2esczmhzw@mail.gmail.com>
	<33d0df36-483f-acb2-736d-12f260e1a1a1@xs4all.nl>
Message-ID: <CAHBySPae-q2cf8MQY-AGx-oMAvp4ZAHQEr9nh0nB6oVfApcDdw@mail.gmail.com>

On Thu, Dec 22, 2016 at 1:50 PM, Sebastiaan Couwenberg <sebastic at xs4all.nl>
wrote:

> On 12/22/2016 09:40 PM, Richard Greenwood wrote:
> > One group of transformations that seems to have been ignored for a number
> > of years is applying the HARN hpgn grids in the Proj epsg file. For
> example
> > the Proj epsg entry for epsg:3758 uses +towgs84=0,0,0,0,0,0,0 but I
> believe
> > that is should use +nadgrids=wyhpgn.gsb, or at least that's what I change
> > it to, which produces results that match NADCON.
> >
> > Is anyone aware of a reason that nadgrids are not referenced in the epsg
> > file? Is it maybe just an oversight, something that nobody ever got
> around
> > to? Or because distributing nadgrids would become burdensome?
>
> wyhpgn.gsb is not included in proj-datumgrids, so referencing it in the
> epsg file in proj doesn't make sense as the definition would be unusable.
>

Not sure I follow you. It works for me.


> If wyhpgn.gsb is licensed freely enough to be included in
> proj-datumgrids, updating the definition to use it is an option.
>
> I've looked for the authoritative source for wyhpgn.gsb but didn't find
> it. Who provides the file and under which license?
>

I probably should have included this in my original post:
https://trac.osgeo.org/proj/wiki/HarnGrids


-- 
Richard W. Greenwood, PLS
www.greenwoodmap.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20161222/1a9ffcf7/attachment.html>

From richard.greenwood at gmail.com  Thu Dec 22 13:53:34 2016
From: richard.greenwood at gmail.com (Richard Greenwood)
Date: Thu, 22 Dec 2016 14:53:34 -0700
Subject: [Proj] HARN nadgrid files
In-Reply-To: <CAHBySPYeZcvkZkctYzSUgDHuBrqWrjqPrfC1dEgZ_xKsZ0zg5w@mail.gmail.com>
References: <CAHBySPZnAAMt=n4RxhrL_jvDUOHO=d2KX8u=3x-cR2esczmhzw@mail.gmail.com>
	<3334160.1ONYOmb71Y@even-i700>
	<CAHBySPYeZcvkZkctYzSUgDHuBrqWrjqPrfC1dEgZ_xKsZ0zg5w@mail.gmail.com>
Message-ID: <CAHBySPb-SFJu=t0H_cBJeAej6_6m27aH_ygML18JYuTHPbtaww@mail.gmail.com>

I meant to reply to list.

On Thu, Dec 22, 2016 at 2:21 PM, Richard Greenwood <
richard.greenwood at gmail.com> wrote:

>
>
> On Thu, Dec 22, 2016 at 2:00 PM, Even Rouault <even.rouault at spatialys.com>
> wrote:
>
>> On jeudi 22 décembre 2016 13:40:23 CET Richard Greenwood wrote:
>>
>> > I've been following a few of the recent threads on this list regarding
>>
>> > enhancements to Proj's datum transformations. Pretty exciting stuff!
>>
>> >
>>
>> > One group of transformations that seems to have been ignored for a
>> number
>>
>> > of years is applying the HARN hpgn grids in the Proj epsg file. For
>> example
>>
>> > the Proj epsg entry for epsg:3758 uses +towgs84=0,0,0,0,0,0,0 but I
>> believe
>>
>> > that is should use +nadgrids=wyhpgn.gsb, or at least that's what I
>> change
>>
>> > it to, which produces results that match NADCON.
>>
>> >
>>
>> > Is anyone aware of a reason that nadgrids are not referenced in the epsg
>>
>> > file? Is it maybe just an oversight, something that nobody ever got
>> around
>>
>> > to? Or because distributing nadgrids would become burdensome?
>>
>>
>>
>> Richard,
>>
>>
>>
>> I don't think we would want to force people using grids to be able to use
>> EPSG codes (because of the required space or licensing terms),
>>
>
> Space might be an argument, but I don't think licensing is. The grids are
> produced by the USGS and USGS data is freely available (one thing we can
> still take pride in post-election).
>
>
>> but we could generate +nadgrids=@bla syntax to make them optional. What
>> could be useful is to have both +nadgrids= and +towgs84 with the priority
>> given to the grids when they are present
>>
>
> That would be a very nice solution.
>
>
>> but this isn't implemented right now in proj.4 (if you have both
>> +nadgrids and +towgs84, I believe +nadgrids is always used, even if the
>> grids are missing on the system)
>>
>>
>>
>> As far as adding the grid info, in the current workflow, this would be a
>> matter of doing that in the https://svn.osgeo.org/metacrs/
>> geotiff/trunk/libgeotiff/csv/build_pcs.py script, presumably adding a
>> new column in the gcs.csv file, and some logic/dictionary to match the
>> datum name with a grid name, and then updating GDAL to use that new
>> information when reading the .csv files.
>>
>
> I took a look at that workflow a few years ago before the modernization
> and backed off from it, but I'm interested in looking at it again. Not
> being very familiar with build_pcs.py or the epsg database, this is a
> pretty naive question, but why aren't the nadgrids being reference already?
> Is the issue with the build_pcs.py script or with the epsg database?
>
> --
> Richard W. Greenwood, PLS
> www.greenwoodmap.com
>



-- 
Richard W. Greenwood, PLS
www.greenwoodmap.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20161222/ee2d9d96/attachment.html>

From support at mnspoint.com  Mon Dec 26 22:47:27 2016
From: support at mnspoint.com (support at mnspoint.com)
Date: Tue, 27 Dec 2016 08:47:27 +0200
Subject: [Proj] HARN nadgrid files
In-Reply-To: <CAHBySPZnAAMt=n4RxhrL_jvDUOHO=d2KX8u=3x-cR2esczmhzw@mail.gmail.com>
References: <CAHBySPZnAAMt=n4RxhrL_jvDUOHO=d2KX8u=3x-cR2esczmhzw@mail.gmail.com>
Message-ID: <fb96f0084a56db391f308d9cc3ab9278@mnspoint.com>

Hello, 

It looks like the reasons why grid shift files are not much used or
referenced is that usually there are other ways available to fix small
map errors ... and using grid shift files would require too much
knowledge in the subject ... and also give too much unrequired accuracy
since the source material is already so much off the line. So most users
and applications are happy with the towgs84 mechanism. 

Other questions with grid shift files are: 

How much their usage slows down the end product that uses Proj.4
library? 

How difficult their usage is for end users to be realistic that they
ever used them? 

How could the above questions (or problems) be fixed the most easy way
(for the end user)? Meaning that adding more good code to Proj.4 and/or
choosing better data formats instead of writing more complex manuals
would be preferred. 

Janne. 

---------------------------------------------------------------------- 

Richard Greenwood kirjoitti 2016-12-22 22:40:

> I've been following a few of the recent threads on this list regarding enhancements to Proj's datum transformations. Pretty exciting stuff!  
> 
> One group of transformations that seems to have been ignored for a number of years is applying the HARN hpgn grids in the Proj epsg file. For example the Proj epsg entry for epsg:3758 uses +towgs84=0,0,0,0,0,0,0 but I believe that is should use +nadgrids=wyhpgn.gsb, or at least that's what I change it to, which produces results that match NADCON. 
> 
> Is anyone aware of a reason that nadgrids are not referenced in the epsg file? Is it maybe just an oversight, something that nobody ever got around to? Or because distributing nadgrids would become burdensome? 
> 
> It seems like pretty low hanging fruit. HARN has been around for about 20 years. The nadgrid files are already there. Differences between +towgs84=0,0,0,0,0,0,0 and +nadgrids=XXhpgn.gsb are on the order of a meter in the few places I have looked, so it's a fairly significant correction (or error, depending on your point of view).  "grep -c HARN epsg" returned 264 and "grep -c 'hpgn' epsg" returned 0, so effects a lot of definitions. 
> 
> Maybe I'm missing something. I'd be interested in any comments. 
> 
> Rich
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20161227/b1c0c1eb/attachment.html>

From richard.greenwood at gmail.com  Tue Dec 27 13:08:55 2016
From: richard.greenwood at gmail.com (Richard Greenwood)
Date: Tue, 27 Dec 2016 14:08:55 -0700
Subject: [Proj] HARN nadgrid files
In-Reply-To: <fb96f0084a56db391f308d9cc3ab9278@mnspoint.com>
References: <CAHBySPZnAAMt=n4RxhrL_jvDUOHO=d2KX8u=3x-cR2esczmhzw@mail.gmail.com>
	<fb96f0084a56db391f308d9cc3ab9278@mnspoint.com>
Message-ID: <CAHBySPb_pt7uTPY16Su-ZNUYowgNeEVGFg56J7km+nefi1eUrQ@mail.gmail.com>

On Mon, Dec 26, 2016 at 11:47 PM, <support at mnspoint.com> wrote:

> Hello,
>
> It looks like the reasons why grid shift files are not much used or
> referenced is that usually there are other ways available to fix small map
> errors ... and using grid shift files would require too much knowledge in
> the subject ... and also give too much unrequired accuracy since the source
> material is already so much off the line. So most users and applications
> are happy with the towgs84 mechanism.
>
I don't think most users have any idea what datum transformation is being
used. But they do expect results that match other geospatial software.


> Other questions with grid shift files are:
>
> How much their usage slows down the end product that uses Proj.4 library?
>
 I'd venture to guess that grid transformations are computationally less
expensive than 7 parameter transformations.

> How difficult their usage is for end users to be realistic that they ever
> used them?
>

I'm proposing changes only to the "epsg" file that is a part of the Proj.4
distribution.  However this would require that the hpgn grids here
https://trac.osgeo.org/proj/wiki/HarnGrids be included in the Proj.4
distribution. They are 354kB zipped. There are at least two grid files in
the nad/ directory that are already part of the distribution. But as time
goes by we see more, and larger, grid shift files. So I can see some
resistance to adding more.


> How could the above questions (or problems) be fixed the most easy way
> (for the end user)? Meaning that adding more good code to Proj.4 and/or
> choosing better data formats instead of writing more complex manuals would
> be preferred.
>
Even Rouault suggested adding code that would use the +nadgrids definition
if the required grid shift file was present, otherwise the +towgs84
definition would be used.

>
> Janne.
>
>
> ----------------------------------------------------------------------
>
>
> Richard Greenwood kirjoitti 2016-12-22 22:40:
>
> I've been following a few of the recent threads on this list regarding
> enhancements to Proj's datum transformations. Pretty exciting stuff!
>
> One group of transformations that seems to have been ignored for a number
> of years is applying the HARN hpgn grids in the Proj epsg file. For example
> the Proj epsg entry for epsg:3758 uses +towgs84=0,0,0,0,0,0,0 but I believe
> that is should use +nadgrids=wyhpgn.gsb, or at least that's what I change
> it to, which produces results that match NADCON.
>
> Is anyone aware of a reason that nadgrids are not referenced in the epsg
> file? Is it maybe just an oversight, something that nobody ever got around
> to? Or because distributing nadgrids would become burdensome?
>
> It seems like pretty low hanging fruit. HARN has been around for about 20
> years. The nadgrid files are already there. Differences between
> +towgs84=0,0,0,0,0,0,0 and +nadgrids=XXhpgn.gsb are on the order of a meter
> in the few places I have looked, so it's a fairly significant correction
> (or error, depending on your point of view).  "grep -c HARN epsg" returned
> 264 and "grep -c 'hpgn' epsg" returned 0, so effects a lot of definitions.
>
> Maybe I'm missing something. I'd be interested in any comments.
>
> Rich
>
>
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
>



-- 
Richard W. Greenwood, PLS
www.greenwoodmap.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20161227/e60fd701/attachment.html>

From howard at hobu.co  Fri Dec 30 09:28:37 2016
From: howard at hobu.co (Howard Butler)
Date: Fri, 30 Dec 2016 11:28:37 -0600
Subject: [Proj] Proj.4 Trac instance now dead
Message-ID: <DF1BC213-4A3B-4E74-ADE5-B0FDBEAC7635@hobu.co>

All,

The old Trac instance has been retired and it now redirects to http://proj4.org.

If you have documentation changes, additions, or bugs, please make tickets or pull requests to the Proj.4 repository at https://github.com/OSGeo/proj.4 The website is refreshed from the GitHub repository when changes are made.

Special thanks to Kristian Evers for leading and coordinating the efforts of the proj4.org contributors. It has been neat to watch the individual projections pages on http://proj4.org/projections/index.html fill in with content (like http://proj4.org/projections/merc.html for example).

Howard

